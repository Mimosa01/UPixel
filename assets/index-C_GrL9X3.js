var gM=Object.create;var Vg=Object.defineProperty;var vM=Object.getOwnPropertyDescriptor;var ub=(t,e)=>(e=Symbol[t])?e:Symbol.for("Symbol."+t),Tu=t=>{throw TypeError(t)};var hb=(t,e,r)=>e in t?Vg(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var ob=(t,e)=>Vg(t,"name",{value:e,configurable:!0});var yM=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Xg=t=>[,,,gM((t==null?void 0:t[ub("metadata")])??null)],cb=["class","method","getter","setter","accessor","field","value","get","set"],Eu=t=>t!==void 0&&typeof t!="function"?Tu("Function expected"):t,_M=(t,e,r,n,i)=>({kind:cb[t],name:e,metadata:n,addInitializer:s=>r._?Tu("Already initialized"):i.push(Eu(s||null))}),rd=(t,e)=>hb(e,ub("metadata"),t[3]),Ui=(t,e,r,n)=>{for(var i=0,s=t[e>>1],o=s&&s.length;i<o;i++)e&1?s[i].call(r):n=s[i].call(r,n);return n},sn=(t,e,r,n,i,s)=>{var o,a,h,c,d,p=e&7,m=!!(e&8),y=!!(e&16),_=p>3?t.length+1:p?m?1:2:0,S=cb[p+5],A=p>3&&(t[_-1]=[]),E=t[_]||(t[_]=[]),b=p&&(!y&&!m&&(i=i.prototype),p<5&&(p>3||!y)&&vM(p<4?i:{get[r](){return ab(this,s)},set[r](T){return lb(this,s,T)}},r));p?y&&p<4&&ob(s,(p>2?"set ":p>1?"get ":"")+r):ob(i,r);for(var x=n.length-1;x>=0;x--)c=_M(p,r,h={},t[3],E),p&&(c.static=m,c.private=y,d=c.access={has:y?T=>xM(i,T):T=>r in T},p^3&&(d.get=y?T=>(p^1?ab:wM)(T,i,p^4?s:b.get):T=>T[r]),p>2&&(d.set=y?(T,P)=>lb(T,i,P,p^4?s:b.set):(T,P)=>T[r]=P)),a=(0,n[x])(p?p<4?y?s:b[S]:p>4?void 0:{get:b.get,set:b.set}:i,c),h._=1,p^4||a===void 0?Eu(a)&&(p>4?A.unshift(a):p?y?s=a:b[S]=a:i=a):typeof a!="object"||a===null?Tu("Object expected"):(Eu(o=a.get)&&(b.get=o),Eu(o=a.set)&&(b.set=o),Eu(o=a.init)&&A.unshift(o));return p||rd(t,i),b&&Vg(i,r,b),y?p^4?s:b:i},Au=(t,e,r)=>hb(t,typeof e!="symbol"?e+"":e,r),Yg=(t,e,r)=>e.has(t)||Tu("Cannot "+r),xM=(t,e)=>Object(e)!==e?Tu('Cannot use the "in" operator on this value'):t.has(e),ab=(t,e,r)=>(Yg(t,e,"read from private field"),r?r.call(t):e.get(t));var lb=(t,e,r,n)=>(Yg(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),wM=(t,e,r)=>(Yg(t,e,"access private method"),r);var EH=yM((RH,mm)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var th=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qh(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function cA(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var dA={exports:{}},Fp={},fA={exports:{}},Me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zh=Symbol.for("react.element"),bM=Symbol.for("react.portal"),SM=Symbol.for("react.fragment"),EM=Symbol.for("react.strict_mode"),TM=Symbol.for("react.profiler"),AM=Symbol.for("react.provider"),CM=Symbol.for("react.context"),PM=Symbol.for("react.forward_ref"),IM=Symbol.for("react.suspense"),RM=Symbol.for("react.memo"),OM=Symbol.for("react.lazy"),db=Symbol.iterator;function MM(t){return t===null||typeof t!="object"?null:(t=db&&t[db]||t["@@iterator"],typeof t=="function"?t:null)}var pA={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},mA=Object.assign,gA={};function Wl(t,e,r){this.props=t,this.context=e,this.refs=gA,this.updater=r||pA}Wl.prototype.isReactComponent={};Wl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Wl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function vA(){}vA.prototype=Wl.prototype;function $_(t,e,r){this.props=t,this.context=e,this.refs=gA,this.updater=r||pA}var G_=$_.prototype=new vA;G_.constructor=$_;mA(G_,Wl.prototype);G_.isPureReactComponent=!0;var fb=Array.isArray,yA=Object.prototype.hasOwnProperty,H_={current:null},_A={key:!0,ref:!0,__self:!0,__source:!0};function xA(t,e,r){var n,i={},s=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)yA.call(e,n)&&!_A.hasOwnProperty(n)&&(i[n]=e[n]);var a=arguments.length-2;if(a===1)i.children=r;else if(1<a){for(var h=Array(a),c=0;c<a;c++)h[c]=arguments[c+2];i.children=h}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:Zh,type:t,key:s,ref:o,props:i,_owner:H_.current}}function kM(t,e){return{$$typeof:Zh,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function j_(t){return typeof t=="object"&&t!==null&&t.$$typeof===Zh}function DM(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var pb=/\/+/g;function Kg(t,e){return typeof t=="object"&&t!==null&&t.key!=null?DM(""+t.key):e.toString(36)}function tf(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Zh:case bM:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+Kg(o,0):n,fb(i)?(r="",t!=null&&(r=t.replace(pb,"$&/")+"/"),tf(i,e,r,"",function(c){return c})):i!=null&&(j_(i)&&(i=kM(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(pb,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",fb(t))for(var a=0;a<t.length;a++){s=t[a];var h=n+Kg(s,a);o+=tf(s,e,r,h,i)}else if(h=MM(t),typeof h=="function")for(t=h.call(t),a=0;!(s=t.next()).done;)s=s.value,h=n+Kg(s,a++),o+=tf(s,e,r,h,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function nd(t,e,r){if(t==null)return t;var n=[],i=0;return tf(t,n,"","",function(s){return e.call(r,s,i++)}),n}function NM(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var yr={current:null},rf={transition:null},FM={ReactCurrentDispatcher:yr,ReactCurrentBatchConfig:rf,ReactCurrentOwner:H_};function wA(){throw Error("act(...) is not supported in production builds of React.")}Me.Children={map:nd,forEach:function(t,e,r){nd(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return nd(t,function(){e++}),e},toArray:function(t){return nd(t,function(e){return e})||[]},only:function(t){if(!j_(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Me.Component=Wl;Me.Fragment=SM;Me.Profiler=TM;Me.PureComponent=$_;Me.StrictMode=EM;Me.Suspense=IM;Me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=FM;Me.act=wA;Me.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=mA({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=H_.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(h in e)yA.call(e,h)&&!_A.hasOwnProperty(h)&&(n[h]=e[h]===void 0&&a!==void 0?a[h]:e[h])}var h=arguments.length-2;if(h===1)n.children=r;else if(1<h){a=Array(h);for(var c=0;c<h;c++)a[c]=arguments[c+2];n.children=a}return{$$typeof:Zh,type:t.type,key:i,ref:s,props:n,_owner:o}};Me.createContext=function(t){return t={$$typeof:CM,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:AM,_context:t},t.Consumer=t};Me.createElement=xA;Me.createFactory=function(t){var e=xA.bind(null,t);return e.type=t,e};Me.createRef=function(){return{current:null}};Me.forwardRef=function(t){return{$$typeof:PM,render:t}};Me.isValidElement=j_;Me.lazy=function(t){return{$$typeof:OM,_payload:{_status:-1,_result:t},_init:NM}};Me.memo=function(t,e){return{$$typeof:RM,type:t,compare:e===void 0?null:e}};Me.startTransition=function(t){var e=rf.transition;rf.transition={};try{t()}finally{rf.transition=e}};Me.unstable_act=wA;Me.useCallback=function(t,e){return yr.current.useCallback(t,e)};Me.useContext=function(t){return yr.current.useContext(t)};Me.useDebugValue=function(){};Me.useDeferredValue=function(t){return yr.current.useDeferredValue(t)};Me.useEffect=function(t,e){return yr.current.useEffect(t,e)};Me.useId=function(){return yr.current.useId()};Me.useImperativeHandle=function(t,e,r){return yr.current.useImperativeHandle(t,e,r)};Me.useInsertionEffect=function(t,e){return yr.current.useInsertionEffect(t,e)};Me.useLayoutEffect=function(t,e){return yr.current.useLayoutEffect(t,e)};Me.useMemo=function(t,e){return yr.current.useMemo(t,e)};Me.useReducer=function(t,e,r){return yr.current.useReducer(t,e,r)};Me.useRef=function(t){return yr.current.useRef(t)};Me.useState=function(t){return yr.current.useState(t)};Me.useSyncExternalStore=function(t,e,r){return yr.current.useSyncExternalStore(t,e,r)};Me.useTransition=function(){return yr.current.useTransition()};Me.version="18.3.1";fA.exports=Me;var Ee=fA.exports;const ht=qh(Ee);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BM=Ee,LM=Symbol.for("react.element"),UM=Symbol.for("react.fragment"),zM=Object.prototype.hasOwnProperty,$M=BM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,GM={key:!0,ref:!0,__self:!0,__source:!0};function bA(t,e,r){var n,i={},s=null,o=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)zM.call(e,n)&&!GM.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:LM,type:t,key:s,ref:o,props:i,_owner:$M.current}}Fp.Fragment=UM;Fp.jsx=bA;Fp.jsxs=bA;dA.exports=Fp;var Le=dA.exports,Sy={},SA={exports:{}},Wr={},EA={exports:{}},TA={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,$){var N=O.length;O.push($);e:for(;0<N;){var U=N-1>>>1,Z=O[U];if(0<i(Z,$))O[U]=$,O[N]=Z,N=U;else break e}}function r(O){return O.length===0?null:O[0]}function n(O){if(O.length===0)return null;var $=O[0],N=O.pop();if(N!==$){O[0]=N;e:for(var U=0,Z=O.length,Ae=Z>>>1;U<Ae;){var we=2*(U+1)-1,Ne=O[we],Te=we+1,ke=O[Te];if(0>i(Ne,N))Te<Z&&0>i(ke,Ne)?(O[U]=ke,O[Te]=N,U=Te):(O[U]=Ne,O[we]=N,U=we);else if(Te<Z&&0>i(ke,N))O[U]=ke,O[Te]=N,U=Te;else break e}}return $}function i(O,$){var N=O.sortIndex-$.sortIndex;return N!==0?N:O.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var h=[],c=[],d=1,p=null,m=3,y=!1,_=!1,S=!1,A=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(O){for(var $=r(c);$!==null;){if($.callback===null)n(c);else if($.startTime<=O)n(c),$.sortIndex=$.expirationTime,e(h,$);else break;$=r(c)}}function T(O){if(S=!1,x(O),!_)if(r(h)!==null)_=!0,me(P);else{var $=r(c);$!==null&&ae(T,$.startTime-O)}}function P(O,$){_=!1,S&&(S=!1,E(D),D=-1),y=!0;var N=m;try{for(x($),p=r(h);p!==null&&(!(p.expirationTime>$)||O&&!pe());){var U=p.callback;if(typeof U=="function"){p.callback=null,m=p.priorityLevel;var Z=U(p.expirationTime<=$);$=t.unstable_now(),typeof Z=="function"?p.callback=Z:p===r(h)&&n(h),x($)}else n(h);p=r(h)}if(p!==null)var Ae=!0;else{var we=r(c);we!==null&&ae(T,we.startTime-$),Ae=!1}return Ae}finally{p=null,m=N,y=!1}}var M=!1,R=null,D=-1,W=5,V=-1;function pe(){return!(t.unstable_now()-V<W)}function J(){if(R!==null){var O=t.unstable_now();V=O;var $=!0;try{$=R(!0,O)}finally{$?B():(M=!1,R=null)}}else M=!1}var B;if(typeof b=="function")B=function(){b(J)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,ie=X.port2;X.port1.onmessage=J,B=function(){ie.postMessage(null)}}else B=function(){A(J,0)};function me(O){R=O,M||(M=!0,B())}function ae(O,$){D=A(function(){O(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){_||y||(_=!0,me(P))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return r(h)},t.unstable_next=function(O){switch(m){case 1:case 2:case 3:var $=3;break;default:$=m}var N=m;m=$;try{return O()}finally{m=N}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,$){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var N=m;m=O;try{return $()}finally{m=N}},t.unstable_scheduleCallback=function(O,$,N){var U=t.unstable_now();switch(typeof N=="object"&&N!==null?(N=N.delay,N=typeof N=="number"&&0<N?U+N:U):N=U,O){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=N+Z,O={id:d++,callback:$,priorityLevel:O,startTime:N,expirationTime:Z,sortIndex:-1},N>U?(O.sortIndex=N,e(c,O),r(h)===null&&O===r(c)&&(S?(E(D),D=-1):S=!0,ae(T,N-U))):(O.sortIndex=Z,e(h,O),_||y||(_=!0,me(P))),O},t.unstable_shouldYield=pe,t.unstable_wrapCallback=function(O){var $=m;return function(){var N=m;m=$;try{return O.apply(this,arguments)}finally{m=N}}}})(TA);EA.exports=TA;var HM=EA.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jM=Ee,jr=HM;function K(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var AA=new Set,xh={};function oa(t,e){Al(t,e),Al(t+"Capture",e)}function Al(t,e){for(xh[t]=e,t=0;t<e.length;t++)AA.add(e[t])}var ss=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ey=Object.prototype.hasOwnProperty,WM=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,mb={},gb={};function VM(t){return Ey.call(gb,t)?!0:Ey.call(mb,t)?!1:WM.test(t)?gb[t]=!0:(mb[t]=!0,!1)}function XM(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function YM(t,e,r,n){if(e===null||typeof e>"u"||XM(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function _r(t,e,r,n,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var er={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){er[t]=new _r(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];er[e]=new _r(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){er[t]=new _r(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){er[t]=new _r(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){er[t]=new _r(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){er[t]=new _r(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){er[t]=new _r(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){er[t]=new _r(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){er[t]=new _r(t,5,!1,t.toLowerCase(),null,!1,!1)});var W_=/[\-:]([a-z])/g;function V_(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(W_,V_);er[e]=new _r(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(W_,V_);er[e]=new _r(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(W_,V_);er[e]=new _r(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){er[t]=new _r(t,1,!1,t.toLowerCase(),null,!1,!1)});er.xlinkHref=new _r("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){er[t]=new _r(t,1,!1,t.toLowerCase(),null,!0,!0)});function X_(t,e,r,n){var i=er.hasOwnProperty(e)?er[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(YM(e,r,i,n)&&(r=null),n||i===null?VM(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var fs=jM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,id=Symbol.for("react.element"),Ya=Symbol.for("react.portal"),Ka=Symbol.for("react.fragment"),Y_=Symbol.for("react.strict_mode"),Ty=Symbol.for("react.profiler"),CA=Symbol.for("react.provider"),PA=Symbol.for("react.context"),K_=Symbol.for("react.forward_ref"),Ay=Symbol.for("react.suspense"),Cy=Symbol.for("react.suspense_list"),Q_=Symbol.for("react.memo"),Os=Symbol.for("react.lazy"),IA=Symbol.for("react.offscreen"),vb=Symbol.iterator;function Cu(t){return t===null||typeof t!="object"?null:(t=vb&&t[vb]||t["@@iterator"],typeof t=="function"?t:null)}var vt=Object.assign,Qg;function Gu(t){if(Qg===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Qg=e&&e[1]||""}return`
`+Qg+t}var qg=!1;function Zg(t,e){if(!t||qg)return"";qg=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=n.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var h=`
`+i[o].replace(" at new "," at ");return t.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",t.displayName)),h}while(1<=o&&0<=a);break}}}finally{qg=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Gu(t):""}function KM(t){switch(t.tag){case 5:return Gu(t.type);case 16:return Gu("Lazy");case 13:return Gu("Suspense");case 19:return Gu("SuspenseList");case 0:case 2:case 15:return t=Zg(t.type,!1),t;case 11:return t=Zg(t.type.render,!1),t;case 1:return t=Zg(t.type,!0),t;default:return""}}function Py(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ka:return"Fragment";case Ya:return"Portal";case Ty:return"Profiler";case Y_:return"StrictMode";case Ay:return"Suspense";case Cy:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case PA:return(t.displayName||"Context")+".Consumer";case CA:return(t._context.displayName||"Context")+".Provider";case K_:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Q_:return e=t.displayName||null,e!==null?e:Py(t.type)||"Memo";case Os:e=t._payload,t=t._init;try{return Py(t(e))}catch{}}return null}function QM(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Py(e);case 8:return e===Y_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function eo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function RA(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function qM(t){var e=RA(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function sd(t){t._valueTracker||(t._valueTracker=qM(t))}function OA(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=RA(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Mf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Iy(t,e){var r=e.checked;return vt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function yb(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=eo(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function MA(t,e){e=e.checked,e!=null&&X_(t,"checked",e,!1)}function Ry(t,e){MA(t,e);var r=eo(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Oy(t,e.type,r):e.hasOwnProperty("defaultValue")&&Oy(t,e.type,eo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function _b(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Oy(t,e,r){(e!=="number"||Mf(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Hu=Array.isArray;function dl(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+eo(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function My(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(K(91));return vt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function xb(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(K(92));if(Hu(r)){if(1<r.length)throw Error(K(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:eo(r)}}function kA(t,e){var r=eo(e.value),n=eo(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function wb(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function DA(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ky(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?DA(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var od,NA=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(od=od||document.createElement("div"),od.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=od.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function wh(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var rh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ZM=["Webkit","ms","Moz","O"];Object.keys(rh).forEach(function(t){ZM.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),rh[e]=rh[t]})});function FA(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||rh.hasOwnProperty(t)&&rh[t]?(""+e).trim():e+"px"}function BA(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=FA(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var JM=vt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Dy(t,e){if(e){if(JM[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(K(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(K(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(K(61))}if(e.style!=null&&typeof e.style!="object")throw Error(K(62))}}function Ny(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fy=null;function q_(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var By=null,fl=null,pl=null;function bb(t){if(t=tc(t)){if(typeof By!="function")throw Error(K(280));var e=t.stateNode;e&&(e=$p(e),By(t.stateNode,t.type,e))}}function LA(t){fl?pl?pl.push(t):pl=[t]:fl=t}function UA(){if(fl){var t=fl,e=pl;if(pl=fl=null,bb(t),e)for(t=0;t<e.length;t++)bb(e[t])}}function zA(t,e){return t(e)}function $A(){}var Jg=!1;function GA(t,e,r){if(Jg)return t(e,r);Jg=!0;try{return zA(t,e,r)}finally{Jg=!1,(fl!==null||pl!==null)&&($A(),UA())}}function bh(t,e){var r=t.stateNode;if(r===null)return null;var n=$p(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(K(231,e,typeof r));return r}var Ly=!1;if(ss)try{var Pu={};Object.defineProperty(Pu,"passive",{get:function(){Ly=!0}}),window.addEventListener("test",Pu,Pu),window.removeEventListener("test",Pu,Pu)}catch{Ly=!1}function ek(t,e,r,n,i,s,o,a,h){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(d){this.onError(d)}}var nh=!1,kf=null,Df=!1,Uy=null,tk={onError:function(t){nh=!0,kf=t}};function rk(t,e,r,n,i,s,o,a,h){nh=!1,kf=null,ek.apply(tk,arguments)}function nk(t,e,r,n,i,s,o,a,h){if(rk.apply(this,arguments),nh){if(nh){var c=kf;nh=!1,kf=null}else throw Error(K(198));Df||(Df=!0,Uy=c)}}function aa(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function HA(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Sb(t){if(aa(t)!==t)throw Error(K(188))}function ik(t){var e=t.alternate;if(!e){if(e=aa(t),e===null)throw Error(K(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return Sb(i),t;if(s===n)return Sb(i),e;s=s.sibling}throw Error(K(188))}if(r.return!==n.return)r=i,n=s;else{for(var o=!1,a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o)throw Error(K(189))}}if(r.alternate!==n)throw Error(K(190))}if(r.tag!==3)throw Error(K(188));return r.stateNode.current===r?t:e}function jA(t){return t=ik(t),t!==null?WA(t):null}function WA(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=WA(t);if(e!==null)return e;t=t.sibling}return null}var VA=jr.unstable_scheduleCallback,Eb=jr.unstable_cancelCallback,sk=jr.unstable_shouldYield,ok=jr.unstable_requestPaint,Tt=jr.unstable_now,ak=jr.unstable_getCurrentPriorityLevel,Z_=jr.unstable_ImmediatePriority,XA=jr.unstable_UserBlockingPriority,Nf=jr.unstable_NormalPriority,lk=jr.unstable_LowPriority,YA=jr.unstable_IdlePriority,Bp=null,Si=null;function uk(t){if(Si&&typeof Si.onCommitFiberRoot=="function")try{Si.onCommitFiberRoot(Bp,t,void 0,(t.current.flags&128)===128)}catch{}}var Un=Math.clz32?Math.clz32:dk,hk=Math.log,ck=Math.LN2;function dk(t){return t>>>=0,t===0?32:31-(hk(t)/ck|0)|0}var ad=64,ld=4194304;function ju(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ff(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,o=r&268435455;if(o!==0){var a=o&~i;a!==0?n=ju(a):(s&=o,s!==0&&(n=ju(s)))}else o=r&~i,o!==0?n=ju(o):s!==0&&(n=ju(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Un(e),i=1<<r,n|=t[r],e&=~i;return n}function fk(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pk(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Un(s),a=1<<o,h=i[o];h===-1?(!(a&r)||a&n)&&(i[o]=fk(a,e)):h<=e&&(t.expiredLanes|=a),s&=~a}}function zy(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function KA(){var t=ad;return ad<<=1,!(ad&4194240)&&(ad=64),t}function ev(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Jh(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Un(e),t[e]=r}function mk(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-Un(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function J_(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Un(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var Ye=0;function QA(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var qA,e1,ZA,JA,eC,$y=!1,ud=[],js=null,Ws=null,Vs=null,Sh=new Map,Eh=new Map,Ns=[],gk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Tb(t,e){switch(t){case"focusin":case"focusout":js=null;break;case"dragenter":case"dragleave":Ws=null;break;case"mouseover":case"mouseout":Vs=null;break;case"pointerover":case"pointerout":Sh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Eh.delete(e.pointerId)}}function Iu(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=tc(e),e!==null&&e1(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function vk(t,e,r,n,i){switch(e){case"focusin":return js=Iu(js,t,e,r,n,i),!0;case"dragenter":return Ws=Iu(Ws,t,e,r,n,i),!0;case"mouseover":return Vs=Iu(Vs,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return Sh.set(s,Iu(Sh.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,Eh.set(s,Iu(Eh.get(s)||null,t,e,r,n,i)),!0}return!1}function tC(t){var e=Bo(t.target);if(e!==null){var r=aa(e);if(r!==null){if(e=r.tag,e===13){if(e=HA(r),e!==null){t.blockedOn=e,eC(t.priority,function(){ZA(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function nf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Gy(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Fy=n,r.target.dispatchEvent(n),Fy=null}else return e=tc(r),e!==null&&e1(e),t.blockedOn=r,!1;e.shift()}return!0}function Ab(t,e,r){nf(t)&&r.delete(e)}function yk(){$y=!1,js!==null&&nf(js)&&(js=null),Ws!==null&&nf(Ws)&&(Ws=null),Vs!==null&&nf(Vs)&&(Vs=null),Sh.forEach(Ab),Eh.forEach(Ab)}function Ru(t,e){t.blockedOn===e&&(t.blockedOn=null,$y||($y=!0,jr.unstable_scheduleCallback(jr.unstable_NormalPriority,yk)))}function Th(t){function e(i){return Ru(i,t)}if(0<ud.length){Ru(ud[0],t);for(var r=1;r<ud.length;r++){var n=ud[r];n.blockedOn===t&&(n.blockedOn=null)}}for(js!==null&&Ru(js,t),Ws!==null&&Ru(Ws,t),Vs!==null&&Ru(Vs,t),Sh.forEach(e),Eh.forEach(e),r=0;r<Ns.length;r++)n=Ns[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Ns.length&&(r=Ns[0],r.blockedOn===null);)tC(r),r.blockedOn===null&&Ns.shift()}var ml=fs.ReactCurrentBatchConfig,Bf=!0;function _k(t,e,r,n){var i=Ye,s=ml.transition;ml.transition=null;try{Ye=1,t1(t,e,r,n)}finally{Ye=i,ml.transition=s}}function xk(t,e,r,n){var i=Ye,s=ml.transition;ml.transition=null;try{Ye=4,t1(t,e,r,n)}finally{Ye=i,ml.transition=s}}function t1(t,e,r,n){if(Bf){var i=Gy(t,e,r,n);if(i===null)hv(t,e,n,Lf,r),Tb(t,n);else if(vk(i,t,e,r,n))n.stopPropagation();else if(Tb(t,n),e&4&&-1<gk.indexOf(t)){for(;i!==null;){var s=tc(i);if(s!==null&&qA(s),s=Gy(t,e,r,n),s===null&&hv(t,e,n,Lf,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else hv(t,e,n,null,r)}}var Lf=null;function Gy(t,e,r,n){if(Lf=null,t=q_(n),t=Bo(t),t!==null)if(e=aa(t),e===null)t=null;else if(r=e.tag,r===13){if(t=HA(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Lf=t,null}function rC(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ak()){case Z_:return 1;case XA:return 4;case Nf:case lk:return 16;case YA:return 536870912;default:return 16}default:return 16}}var Ls=null,r1=null,sf=null;function nC(){if(sf)return sf;var t,e=r1,r=e.length,n,i="value"in Ls?Ls.value:Ls.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[s-n];n++);return sf=i.slice(t,1<n?1-n:void 0)}function of(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function hd(){return!0}function Cb(){return!1}function Vr(t){function e(r,n,i,s,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?hd:Cb,this.isPropagationStopped=Cb,this}return vt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=hd)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=hd)},persist:function(){},isPersistent:hd}),e}var Vl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},n1=Vr(Vl),ec=vt({},Vl,{view:0,detail:0}),wk=Vr(ec),tv,rv,Ou,Lp=vt({},ec,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:i1,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ou&&(Ou&&t.type==="mousemove"?(tv=t.screenX-Ou.screenX,rv=t.screenY-Ou.screenY):rv=tv=0,Ou=t),tv)},movementY:function(t){return"movementY"in t?t.movementY:rv}}),Pb=Vr(Lp),bk=vt({},Lp,{dataTransfer:0}),Sk=Vr(bk),Ek=vt({},ec,{relatedTarget:0}),nv=Vr(Ek),Tk=vt({},Vl,{animationName:0,elapsedTime:0,pseudoElement:0}),Ak=Vr(Tk),Ck=vt({},Vl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Pk=Vr(Ck),Ik=vt({},Vl,{data:0}),Ib=Vr(Ik),Rk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ok={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kk(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Mk[t])?!!e[t]:!1}function i1(){return kk}var Dk=vt({},ec,{key:function(t){if(t.key){var e=Rk[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=of(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ok[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:i1,charCode:function(t){return t.type==="keypress"?of(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?of(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Nk=Vr(Dk),Fk=vt({},Lp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rb=Vr(Fk),Bk=vt({},ec,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:i1}),Lk=Vr(Bk),Uk=vt({},Vl,{propertyName:0,elapsedTime:0,pseudoElement:0}),zk=Vr(Uk),$k=vt({},Lp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Gk=Vr($k),Hk=[9,13,27,32],s1=ss&&"CompositionEvent"in window,ih=null;ss&&"documentMode"in document&&(ih=document.documentMode);var jk=ss&&"TextEvent"in window&&!ih,iC=ss&&(!s1||ih&&8<ih&&11>=ih),Ob=" ",Mb=!1;function sC(t,e){switch(t){case"keyup":return Hk.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oC(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Qa=!1;function Wk(t,e){switch(t){case"compositionend":return oC(e);case"keypress":return e.which!==32?null:(Mb=!0,Ob);case"textInput":return t=e.data,t===Ob&&Mb?null:t;default:return null}}function Vk(t,e){if(Qa)return t==="compositionend"||!s1&&sC(t,e)?(t=nC(),sf=r1=Ls=null,Qa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return iC&&e.locale!=="ko"?null:e.data;default:return null}}var Xk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kb(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Xk[t.type]:e==="textarea"}function aC(t,e,r,n){LA(n),e=Uf(e,"onChange"),0<e.length&&(r=new n1("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var sh=null,Ah=null;function Yk(t){yC(t,0)}function Up(t){var e=Ja(t);if(OA(e))return t}function Kk(t,e){if(t==="change")return e}var lC=!1;if(ss){var iv;if(ss){var sv="oninput"in document;if(!sv){var Db=document.createElement("div");Db.setAttribute("oninput","return;"),sv=typeof Db.oninput=="function"}iv=sv}else iv=!1;lC=iv&&(!document.documentMode||9<document.documentMode)}function Nb(){sh&&(sh.detachEvent("onpropertychange",uC),Ah=sh=null)}function uC(t){if(t.propertyName==="value"&&Up(Ah)){var e=[];aC(e,Ah,t,q_(t)),GA(Yk,e)}}function Qk(t,e,r){t==="focusin"?(Nb(),sh=e,Ah=r,sh.attachEvent("onpropertychange",uC)):t==="focusout"&&Nb()}function qk(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Up(Ah)}function Zk(t,e){if(t==="click")return Up(e)}function Jk(t,e){if(t==="input"||t==="change")return Up(e)}function eD(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Vn=typeof Object.is=="function"?Object.is:eD;function Ch(t,e){if(Vn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Ey.call(e,i)||!Vn(t[i],e[i]))return!1}return!0}function Fb(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Bb(t,e){var r=Fb(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Fb(r)}}function hC(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?hC(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function cC(){for(var t=window,e=Mf();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Mf(t.document)}return e}function o1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function tD(t){var e=cC(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&hC(r.ownerDocument.documentElement,r)){if(n!==null&&o1(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=Bb(r,s);var o=Bb(r,n);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var rD=ss&&"documentMode"in document&&11>=document.documentMode,qa=null,Hy=null,oh=null,jy=!1;function Lb(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;jy||qa==null||qa!==Mf(n)||(n=qa,"selectionStart"in n&&o1(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),oh&&Ch(oh,n)||(oh=n,n=Uf(Hy,"onSelect"),0<n.length&&(e=new n1("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=qa)))}function cd(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Za={animationend:cd("Animation","AnimationEnd"),animationiteration:cd("Animation","AnimationIteration"),animationstart:cd("Animation","AnimationStart"),transitionend:cd("Transition","TransitionEnd")},ov={},dC={};ss&&(dC=document.createElement("div").style,"AnimationEvent"in window||(delete Za.animationend.animation,delete Za.animationiteration.animation,delete Za.animationstart.animation),"TransitionEvent"in window||delete Za.transitionend.transition);function zp(t){if(ov[t])return ov[t];if(!Za[t])return t;var e=Za[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in dC)return ov[t]=e[r];return t}var fC=zp("animationend"),pC=zp("animationiteration"),mC=zp("animationstart"),gC=zp("transitionend"),vC=new Map,Ub="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function oo(t,e){vC.set(t,e),oa(e,[t])}for(var av=0;av<Ub.length;av++){var lv=Ub[av],nD=lv.toLowerCase(),iD=lv[0].toUpperCase()+lv.slice(1);oo(nD,"on"+iD)}oo(fC,"onAnimationEnd");oo(pC,"onAnimationIteration");oo(mC,"onAnimationStart");oo("dblclick","onDoubleClick");oo("focusin","onFocus");oo("focusout","onBlur");oo(gC,"onTransitionEnd");Al("onMouseEnter",["mouseout","mouseover"]);Al("onMouseLeave",["mouseout","mouseover"]);Al("onPointerEnter",["pointerout","pointerover"]);Al("onPointerLeave",["pointerout","pointerover"]);oa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));oa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));oa("onBeforeInput",["compositionend","keypress","textInput","paste"]);oa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));oa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));oa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sD=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wu));function zb(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,nk(n,e,void 0,t),t.currentTarget=null}function yC(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var o=n.length-1;0<=o;o--){var a=n[o],h=a.instance,c=a.currentTarget;if(a=a.listener,h!==s&&i.isPropagationStopped())break e;zb(i,a,c),s=h}else for(o=0;o<n.length;o++){if(a=n[o],h=a.instance,c=a.currentTarget,a=a.listener,h!==s&&i.isPropagationStopped())break e;zb(i,a,c),s=h}}}if(Df)throw t=Uy,Df=!1,Uy=null,t}function tt(t,e){var r=e[Ky];r===void 0&&(r=e[Ky]=new Set);var n=t+"__bubble";r.has(n)||(_C(e,t,2,!1),r.add(n))}function uv(t,e,r){var n=0;e&&(n|=4),_C(r,t,n,e)}var dd="_reactListening"+Math.random().toString(36).slice(2);function Ph(t){if(!t[dd]){t[dd]=!0,AA.forEach(function(r){r!=="selectionchange"&&(sD.has(r)||uv(r,!1,t),uv(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[dd]||(e[dd]=!0,uv("selectionchange",!1,e))}}function _C(t,e,r,n){switch(rC(e)){case 1:var i=_k;break;case 4:i=xk;break;default:i=t1}r=i.bind(null,e,r,t),i=void 0,!Ly||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function hv(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var h=o.tag;if((h===3||h===4)&&(h=o.stateNode.containerInfo,h===i||h.nodeType===8&&h.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Bo(a),o===null)return;if(h=o.tag,h===5||h===6){n=s=o;continue e}a=a.parentNode}}n=n.return}GA(function(){var c=s,d=q_(r),p=[];e:{var m=vC.get(t);if(m!==void 0){var y=n1,_=t;switch(t){case"keypress":if(of(r)===0)break e;case"keydown":case"keyup":y=Nk;break;case"focusin":_="focus",y=nv;break;case"focusout":_="blur",y=nv;break;case"beforeblur":case"afterblur":y=nv;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Pb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=Sk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=Lk;break;case fC:case pC:case mC:y=Ak;break;case gC:y=zk;break;case"scroll":y=wk;break;case"wheel":y=Gk;break;case"copy":case"cut":case"paste":y=Pk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Rb}var S=(e&4)!==0,A=!S&&t==="scroll",E=S?m!==null?m+"Capture":null:m;S=[];for(var b=c,x;b!==null;){x=b;var T=x.stateNode;if(x.tag===5&&T!==null&&(x=T,E!==null&&(T=bh(b,E),T!=null&&S.push(Ih(b,T,x)))),A)break;b=b.return}0<S.length&&(m=new y(m,_,null,r,d),p.push({event:m,listeners:S}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",m&&r!==Fy&&(_=r.relatedTarget||r.fromElement)&&(Bo(_)||_[os]))break e;if((y||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,y?(_=r.relatedTarget||r.toElement,y=c,_=_?Bo(_):null,_!==null&&(A=aa(_),_!==A||_.tag!==5&&_.tag!==6)&&(_=null)):(y=null,_=c),y!==_)){if(S=Pb,T="onMouseLeave",E="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(S=Rb,T="onPointerLeave",E="onPointerEnter",b="pointer"),A=y==null?m:Ja(y),x=_==null?m:Ja(_),m=new S(T,b+"leave",y,r,d),m.target=A,m.relatedTarget=x,T=null,Bo(d)===c&&(S=new S(E,b+"enter",_,r,d),S.target=x,S.relatedTarget=A,T=S),A=T,y&&_)t:{for(S=y,E=_,b=0,x=S;x;x=Oa(x))b++;for(x=0,T=E;T;T=Oa(T))x++;for(;0<b-x;)S=Oa(S),b--;for(;0<x-b;)E=Oa(E),x--;for(;b--;){if(S===E||E!==null&&S===E.alternate)break t;S=Oa(S),E=Oa(E)}S=null}else S=null;y!==null&&$b(p,m,y,S,!1),_!==null&&A!==null&&$b(p,A,_,S,!0)}}e:{if(m=c?Ja(c):window,y=m.nodeName&&m.nodeName.toLowerCase(),y==="select"||y==="input"&&m.type==="file")var P=Kk;else if(kb(m))if(lC)P=Jk;else{P=qk;var M=Qk}else(y=m.nodeName)&&y.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(P=Zk);if(P&&(P=P(t,c))){aC(p,P,r,d);break e}M&&M(t,m,c),t==="focusout"&&(M=m._wrapperState)&&M.controlled&&m.type==="number"&&Oy(m,"number",m.value)}switch(M=c?Ja(c):window,t){case"focusin":(kb(M)||M.contentEditable==="true")&&(qa=M,Hy=c,oh=null);break;case"focusout":oh=Hy=qa=null;break;case"mousedown":jy=!0;break;case"contextmenu":case"mouseup":case"dragend":jy=!1,Lb(p,r,d);break;case"selectionchange":if(rD)break;case"keydown":case"keyup":Lb(p,r,d)}var R;if(s1)e:{switch(t){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else Qa?sC(t,r)&&(D="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(D="onCompositionStart");D&&(iC&&r.locale!=="ko"&&(Qa||D!=="onCompositionStart"?D==="onCompositionEnd"&&Qa&&(R=nC()):(Ls=d,r1="value"in Ls?Ls.value:Ls.textContent,Qa=!0)),M=Uf(c,D),0<M.length&&(D=new Ib(D,t,null,r,d),p.push({event:D,listeners:M}),R?D.data=R:(R=oC(r),R!==null&&(D.data=R)))),(R=jk?Wk(t,r):Vk(t,r))&&(c=Uf(c,"onBeforeInput"),0<c.length&&(d=new Ib("onBeforeInput","beforeinput",null,r,d),p.push({event:d,listeners:c}),d.data=R))}yC(p,e)})}function Ih(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Uf(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=bh(t,r),s!=null&&n.unshift(Ih(t,s,i)),s=bh(t,e),s!=null&&n.push(Ih(t,s,i))),t=t.return}return n}function Oa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function $b(t,e,r,n,i){for(var s=e._reactName,o=[];r!==null&&r!==n;){var a=r,h=a.alternate,c=a.stateNode;if(h!==null&&h===n)break;a.tag===5&&c!==null&&(a=c,i?(h=bh(r,s),h!=null&&o.unshift(Ih(r,h,a))):i||(h=bh(r,s),h!=null&&o.push(Ih(r,h,a)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var oD=/\r\n?/g,aD=/\u0000|\uFFFD/g;function Gb(t){return(typeof t=="string"?t:""+t).replace(oD,`
`).replace(aD,"")}function fd(t,e,r){if(e=Gb(e),Gb(t)!==e&&r)throw Error(K(425))}function zf(){}var Wy=null,Vy=null;function Xy(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Yy=typeof setTimeout=="function"?setTimeout:void 0,lD=typeof clearTimeout=="function"?clearTimeout:void 0,Hb=typeof Promise=="function"?Promise:void 0,uD=typeof queueMicrotask=="function"?queueMicrotask:typeof Hb<"u"?function(t){return Hb.resolve(null).then(t).catch(hD)}:Yy;function hD(t){setTimeout(function(){throw t})}function cv(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),Th(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Th(e)}function Xs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function jb(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Xl=Math.random().toString(36).slice(2),xi="__reactFiber$"+Xl,Rh="__reactProps$"+Xl,os="__reactContainer$"+Xl,Ky="__reactEvents$"+Xl,cD="__reactListeners$"+Xl,dD="__reactHandles$"+Xl;function Bo(t){var e=t[xi];if(e)return e;for(var r=t.parentNode;r;){if(e=r[os]||r[xi]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=jb(t);t!==null;){if(r=t[xi])return r;t=jb(t)}return e}t=r,r=t.parentNode}return null}function tc(t){return t=t[xi]||t[os],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ja(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(K(33))}function $p(t){return t[Rh]||null}var Qy=[],el=-1;function ao(t){return{current:t}}function nt(t){0>el||(t.current=Qy[el],Qy[el]=null,el--)}function qe(t,e){el++,Qy[el]=t.current,t.current=e}var to={},ur=ao(to),Pr=ao(!1),Ko=to;function Cl(t,e){var r=t.type.contextTypes;if(!r)return to;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ir(t){return t=t.childContextTypes,t!=null}function $f(){nt(Pr),nt(ur)}function Wb(t,e,r){if(ur.current!==to)throw Error(K(168));qe(ur,e),qe(Pr,r)}function xC(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(K(108,QM(t)||"Unknown",i));return vt({},r,n)}function Gf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||to,Ko=ur.current,qe(ur,t),qe(Pr,Pr.current),!0}function Vb(t,e,r){var n=t.stateNode;if(!n)throw Error(K(169));r?(t=xC(t,e,Ko),n.__reactInternalMemoizedMergedChildContext=t,nt(Pr),nt(ur),qe(ur,t)):nt(Pr),qe(Pr,r)}var Vi=null,Gp=!1,dv=!1;function wC(t){Vi===null?Vi=[t]:Vi.push(t)}function fD(t){Gp=!0,wC(t)}function lo(){if(!dv&&Vi!==null){dv=!0;var t=0,e=Ye;try{var r=Vi;for(Ye=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Vi=null,Gp=!1}catch(i){throw Vi!==null&&(Vi=Vi.slice(t+1)),VA(Z_,lo),i}finally{Ye=e,dv=!1}}return null}var tl=[],rl=0,Hf=null,jf=0,an=[],ln=0,Qo=null,Ki=1,Qi="";function Co(t,e){tl[rl++]=jf,tl[rl++]=Hf,Hf=t,jf=e}function bC(t,e,r){an[ln++]=Ki,an[ln++]=Qi,an[ln++]=Qo,Qo=t;var n=Ki;t=Qi;var i=32-Un(n)-1;n&=~(1<<i),r+=1;var s=32-Un(e)+i;if(30<s){var o=i-i%5;s=(n&(1<<o)-1).toString(32),n>>=o,i-=o,Ki=1<<32-Un(e)+i|r<<i|n,Qi=s+t}else Ki=1<<s|r<<i|n,Qi=t}function a1(t){t.return!==null&&(Co(t,1),bC(t,1,0))}function l1(t){for(;t===Hf;)Hf=tl[--rl],tl[rl]=null,jf=tl[--rl],tl[rl]=null;for(;t===Qo;)Qo=an[--ln],an[ln]=null,Qi=an[--ln],an[ln]=null,Ki=an[--ln],an[ln]=null}var Gr=null,$r=null,ut=!1,Nn=null;function SC(t,e){var r=dn(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function Xb(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Gr=t,$r=Xs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Gr=t,$r=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Qo!==null?{id:Ki,overflow:Qi}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=dn(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Gr=t,$r=null,!0):!1;default:return!1}}function qy(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Zy(t){if(ut){var e=$r;if(e){var r=e;if(!Xb(t,e)){if(qy(t))throw Error(K(418));e=Xs(r.nextSibling);var n=Gr;e&&Xb(t,e)?SC(n,r):(t.flags=t.flags&-4097|2,ut=!1,Gr=t)}}else{if(qy(t))throw Error(K(418));t.flags=t.flags&-4097|2,ut=!1,Gr=t}}}function Yb(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Gr=t}function pd(t){if(t!==Gr)return!1;if(!ut)return Yb(t),ut=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Xy(t.type,t.memoizedProps)),e&&(e=$r)){if(qy(t))throw EC(),Error(K(418));for(;e;)SC(t,e),e=Xs(e.nextSibling)}if(Yb(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(K(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){$r=Xs(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}$r=null}}else $r=Gr?Xs(t.stateNode.nextSibling):null;return!0}function EC(){for(var t=$r;t;)t=Xs(t.nextSibling)}function Pl(){$r=Gr=null,ut=!1}function u1(t){Nn===null?Nn=[t]:Nn.push(t)}var pD=fs.ReactCurrentBatchConfig;function Mu(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(K(309));var n=r.stateNode}if(!n)throw Error(K(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(K(284));if(!r._owner)throw Error(K(290,t))}return t}function md(t,e){throw t=Object.prototype.toString.call(e),Error(K(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Kb(t){var e=t._init;return e(t._payload)}function TC(t){function e(E,b){if(t){var x=E.deletions;x===null?(E.deletions=[b],E.flags|=16):x.push(b)}}function r(E,b){if(!t)return null;for(;b!==null;)e(E,b),b=b.sibling;return null}function n(E,b){for(E=new Map;b!==null;)b.key!==null?E.set(b.key,b):E.set(b.index,b),b=b.sibling;return E}function i(E,b){return E=qs(E,b),E.index=0,E.sibling=null,E}function s(E,b,x){return E.index=x,t?(x=E.alternate,x!==null?(x=x.index,x<b?(E.flags|=2,b):x):(E.flags|=2,b)):(E.flags|=1048576,b)}function o(E){return t&&E.alternate===null&&(E.flags|=2),E}function a(E,b,x,T){return b===null||b.tag!==6?(b=_v(x,E.mode,T),b.return=E,b):(b=i(b,x),b.return=E,b)}function h(E,b,x,T){var P=x.type;return P===Ka?d(E,b,x.props.children,T,x.key):b!==null&&(b.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Os&&Kb(P)===b.type)?(T=i(b,x.props),T.ref=Mu(E,b,x),T.return=E,T):(T=ff(x.type,x.key,x.props,null,E.mode,T),T.ref=Mu(E,b,x),T.return=E,T)}function c(E,b,x,T){return b===null||b.tag!==4||b.stateNode.containerInfo!==x.containerInfo||b.stateNode.implementation!==x.implementation?(b=xv(x,E.mode,T),b.return=E,b):(b=i(b,x.children||[]),b.return=E,b)}function d(E,b,x,T,P){return b===null||b.tag!==7?(b=Go(x,E.mode,T,P),b.return=E,b):(b=i(b,x),b.return=E,b)}function p(E,b,x){if(typeof b=="string"&&b!==""||typeof b=="number")return b=_v(""+b,E.mode,x),b.return=E,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case id:return x=ff(b.type,b.key,b.props,null,E.mode,x),x.ref=Mu(E,null,b),x.return=E,x;case Ya:return b=xv(b,E.mode,x),b.return=E,b;case Os:var T=b._init;return p(E,T(b._payload),x)}if(Hu(b)||Cu(b))return b=Go(b,E.mode,x,null),b.return=E,b;md(E,b)}return null}function m(E,b,x,T){var P=b!==null?b.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return P!==null?null:a(E,b,""+x,T);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case id:return x.key===P?h(E,b,x,T):null;case Ya:return x.key===P?c(E,b,x,T):null;case Os:return P=x._init,m(E,b,P(x._payload),T)}if(Hu(x)||Cu(x))return P!==null?null:d(E,b,x,T,null);md(E,x)}return null}function y(E,b,x,T,P){if(typeof T=="string"&&T!==""||typeof T=="number")return E=E.get(x)||null,a(b,E,""+T,P);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case id:return E=E.get(T.key===null?x:T.key)||null,h(b,E,T,P);case Ya:return E=E.get(T.key===null?x:T.key)||null,c(b,E,T,P);case Os:var M=T._init;return y(E,b,x,M(T._payload),P)}if(Hu(T)||Cu(T))return E=E.get(x)||null,d(b,E,T,P,null);md(b,T)}return null}function _(E,b,x,T){for(var P=null,M=null,R=b,D=b=0,W=null;R!==null&&D<x.length;D++){R.index>D?(W=R,R=null):W=R.sibling;var V=m(E,R,x[D],T);if(V===null){R===null&&(R=W);break}t&&R&&V.alternate===null&&e(E,R),b=s(V,b,D),M===null?P=V:M.sibling=V,M=V,R=W}if(D===x.length)return r(E,R),ut&&Co(E,D),P;if(R===null){for(;D<x.length;D++)R=p(E,x[D],T),R!==null&&(b=s(R,b,D),M===null?P=R:M.sibling=R,M=R);return ut&&Co(E,D),P}for(R=n(E,R);D<x.length;D++)W=y(R,E,D,x[D],T),W!==null&&(t&&W.alternate!==null&&R.delete(W.key===null?D:W.key),b=s(W,b,D),M===null?P=W:M.sibling=W,M=W);return t&&R.forEach(function(pe){return e(E,pe)}),ut&&Co(E,D),P}function S(E,b,x,T){var P=Cu(x);if(typeof P!="function")throw Error(K(150));if(x=P.call(x),x==null)throw Error(K(151));for(var M=P=null,R=b,D=b=0,W=null,V=x.next();R!==null&&!V.done;D++,V=x.next()){R.index>D?(W=R,R=null):W=R.sibling;var pe=m(E,R,V.value,T);if(pe===null){R===null&&(R=W);break}t&&R&&pe.alternate===null&&e(E,R),b=s(pe,b,D),M===null?P=pe:M.sibling=pe,M=pe,R=W}if(V.done)return r(E,R),ut&&Co(E,D),P;if(R===null){for(;!V.done;D++,V=x.next())V=p(E,V.value,T),V!==null&&(b=s(V,b,D),M===null?P=V:M.sibling=V,M=V);return ut&&Co(E,D),P}for(R=n(E,R);!V.done;D++,V=x.next())V=y(R,E,D,V.value,T),V!==null&&(t&&V.alternate!==null&&R.delete(V.key===null?D:V.key),b=s(V,b,D),M===null?P=V:M.sibling=V,M=V);return t&&R.forEach(function(J){return e(E,J)}),ut&&Co(E,D),P}function A(E,b,x,T){if(typeof x=="object"&&x!==null&&x.type===Ka&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case id:e:{for(var P=x.key,M=b;M!==null;){if(M.key===P){if(P=x.type,P===Ka){if(M.tag===7){r(E,M.sibling),b=i(M,x.props.children),b.return=E,E=b;break e}}else if(M.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Os&&Kb(P)===M.type){r(E,M.sibling),b=i(M,x.props),b.ref=Mu(E,M,x),b.return=E,E=b;break e}r(E,M);break}else e(E,M);M=M.sibling}x.type===Ka?(b=Go(x.props.children,E.mode,T,x.key),b.return=E,E=b):(T=ff(x.type,x.key,x.props,null,E.mode,T),T.ref=Mu(E,b,x),T.return=E,E=T)}return o(E);case Ya:e:{for(M=x.key;b!==null;){if(b.key===M)if(b.tag===4&&b.stateNode.containerInfo===x.containerInfo&&b.stateNode.implementation===x.implementation){r(E,b.sibling),b=i(b,x.children||[]),b.return=E,E=b;break e}else{r(E,b);break}else e(E,b);b=b.sibling}b=xv(x,E.mode,T),b.return=E,E=b}return o(E);case Os:return M=x._init,A(E,b,M(x._payload),T)}if(Hu(x))return _(E,b,x,T);if(Cu(x))return S(E,b,x,T);md(E,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,b!==null&&b.tag===6?(r(E,b.sibling),b=i(b,x),b.return=E,E=b):(r(E,b),b=_v(x,E.mode,T),b.return=E,E=b),o(E)):r(E,b)}return A}var Il=TC(!0),AC=TC(!1),Wf=ao(null),Vf=null,nl=null,h1=null;function c1(){h1=nl=Vf=null}function d1(t){var e=Wf.current;nt(Wf),t._currentValue=e}function Jy(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function gl(t,e){Vf=t,h1=nl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ar=!0),t.firstContext=null)}function yn(t){var e=t._currentValue;if(h1!==t)if(t={context:t,memoizedValue:e,next:null},nl===null){if(Vf===null)throw Error(K(308));nl=t,Vf.dependencies={lanes:0,firstContext:t}}else nl=nl.next=t;return e}var Lo=null;function f1(t){Lo===null?Lo=[t]:Lo.push(t)}function CC(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,f1(e)):(r.next=i.next,i.next=r),e.interleaved=r,as(t,n)}function as(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Ms=!1;function p1(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function PC(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function es(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ys(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Ue&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,as(t,r)}return i=n.interleaved,i===null?(e.next=e,f1(n)):(e.next=i.next,i.next=e),n.interleaved=e,as(t,r)}function af(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,J_(t,r)}}function Qb(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Xf(t,e,r,n){var i=t.updateQueue;Ms=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var h=a,c=h.next;h.next=null,o===null?s=c:o.next=c,o=h;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=h))}if(s!==null){var p=i.baseState;o=0,d=c=h=null,a=s;do{var m=a.lane,y=a.eventTime;if((n&m)===m){d!==null&&(d=d.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var _=t,S=a;switch(m=e,y=r,S.tag){case 1:if(_=S.payload,typeof _=="function"){p=_.call(y,p,m);break e}p=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=S.payload,m=typeof _=="function"?_.call(y,p,m):_,m==null)break e;p=vt({},p,m);break e;case 2:Ms=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[a]:m.push(a))}else y={eventTime:y,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=y,h=p):d=d.next=y,o|=m;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;m=a,a=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(d===null&&(h=p),i.baseState=h,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Zo|=o,t.lanes=o,t.memoizedState=p}}function qb(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(K(191,i));i.call(n)}}}var rc={},Ei=ao(rc),Oh=ao(rc),Mh=ao(rc);function Uo(t){if(t===rc)throw Error(K(174));return t}function m1(t,e){switch(qe(Mh,e),qe(Oh,t),qe(Ei,rc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ky(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ky(e,t)}nt(Ei),qe(Ei,e)}function Rl(){nt(Ei),nt(Oh),nt(Mh)}function IC(t){Uo(Mh.current);var e=Uo(Ei.current),r=ky(e,t.type);e!==r&&(qe(Oh,t),qe(Ei,r))}function g1(t){Oh.current===t&&(nt(Ei),nt(Oh))}var pt=ao(0);function Yf(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var fv=[];function v1(){for(var t=0;t<fv.length;t++)fv[t]._workInProgressVersionPrimary=null;fv.length=0}var lf=fs.ReactCurrentDispatcher,pv=fs.ReactCurrentBatchConfig,qo=0,gt=null,Dt=null,Gt=null,Kf=!1,ah=!1,kh=0,mD=0;function sr(){throw Error(K(321))}function y1(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Vn(t[r],e[r]))return!1;return!0}function _1(t,e,r,n,i,s){if(qo=s,gt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,lf.current=t===null||t.memoizedState===null?_D:xD,t=r(n,i),ah){s=0;do{if(ah=!1,kh=0,25<=s)throw Error(K(301));s+=1,Gt=Dt=null,e.updateQueue=null,lf.current=wD,t=r(n,i)}while(ah)}if(lf.current=Qf,e=Dt!==null&&Dt.next!==null,qo=0,Gt=Dt=gt=null,Kf=!1,e)throw Error(K(300));return t}function x1(){var t=kh!==0;return kh=0,t}function mi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gt===null?gt.memoizedState=Gt=t:Gt=Gt.next=t,Gt}function _n(){if(Dt===null){var t=gt.alternate;t=t!==null?t.memoizedState:null}else t=Dt.next;var e=Gt===null?gt.memoizedState:Gt.next;if(e!==null)Gt=e,Dt=t;else{if(t===null)throw Error(K(310));Dt=t,t={memoizedState:Dt.memoizedState,baseState:Dt.baseState,baseQueue:Dt.baseQueue,queue:Dt.queue,next:null},Gt===null?gt.memoizedState=Gt=t:Gt=Gt.next=t}return Gt}function Dh(t,e){return typeof e=="function"?e(t):e}function mv(t){var e=_n(),r=e.queue;if(r===null)throw Error(K(311));r.lastRenderedReducer=t;var n=Dt,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var a=o=null,h=null,c=s;do{var d=c.lane;if((qo&d)===d)h!==null&&(h=h.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var p={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};h===null?(a=h=p,o=n):h=h.next=p,gt.lanes|=d,Zo|=d}c=c.next}while(c!==null&&c!==s);h===null?o=n:h.next=a,Vn(n,e.memoizedState)||(Ar=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=h,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,gt.lanes|=s,Zo|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function gv(t){var e=_n(),r=e.queue;if(r===null)throw Error(K(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Vn(s,e.memoizedState)||(Ar=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function RC(){}function OC(t,e){var r=gt,n=_n(),i=e(),s=!Vn(n.memoizedState,i);if(s&&(n.memoizedState=i,Ar=!0),n=n.queue,w1(DC.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||Gt!==null&&Gt.memoizedState.tag&1){if(r.flags|=2048,Nh(9,kC.bind(null,r,n,i,e),void 0,null),Wt===null)throw Error(K(349));qo&30||MC(r,e,i)}return i}function MC(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=gt.updateQueue,e===null?(e={lastEffect:null,stores:null},gt.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function kC(t,e,r,n){e.value=r,e.getSnapshot=n,NC(e)&&FC(t)}function DC(t,e,r){return r(function(){NC(e)&&FC(t)})}function NC(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Vn(t,r)}catch{return!0}}function FC(t){var e=as(t,1);e!==null&&zn(e,t,1,-1)}function Zb(t){var e=mi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Dh,lastRenderedState:t},e.queue=t,t=t.dispatch=yD.bind(null,gt,t),[e.memoizedState,t]}function Nh(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=gt.updateQueue,e===null?(e={lastEffect:null,stores:null},gt.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function BC(){return _n().memoizedState}function uf(t,e,r,n){var i=mi();gt.flags|=t,i.memoizedState=Nh(1|e,r,void 0,n===void 0?null:n)}function Hp(t,e,r,n){var i=_n();n=n===void 0?null:n;var s=void 0;if(Dt!==null){var o=Dt.memoizedState;if(s=o.destroy,n!==null&&y1(n,o.deps)){i.memoizedState=Nh(e,r,s,n);return}}gt.flags|=t,i.memoizedState=Nh(1|e,r,s,n)}function Jb(t,e){return uf(8390656,8,t,e)}function w1(t,e){return Hp(2048,8,t,e)}function LC(t,e){return Hp(4,2,t,e)}function UC(t,e){return Hp(4,4,t,e)}function zC(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function $C(t,e,r){return r=r!=null?r.concat([t]):null,Hp(4,4,zC.bind(null,e,t),r)}function b1(){}function GC(t,e){var r=_n();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&y1(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function HC(t,e){var r=_n();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&y1(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function jC(t,e,r){return qo&21?(Vn(r,e)||(r=KA(),gt.lanes|=r,Zo|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ar=!0),t.memoizedState=r)}function gD(t,e){var r=Ye;Ye=r!==0&&4>r?r:4,t(!0);var n=pv.transition;pv.transition={};try{t(!1),e()}finally{Ye=r,pv.transition=n}}function WC(){return _n().memoizedState}function vD(t,e,r){var n=Qs(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},VC(t))XC(e,r);else if(r=CC(t,e,r,n),r!==null){var i=vr();zn(r,t,n,i),YC(r,e,n)}}function yD(t,e,r){var n=Qs(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(VC(t))XC(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,r);if(i.hasEagerState=!0,i.eagerState=a,Vn(a,o)){var h=e.interleaved;h===null?(i.next=i,f1(e)):(i.next=h.next,h.next=i),e.interleaved=i;return}}catch{}finally{}r=CC(t,e,i,n),r!==null&&(i=vr(),zn(r,t,n,i),YC(r,e,n))}}function VC(t){var e=t.alternate;return t===gt||e!==null&&e===gt}function XC(t,e){ah=Kf=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function YC(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,J_(t,r)}}var Qf={readContext:yn,useCallback:sr,useContext:sr,useEffect:sr,useImperativeHandle:sr,useInsertionEffect:sr,useLayoutEffect:sr,useMemo:sr,useReducer:sr,useRef:sr,useState:sr,useDebugValue:sr,useDeferredValue:sr,useTransition:sr,useMutableSource:sr,useSyncExternalStore:sr,useId:sr,unstable_isNewReconciler:!1},_D={readContext:yn,useCallback:function(t,e){return mi().memoizedState=[t,e===void 0?null:e],t},useContext:yn,useEffect:Jb,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,uf(4194308,4,zC.bind(null,e,t),r)},useLayoutEffect:function(t,e){return uf(4194308,4,t,e)},useInsertionEffect:function(t,e){return uf(4,2,t,e)},useMemo:function(t,e){var r=mi();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=mi();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=vD.bind(null,gt,t),[n.memoizedState,t]},useRef:function(t){var e=mi();return t={current:t},e.memoizedState=t},useState:Zb,useDebugValue:b1,useDeferredValue:function(t){return mi().memoizedState=t},useTransition:function(){var t=Zb(!1),e=t[0];return t=gD.bind(null,t[1]),mi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=gt,i=mi();if(ut){if(r===void 0)throw Error(K(407));r=r()}else{if(r=e(),Wt===null)throw Error(K(349));qo&30||MC(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,Jb(DC.bind(null,n,s,t),[t]),n.flags|=2048,Nh(9,kC.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=mi(),e=Wt.identifierPrefix;if(ut){var r=Qi,n=Ki;r=(n&~(1<<32-Un(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=kh++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=mD++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},xD={readContext:yn,useCallback:GC,useContext:yn,useEffect:w1,useImperativeHandle:$C,useInsertionEffect:LC,useLayoutEffect:UC,useMemo:HC,useReducer:mv,useRef:BC,useState:function(){return mv(Dh)},useDebugValue:b1,useDeferredValue:function(t){var e=_n();return jC(e,Dt.memoizedState,t)},useTransition:function(){var t=mv(Dh)[0],e=_n().memoizedState;return[t,e]},useMutableSource:RC,useSyncExternalStore:OC,useId:WC,unstable_isNewReconciler:!1},wD={readContext:yn,useCallback:GC,useContext:yn,useEffect:w1,useImperativeHandle:$C,useInsertionEffect:LC,useLayoutEffect:UC,useMemo:HC,useReducer:gv,useRef:BC,useState:function(){return gv(Dh)},useDebugValue:b1,useDeferredValue:function(t){var e=_n();return Dt===null?e.memoizedState=t:jC(e,Dt.memoizedState,t)},useTransition:function(){var t=gv(Dh)[0],e=_n().memoizedState;return[t,e]},useMutableSource:RC,useSyncExternalStore:OC,useId:WC,unstable_isNewReconciler:!1};function kn(t,e){if(t&&t.defaultProps){e=vt({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function e0(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:vt({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var jp={isMounted:function(t){return(t=t._reactInternals)?aa(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=vr(),i=Qs(t),s=es(n,i);s.payload=e,r!=null&&(s.callback=r),e=Ys(t,s,i),e!==null&&(zn(e,t,i,n),af(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=vr(),i=Qs(t),s=es(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=Ys(t,s,i),e!==null&&(zn(e,t,i,n),af(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=vr(),n=Qs(t),i=es(r,n);i.tag=2,e!=null&&(i.callback=e),e=Ys(t,i,n),e!==null&&(zn(e,t,n,r),af(e,t,n))}};function eS(t,e,r,n,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,o):e.prototype&&e.prototype.isPureReactComponent?!Ch(r,n)||!Ch(i,s):!0}function KC(t,e,r){var n=!1,i=to,s=e.contextType;return typeof s=="object"&&s!==null?s=yn(s):(i=Ir(e)?Ko:ur.current,n=e.contextTypes,s=(n=n!=null)?Cl(t,i):to),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=jp,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function tS(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&jp.enqueueReplaceState(e,e.state,null)}function t0(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},p1(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=yn(s):(s=Ir(e)?Ko:ur.current,i.context=Cl(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(e0(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&jp.enqueueReplaceState(i,i.state,null),Xf(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ol(t,e){try{var r="",n=e;do r+=KM(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function vv(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function r0(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var bD=typeof WeakMap=="function"?WeakMap:Map;function QC(t,e,r){r=es(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Zf||(Zf=!0,d0=n),r0(t,e)},r}function qC(t,e,r){r=es(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){r0(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){r0(t,e),typeof n!="function"&&(Ks===null?Ks=new Set([this]):Ks.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function rS(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new bD;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=FD.bind(null,t,e,r),e.then(t,t))}function nS(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function iS(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=es(-1,1),e.tag=2,Ys(r,e,1))),r.lanes|=1),t)}var SD=fs.ReactCurrentOwner,Ar=!1;function mr(t,e,r,n){e.child=t===null?AC(e,null,r,n):Il(e,t.child,r,n)}function sS(t,e,r,n,i){r=r.render;var s=e.ref;return gl(e,i),n=_1(t,e,r,n,s,i),r=x1(),t!==null&&!Ar?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ls(t,e,i)):(ut&&r&&a1(e),e.flags|=1,mr(t,e,n,i),e.child)}function oS(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!R1(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,ZC(t,e,s,n,i)):(t=ff(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:Ch,r(o,n)&&t.ref===e.ref)return ls(t,e,i)}return e.flags|=1,t=qs(s,n),t.ref=e.ref,t.return=e,e.child=t}function ZC(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(Ch(s,n)&&t.ref===e.ref)if(Ar=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(Ar=!0);else return e.lanes=t.lanes,ls(t,e,i)}return n0(t,e,r,n,i)}function JC(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},qe(sl,Lr),Lr|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,qe(sl,Lr),Lr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,qe(sl,Lr),Lr|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,qe(sl,Lr),Lr|=n;return mr(t,e,i,r),e.child}function eP(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function n0(t,e,r,n,i){var s=Ir(r)?Ko:ur.current;return s=Cl(e,s),gl(e,i),r=_1(t,e,r,n,s,i),n=x1(),t!==null&&!Ar?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ls(t,e,i)):(ut&&n&&a1(e),e.flags|=1,mr(t,e,r,i),e.child)}function aS(t,e,r,n,i){if(Ir(r)){var s=!0;Gf(e)}else s=!1;if(gl(e,i),e.stateNode===null)hf(t,e),KC(e,r,n),t0(e,r,n,i),n=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var h=o.context,c=r.contextType;typeof c=="object"&&c!==null?c=yn(c):(c=Ir(r)?Ko:ur.current,c=Cl(e,c));var d=r.getDerivedStateFromProps,p=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||h!==c)&&tS(e,o,n,c),Ms=!1;var m=e.memoizedState;o.state=m,Xf(e,n,o,i),h=e.memoizedState,a!==n||m!==h||Pr.current||Ms?(typeof d=="function"&&(e0(e,r,d,n),h=e.memoizedState),(a=Ms||eS(e,r,a,n,m,h,c))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=h),o.props=n,o.state=h,o.context=c,n=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,PC(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:kn(e.type,a),o.props=c,p=e.pendingProps,m=o.context,h=r.contextType,typeof h=="object"&&h!==null?h=yn(h):(h=Ir(r)?Ko:ur.current,h=Cl(e,h));var y=r.getDerivedStateFromProps;(d=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==p||m!==h)&&tS(e,o,n,h),Ms=!1,m=e.memoizedState,o.state=m,Xf(e,n,o,i);var _=e.memoizedState;a!==p||m!==_||Pr.current||Ms?(typeof y=="function"&&(e0(e,r,y,n),_=e.memoizedState),(c=Ms||eS(e,r,c,n,m,_,h)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,_,h),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,_,h)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=_),o.props=n,o.state=_,o.context=h,n=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),n=!1)}return i0(t,e,r,n,s,i)}function i0(t,e,r,n,i,s){eP(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return i&&Vb(e,r,!1),ls(t,e,s);n=e.stateNode,SD.current=e;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=Il(e,t.child,null,s),e.child=Il(e,null,a,s)):mr(t,e,a,s),e.memoizedState=n.state,i&&Vb(e,r,!0),e.child}function tP(t){var e=t.stateNode;e.pendingContext?Wb(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Wb(t,e.context,!1),m1(t,e.containerInfo)}function lS(t,e,r,n,i){return Pl(),u1(i),e.flags|=256,mr(t,e,r,n),e.child}var s0={dehydrated:null,treeContext:null,retryLane:0};function o0(t){return{baseLanes:t,cachePool:null,transitions:null}}function rP(t,e,r){var n=e.pendingProps,i=pt.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),qe(pt,i&1),t===null)return Zy(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,s?(n=e.mode,s=e.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Xp(o,n,0,null),t=Go(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=o0(r),e.memoizedState=s0,t):S1(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return ED(t,e,o,n,a,i,r);if(s){s=n.fallback,o=e.mode,i=t.child,a=i.sibling;var h={mode:"hidden",children:n.children};return!(o&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=h,e.deletions=null):(n=qs(i,h),n.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=qs(a,s):(s=Go(s,o,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,o=t.child.memoizedState,o=o===null?o0(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~r,e.memoizedState=s0,n}return s=t.child,t=s.sibling,n=qs(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function S1(t,e){return e=Xp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function gd(t,e,r,n){return n!==null&&u1(n),Il(e,t.child,null,r),t=S1(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function ED(t,e,r,n,i,s,o){if(r)return e.flags&256?(e.flags&=-257,n=vv(Error(K(422))),gd(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=Xp({mode:"visible",children:n.children},i,0,null),s=Go(s,i,o,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&Il(e,t.child,null,o),e.child.memoizedState=o0(o),e.memoizedState=s0,s);if(!(e.mode&1))return gd(t,e,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var a=n.dgst;return n=a,s=Error(K(419)),n=vv(s,n,void 0),gd(t,e,o,n)}if(a=(o&t.childLanes)!==0,Ar||a){if(n=Wt,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,as(t,i),zn(n,t,i,-1))}return I1(),n=vv(Error(K(421))),gd(t,e,o,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=BD.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,$r=Xs(i.nextSibling),Gr=e,ut=!0,Nn=null,t!==null&&(an[ln++]=Ki,an[ln++]=Qi,an[ln++]=Qo,Ki=t.id,Qi=t.overflow,Qo=e),e=S1(e,n.children),e.flags|=4096,e)}function uS(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Jy(t.return,e,r)}function yv(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function nP(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(mr(t,e,n.children,r),n=pt.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&uS(t,r,e);else if(t.tag===19)uS(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(qe(pt,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Yf(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),yv(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Yf(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}yv(e,!0,r,null,s);break;case"together":yv(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function hf(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ls(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Zo|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(K(153));if(e.child!==null){for(t=e.child,r=qs(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=qs(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function TD(t,e,r){switch(e.tag){case 3:tP(e),Pl();break;case 5:IC(e);break;case 1:Ir(e.type)&&Gf(e);break;case 4:m1(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;qe(Wf,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(qe(pt,pt.current&1),e.flags|=128,null):r&e.child.childLanes?rP(t,e,r):(qe(pt,pt.current&1),t=ls(t,e,r),t!==null?t.sibling:null);qe(pt,pt.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return nP(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),qe(pt,pt.current),n)break;return null;case 22:case 23:return e.lanes=0,JC(t,e,r)}return ls(t,e,r)}var iP,a0,sP,oP;iP=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};a0=function(){};sP=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Uo(Ei.current);var s=null;switch(r){case"input":i=Iy(t,i),n=Iy(t,n),s=[];break;case"select":i=vt({},i,{value:void 0}),n=vt({},n,{value:void 0}),s=[];break;case"textarea":i=My(t,i),n=My(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=zf)}Dy(r,n);var o;r=null;for(c in i)if(!n.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(xh.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in n){var h=n[c];if(a=i!=null?i[c]:void 0,n.hasOwnProperty(c)&&h!==a&&(h!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||h&&h.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in h)h.hasOwnProperty(o)&&a[o]!==h[o]&&(r||(r={}),r[o]=h[o])}else r||(s||(s=[]),s.push(c,r)),r=h;else c==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,a=a?a.__html:void 0,h!=null&&a!==h&&(s=s||[]).push(c,h)):c==="children"?typeof h!="string"&&typeof h!="number"||(s=s||[]).push(c,""+h):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(xh.hasOwnProperty(c)?(h!=null&&c==="onScroll"&&tt("scroll",t),s||a===h||(s=[])):(s=s||[]).push(c,h))}r&&(s=s||[]).push("style",r);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};oP=function(t,e,r,n){r!==n&&(e.flags|=4)};function ku(t,e){if(!ut)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function or(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function AD(t,e,r){var n=e.pendingProps;switch(l1(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return or(e),null;case 1:return Ir(e.type)&&$f(),or(e),null;case 3:return n=e.stateNode,Rl(),nt(Pr),nt(ur),v1(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(pd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Nn!==null&&(m0(Nn),Nn=null))),a0(t,e),or(e),null;case 5:g1(e);var i=Uo(Mh.current);if(r=e.type,t!==null&&e.stateNode!=null)sP(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(K(166));return or(e),null}if(t=Uo(Ei.current),pd(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[xi]=e,n[Rh]=s,t=(e.mode&1)!==0,r){case"dialog":tt("cancel",n),tt("close",n);break;case"iframe":case"object":case"embed":tt("load",n);break;case"video":case"audio":for(i=0;i<Wu.length;i++)tt(Wu[i],n);break;case"source":tt("error",n);break;case"img":case"image":case"link":tt("error",n),tt("load",n);break;case"details":tt("toggle",n);break;case"input":yb(n,s),tt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},tt("invalid",n);break;case"textarea":xb(n,s),tt("invalid",n)}Dy(r,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?n.textContent!==a&&(s.suppressHydrationWarning!==!0&&fd(n.textContent,a,t),i=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&fd(n.textContent,a,t),i=["children",""+a]):xh.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&tt("scroll",n)}switch(r){case"input":sd(n),_b(n,s,!0);break;case"textarea":sd(n),wb(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=zf)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=DA(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[xi]=e,t[Rh]=n,iP(t,e,!1,!1),e.stateNode=t;e:{switch(o=Ny(r,n),r){case"dialog":tt("cancel",t),tt("close",t),i=n;break;case"iframe":case"object":case"embed":tt("load",t),i=n;break;case"video":case"audio":for(i=0;i<Wu.length;i++)tt(Wu[i],t);i=n;break;case"source":tt("error",t),i=n;break;case"img":case"image":case"link":tt("error",t),tt("load",t),i=n;break;case"details":tt("toggle",t),i=n;break;case"input":yb(t,n),i=Iy(t,n),tt("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=vt({},n,{value:void 0}),tt("invalid",t);break;case"textarea":xb(t,n),i=My(t,n),tt("invalid",t);break;default:i=n}Dy(r,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var h=a[s];s==="style"?BA(t,h):s==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,h!=null&&NA(t,h)):s==="children"?typeof h=="string"?(r!=="textarea"||h!=="")&&wh(t,h):typeof h=="number"&&wh(t,""+h):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(xh.hasOwnProperty(s)?h!=null&&s==="onScroll"&&tt("scroll",t):h!=null&&X_(t,s,h,o))}switch(r){case"input":sd(t),_b(t,n,!1);break;case"textarea":sd(t),wb(t);break;case"option":n.value!=null&&t.setAttribute("value",""+eo(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?dl(t,!!n.multiple,s,!1):n.defaultValue!=null&&dl(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=zf)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return or(e),null;case 6:if(t&&e.stateNode!=null)oP(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(K(166));if(r=Uo(Mh.current),Uo(Ei.current),pd(e)){if(n=e.stateNode,r=e.memoizedProps,n[xi]=e,(s=n.nodeValue!==r)&&(t=Gr,t!==null))switch(t.tag){case 3:fd(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&fd(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[xi]=e,e.stateNode=n}return or(e),null;case 13:if(nt(pt),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ut&&$r!==null&&e.mode&1&&!(e.flags&128))EC(),Pl(),e.flags|=98560,s=!1;else if(s=pd(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(K(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(K(317));s[xi]=e}else Pl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;or(e),s=!1}else Nn!==null&&(m0(Nn),Nn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||pt.current&1?Nt===0&&(Nt=3):I1())),e.updateQueue!==null&&(e.flags|=4),or(e),null);case 4:return Rl(),a0(t,e),t===null&&Ph(e.stateNode.containerInfo),or(e),null;case 10:return d1(e.type._context),or(e),null;case 17:return Ir(e.type)&&$f(),or(e),null;case 19:if(nt(pt),s=e.memoizedState,s===null)return or(e),null;if(n=(e.flags&128)!==0,o=s.rendering,o===null)if(n)ku(s,!1);else{if(Nt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Yf(t),o!==null){for(e.flags|=128,ku(s,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return qe(pt,pt.current&1|2),e.child}t=t.sibling}s.tail!==null&&Tt()>Ml&&(e.flags|=128,n=!0,ku(s,!1),e.lanes=4194304)}else{if(!n)if(t=Yf(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),ku(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ut)return or(e),null}else 2*Tt()-s.renderingStartTime>Ml&&r!==1073741824&&(e.flags|=128,n=!0,ku(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(r=s.last,r!==null?r.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Tt(),e.sibling=null,r=pt.current,qe(pt,n?r&1|2:r&1),e):(or(e),null);case 22:case 23:return P1(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Lr&1073741824&&(or(e),e.subtreeFlags&6&&(e.flags|=8192)):or(e),null;case 24:return null;case 25:return null}throw Error(K(156,e.tag))}function CD(t,e){switch(l1(e),e.tag){case 1:return Ir(e.type)&&$f(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Rl(),nt(Pr),nt(ur),v1(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return g1(e),null;case 13:if(nt(pt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(K(340));Pl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return nt(pt),null;case 4:return Rl(),null;case 10:return d1(e.type._context),null;case 22:case 23:return P1(),null;case 24:return null;default:return null}}var vd=!1,ar=!1,PD=typeof WeakSet=="function"?WeakSet:Set,ue=null;function il(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){xt(t,e,n)}else r.current=null}function l0(t,e,r){try{r()}catch(n){xt(t,e,n)}}var hS=!1;function ID(t,e){if(Wy=Bf,t=cC(),o1(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,a=-1,h=-1,c=0,d=0,p=t,m=null;t:for(;;){for(var y;p!==r||i!==0&&p.nodeType!==3||(a=o+i),p!==s||n!==0&&p.nodeType!==3||(h=o+n),p.nodeType===3&&(o+=p.nodeValue.length),(y=p.firstChild)!==null;)m=p,p=y;for(;;){if(p===t)break t;if(m===r&&++c===i&&(a=o),m===s&&++d===n&&(h=o),(y=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=y}r=a===-1||h===-1?null:{start:a,end:h}}else r=null}r=r||{start:0,end:0}}else r=null;for(Vy={focusedElem:t,selectionRange:r},Bf=!1,ue=e;ue!==null;)if(e=ue,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ue=t;else for(;ue!==null;){e=ue;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var S=_.memoizedProps,A=_.memoizedState,E=e.stateNode,b=E.getSnapshotBeforeUpdate(e.elementType===e.type?S:kn(e.type,S),A);E.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(K(163))}}catch(T){xt(e,e.return,T)}if(t=e.sibling,t!==null){t.return=e.return,ue=t;break}ue=e.return}return _=hS,hS=!1,_}function lh(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&l0(e,r,s)}i=i.next}while(i!==n)}}function Wp(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function u0(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function aP(t){var e=t.alternate;e!==null&&(t.alternate=null,aP(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[xi],delete e[Rh],delete e[Ky],delete e[cD],delete e[dD])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function lP(t){return t.tag===5||t.tag===3||t.tag===4}function cS(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||lP(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function h0(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=zf));else if(n!==4&&(t=t.child,t!==null))for(h0(t,e,r),t=t.sibling;t!==null;)h0(t,e,r),t=t.sibling}function c0(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(c0(t,e,r),t=t.sibling;t!==null;)c0(t,e,r),t=t.sibling}var Qt=null,Dn=!1;function Ts(t,e,r){for(r=r.child;r!==null;)uP(t,e,r),r=r.sibling}function uP(t,e,r){if(Si&&typeof Si.onCommitFiberUnmount=="function")try{Si.onCommitFiberUnmount(Bp,r)}catch{}switch(r.tag){case 5:ar||il(r,e);case 6:var n=Qt,i=Dn;Qt=null,Ts(t,e,r),Qt=n,Dn=i,Qt!==null&&(Dn?(t=Qt,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Qt.removeChild(r.stateNode));break;case 18:Qt!==null&&(Dn?(t=Qt,r=r.stateNode,t.nodeType===8?cv(t.parentNode,r):t.nodeType===1&&cv(t,r),Th(t)):cv(Qt,r.stateNode));break;case 4:n=Qt,i=Dn,Qt=r.stateNode.containerInfo,Dn=!0,Ts(t,e,r),Qt=n,Dn=i;break;case 0:case 11:case 14:case 15:if(!ar&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&l0(r,e,o),i=i.next}while(i!==n)}Ts(t,e,r);break;case 1:if(!ar&&(il(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){xt(r,e,a)}Ts(t,e,r);break;case 21:Ts(t,e,r);break;case 22:r.mode&1?(ar=(n=ar)||r.memoizedState!==null,Ts(t,e,r),ar=n):Ts(t,e,r);break;default:Ts(t,e,r)}}function dS(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new PD),e.forEach(function(n){var i=LD.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Cn(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Qt=a.stateNode,Dn=!1;break e;case 3:Qt=a.stateNode.containerInfo,Dn=!0;break e;case 4:Qt=a.stateNode.containerInfo,Dn=!0;break e}a=a.return}if(Qt===null)throw Error(K(160));uP(s,o,i),Qt=null,Dn=!1;var h=i.alternate;h!==null&&(h.return=null),i.return=null}catch(c){xt(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)hP(e,t),e=e.sibling}function hP(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Cn(e,t),ai(t),n&4){try{lh(3,t,t.return),Wp(3,t)}catch(S){xt(t,t.return,S)}try{lh(5,t,t.return)}catch(S){xt(t,t.return,S)}}break;case 1:Cn(e,t),ai(t),n&512&&r!==null&&il(r,r.return);break;case 5:if(Cn(e,t),ai(t),n&512&&r!==null&&il(r,r.return),t.flags&32){var i=t.stateNode;try{wh(i,"")}catch(S){xt(t,t.return,S)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=r!==null?r.memoizedProps:s,a=t.type,h=t.updateQueue;if(t.updateQueue=null,h!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&MA(i,s),Ny(a,o);var c=Ny(a,s);for(o=0;o<h.length;o+=2){var d=h[o],p=h[o+1];d==="style"?BA(i,p):d==="dangerouslySetInnerHTML"?NA(i,p):d==="children"?wh(i,p):X_(i,d,p,c)}switch(a){case"input":Ry(i,s);break;case"textarea":kA(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var y=s.value;y!=null?dl(i,!!s.multiple,y,!1):m!==!!s.multiple&&(s.defaultValue!=null?dl(i,!!s.multiple,s.defaultValue,!0):dl(i,!!s.multiple,s.multiple?[]:"",!1))}i[Rh]=s}catch(S){xt(t,t.return,S)}}break;case 6:if(Cn(e,t),ai(t),n&4){if(t.stateNode===null)throw Error(K(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(S){xt(t,t.return,S)}}break;case 3:if(Cn(e,t),ai(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Th(e.containerInfo)}catch(S){xt(t,t.return,S)}break;case 4:Cn(e,t),ai(t);break;case 13:Cn(e,t),ai(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(A1=Tt())),n&4&&dS(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(ar=(c=ar)||d,Cn(e,t),ar=c):Cn(e,t),ai(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(ue=t,d=t.child;d!==null;){for(p=ue=d;ue!==null;){switch(m=ue,y=m.child,m.tag){case 0:case 11:case 14:case 15:lh(4,m,m.return);break;case 1:il(m,m.return);var _=m.stateNode;if(typeof _.componentWillUnmount=="function"){n=m,r=m.return;try{e=n,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(S){xt(n,r,S)}}break;case 5:il(m,m.return);break;case 22:if(m.memoizedState!==null){pS(p);continue}}y!==null?(y.return=m,ue=y):pS(p)}d=d.sibling}e:for(d=null,p=t;;){if(p.tag===5){if(d===null){d=p;try{i=p.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=p.stateNode,h=p.memoizedProps.style,o=h!=null&&h.hasOwnProperty("display")?h.display:null,a.style.display=FA("display",o))}catch(S){xt(t,t.return,S)}}}else if(p.tag===6){if(d===null)try{p.stateNode.nodeValue=c?"":p.memoizedProps}catch(S){xt(t,t.return,S)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Cn(e,t),ai(t),n&4&&dS(t);break;case 21:break;default:Cn(e,t),ai(t)}}function ai(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(lP(r)){var n=r;break e}r=r.return}throw Error(K(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(wh(i,""),n.flags&=-33);var s=cS(t);c0(t,s,i);break;case 3:case 4:var o=n.stateNode.containerInfo,a=cS(t);h0(t,a,o);break;default:throw Error(K(161))}}catch(h){xt(t,t.return,h)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function RD(t,e,r){ue=t,cP(t)}function cP(t,e,r){for(var n=(t.mode&1)!==0;ue!==null;){var i=ue,s=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||vd;if(!o){var a=i.alternate,h=a!==null&&a.memoizedState!==null||ar;a=vd;var c=ar;if(vd=o,(ar=h)&&!c)for(ue=i;ue!==null;)o=ue,h=o.child,o.tag===22&&o.memoizedState!==null?mS(i):h!==null?(h.return=o,ue=h):mS(i);for(;s!==null;)ue=s,cP(s),s=s.sibling;ue=i,vd=a,ar=c}fS(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ue=s):fS(t)}}function fS(t){for(;ue!==null;){var e=ue;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ar||Wp(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!ar)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:kn(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&qb(e,s,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}qb(e,o,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var h=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":h.autoFocus&&r.focus();break;case"img":h.src&&(r.src=h.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var p=d.dehydrated;p!==null&&Th(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(K(163))}ar||e.flags&512&&u0(e)}catch(m){xt(e,e.return,m)}}if(e===t){ue=null;break}if(r=e.sibling,r!==null){r.return=e.return,ue=r;break}ue=e.return}}function pS(t){for(;ue!==null;){var e=ue;if(e===t){ue=null;break}var r=e.sibling;if(r!==null){r.return=e.return,ue=r;break}ue=e.return}}function mS(t){for(;ue!==null;){var e=ue;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Wp(4,e)}catch(h){xt(e,r,h)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(h){xt(e,i,h)}}var s=e.return;try{u0(e)}catch(h){xt(e,s,h)}break;case 5:var o=e.return;try{u0(e)}catch(h){xt(e,o,h)}}}catch(h){xt(e,e.return,h)}if(e===t){ue=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ue=a;break}ue=e.return}}var OD=Math.ceil,qf=fs.ReactCurrentDispatcher,E1=fs.ReactCurrentOwner,vn=fs.ReactCurrentBatchConfig,Ue=0,Wt=null,Rt=null,Jt=0,Lr=0,sl=ao(0),Nt=0,Fh=null,Zo=0,Vp=0,T1=0,uh=null,Er=null,A1=0,Ml=1/0,ji=null,Zf=!1,d0=null,Ks=null,yd=!1,Us=null,Jf=0,hh=0,f0=null,cf=-1,df=0;function vr(){return Ue&6?Tt():cf!==-1?cf:cf=Tt()}function Qs(t){return t.mode&1?Ue&2&&Jt!==0?Jt&-Jt:pD.transition!==null?(df===0&&(df=KA()),df):(t=Ye,t!==0||(t=window.event,t=t===void 0?16:rC(t.type)),t):1}function zn(t,e,r,n){if(50<hh)throw hh=0,f0=null,Error(K(185));Jh(t,r,n),(!(Ue&2)||t!==Wt)&&(t===Wt&&(!(Ue&2)&&(Vp|=r),Nt===4&&Fs(t,Jt)),Rr(t,n),r===1&&Ue===0&&!(e.mode&1)&&(Ml=Tt()+500,Gp&&lo()))}function Rr(t,e){var r=t.callbackNode;pk(t,e);var n=Ff(t,t===Wt?Jt:0);if(n===0)r!==null&&Eb(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&Eb(r),e===1)t.tag===0?fD(gS.bind(null,t)):wC(gS.bind(null,t)),uD(function(){!(Ue&6)&&lo()}),r=null;else{switch(QA(n)){case 1:r=Z_;break;case 4:r=XA;break;case 16:r=Nf;break;case 536870912:r=YA;break;default:r=Nf}r=_P(r,dP.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function dP(t,e){if(cf=-1,df=0,Ue&6)throw Error(K(327));var r=t.callbackNode;if(vl()&&t.callbackNode!==r)return null;var n=Ff(t,t===Wt?Jt:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=ep(t,n);else{e=n;var i=Ue;Ue|=2;var s=pP();(Wt!==t||Jt!==e)&&(ji=null,Ml=Tt()+500,$o(t,e));do try{DD();break}catch(a){fP(t,a)}while(!0);c1(),qf.current=s,Ue=i,Rt!==null?e=0:(Wt=null,Jt=0,e=Nt)}if(e!==0){if(e===2&&(i=zy(t),i!==0&&(n=i,e=p0(t,i))),e===1)throw r=Fh,$o(t,0),Fs(t,n),Rr(t,Tt()),r;if(e===6)Fs(t,n);else{if(i=t.current.alternate,!(n&30)&&!MD(i)&&(e=ep(t,n),e===2&&(s=zy(t),s!==0&&(n=s,e=p0(t,s))),e===1))throw r=Fh,$o(t,0),Fs(t,n),Rr(t,Tt()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(K(345));case 2:Po(t,Er,ji);break;case 3:if(Fs(t,n),(n&130023424)===n&&(e=A1+500-Tt(),10<e)){if(Ff(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){vr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Yy(Po.bind(null,t,Er,ji),e);break}Po(t,Er,ji);break;case 4:if(Fs(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var o=31-Un(n);s=1<<o,o=e[o],o>i&&(i=o),n&=~s}if(n=i,n=Tt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*OD(n/1960))-n,10<n){t.timeoutHandle=Yy(Po.bind(null,t,Er,ji),n);break}Po(t,Er,ji);break;case 5:Po(t,Er,ji);break;default:throw Error(K(329))}}}return Rr(t,Tt()),t.callbackNode===r?dP.bind(null,t):null}function p0(t,e){var r=uh;return t.current.memoizedState.isDehydrated&&($o(t,e).flags|=256),t=ep(t,e),t!==2&&(e=Er,Er=r,e!==null&&m0(e)),t}function m0(t){Er===null?Er=t:Er.push.apply(Er,t)}function MD(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!Vn(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Fs(t,e){for(e&=~T1,e&=~Vp,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Un(e),n=1<<r;t[r]=-1,e&=~n}}function gS(t){if(Ue&6)throw Error(K(327));vl();var e=Ff(t,0);if(!(e&1))return Rr(t,Tt()),null;var r=ep(t,e);if(t.tag!==0&&r===2){var n=zy(t);n!==0&&(e=n,r=p0(t,n))}if(r===1)throw r=Fh,$o(t,0),Fs(t,e),Rr(t,Tt()),r;if(r===6)throw Error(K(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Po(t,Er,ji),Rr(t,Tt()),null}function C1(t,e){var r=Ue;Ue|=1;try{return t(e)}finally{Ue=r,Ue===0&&(Ml=Tt()+500,Gp&&lo())}}function Jo(t){Us!==null&&Us.tag===0&&!(Ue&6)&&vl();var e=Ue;Ue|=1;var r=vn.transition,n=Ye;try{if(vn.transition=null,Ye=1,t)return t()}finally{Ye=n,vn.transition=r,Ue=e,!(Ue&6)&&lo()}}function P1(){Lr=sl.current,nt(sl)}function $o(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,lD(r)),Rt!==null)for(r=Rt.return;r!==null;){var n=r;switch(l1(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&$f();break;case 3:Rl(),nt(Pr),nt(ur),v1();break;case 5:g1(n);break;case 4:Rl();break;case 13:nt(pt);break;case 19:nt(pt);break;case 10:d1(n.type._context);break;case 22:case 23:P1()}r=r.return}if(Wt=t,Rt=t=qs(t.current,null),Jt=Lr=e,Nt=0,Fh=null,T1=Vp=Zo=0,Er=uh=null,Lo!==null){for(e=0;e<Lo.length;e++)if(r=Lo[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=i,n.next=o}r.pending=n}Lo=null}return t}function fP(t,e){do{var r=Rt;try{if(c1(),lf.current=Qf,Kf){for(var n=gt.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Kf=!1}if(qo=0,Gt=Dt=gt=null,ah=!1,kh=0,E1.current=null,r===null||r.return===null){Nt=1,Fh=e,Rt=null;break}e:{var s=t,o=r.return,a=r,h=e;if(e=Jt,a.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){var c=h,d=a,p=d.tag;if(!(d.mode&1)&&(p===0||p===11||p===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=nS(o);if(y!==null){y.flags&=-257,iS(y,o,a,s,e),y.mode&1&&rS(s,c,e),e=y,h=c;var _=e.updateQueue;if(_===null){var S=new Set;S.add(h),e.updateQueue=S}else _.add(h);break e}else{if(!(e&1)){rS(s,c,e),I1();break e}h=Error(K(426))}}else if(ut&&a.mode&1){var A=nS(o);if(A!==null){!(A.flags&65536)&&(A.flags|=256),iS(A,o,a,s,e),u1(Ol(h,a));break e}}s=h=Ol(h,a),Nt!==4&&(Nt=2),uh===null?uh=[s]:uh.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var E=QC(s,h,e);Qb(s,E);break e;case 1:a=h;var b=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof b.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Ks===null||!Ks.has(x)))){s.flags|=65536,e&=-e,s.lanes|=e;var T=qC(s,a,e);Qb(s,T);break e}}s=s.return}while(s!==null)}gP(r)}catch(P){e=P,Rt===r&&r!==null&&(Rt=r=r.return);continue}break}while(!0)}function pP(){var t=qf.current;return qf.current=Qf,t===null?Qf:t}function I1(){(Nt===0||Nt===3||Nt===2)&&(Nt=4),Wt===null||!(Zo&268435455)&&!(Vp&268435455)||Fs(Wt,Jt)}function ep(t,e){var r=Ue;Ue|=2;var n=pP();(Wt!==t||Jt!==e)&&(ji=null,$o(t,e));do try{kD();break}catch(i){fP(t,i)}while(!0);if(c1(),Ue=r,qf.current=n,Rt!==null)throw Error(K(261));return Wt=null,Jt=0,Nt}function kD(){for(;Rt!==null;)mP(Rt)}function DD(){for(;Rt!==null&&!sk();)mP(Rt)}function mP(t){var e=yP(t.alternate,t,Lr);t.memoizedProps=t.pendingProps,e===null?gP(t):Rt=e,E1.current=null}function gP(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=CD(r,e),r!==null){r.flags&=32767,Rt=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Nt=6,Rt=null;return}}else if(r=AD(r,e,Lr),r!==null){Rt=r;return}if(e=e.sibling,e!==null){Rt=e;return}Rt=e=t}while(e!==null);Nt===0&&(Nt=5)}function Po(t,e,r){var n=Ye,i=vn.transition;try{vn.transition=null,Ye=1,ND(t,e,r,n)}finally{vn.transition=i,Ye=n}return null}function ND(t,e,r,n){do vl();while(Us!==null);if(Ue&6)throw Error(K(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(K(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(mk(t,s),t===Wt&&(Rt=Wt=null,Jt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||yd||(yd=!0,_P(Nf,function(){return vl(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=vn.transition,vn.transition=null;var o=Ye;Ye=1;var a=Ue;Ue|=4,E1.current=null,ID(t,r),hP(r,t),tD(Vy),Bf=!!Wy,Vy=Wy=null,t.current=r,RD(r),ok(),Ue=a,Ye=o,vn.transition=s}else t.current=r;if(yd&&(yd=!1,Us=t,Jf=i),s=t.pendingLanes,s===0&&(Ks=null),uk(r.stateNode),Rr(t,Tt()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Zf)throw Zf=!1,t=d0,d0=null,t;return Jf&1&&t.tag!==0&&vl(),s=t.pendingLanes,s&1?t===f0?hh++:(hh=0,f0=t):hh=0,lo(),null}function vl(){if(Us!==null){var t=QA(Jf),e=vn.transition,r=Ye;try{if(vn.transition=null,Ye=16>t?16:t,Us===null)var n=!1;else{if(t=Us,Us=null,Jf=0,Ue&6)throw Error(K(331));var i=Ue;for(Ue|=4,ue=t.current;ue!==null;){var s=ue,o=s.child;if(ue.flags&16){var a=s.deletions;if(a!==null){for(var h=0;h<a.length;h++){var c=a[h];for(ue=c;ue!==null;){var d=ue;switch(d.tag){case 0:case 11:case 15:lh(8,d,s)}var p=d.child;if(p!==null)p.return=d,ue=p;else for(;ue!==null;){d=ue;var m=d.sibling,y=d.return;if(aP(d),d===c){ue=null;break}if(m!==null){m.return=y,ue=m;break}ue=y}}}var _=s.alternate;if(_!==null){var S=_.child;if(S!==null){_.child=null;do{var A=S.sibling;S.sibling=null,S=A}while(S!==null)}}ue=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ue=o;else e:for(;ue!==null;){if(s=ue,s.flags&2048)switch(s.tag){case 0:case 11:case 15:lh(9,s,s.return)}var E=s.sibling;if(E!==null){E.return=s.return,ue=E;break e}ue=s.return}}var b=t.current;for(ue=b;ue!==null;){o=ue;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,ue=x;else e:for(o=b;ue!==null;){if(a=ue,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Wp(9,a)}}catch(P){xt(a,a.return,P)}if(a===o){ue=null;break e}var T=a.sibling;if(T!==null){T.return=a.return,ue=T;break e}ue=a.return}}if(Ue=i,lo(),Si&&typeof Si.onPostCommitFiberRoot=="function")try{Si.onPostCommitFiberRoot(Bp,t)}catch{}n=!0}return n}finally{Ye=r,vn.transition=e}}return!1}function vS(t,e,r){e=Ol(r,e),e=QC(t,e,1),t=Ys(t,e,1),e=vr(),t!==null&&(Jh(t,1,e),Rr(t,e))}function xt(t,e,r){if(t.tag===3)vS(t,t,r);else for(;e!==null;){if(e.tag===3){vS(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ks===null||!Ks.has(n))){t=Ol(r,t),t=qC(e,t,1),e=Ys(e,t,1),t=vr(),e!==null&&(Jh(e,1,t),Rr(e,t));break}}e=e.return}}function FD(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=vr(),t.pingedLanes|=t.suspendedLanes&r,Wt===t&&(Jt&r)===r&&(Nt===4||Nt===3&&(Jt&130023424)===Jt&&500>Tt()-A1?$o(t,0):T1|=r),Rr(t,e)}function vP(t,e){e===0&&(t.mode&1?(e=ld,ld<<=1,!(ld&130023424)&&(ld=4194304)):e=1);var r=vr();t=as(t,e),t!==null&&(Jh(t,e,r),Rr(t,r))}function BD(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),vP(t,r)}function LD(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(K(314))}n!==null&&n.delete(e),vP(t,r)}var yP;yP=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Pr.current)Ar=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Ar=!1,TD(t,e,r);Ar=!!(t.flags&131072)}else Ar=!1,ut&&e.flags&1048576&&bC(e,jf,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;hf(t,e),t=e.pendingProps;var i=Cl(e,ur.current);gl(e,r),i=_1(null,e,n,t,i,r);var s=x1();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ir(n)?(s=!0,Gf(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,p1(e),i.updater=jp,e.stateNode=i,i._reactInternals=e,t0(e,n,t,r),e=i0(null,e,n,!0,s,r)):(e.tag=0,ut&&s&&a1(e),mr(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(hf(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=zD(n),t=kn(n,t),i){case 0:e=n0(null,e,n,t,r);break e;case 1:e=aS(null,e,n,t,r);break e;case 11:e=sS(null,e,n,t,r);break e;case 14:e=oS(null,e,n,kn(n.type,t),r);break e}throw Error(K(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:kn(n,i),n0(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:kn(n,i),aS(t,e,n,i,r);case 3:e:{if(tP(e),t===null)throw Error(K(387));n=e.pendingProps,s=e.memoizedState,i=s.element,PC(t,e),Xf(e,n,null,r);var o=e.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Ol(Error(K(423)),e),e=lS(t,e,n,r,i);break e}else if(n!==i){i=Ol(Error(K(424)),e),e=lS(t,e,n,r,i);break e}else for($r=Xs(e.stateNode.containerInfo.firstChild),Gr=e,ut=!0,Nn=null,r=AC(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Pl(),n===i){e=ls(t,e,r);break e}mr(t,e,n,r)}e=e.child}return e;case 5:return IC(e),t===null&&Zy(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Xy(n,i)?o=null:s!==null&&Xy(n,s)&&(e.flags|=32),eP(t,e),mr(t,e,o,r),e.child;case 6:return t===null&&Zy(e),null;case 13:return rP(t,e,r);case 4:return m1(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Il(e,null,n,r):mr(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:kn(n,i),sS(t,e,n,i,r);case 7:return mr(t,e,e.pendingProps,r),e.child;case 8:return mr(t,e,e.pendingProps.children,r),e.child;case 12:return mr(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,qe(Wf,n._currentValue),n._currentValue=o,s!==null)if(Vn(s.value,o)){if(s.children===i.children&&!Pr.current){e=ls(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var h=a.firstContext;h!==null;){if(h.context===n){if(s.tag===1){h=es(-1,r&-r),h.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?h.next=h:(h.next=d.next,d.next=h),c.pending=h}}s.lanes|=r,h=s.alternate,h!==null&&(h.lanes|=r),Jy(s.return,r,e),a.lanes|=r;break}h=h.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(K(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),Jy(o,r,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}mr(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,gl(e,r),i=yn(i),n=n(i),e.flags|=1,mr(t,e,n,r),e.child;case 14:return n=e.type,i=kn(n,e.pendingProps),i=kn(n.type,i),oS(t,e,n,i,r);case 15:return ZC(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:kn(n,i),hf(t,e),e.tag=1,Ir(n)?(t=!0,Gf(e)):t=!1,gl(e,r),KC(e,n,i),t0(e,n,i,r),i0(null,e,n,!0,t,r);case 19:return nP(t,e,r);case 22:return JC(t,e,r)}throw Error(K(156,e.tag))};function _P(t,e){return VA(t,e)}function UD(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dn(t,e,r,n){return new UD(t,e,r,n)}function R1(t){return t=t.prototype,!(!t||!t.isReactComponent)}function zD(t){if(typeof t=="function")return R1(t)?1:0;if(t!=null){if(t=t.$$typeof,t===K_)return 11;if(t===Q_)return 14}return 2}function qs(t,e){var r=t.alternate;return r===null?(r=dn(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function ff(t,e,r,n,i,s){var o=2;if(n=t,typeof t=="function")R1(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ka:return Go(r.children,i,s,e);case Y_:o=8,i|=8;break;case Ty:return t=dn(12,r,e,i|2),t.elementType=Ty,t.lanes=s,t;case Ay:return t=dn(13,r,e,i),t.elementType=Ay,t.lanes=s,t;case Cy:return t=dn(19,r,e,i),t.elementType=Cy,t.lanes=s,t;case IA:return Xp(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case CA:o=10;break e;case PA:o=9;break e;case K_:o=11;break e;case Q_:o=14;break e;case Os:o=16,n=null;break e}throw Error(K(130,t==null?t:typeof t,""))}return e=dn(o,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function Go(t,e,r,n){return t=dn(7,t,n,e),t.lanes=r,t}function Xp(t,e,r,n){return t=dn(22,t,n,e),t.elementType=IA,t.lanes=r,t.stateNode={isHidden:!1},t}function _v(t,e,r){return t=dn(6,t,null,e),t.lanes=r,t}function xv(t,e,r){return e=dn(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function $D(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ev(0),this.expirationTimes=ev(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ev(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function O1(t,e,r,n,i,s,o,a,h){return t=new $D(t,e,r,a,h),e===1?(e=1,s===!0&&(e|=8)):e=0,s=dn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},p1(s),t}function GD(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ya,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function xP(t){if(!t)return to;t=t._reactInternals;e:{if(aa(t)!==t||t.tag!==1)throw Error(K(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ir(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(K(171))}if(t.tag===1){var r=t.type;if(Ir(r))return xC(t,r,e)}return e}function wP(t,e,r,n,i,s,o,a,h){return t=O1(r,n,!0,t,i,s,o,a,h),t.context=xP(null),r=t.current,n=vr(),i=Qs(r),s=es(n,i),s.callback=e??null,Ys(r,s,i),t.current.lanes=i,Jh(t,i,n),Rr(t,n),t}function Yp(t,e,r,n){var i=e.current,s=vr(),o=Qs(i);return r=xP(r),e.context===null?e.context=r:e.pendingContext=r,e=es(s,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Ys(i,e,o),t!==null&&(zn(t,i,o,s),af(t,i,o)),o}function tp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function yS(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function M1(t,e){yS(t,e),(t=t.alternate)&&yS(t,e)}function HD(){return null}var bP=typeof reportError=="function"?reportError:function(t){console.error(t)};function k1(t){this._internalRoot=t}Kp.prototype.render=k1.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(K(409));Yp(t,e,null,null)};Kp.prototype.unmount=k1.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Jo(function(){Yp(null,t,null,null)}),e[os]=null}};function Kp(t){this._internalRoot=t}Kp.prototype.unstable_scheduleHydration=function(t){if(t){var e=JA();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Ns.length&&e!==0&&e<Ns[r].priority;r++);Ns.splice(r,0,t),r===0&&tC(t)}};function D1(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Qp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function _S(){}function jD(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var c=tp(o);s.call(c)}}var o=wP(e,n,t,0,null,!1,!1,"",_S);return t._reactRootContainer=o,t[os]=o.current,Ph(t.nodeType===8?t.parentNode:t),Jo(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var a=n;n=function(){var c=tp(h);a.call(c)}}var h=O1(t,0,!1,null,null,!1,!1,"",_S);return t._reactRootContainer=h,t[os]=h.current,Ph(t.nodeType===8?t.parentNode:t),Jo(function(){Yp(e,h,r,n)}),h}function qp(t,e,r,n,i){var s=r._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var h=tp(o);a.call(h)}}Yp(e,o,t,i)}else o=jD(r,e,t,i,n);return tp(o)}qA=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=ju(e.pendingLanes);r!==0&&(J_(e,r|1),Rr(e,Tt()),!(Ue&6)&&(Ml=Tt()+500,lo()))}break;case 13:Jo(function(){var n=as(t,1);if(n!==null){var i=vr();zn(n,t,1,i)}}),M1(t,1)}};e1=function(t){if(t.tag===13){var e=as(t,134217728);if(e!==null){var r=vr();zn(e,t,134217728,r)}M1(t,134217728)}};ZA=function(t){if(t.tag===13){var e=Qs(t),r=as(t,e);if(r!==null){var n=vr();zn(r,t,e,n)}M1(t,e)}};JA=function(){return Ye};eC=function(t,e){var r=Ye;try{return Ye=t,e()}finally{Ye=r}};By=function(t,e,r){switch(e){case"input":if(Ry(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=$p(n);if(!i)throw Error(K(90));OA(n),Ry(n,i)}}}break;case"textarea":kA(t,r);break;case"select":e=r.value,e!=null&&dl(t,!!r.multiple,e,!1)}};zA=C1;$A=Jo;var WD={usingClientEntryPoint:!1,Events:[tc,Ja,$p,LA,UA,C1]},Du={findFiberByHostInstance:Bo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},VD={bundleType:Du.bundleType,version:Du.version,rendererPackageName:Du.rendererPackageName,rendererConfig:Du.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:fs.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=jA(t),t===null?null:t.stateNode},findFiberByHostInstance:Du.findFiberByHostInstance||HD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _d=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_d.isDisabled&&_d.supportsFiber)try{Bp=_d.inject(VD),Si=_d}catch{}}Wr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=WD;Wr.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!D1(e))throw Error(K(200));return GD(t,e,null,r)};Wr.createRoot=function(t,e){if(!D1(t))throw Error(K(299));var r=!1,n="",i=bP;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=O1(t,1,!1,null,null,r,!1,n,i),t[os]=e.current,Ph(t.nodeType===8?t.parentNode:t),new k1(e)};Wr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(K(188)):(t=Object.keys(t).join(","),Error(K(268,t)));return t=jA(e),t=t===null?null:t.stateNode,t};Wr.flushSync=function(t){return Jo(t)};Wr.hydrate=function(t,e,r){if(!Qp(e))throw Error(K(200));return qp(null,t,e,!0,r)};Wr.hydrateRoot=function(t,e,r){if(!D1(t))throw Error(K(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",o=bP;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=wP(e,null,t,1,r??null,i,!1,s,o),t[os]=e.current,Ph(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new Kp(e)};Wr.render=function(t,e,r){if(!Qp(e))throw Error(K(200));return qp(null,t,e,!1,r)};Wr.unmountComponentAtNode=function(t){if(!Qp(t))throw Error(K(40));return t._reactRootContainer?(Jo(function(){qp(null,null,t,!1,function(){t._reactRootContainer=null,t[os]=null})}),!0):!1};Wr.unstable_batchedUpdates=C1;Wr.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Qp(r))throw Error(K(200));if(t==null||t._reactInternals===void 0)throw Error(K(38));return qp(t,e,r,!1,n)};Wr.version="18.3.1-next-f1338f8080-20240426";function SP(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(SP)}catch(t){console.error(t)}}SP(),SA.exports=Wr;var EP=SA.exports,xS=EP;Sy.createRoot=xS.createRoot,Sy.hydrateRoot=xS.hydrateRoot;function ze(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];throw new Error(typeof t=="number"?"[MobX] minified error nr: "+t+(r.length?" "+r.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+t)}var XD={};function N1(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:XD}var TP=Object.assign,rp=Object.getOwnPropertyDescriptor,Ti=Object.defineProperty,Zp=Object.prototype,g0=[];Object.freeze(g0);var AP={};Object.freeze(AP);var YD=typeof Proxy<"u",KD=Object.toString();function CP(){YD||ze("Proxy not available")}function PP(t){var e=!1;return function(){if(!e)return e=!0,t.apply(this,arguments)}}var ol=function(){};function Xn(t){return typeof t=="function"}function ea(t){var e=typeof t;switch(e){case"string":case"symbol":case"number":return!0}return!1}function Jp(t){return t!==null&&typeof t=="object"}function ro(t){if(!Jp(t))return!1;var e=Object.getPrototypeOf(t);if(e==null)return!0;var r=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r.toString()===KD}function IP(t){var e=t==null?void 0:t.constructor;return e?e.name==="GeneratorFunction"||e.displayName==="GeneratorFunction":!1}function em(t,e,r){Ti(t,e,{enumerable:!1,writable:!0,configurable:!0,value:r})}function RP(t,e,r){Ti(t,e,{enumerable:!1,writable:!1,configurable:!0,value:r})}function la(t,e){var r="isMobX"+t;return e.prototype[r]=!0,function(n){return Jp(n)&&n[r]===!0}}function Yl(t){return t!=null&&Object.prototype.toString.call(t)==="[object Map]"}function QD(t){var e=Object.getPrototypeOf(t),r=Object.getPrototypeOf(e),n=Object.getPrototypeOf(r);return n===null}function Xi(t){return t!=null&&Object.prototype.toString.call(t)==="[object Set]"}var OP=typeof Object.getOwnPropertySymbols<"u";function qD(t){var e=Object.keys(t);if(!OP)return e;var r=Object.getOwnPropertySymbols(t);return r.length?[].concat(e,r.filter(function(n){return Zp.propertyIsEnumerable.call(t,n)})):e}var tm=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:OP?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames;function MP(t){return t===null?null:typeof t=="object"?""+t:t}function ts(t,e){return Zp.hasOwnProperty.call(t,e)}var ZD=Object.getOwnPropertyDescriptors||function(e){var r={};return tm(e).forEach(function(n){r[n]=rp(e,n)}),r};function Ur(t,e){return!!(t&e)}function zr(t,e,r){return r?t|=e:t&=~e,t}function wS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function JD(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,tN(n.key),n)}}function Kl(t,e,r){return e&&JD(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function al(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=rN(t))||e){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ta(){return ta=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ta.apply(null,arguments)}function kP(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,v0(t,e)}function v0(t,e){return v0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},v0(t,e)}function eN(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function tN(t){var e=eN(t,"string");return typeof e=="symbol"?e:e+""}function rN(t,e){if(t){if(typeof t=="string")return wS(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?wS(t,e):void 0}}var wi=Symbol("mobx-stored-annotations");function Ai(t){function e(r,n){if(nc(n))return t.decorate_20223_(r,n);Ql(r,n,t)}return Object.assign(e,t)}function Ql(t,e,r){ts(t,wi)||em(t,wi,ta({},t[wi])),cN(r)||(t[wi][e]=r)}function nN(t){return ts(t,wi)||em(t,wi,ta({},t[wi])),t[wi]}function nc(t){return typeof t=="object"&&typeof t.kind=="string"}var Se=Symbol("mobx administration"),uo=function(){function t(r){r===void 0&&(r="Atom"),this.name_=void 0,this.flags_=0,this.observers_=new Set,this.lastAccessedBy_=0,this.lowestObserverState_=je.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=r}var e=t.prototype;return e.onBO=function(){this.onBOL&&this.onBOL.forEach(function(n){return n()})},e.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(n){return n()})},e.reportObserved=function(){return KP(this)},e.reportChanged=function(){fn(),QP(this),pn()},e.toString=function(){return this.name_},Kl(t,[{key:"isBeingObserved",get:function(){return Ur(this.flags_,t.isBeingObservedMask_)},set:function(n){this.flags_=zr(this.flags_,t.isBeingObservedMask_,n)}},{key:"isPendingUnobservation",get:function(){return Ur(this.flags_,t.isPendingUnobservationMask_)},set:function(n){this.flags_=zr(this.flags_,t.isPendingUnobservationMask_,n)}},{key:"diffValue",get:function(){return Ur(this.flags_,t.diffValueMask_)?1:0},set:function(n){this.flags_=zr(this.flags_,t.diffValueMask_,n===1)}}])}();uo.isBeingObservedMask_=1;uo.isPendingUnobservationMask_=2;uo.diffValueMask_=4;var F1=la("Atom",uo);function DP(t,e,r){e===void 0&&(e=ol),r===void 0&&(r=ol);var n=new uo(t);return e!==ol&&m3(n,e),r!==ol&&tI(n,r),n}function iN(t,e){return t===e}function sN(t,e){return H1(t,e)}function oN(t,e){return H1(t,e,1)}function aN(t,e){return Object.is?Object.is(t,e):t===e?t!==0||1/t===1/e:t!==t&&e!==e}var np={identity:iN,structural:sN,default:aN,shallow:oN};function ra(t,e,r){return iI(t)?t:Array.isArray(t)?At.array(t,{name:r}):ro(t)?At.object(t,void 0,{name:r}):Yl(t)?At.map(t,{name:r}):Xi(t)?At.set(t,{name:r}):typeof t=="function"&&!om(t)&&!Lh(t)?IP(t)?kl(t):Bh(r,t):t}function lN(t,e,r){if(t==null||lm(t)||am(t)||ha(t)||ql(t))return t;if(Array.isArray(t))return At.array(t,{name:r,deep:!1});if(ro(t))return At.object(t,void 0,{name:r,deep:!1});if(Yl(t))return At.map(t,{name:r,deep:!1});if(Xi(t))return At.set(t,{name:r,deep:!1})}function rm(t){return t}function uN(t,e){return H1(t,e)?e:t}var hN="override";function cN(t){return t.annotationType_===hN}function ic(t,e){return{annotationType_:t,options_:e,make_:dN,extend_:fN,decorate_20223_:pN}}function dN(t,e,r,n){var i;if((i=this.options_)!=null&&i.bound)return this.extend_(t,e,r,!1)===null?0:1;if(n===t.target_)return this.extend_(t,e,r,!1)===null?0:2;if(om(r.value))return 1;var s=NP(t,this,e,r,!1);return Ti(n,e,s),2}function fN(t,e,r,n){var i=NP(t,this,e,r);return t.defineProperty_(e,i,n)}function pN(t,e){var r=e.kind,n=e.name,i=e.addInitializer,s=this,o=function(c){var d,p,m,y;return na((d=(p=s.options_)==null?void 0:p.name)!=null?d:n.toString(),c,(m=(y=s.options_)==null?void 0:y.autoAction)!=null?m:!1)};if(r=="field"){i(function(){Ql(this,n,s)});return}if(r=="method"){var a;return om(t)||(t=o(t)),(a=this.options_)!=null&&a.bound&&i(function(){var h=this,c=h[n].bind(h);c.isMobxAction=!0,h[n]=c}),t}ze("Cannot apply '"+s.annotationType_+"' to '"+String(n)+"' (kind: "+r+"):"+(`
'`+s.annotationType_+"' can only be used on properties with a function value."))}function mN(t,e,r,n){e.annotationType_,n.value}function NP(t,e,r,n,i){var s,o,a,h,c,d,p;i===void 0&&(i=ee.safeDescriptors),mN(t,e,r,n);var m=n.value;if((s=e.options_)!=null&&s.bound){var y;m=m.bind((y=t.proxy_)!=null?y:t.target_)}return{value:na((o=(a=e.options_)==null?void 0:a.name)!=null?o:r.toString(),m,(h=(c=e.options_)==null?void 0:c.autoAction)!=null?h:!1,(d=e.options_)!=null&&d.bound?(p=t.proxy_)!=null?p:t.target_:void 0),configurable:i?t.isPlainObject_:!0,enumerable:!1,writable:!i}}function FP(t,e){return{annotationType_:t,options_:e,make_:gN,extend_:vN,decorate_20223_:yN}}function gN(t,e,r,n){var i;if(n===t.target_)return this.extend_(t,e,r,!1)===null?0:2;if((i=this.options_)!=null&&i.bound&&(!ts(t.target_,e)||!Lh(t.target_[e]))&&this.extend_(t,e,r,!1)===null)return 0;if(Lh(r.value))return 1;var s=BP(t,this,e,r,!1,!1);return Ti(n,e,s),2}function vN(t,e,r,n){var i,s=BP(t,this,e,r,(i=this.options_)==null?void 0:i.bound);return t.defineProperty_(e,s,n)}function yN(t,e){var r,n=e.name,i=e.addInitializer;return Lh(t)||(t=kl(t)),(r=this.options_)!=null&&r.bound&&i(function(){var s=this,o=s[n].bind(s);o.isMobXFlow=!0,s[n]=o}),t}function _N(t,e,r,n){e.annotationType_,n.value}function BP(t,e,r,n,i,s){s===void 0&&(s=ee.safeDescriptors),_N(t,e,r,n);var o=n.value;if(Lh(o)||(o=kl(o)),i){var a;o=o.bind((a=t.proxy_)!=null?a:t.target_),o.isMobXFlow=!0}return{value:o,configurable:s?t.isPlainObject_:!0,enumerable:!1,writable:!s}}function B1(t,e){return{annotationType_:t,options_:e,make_:xN,extend_:wN,decorate_20223_:bN}}function xN(t,e,r){return this.extend_(t,e,r,!1)===null?0:1}function wN(t,e,r,n){return SN(t,this,e,r),t.defineComputedProperty_(e,ta({},this.options_,{get:r.get,set:r.set}),n)}function bN(t,e){var r=this,n=e.name,i=e.addInitializer;return i(function(){var s=Zl(this)[Se],o=ta({},r.options_,{get:t,context:this});o.name||(o.name="ObservableObject."+n.toString()),s.values_.set(n,new Yn(o))}),function(){return this[Se].getObservablePropValue_(n)}}function SN(t,e,r,n){e.annotationType_,n.get}function nm(t,e){return{annotationType_:t,options_:e,make_:EN,extend_:TN,decorate_20223_:AN}}function EN(t,e,r){return this.extend_(t,e,r,!1)===null?0:1}function TN(t,e,r,n){var i,s;return CN(t,this),t.defineObservableProperty_(e,r.value,(i=(s=this.options_)==null?void 0:s.enhancer)!=null?i:ra,n)}function AN(t,e){var r=this,n=e.kind,i=e.name,s=new WeakSet;function o(a,h){var c,d,p=Zl(a)[Se],m=new Ho(h,(c=(d=r.options_)==null?void 0:d.enhancer)!=null?c:ra,"ObservableObject."+i.toString(),!1);p.values_.set(i,m),s.add(a)}if(n=="accessor")return{get:function(){return s.has(this)||o(this,t.get.call(this)),this[Se].getObservablePropValue_(i)},set:function(h){return s.has(this)||o(this,h),this[Se].setObservablePropValue_(i,h)},init:function(h){return s.has(this)||o(this,h),h}}}function CN(t,e,r,n){e.annotationType_}var PN="true",IN=LP();function LP(t){return{annotationType_:PN,options_:t,make_:RN,extend_:ON,decorate_20223_:MN}}function RN(t,e,r,n){var i,s;if(r.get)return im.make_(t,e,r,n);if(r.set){var o=na(e.toString(),r.set);return n===t.target_?t.defineProperty_(e,{configurable:ee.safeDescriptors?t.isPlainObject_:!0,set:o})===null?0:2:(Ti(n,e,{configurable:!0,set:o}),2)}if(n!==t.target_&&typeof r.value=="function"){var a;if(IP(r.value)){var h,c=(h=this.options_)!=null&&h.autoBind?kl.bound:kl;return c.make_(t,e,r,n)}var d=(a=this.options_)!=null&&a.autoBind?Bh.bound:Bh;return d.make_(t,e,r,n)}var p=((i=this.options_)==null?void 0:i.deep)===!1?At.ref:At;if(typeof r.value=="function"&&(s=this.options_)!=null&&s.autoBind){var m;r.value=r.value.bind((m=t.proxy_)!=null?m:t.target_)}return p.make_(t,e,r,n)}function ON(t,e,r,n){var i,s;if(r.get)return im.extend_(t,e,r,n);if(r.set)return t.defineProperty_(e,{configurable:ee.safeDescriptors?t.isPlainObject_:!0,set:na(e.toString(),r.set)},n);if(typeof r.value=="function"&&(i=this.options_)!=null&&i.autoBind){var o;r.value=r.value.bind((o=t.proxy_)!=null?o:t.target_)}var a=((s=this.options_)==null?void 0:s.deep)===!1?At.ref:At;return a.extend_(t,e,r,n)}function MN(t,e){ze("'"+this.annotationType_+"' cannot be used as a decorator")}var kN="observable",DN="observable.ref",NN="observable.shallow",FN="observable.struct",UP={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(UP);function xd(t){return t||UP}var y0=nm(kN),BN=nm(DN,{enhancer:rm}),LN=nm(NN,{enhancer:lN}),UN=nm(FN,{enhancer:uN}),zP=Ai(y0);function wd(t){return t.deep===!0?ra:t.deep===!1?rm:$N(t.defaultDecorator)}function zN(t){var e;return t?(e=t.defaultDecorator)!=null?e:LP(t):void 0}function $N(t){var e,r;return t&&(e=(r=t.options_)==null?void 0:r.enhancer)!=null?e:ra}function $P(t,e,r){if(nc(e))return y0.decorate_20223_(t,e);if(ea(e)){Ql(t,e,y0);return}return iI(t)?t:ro(t)?At.object(t,e,r):Array.isArray(t)?At.array(t,e):Yl(t)?At.map(t,e):Xi(t)?At.set(t,e):typeof t=="object"&&t!==null?t:At.box(t,e)}TP($P,zP);var GN={box:function(e,r){var n=xd(r);return new Ho(e,wd(n),n.name,!0,n.equals)},array:function(e,r){var n=xd(r);return(ee.useProxies===!1||n.proxy===!1?L3:P3)(e,wd(n),n.name)},map:function(e,r){var n=xd(r);return new oI(e,wd(n),n.name)},set:function(e,r){var n=xd(r);return new aI(e,wd(n),n.name)},object:function(e,r,n){return ca(function(){return _3(ee.useProxies===!1||(n==null?void 0:n.proxy)===!1?Zl({},n):E3({},n),e,r)})},ref:Ai(BN),shallow:Ai(LN),deep:zP,struct:Ai(UN)},At=TP($P,GN),GP="computed",HN="computed.struct",_0=B1(GP),jN=B1(HN,{equals:np.structural}),im=function(e,r){if(nc(r))return _0.decorate_20223_(e,r);if(ea(r))return Ql(e,r,_0);if(ro(e))return Ai(B1(GP,e));var n=ro(r)?r:{};return n.get=e,n.name||(n.name=e.name||""),new Yn(n)};Object.assign(im,_0);im.struct=Ai(jN);var bS,SS,ip=0,WN=1,VN=(bS=(SS=rp(function(){},"name"))==null?void 0:SS.configurable)!=null?bS:!1,ES={value:"action",configurable:!0,writable:!1,enumerable:!1};function na(t,e,r,n){r===void 0&&(r=!1);function i(){return XN(t,r,e,n||this,arguments)}return i.isMobxAction=!0,i.toString=function(){return e.toString()},VN&&(ES.value=t,Ti(i,"name",ES)),i}function XN(t,e,r,n,i){var s=YN(t,e);try{return r.apply(n,i)}catch(o){throw s.error_=o,o}finally{KN(s)}}function YN(t,e,r,n){var i=!1,s=0,o=ee.trackingDerivation,a=!e||!o;fn();var h=ee.allowStateChanges;a&&(ua(),h=L1(!0));var c=z1(!0),d={runAsAction_:a,prevDerivation_:o,prevAllowStateChanges_:h,prevAllowStateReads_:c,notifySpy_:i,startTime_:s,actionId_:WN++,parentActionId_:ip};return ip=d.actionId_,d}function KN(t){ip!==t.actionId_&&ze(30),ip=t.parentActionId_,t.error_!==void 0&&(ee.suppressReactionErrors=!0),U1(t.prevAllowStateChanges_),ch(t.prevAllowStateReads_),pn(),t.runAsAction_&&rs(t.prevDerivation_),ee.suppressReactionErrors=!1}function L1(t){var e=ee.allowStateChanges;return ee.allowStateChanges=t,e}function U1(t){ee.allowStateChanges=t}var Ho=function(t){function e(n,i,s,o,a){var h;return s===void 0&&(s="ObservableValue"),a===void 0&&(a=np.default),h=t.call(this,s)||this,h.enhancer=void 0,h.name_=void 0,h.equals=void 0,h.hasUnreportedChange_=!1,h.interceptors_=void 0,h.changeListeners_=void 0,h.value_=void 0,h.dehancer=void 0,h.enhancer=i,h.name_=s,h.equals=a,h.value_=i(n,void 0,s),h}kP(e,t);var r=e.prototype;return r.dehanceValue=function(i){return this.dehancer!==void 0?this.dehancer(i):i},r.set=function(i){this.value_,i=this.prepareNewValue_(i),i!==ee.UNCHANGED&&this.setNewValue_(i)},r.prepareNewValue_=function(i){if(un(this)){var s=hn(this,{object:this,type:Ci,newValue:i});if(!s)return ee.UNCHANGED;i=s.newValue}return i=this.enhancer(i,this.value_,this.name_),this.equals(this.value_,i)?ee.UNCHANGED:i},r.setNewValue_=function(i){var s=this.value_;this.value_=i,this.reportChanged(),$n(this)&&Gn(this,{type:Ci,object:this,newValue:i,oldValue:s})},r.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},r.intercept_=function(i){return sc(this,i)},r.observe_=function(i,s){return s&&i({observableKind:"value",debugObjectName:this.name_,object:this,type:Ci,newValue:this.value_,oldValue:void 0}),oc(this,i)},r.raw=function(){return this.value_},r.toJSON=function(){return this.get()},r.toString=function(){return this.name_+"["+this.value_+"]"},r.valueOf=function(){return MP(this.get())},r[Symbol.toPrimitive]=function(){return this.valueOf()},e}(uo),Yn=function(){function t(r){this.dependenciesState_=je.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.observers_=new Set,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=je.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new op(null),this.name_=void 0,this.triggeredBy_=void 0,this.flags_=0,this.derivation=void 0,this.setter_=void 0,this.isTracing_=sp.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,r.get||ze(31),this.derivation=r.get,this.name_=r.name||"ComputedValue",r.set&&(this.setter_=na("ComputedValue-setter",r.set)),this.equals_=r.equals||(r.compareStructural||r.struct?np.structural:np.default),this.scope_=r.context,this.requiresReaction_=r.requiresReaction,this.keepAlive_=!!r.keepAlive}var e=t.prototype;return e.onBecomeStale_=function(){e3(this)},e.onBO=function(){this.onBOL&&this.onBOL.forEach(function(n){return n()})},e.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(n){return n()})},e.get=function(){if(this.isComputing&&ze(32,this.name_,this.derivation),ee.inBatch===0&&this.observers_.size===0&&!this.keepAlive_)x0(this)&&(this.warnAboutUntrackedRead_(),fn(),this.value_=this.computeValue_(!1),pn());else if(KP(this),x0(this)){var n=ee.trackingContext;this.keepAlive_&&!n&&(ee.trackingContext=this),this.trackAndCompute()&&JN(this),ee.trackingContext=n}var i=this.value_;if(pf(i))throw i.cause;return i},e.set=function(n){if(this.setter_){this.isRunningSetter&&ze(33,this.name_),this.isRunningSetter=!0;try{this.setter_.call(this.scope_,n)}finally{this.isRunningSetter=!1}}else ze(34,this.name_)},e.trackAndCompute=function(){var n=this.value_,i=this.dependenciesState_===je.NOT_TRACKING_,s=this.computeValue_(!0),o=i||pf(n)||pf(s)||!this.equals_(n,s);return o&&(this.value_=s),o},e.computeValue_=function(n){this.isComputing=!0;var i=L1(!1),s;if(n)s=HP(this,this.derivation,this.scope_);else if(ee.disableErrorBoundaries===!0)s=this.derivation.call(this.scope_);else try{s=this.derivation.call(this.scope_)}catch(o){s=new op(o)}return U1(i),this.isComputing=!1,s},e.suspend_=function(){this.keepAlive_||(w0(this),this.value_=void 0)},e.observe_=function(n,i){var s=this,o=!0,a=void 0;return h3(function(){var h=s.get();if(!o||i){var c=ua();n({observableKind:"computed",debugObjectName:s.name_,type:Ci,object:s,newValue:h,oldValue:a}),rs(c)}o=!1,a=h})},e.warnAboutUntrackedRead_=function(){},e.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},e.valueOf=function(){return MP(this.get())},e[Symbol.toPrimitive]=function(){return this.valueOf()},Kl(t,[{key:"isComputing",get:function(){return Ur(this.flags_,t.isComputingMask_)},set:function(n){this.flags_=zr(this.flags_,t.isComputingMask_,n)}},{key:"isRunningSetter",get:function(){return Ur(this.flags_,t.isRunningSetterMask_)},set:function(n){this.flags_=zr(this.flags_,t.isRunningSetterMask_,n)}},{key:"isBeingObserved",get:function(){return Ur(this.flags_,t.isBeingObservedMask_)},set:function(n){this.flags_=zr(this.flags_,t.isBeingObservedMask_,n)}},{key:"isPendingUnobservation",get:function(){return Ur(this.flags_,t.isPendingUnobservationMask_)},set:function(n){this.flags_=zr(this.flags_,t.isPendingUnobservationMask_,n)}},{key:"diffValue",get:function(){return Ur(this.flags_,t.diffValueMask_)?1:0},set:function(n){this.flags_=zr(this.flags_,t.diffValueMask_,n===1)}}])}();Yn.isComputingMask_=1;Yn.isRunningSetterMask_=2;Yn.isBeingObservedMask_=4;Yn.isPendingUnobservationMask_=8;Yn.diffValueMask_=16;var sm=la("ComputedValue",Yn),je;(function(t){t[t.NOT_TRACKING_=-1]="NOT_TRACKING_",t[t.UP_TO_DATE_=0]="UP_TO_DATE_",t[t.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",t[t.STALE_=2]="STALE_"})(je||(je={}));var sp;(function(t){t[t.NONE=0]="NONE",t[t.LOG=1]="LOG",t[t.BREAK=2]="BREAK"})(sp||(sp={}));var op=function(e){this.cause=void 0,this.cause=e};function pf(t){return t instanceof op}function x0(t){switch(t.dependenciesState_){case je.UP_TO_DATE_:return!1;case je.NOT_TRACKING_:case je.STALE_:return!0;case je.POSSIBLY_STALE_:{for(var e=z1(!0),r=ua(),n=t.observing_,i=n.length,s=0;s<i;s++){var o=n[s];if(sm(o)){if(ee.disableErrorBoundaries)o.get();else try{o.get()}catch{return rs(r),ch(e),!0}if(t.dependenciesState_===je.STALE_)return rs(r),ch(e),!0}}return WP(t),rs(r),ch(e),!1}}}function HP(t,e,r){var n=z1(!0);WP(t),t.newObserving_=new Array(t.runId_===0?100:t.observing_.length),t.unboundDepsCount_=0,t.runId_=++ee.runId;var i=ee.trackingDerivation;ee.trackingDerivation=t,ee.inBatch++;var s;if(ee.disableErrorBoundaries===!0)s=e.call(r);else try{s=e.call(r)}catch(o){s=new op(o)}return ee.inBatch--,ee.trackingDerivation=i,QN(t),ch(n),s}function QN(t){for(var e=t.observing_,r=t.observing_=t.newObserving_,n=je.UP_TO_DATE_,i=0,s=t.unboundDepsCount_,o=0;o<s;o++){var a=r[o];a.diffValue===0&&(a.diffValue=1,i!==o&&(r[i]=a),i++),a.dependenciesState_>n&&(n=a.dependenciesState_)}for(r.length=i,t.newObserving_=null,s=e.length;s--;){var h=e[s];h.diffValue===0&&XP(h,t),h.diffValue=0}for(;i--;){var c=r[i];c.diffValue===1&&(c.diffValue=0,ZN(c,t))}n!==je.UP_TO_DATE_&&(t.dependenciesState_=n,t.onBecomeStale_())}function w0(t){var e=t.observing_;t.observing_=[];for(var r=e.length;r--;)XP(e[r],t);t.dependenciesState_=je.NOT_TRACKING_}function jP(t){var e=ua();try{return t()}finally{rs(e)}}function ua(){var t=ee.trackingDerivation;return ee.trackingDerivation=null,t}function rs(t){ee.trackingDerivation=t}function z1(t){var e=ee.allowStateReads;return ee.allowStateReads=t,e}function ch(t){ee.allowStateReads=t}function WP(t){if(t.dependenciesState_!==je.UP_TO_DATE_){t.dependenciesState_=je.UP_TO_DATE_;for(var e=t.observing_,r=e.length;r--;)e[r].lowestObserverState_=je.UP_TO_DATE_}}var mf=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},gf=!0,VP=!1,ee=function(){var t=N1();return t.__mobxInstanceCount>0&&!t.__mobxGlobals&&(gf=!1),t.__mobxGlobals&&t.__mobxGlobals.version!==new mf().version&&(gf=!1),gf?t.__mobxGlobals?(t.__mobxInstanceCount+=1,t.__mobxGlobals.UNCHANGED||(t.__mobxGlobals.UNCHANGED={}),t.__mobxGlobals):(t.__mobxInstanceCount=1,t.__mobxGlobals=new mf):(setTimeout(function(){VP||ze(35)},1),new mf)}();function qN(){if((ee.pendingReactions.length||ee.inBatch||ee.isRunningReactions)&&ze(36),VP=!0,gf){var t=N1();--t.__mobxInstanceCount===0&&(t.__mobxGlobals=void 0),ee=new mf}}function ZN(t,e){t.observers_.add(e),t.lowestObserverState_>e.dependenciesState_&&(t.lowestObserverState_=e.dependenciesState_)}function XP(t,e){t.observers_.delete(e),t.observers_.size===0&&YP(t)}function YP(t){t.isPendingUnobservation===!1&&(t.isPendingUnobservation=!0,ee.pendingUnobservations.push(t))}function fn(){ee.inBatch++}function pn(){if(--ee.inBatch===0){qP();for(var t=ee.pendingUnobservations,e=0;e<t.length;e++){var r=t[e];r.isPendingUnobservation=!1,r.observers_.size===0&&(r.isBeingObserved&&(r.isBeingObserved=!1,r.onBUO()),r instanceof Yn&&r.suspend_())}ee.pendingUnobservations=[]}}function KP(t){var e=ee.trackingDerivation;return e!==null?(e.runId_!==t.lastAccessedBy_&&(t.lastAccessedBy_=e.runId_,e.newObserving_[e.unboundDepsCount_++]=t,!t.isBeingObserved&&ee.trackingContext&&(t.isBeingObserved=!0,t.onBO())),t.isBeingObserved):(t.observers_.size===0&&ee.inBatch>0&&YP(t),!1)}function QP(t){t.lowestObserverState_!==je.STALE_&&(t.lowestObserverState_=je.STALE_,t.observers_.forEach(function(e){e.dependenciesState_===je.UP_TO_DATE_&&e.onBecomeStale_(),e.dependenciesState_=je.STALE_}))}function JN(t){t.lowestObserverState_!==je.STALE_&&(t.lowestObserverState_=je.STALE_,t.observers_.forEach(function(e){e.dependenciesState_===je.POSSIBLY_STALE_?e.dependenciesState_=je.STALE_:e.dependenciesState_===je.UP_TO_DATE_&&(t.lowestObserverState_=je.UP_TO_DATE_)}))}function e3(t){t.lowestObserverState_===je.UP_TO_DATE_&&(t.lowestObserverState_=je.POSSIBLY_STALE_,t.observers_.forEach(function(e){e.dependenciesState_===je.UP_TO_DATE_&&(e.dependenciesState_=je.POSSIBLY_STALE_,e.onBecomeStale_())}))}var no=function(){function t(r,n,i,s){r===void 0&&(r="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=je.NOT_TRACKING_,this.runId_=0,this.unboundDepsCount_=0,this.flags_=0,this.isTracing_=sp.NONE,this.name_=r,this.onInvalidate_=n,this.errorHandler_=i,this.requiresObservable_=s}var e=t.prototype;return e.onBecomeStale_=function(){this.schedule_()},e.schedule_=function(){this.isScheduled||(this.isScheduled=!0,ee.pendingReactions.push(this),qP())},e.runReaction_=function(){if(!this.isDisposed){fn(),this.isScheduled=!1;var n=ee.trackingContext;if(ee.trackingContext=this,x0(this)){this.isTrackPending=!0;try{this.onInvalidate_()}catch(i){this.reportExceptionInDerivation_(i)}}ee.trackingContext=n,pn()}},e.track=function(n){if(!this.isDisposed){fn(),this.isRunning=!0;var i=ee.trackingContext;ee.trackingContext=this;var s=HP(this,n,void 0);ee.trackingContext=i,this.isRunning=!1,this.isTrackPending=!1,this.isDisposed&&w0(this),pf(s)&&this.reportExceptionInDerivation_(s.cause),pn()}},e.reportExceptionInDerivation_=function(n){var i=this;if(this.errorHandler_){this.errorHandler_(n,this);return}if(ee.disableErrorBoundaries)throw n;var s="[mobx] uncaught error in '"+this+"'";ee.suppressReactionErrors||console.error(s,n),ee.globalReactionErrorHandlers.forEach(function(o){return o(n,i)})},e.dispose=function(){this.isDisposed||(this.isDisposed=!0,this.isRunning||(fn(),w0(this),pn()))},e.getDisposer_=function(n){var i=this,s=function o(){i.dispose(),n==null||n.removeEventListener==null||n.removeEventListener("abort",o)};return n==null||n.addEventListener==null||n.addEventListener("abort",s),s[Se]=this,s},e.toString=function(){return"Reaction["+this.name_+"]"},e.trace=function(n){},Kl(t,[{key:"isDisposed",get:function(){return Ur(this.flags_,t.isDisposedMask_)},set:function(n){this.flags_=zr(this.flags_,t.isDisposedMask_,n)}},{key:"isScheduled",get:function(){return Ur(this.flags_,t.isScheduledMask_)},set:function(n){this.flags_=zr(this.flags_,t.isScheduledMask_,n)}},{key:"isTrackPending",get:function(){return Ur(this.flags_,t.isTrackPendingMask_)},set:function(n){this.flags_=zr(this.flags_,t.isTrackPendingMask_,n)}},{key:"isRunning",get:function(){return Ur(this.flags_,t.isRunningMask_)},set:function(n){this.flags_=zr(this.flags_,t.isRunningMask_,n)}},{key:"diffValue",get:function(){return Ur(this.flags_,t.diffValueMask_)?1:0},set:function(n){this.flags_=zr(this.flags_,t.diffValueMask_,n===1)}}])}();no.isDisposedMask_=1;no.isScheduledMask_=2;no.isTrackPendingMask_=4;no.isRunningMask_=8;no.diffValueMask_=16;var t3=100,b0=function(e){return e()};function qP(){ee.inBatch>0||ee.isRunningReactions||b0(r3)}function r3(){ee.isRunningReactions=!0;for(var t=ee.pendingReactions,e=0;t.length>0;){++e===t3&&(console.error("[mobx] cycle in reaction: "+t[0]),t.splice(0));for(var r=t.splice(0),n=0,i=r.length;n<i;n++)r[n].runReaction_()}ee.isRunningReactions=!1}var ap=la("Reaction",no);function n3(t){var e=b0;b0=function(n){return t(function(){return e(n)})}}function dh(){return!1}function i3(t){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}var ZP="action",s3="action.bound",JP="autoAction",o3="autoAction.bound",a3="<unnamed action>",S0=ic(ZP),l3=ic(s3,{bound:!0}),E0=ic(JP,{autoAction:!0}),u3=ic(o3,{autoAction:!0,bound:!0});function eI(t){var e=function(n,i){if(Xn(n))return na(n.name||a3,n,t);if(Xn(i))return na(n,i,t);if(nc(i))return(t?E0:S0).decorate_20223_(n,i);if(ea(i))return Ql(n,i,t?E0:S0);if(ea(n))return Ai(ic(t?JP:ZP,{name:n,autoAction:t}))};return e}var Tr=eI(!1);Object.assign(Tr,S0);var Bh=eI(!0);Object.assign(Bh,E0);Tr.bound=Ai(l3);Bh.bound=Ai(u3);function om(t){return Xn(t)&&t.isMobxAction===!0}function h3(t,e){var r,n,i,s;e===void 0&&(e=AP);var o=(r=(n=e)==null?void 0:n.name)!=null?r:"Autorun",a=!e.scheduler&&!e.delay,h;if(a)h=new no(o,function(){this.track(p)},e.onError,e.requiresObservable);else{var c=d3(e),d=!1;h=new no(o,function(){d||(d=!0,c(function(){d=!1,h.isDisposed||h.track(p)}))},e.onError,e.requiresObservable)}function p(){t(h)}return(i=e)!=null&&(i=i.signal)!=null&&i.aborted||h.schedule_(),h.getDisposer_((s=e)==null?void 0:s.signal)}var c3=function(e){return e()};function d3(t){return t.scheduler?t.scheduler:t.delay?function(e){return setTimeout(e,t.delay)}:c3}var f3="onBO",p3="onBUO";function m3(t,e,r){return rI(f3,t,e,r)}function tI(t,e,r){return rI(p3,t,e,r)}function rI(t,e,r,n){var i=T0(e),s=Xn(n)?n:r,o=t+"L";return i[o]?i[o].add(s):i[o]=new Set([s]),function(){var a=i[o];a&&(a.delete(s),a.size===0&&delete i[o])}}var g3="never",bd="always",v3="observed";function y3(t){t.isolateGlobalState===!0&&qN();var e=t.useProxies,r=t.enforceActions;if(e!==void 0&&(ee.useProxies=e===bd?!0:e===g3?!1:typeof Proxy<"u"),e==="ifavailable"&&(ee.verifyProxies=!0),r!==void 0){var n=r===bd?bd:r===v3;ee.enforceActions=n,ee.allowStateChanges=!(n===!0||n===bd)}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach(function(i){i in t&&(ee[i]=!!t[i])}),ee.allowStateReads=!ee.observableRequiresReaction,t.reactionScheduler&&n3(t.reactionScheduler)}function _3(t,e,r,n){var i=ZD(e);return ca(function(){var s=Zl(t,n)[Se];tm(i).forEach(function(o){s.extend_(o,i[o],r&&o in r?r[o]:!0)})}),t}var x3=0;function nI(){this.message="FLOW_CANCELLED"}nI.prototype=Object.create(Error.prototype);var wv=FP("flow"),w3=FP("flow.bound",{bound:!0}),kl=Object.assign(function(e,r){if(nc(r))return wv.decorate_20223_(e,r);if(ea(r))return Ql(e,r,wv);var n=e,i=n.name||"<unnamed flow>",s=function(){var a=this,h=arguments,c=++x3,d=Tr(i+" - runid: "+c+" - init",n).apply(a,h),p,m=void 0,y=new Promise(function(_,S){var A=0;p=S;function E(T){m=void 0;var P;try{P=Tr(i+" - runid: "+c+" - yield "+A++,d.next).call(d,T)}catch(M){return S(M)}x(P)}function b(T){m=void 0;var P;try{P=Tr(i+" - runid: "+c+" - yield "+A++,d.throw).call(d,T)}catch(M){return S(M)}x(P)}function x(T){if(Xn(T==null?void 0:T.then)){T.then(x,S);return}return T.done?_(T.value):(m=Promise.resolve(T.value),m.then(E,b))}E(void 0)});return y.cancel=Tr(i+" - runid: "+c+" - cancel",function(){try{m&&TS(m);var _=d.return(void 0),S=Promise.resolve(_.value);S.then(ol,ol),TS(S),p(new nI)}catch(A){p(A)}}),y};return s.isMobXFlow=!0,s},wv);kl.bound=Ai(w3);function TS(t){Xn(t.cancel)&&t.cancel()}function Lh(t){return(t==null?void 0:t.isMobXFlow)===!0}function b3(t,e){return t?lm(t)||!!t[Se]||F1(t)||ap(t)||sm(t):!1}function iI(t){return b3(t)}function Yi(t,e){e===void 0&&(e=void 0),fn();try{return t.apply(e)}finally{pn()}}function Ma(t){return t[Se]}var S3={has:function(e,r){return Ma(e).has_(r)},get:function(e,r){return Ma(e).get_(r)},set:function(e,r,n){var i;return ea(r)?(i=Ma(e).set_(r,n,!0))!=null?i:!0:!1},deleteProperty:function(e,r){var n;return ea(r)?(n=Ma(e).delete_(r,!0))!=null?n:!0:!1},defineProperty:function(e,r,n){var i;return(i=Ma(e).defineProperty_(r,n))!=null?i:!0},ownKeys:function(e){return Ma(e).ownKeys_()},preventExtensions:function(e){ze(13)}};function E3(t,e){var r,n;return CP(),t=Zl(t,e),(n=(r=t[Se]).proxy_)!=null?n:r.proxy_=new Proxy(t,S3)}function un(t){return t.interceptors_!==void 0&&t.interceptors_.length>0}function sc(t,e){var r=t.interceptors_||(t.interceptors_=[]);return r.push(e),PP(function(){var n=r.indexOf(e);n!==-1&&r.splice(n,1)})}function hn(t,e){var r=ua();try{for(var n=[].concat(t.interceptors_||[]),i=0,s=n.length;i<s&&(e=n[i](e),e&&!e.type&&ze(14),!!e);i++);return e}finally{rs(r)}}function $n(t){return t.changeListeners_!==void 0&&t.changeListeners_.length>0}function oc(t,e){var r=t.changeListeners_||(t.changeListeners_=[]);return r.push(e),PP(function(){var n=r.indexOf(e);n!==-1&&r.splice(n,1)})}function Gn(t,e){var r=ua(),n=t.changeListeners_;if(n){n=n.slice();for(var i=0,s=n.length;i<s;i++)n[i](e);rs(r)}}function T3(t,e,r){return ca(function(){var n,i=Zl(t,r)[Se];(n=e)!=null||(e=nN(t)),tm(e).forEach(function(s){return i.make_(s,e[s])})}),t}var AS="splice",Ci="update",A3=1e4,C3={get:function(e,r){var n=e[Se];return r===Se?n:r==="length"?n.getArrayLength_():typeof r=="string"&&!isNaN(r)?n.get_(parseInt(r)):ts(lp,r)?lp[r]:e[r]},set:function(e,r,n){var i=e[Se];return r==="length"&&i.setArrayLength_(n),typeof r=="symbol"||isNaN(r)?e[r]=n:i.set_(parseInt(r),n),!0},preventExtensions:function(){ze(15)}},$1=function(){function t(r,n,i,s){r===void 0&&(r="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=i,this.legacyMode_=s,this.atom_=new uo(r),this.enhancer_=function(o,a){return n(o,a,"ObservableArray[..]")}}var e=t.prototype;return e.dehanceValue_=function(n){return this.dehancer!==void 0?this.dehancer(n):n},e.dehanceValues_=function(n){return this.dehancer!==void 0&&n.length>0?n.map(this.dehancer):n},e.intercept_=function(n){return sc(this,n)},e.observe_=function(n,i){return i===void 0&&(i=!1),i&&n({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),oc(this,n)},e.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},e.setArrayLength_=function(n){(typeof n!="number"||isNaN(n)||n<0)&&ze("Out of range: "+n);var i=this.values_.length;if(n!==i)if(n>i){for(var s=new Array(n-i),o=0;o<n-i;o++)s[o]=void 0;this.spliceWithArray_(i,0,s)}else this.spliceWithArray_(n,i-n)},e.updateArrayLength_=function(n,i){n!==this.lastKnownLength_&&ze(16),this.lastKnownLength_+=i,this.legacyMode_&&i>0&&cI(n+i+1)},e.spliceWithArray_=function(n,i,s){var o=this;this.atom_;var a=this.values_.length;if(n===void 0?n=0:n>a?n=a:n<0&&(n=Math.max(0,a+n)),arguments.length===1?i=a-n:i==null?i=0:i=Math.max(0,Math.min(i,a-n)),s===void 0&&(s=g0),un(this)){var h=hn(this,{object:this.proxy_,type:AS,index:n,removedCount:i,added:s});if(!h)return g0;i=h.removedCount,s=h.added}if(s=s.length===0?s:s.map(function(p){return o.enhancer_(p,void 0)}),this.legacyMode_){var c=s.length-i;this.updateArrayLength_(a,c)}var d=this.spliceItemsIntoValues_(n,i,s);return(i!==0||s.length!==0)&&this.notifyArraySplice_(n,s,d),this.dehanceValues_(d)},e.spliceItemsIntoValues_=function(n,i,s){if(s.length<A3){var o;return(o=this.values_).splice.apply(o,[n,i].concat(s))}else{var a=this.values_.slice(n,n+i),h=this.values_.slice(n+i);this.values_.length+=s.length-i;for(var c=0;c<s.length;c++)this.values_[n+c]=s[c];for(var d=0;d<h.length;d++)this.values_[n+s.length+d]=h[d];return a}},e.notifyArrayChildUpdate_=function(n,i,s){var o=!this.owned_&&dh(),a=$n(this),h=a||o?{observableKind:"array",object:this.proxy_,type:Ci,debugObjectName:this.atom_.name_,index:n,newValue:i,oldValue:s}:null;this.atom_.reportChanged(),a&&Gn(this,h)},e.notifyArraySplice_=function(n,i,s){var o=!this.owned_&&dh(),a=$n(this),h=a||o?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:AS,index:n,removed:s,added:i,removedCount:s.length,addedCount:i.length}:null;this.atom_.reportChanged(),a&&Gn(this,h)},e.get_=function(n){if(this.legacyMode_&&n>=this.values_.length){console.warn("[mobx] Out of bounds read: "+n);return}return this.atom_.reportObserved(),this.dehanceValue_(this.values_[n])},e.set_=function(n,i){var s=this.values_;if(this.legacyMode_&&n>s.length&&ze(17,n,s.length),n<s.length){this.atom_;var o=s[n];if(un(this)){var a=hn(this,{type:Ci,object:this.proxy_,index:n,newValue:i});if(!a)return;i=a.newValue}i=this.enhancer_(i,o);var h=i!==o;h&&(s[n]=i,this.notifyArrayChildUpdate_(n,i,o))}else{for(var c=new Array(n+1-s.length),d=0;d<c.length-1;d++)c[d]=void 0;c[c.length-1]=i,this.spliceWithArray_(s.length,0,c)}},t}();function P3(t,e,r,n){return r===void 0&&(r="ObservableArray"),n===void 0&&(n=!1),CP(),ca(function(){var i=new $1(r,e,n,!1);RP(i.values_,Se,i);var s=new Proxy(i.values_,C3);return i.proxy_=s,t&&t.length&&i.spliceWithArray_(0,0,t),s})}var lp={clear:function(){return this.splice(0)},replace:function(e){var r=this[Se];return r.spliceWithArray_(0,r.values_.length,e)},toJSON:function(){return this.slice()},splice:function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s];var o=this[Se];switch(arguments.length){case 0:return[];case 1:return o.spliceWithArray_(e);case 2:return o.spliceWithArray_(e,r)}return o.spliceWithArray_(e,r,i)},spliceWithArray:function(e,r,n){return this[Se].spliceWithArray_(e,r,n)},push:function(){for(var e=this[Se],r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return e.spliceWithArray_(e.values_.length,0,n),e.values_.length},pop:function(){return this.splice(Math.max(this[Se].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var e=this[Se],r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return e.spliceWithArray_(0,0,n),e.values_.length},reverse:function(){return ee.trackingDerivation&&ze(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){ee.trackingDerivation&&ze(37,"sort");var e=this.slice();return e.sort.apply(e,arguments),this.replace(e),this},remove:function(e){var r=this[Se],n=r.dehanceValues_(r.values_).indexOf(e);return n>-1?(this.splice(n,1),!0):!1}};Je("at",Xr);Je("concat",Xr);Je("flat",Xr);Je("includes",Xr);Je("indexOf",Xr);Je("join",Xr);Je("lastIndexOf",Xr);Je("slice",Xr);Je("toString",Xr);Je("toLocaleString",Xr);Je("toSorted",Xr);Je("toSpliced",Xr);Je("with",Xr);Je("every",Kn);Je("filter",Kn);Je("find",Kn);Je("findIndex",Kn);Je("findLast",Kn);Je("findLastIndex",Kn);Je("flatMap",Kn);Je("forEach",Kn);Je("map",Kn);Je("some",Kn);Je("toReversed",Kn);Je("reduce",sI);Je("reduceRight",sI);function Je(t,e){typeof Array.prototype[t]=="function"&&(lp[t]=e(t))}function Xr(t){return function(){var e=this[Se];e.atom_.reportObserved();var r=e.dehanceValues_(e.values_);return r[t].apply(r,arguments)}}function Kn(t){return function(e,r){var n=this,i=this[Se];i.atom_.reportObserved();var s=i.dehanceValues_(i.values_);return s[t](function(o,a){return e.call(r,o,a,n)})}}function sI(t){return function(){var e=this,r=this[Se];r.atom_.reportObserved();var n=r.dehanceValues_(r.values_),i=arguments[0];return arguments[0]=function(s,o,a){return i(s,o,a,e)},n[t].apply(n,arguments)}}var I3=la("ObservableArrayAdministration",$1);function am(t){return Jp(t)&&I3(t[Se])}var R3={},zs="add",up="delete",oI=function(){function t(r,n,i){var s=this;n===void 0&&(n=ra),i===void 0&&(i="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[Se]=R3,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=n,this.name_=i,Xn(Map)||ze(18),ca(function(){s.keysAtom_=DP("ObservableMap.keys()"),s.data_=new Map,s.hasMap_=new Map,r&&s.merge(r)})}var e=t.prototype;return e.has_=function(n){return this.data_.has(n)},e.has=function(n){var i=this;if(!ee.trackingDerivation)return this.has_(n);var s=this.hasMap_.get(n);if(!s){var o=s=new Ho(this.has_(n),rm,"ObservableMap.key?",!1);this.hasMap_.set(n,o),tI(o,function(){return i.hasMap_.delete(n)})}return s.get()},e.set=function(n,i){var s=this.has_(n);if(un(this)){var o=hn(this,{type:s?Ci:zs,object:this,newValue:i,name:n});if(!o)return this;i=o.newValue}return s?this.updateValue_(n,i):this.addValue_(n,i),this},e.delete=function(n){var i=this;if(this.keysAtom_,un(this)){var s=hn(this,{type:up,object:this,name:n});if(!s)return!1}if(this.has_(n)){var o=dh(),a=$n(this),h=a||o?{observableKind:"map",debugObjectName:this.name_,type:up,object:this,oldValue:this.data_.get(n).value_,name:n}:null;return Yi(function(){var c;i.keysAtom_.reportChanged(),(c=i.hasMap_.get(n))==null||c.setNewValue_(!1);var d=i.data_.get(n);d.setNewValue_(void 0),i.data_.delete(n)}),a&&Gn(this,h),!0}return!1},e.updateValue_=function(n,i){var s=this.data_.get(n);if(i=s.prepareNewValue_(i),i!==ee.UNCHANGED){var o=dh(),a=$n(this),h=a||o?{observableKind:"map",debugObjectName:this.name_,type:Ci,object:this,oldValue:s.value_,name:n,newValue:i}:null;s.setNewValue_(i),a&&Gn(this,h)}},e.addValue_=function(n,i){var s=this;this.keysAtom_,Yi(function(){var c,d=new Ho(i,s.enhancer_,"ObservableMap.key",!1);s.data_.set(n,d),i=d.value_,(c=s.hasMap_.get(n))==null||c.setNewValue_(!0),s.keysAtom_.reportChanged()});var o=dh(),a=$n(this),h=a||o?{observableKind:"map",debugObjectName:this.name_,type:zs,object:this,name:n,newValue:i}:null;a&&Gn(this,h)},e.get=function(n){return this.has(n)?this.dehanceValue_(this.data_.get(n).get()):this.dehanceValue_(void 0)},e.dehanceValue_=function(n){return this.dehancer!==void 0?this.dehancer(n):n},e.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},e.values=function(){var n=this,i=this.keys();return Uh({next:function(){var o=i.next(),a=o.done,h=o.value;return{done:a,value:a?void 0:n.get(h)}}})},e.entries=function(){var n=this,i=this.keys();return Uh({next:function(){var o=i.next(),a=o.done,h=o.value;return{done:a,value:a?void 0:[h,n.get(h)]}}})},e[Symbol.iterator]=function(){return this.entries()},e.forEach=function(n,i){for(var s=al(this),o;!(o=s()).done;){var a=o.value,h=a[0],c=a[1];n.call(i,c,h,this)}},e.merge=function(n){var i=this;return ha(n)&&(n=new Map(n)),Yi(function(){ro(n)?qD(n).forEach(function(s){return i.set(s,n[s])}):Array.isArray(n)?n.forEach(function(s){var o=s[0],a=s[1];return i.set(o,a)}):Yl(n)?(QD(n)||ze(19,n),n.forEach(function(s,o){return i.set(o,s)})):n!=null&&ze(20,n)}),this},e.clear=function(){var n=this;Yi(function(){jP(function(){for(var i=al(n.keys()),s;!(s=i()).done;){var o=s.value;n.delete(o)}})})},e.replace=function(n){var i=this;return Yi(function(){for(var s=O3(n),o=new Map,a=!1,h=al(i.data_.keys()),c;!(c=h()).done;){var d=c.value;if(!s.has(d)){var p=i.delete(d);if(p)a=!0;else{var m=i.data_.get(d);o.set(d,m)}}}for(var y=al(s.entries()),_;!(_=y()).done;){var S=_.value,A=S[0],E=S[1],b=i.data_.has(A);if(i.set(A,E),i.data_.has(A)){var x=i.data_.get(A);o.set(A,x),b||(a=!0)}}if(!a)if(i.data_.size!==o.size)i.keysAtom_.reportChanged();else for(var T=i.data_.keys(),P=o.keys(),M=T.next(),R=P.next();!M.done;){if(M.value!==R.value){i.keysAtom_.reportChanged();break}M=T.next(),R=P.next()}i.data_=o}),this},e.toString=function(){return"[object ObservableMap]"},e.toJSON=function(){return Array.from(this)},e.observe_=function(n,i){return oc(this,n)},e.intercept_=function(n){return sc(this,n)},Kl(t,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Map"}}])}(),ha=la("ObservableMap",oI);function O3(t){if(Yl(t)||ha(t))return t;if(Array.isArray(t))return new Map(t);if(ro(t)){var e=new Map;for(var r in t)e.set(r,t[r]);return e}else return ze(21,t)}var M3={},aI=function(){function t(r,n,i){var s=this;n===void 0&&(n=ra),i===void 0&&(i="ObservableSet"),this.name_=void 0,this[Se]=M3,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=i,Xn(Set)||ze(22),this.enhancer_=function(o,a){return n(o,a,i)},ca(function(){s.atom_=DP(s.name_),r&&s.replace(r)})}var e=t.prototype;return e.dehanceValue_=function(n){return this.dehancer!==void 0?this.dehancer(n):n},e.clear=function(){var n=this;Yi(function(){jP(function(){for(var i=al(n.data_.values()),s;!(s=i()).done;){var o=s.value;n.delete(o)}})})},e.forEach=function(n,i){for(var s=al(this),o;!(o=s()).done;){var a=o.value;n.call(i,a,a,this)}},e.add=function(n){var i=this;if(this.atom_,un(this)){var s=hn(this,{type:zs,object:this,newValue:n});if(!s)return this}if(!this.has(n)){Yi(function(){i.data_.add(i.enhancer_(n,void 0)),i.atom_.reportChanged()});var o=!1,a=$n(this),h=a||o?{observableKind:"set",debugObjectName:this.name_,type:zs,object:this,newValue:n}:null;a&&Gn(this,h)}return this},e.delete=function(n){var i=this;if(un(this)){var s=hn(this,{type:up,object:this,oldValue:n});if(!s)return!1}if(this.has(n)){var o=!1,a=$n(this),h=a||o?{observableKind:"set",debugObjectName:this.name_,type:up,object:this,oldValue:n}:null;return Yi(function(){i.atom_.reportChanged(),i.data_.delete(n)}),a&&Gn(this,h),!0}return!1},e.has=function(n){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(n))},e.entries=function(){var n=0,i=Array.from(this.keys()),s=Array.from(this.values());return Uh({next:function(){var a=n;return n+=1,a<s.length?{value:[i[a],s[a]],done:!1}:{done:!0}}})},e.keys=function(){return this.values()},e.values=function(){this.atom_.reportObserved();var n=this,i=0,s=Array.from(this.data_.values());return Uh({next:function(){return i<s.length?{value:n.dehanceValue_(s[i++]),done:!1}:{done:!0}}})},e.intersection=function(n){if(Xi(n))return n.intersection(this);var i=new Set(this);return i.intersection(n)},e.union=function(n){if(Xi(n))return n.union(this);var i=new Set(this);return i.union(n)},e.difference=function(n){return new Set(this).difference(n)},e.symmetricDifference=function(n){if(Xi(n))return n.symmetricDifference(this);var i=new Set(this);return i.symmetricDifference(n)},e.isSubsetOf=function(n){return new Set(this).isSubsetOf(n)},e.isSupersetOf=function(n){return new Set(this).isSupersetOf(n)},e.isDisjointFrom=function(n){if(Xi(n))return n.isDisjointFrom(this);var i=new Set(this);return i.isDisjointFrom(n)},e.replace=function(n){var i=this;return ql(n)&&(n=new Set(n)),Yi(function(){Array.isArray(n)?(i.clear(),n.forEach(function(s){return i.add(s)})):Xi(n)?(i.clear(),n.forEach(function(s){return i.add(s)})):n!=null&&ze("Cannot initialize set from "+n)}),this},e.observe_=function(n,i){return oc(this,n)},e.intercept_=function(n){return sc(this,n)},e.toJSON=function(){return Array.from(this)},e.toString=function(){return"[object ObservableSet]"},e[Symbol.iterator]=function(){return this.values()},Kl(t,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Set"}}])}(),ql=la("ObservableSet",aI),CS=Object.create(null),PS="remove",lI=function(){function t(r,n,i,s){n===void 0&&(n=new Map),s===void 0&&(s=IN),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=r,this.values_=n,this.name_=i,this.defaultAnnotation_=s,this.keysAtom_=new uo("ObservableObject.keys"),this.isPlainObject_=ro(this.target_)}var e=t.prototype;return e.getObservablePropValue_=function(n){return this.values_.get(n).get()},e.setObservablePropValue_=function(n,i){var s=this.values_.get(n);if(s instanceof Yn)return s.set(i),!0;if(un(this)){var o=hn(this,{type:Ci,object:this.proxy_||this.target_,name:n,newValue:i});if(!o)return null;i=o.newValue}if(i=s.prepareNewValue_(i),i!==ee.UNCHANGED){var a=$n(this),h=!1,c=a||h?{type:Ci,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:s.value_,name:n,newValue:i}:null;s.setNewValue_(i),a&&Gn(this,c)}return!0},e.get_=function(n){return ee.trackingDerivation&&!ts(this.target_,n)&&this.has_(n),this.target_[n]},e.set_=function(n,i,s){return s===void 0&&(s=!1),ts(this.target_,n)?this.values_.has(n)?this.setObservablePropValue_(n,i):s?Reflect.set(this.target_,n,i):(this.target_[n]=i,!0):this.extend_(n,{value:i,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,s)},e.has_=function(n){if(!ee.trackingDerivation)return n in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var i=this.pendingKeys_.get(n);return i||(i=new Ho(n in this.target_,rm,"ObservableObject.key?",!1),this.pendingKeys_.set(n,i)),i.get()},e.make_=function(n,i){if(i===!0&&(i=this.defaultAnnotation_),i!==!1){if(!(n in this.target_)){var s;if((s=this.target_[wi])!=null&&s[n])return;ze(1,i.annotationType_,this.name_+"."+n.toString())}for(var o=this.target_;o&&o!==Zp;){var a=rp(o,n);if(a){var h=i.make_(this,n,a,o);if(h===0)return;if(h===1)break}o=Object.getPrototypeOf(o)}RS(this,i,n)}},e.extend_=function(n,i,s,o){if(o===void 0&&(o=!1),s===!0&&(s=this.defaultAnnotation_),s===!1)return this.defineProperty_(n,i,o);var a=s.extend_(this,n,i,o);return a&&RS(this,s,n),a},e.defineProperty_=function(n,i,s){s===void 0&&(s=!1),this.keysAtom_;try{fn();var o=this.delete_(n);if(!o)return o;if(un(this)){var a=hn(this,{object:this.proxy_||this.target_,name:n,type:zs,newValue:i.value});if(!a)return null;var h=a.newValue;i.value!==h&&(i=ta({},i,{value:h}))}if(s){if(!Reflect.defineProperty(this.target_,n,i))return!1}else Ti(this.target_,n,i);this.notifyPropertyAddition_(n,i.value)}finally{pn()}return!0},e.defineObservableProperty_=function(n,i,s,o){o===void 0&&(o=!1),this.keysAtom_;try{fn();var a=this.delete_(n);if(!a)return a;if(un(this)){var h=hn(this,{object:this.proxy_||this.target_,name:n,type:zs,newValue:i});if(!h)return null;i=h.newValue}var c=IS(n),d={configurable:ee.safeDescriptors?this.isPlainObject_:!0,enumerable:!0,get:c.get,set:c.set};if(o){if(!Reflect.defineProperty(this.target_,n,d))return!1}else Ti(this.target_,n,d);var p=new Ho(i,s,"ObservableObject.key",!1);this.values_.set(n,p),this.notifyPropertyAddition_(n,p.value_)}finally{pn()}return!0},e.defineComputedProperty_=function(n,i,s){s===void 0&&(s=!1),this.keysAtom_;try{fn();var o=this.delete_(n);if(!o)return o;if(un(this)){var a=hn(this,{object:this.proxy_||this.target_,name:n,type:zs,newValue:void 0});if(!a)return null}i.name||(i.name="ObservableObject.key"),i.context=this.proxy_||this.target_;var h=IS(n),c={configurable:ee.safeDescriptors?this.isPlainObject_:!0,enumerable:!1,get:h.get,set:h.set};if(s){if(!Reflect.defineProperty(this.target_,n,c))return!1}else Ti(this.target_,n,c);this.values_.set(n,new Yn(i)),this.notifyPropertyAddition_(n,void 0)}finally{pn()}return!0},e.delete_=function(n,i){if(i===void 0&&(i=!1),this.keysAtom_,!ts(this.target_,n))return!0;if(un(this)){var s=hn(this,{object:this.proxy_||this.target_,name:n,type:PS});if(!s)return null}try{var o;fn();var a=$n(this),h=!1,c=this.values_.get(n),d=void 0;if(!c&&(a||h)){var p;d=(p=rp(this.target_,n))==null?void 0:p.value}if(i){if(!Reflect.deleteProperty(this.target_,n))return!1}else delete this.target_[n];if(c&&(this.values_.delete(n),c instanceof Ho&&(d=c.value_),QP(c)),this.keysAtom_.reportChanged(),(o=this.pendingKeys_)==null||(o=o.get(n))==null||o.set(n in this.target_),a||h){var m={type:PS,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:d,name:n};a&&Gn(this,m)}}finally{pn()}return!0},e.observe_=function(n,i){return oc(this,n)},e.intercept_=function(n){return sc(this,n)},e.notifyPropertyAddition_=function(n,i){var s,o=$n(this),a=!1;if(o||a){var h=o||a?{type:zs,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:n,newValue:i}:null;o&&Gn(this,h)}(s=this.pendingKeys_)==null||(s=s.get(n))==null||s.set(!0),this.keysAtom_.reportChanged()},e.ownKeys_=function(){return this.keysAtom_.reportObserved(),tm(this.target_)},e.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},t}();function Zl(t,e){var r;if(ts(t,Se))return t;var n=(r=e==null?void 0:e.name)!=null?r:"ObservableObject",i=new lI(t,new Map,String(n),zN(e));return em(t,Se,i),t}var k3=la("ObservableObjectAdministration",lI);function IS(t){return CS[t]||(CS[t]={get:function(){return this[Se].getObservablePropValue_(t)},set:function(r){return this[Se].setObservablePropValue_(t,r)}})}function lm(t){return Jp(t)?k3(t[Se]):!1}function RS(t,e,r){var n;(n=t.target_[wi])==null||delete n[r]}var D3=hI(0),N3=function(){var t=!1,e={};return Object.defineProperty(e,"0",{set:function(){t=!0}}),Object.create(e)[0]=1,t===!1}(),bv=0,uI=function(){};function F3(t,e){Object.setPrototypeOf?Object.setPrototypeOf(t.prototype,e):t.prototype.__proto__!==void 0?t.prototype.__proto__=e:t.prototype=e}F3(uI,Array.prototype);var G1=function(t){function e(n,i,s,o){var a;return s===void 0&&(s="ObservableArray"),o===void 0&&(o=!1),a=t.call(this)||this,ca(function(){var h=new $1(s,i,o,!0);h.proxy_=a,RP(a,Se,h),n&&n.length&&a.spliceWithArray(0,0,n),N3&&Object.defineProperty(a,"0",D3)}),a}kP(e,t);var r=e.prototype;return r.concat=function(){this[Se].atom_.reportObserved();for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return Array.prototype.concat.apply(this.slice(),s.map(function(a){return am(a)?a.slice():a}))},r[Symbol.iterator]=function(){var n=this,i=0;return Uh({next:function(){return i<n.length?{value:n[i++],done:!1}:{done:!0,value:void 0}}})},Kl(e,[{key:"length",get:function(){return this[Se].getArrayLength_()},set:function(i){this[Se].setArrayLength_(i)}},{key:Symbol.toStringTag,get:function(){return"Array"}}])}(uI);Object.entries(lp).forEach(function(t){var e=t[0],r=t[1];e!=="concat"&&em(G1.prototype,e,r)});function hI(t){return{enumerable:!1,configurable:!0,get:function(){return this[Se].get_(t)},set:function(r){this[Se].set_(t,r)}}}function B3(t){Ti(G1.prototype,""+t,hI(t))}function cI(t){if(t>bv){for(var e=bv;e<t+100;e++)B3(e);bv=t}}cI(1e3);function L3(t,e,r){return new G1(t,e,r)}function T0(t,e){if(typeof t=="object"&&t!==null){if(am(t))return e!==void 0&&ze(23),t[Se].atom_;if(ql(t))return t.atom_;if(ha(t)){if(e===void 0)return t.keysAtom_;var r=t.data_.get(e)||t.hasMap_.get(e);return r||ze(25,e,A0(t)),r}if(lm(t)){if(!e)return ze(26);var n=t[Se].values_.get(e);return n||ze(27,e,A0(t)),n}if(F1(t)||sm(t)||ap(t))return t}else if(Xn(t)&&ap(t[Se]))return t[Se];ze(28)}function U3(t,e){if(t||ze(29),F1(t)||sm(t)||ap(t)||ha(t)||ql(t))return t;if(t[Se])return t[Se];ze(24,t)}function A0(t,e){var r;if(e!==void 0)r=T0(t,e);else{if(om(t))return t.name;lm(t)||ha(t)||ql(t)?r=U3(t):r=T0(t)}return r.name_}function ca(t){var e=ua(),r=L1(!0);fn();try{return t()}finally{pn(),U1(r),rs(e)}}var OS=Zp.toString;function H1(t,e,r){return r===void 0&&(r=-1),C0(t,e,r)}function C0(t,e,r,n,i){if(t===e)return t!==0||1/t===1/e;if(t==null||e==null)return!1;if(t!==t)return e!==e;var s=typeof t;if(s!=="function"&&s!=="object"&&typeof e!="object")return!1;var o=OS.call(t);if(o!==OS.call(e))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:+t==0?1/+t===1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(t)===Symbol.valueOf.call(e);case"[object Map]":case"[object Set]":r>=0&&r++;break}t=MS(t),e=MS(e);var a=o==="[object Array]";if(!a){if(typeof t!="object"||typeof e!="object")return!1;var h=t.constructor,c=e.constructor;if(h!==c&&!(Xn(h)&&h instanceof h&&Xn(c)&&c instanceof c)&&"constructor"in t&&"constructor"in e)return!1}if(r===0)return!1;r<0&&(r=-1),n=n||[],i=i||[];for(var d=n.length;d--;)if(n[d]===t)return i[d]===e;if(n.push(t),i.push(e),a){if(d=t.length,d!==e.length)return!1;for(;d--;)if(!C0(t[d],e[d],r-1,n,i))return!1}else{var p=Object.keys(t),m;if(d=p.length,Object.keys(e).length!==d)return!1;for(;d--;)if(m=p[d],!(ts(e,m)&&C0(t[m],e[m],r-1,n,i)))return!1}return n.pop(),i.pop(),!0}function MS(t){return am(t)?t.slice():Yl(t)||ha(t)||Xi(t)||ql(t)?Array.from(t.entries()):t}function Uh(t){return t[Symbol.iterator]=z3,t}function z3(){return this}["Symbol","Map","Set"].forEach(function(t){var e=N1();typeof e[t]>"u"&&ze("MobX requires global '"+t+"' to be available or polyfilled")});typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:i3,extras:{getDebugName:A0},$mobx:Se});var eA,tA,rA,nA,iA,sA,oA,Rn;oA=[At],sA=[Tr],iA=[Tr],nA=[Tr],rA=[Tr],tA=[Tr],eA=[Tr];class Gi{constructor(){Ui(Rn,5,this);Au(this,"data",Ui(Rn,8,this,{grid:0,rects:[],pallete:[],isColoring:void 0})),Ui(Rn,11,this)}setColoring(e){this.data=e}clearStore(){this.data={grid:0,rects:[],pallete:[],isColoring:void 0}}createCanvas(){this.clearStore(),this.data={grid:5,rects:[],pallete:[]},console.log(this.data)}addRect({index:e,color:r,isColoring:n}){var o;const i=this.data.rects.findIndex(a=>a.indexRect===e);let s;n&&(s=(o=this.data.pallete)==null?void 0:o.findIndex(a=>a===a)),i!==-1?this.data.rects[i].color=r:this.data.rects.push({indexRect:e,color:r,indexColor:s&&s}),console.log(this.data)}clearRect(e){const r=this.data.rects.findIndex(n=>n.indexRect===e);this.data.rects.splice(r,1),console.log(this.data)}saveCanvas(){console.log(this.data)}}Rn=Xg(null),sn(Rn,1,"setColoring",sA,Gi),sn(Rn,1,"clearStore",iA,Gi),sn(Rn,1,"createCanvas",nA,Gi),sn(Rn,1,"addRect",rA,Gi),sn(Rn,1,"clearRect",tA,Gi),sn(Rn,1,"saveCanvas",eA,Gi),sn(Rn,5,"data",oA,Gi),rd(Rn,Gi);const qt=new Gi;function kS(t){qt.clearStore(),qt.setColoring(t)}const $3={grid:5,rects:[{indexRect:0,color:"#ff0000"},{indexRect:6,color:"#ff0000"},{indexRect:12,color:"#ff0000"},{indexRect:18,color:"#ff0000"},{indexRect:24,color:"#ff0000"}]},G3={isColoring:!0,grid:5,pallete:["#ff0000","#00ff00"],rects:[{indexRect:0,indexColor:0,color:"#ff0000",filling:!0},{indexRect:6,indexColor:1,color:"#00ff00"},{indexRect:12,indexColor:1,color:"#00ff00",filling:!0},{indexRect:13,color:"#ff0000",filling:!0},{indexRect:18,indexColor:0,color:"#ff0000"},{indexRect:24,indexColor:0,color:"#ff0000"}]};var lr=function(){return lr=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},lr.apply(this,arguments)};function zh(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))}var rt="-ms-",fh="-moz-",Xe="-webkit-",dI="comm",um="rule",j1="decl",H3="@import",fI="@keyframes",j3="@layer",pI=Math.abs,W1=String.fromCharCode,P0=Object.assign;function W3(t,e){return Ht(t,0)^45?(((e<<2^Ht(t,0))<<2^Ht(t,1))<<2^Ht(t,2))<<2^Ht(t,3):0}function mI(t){return t.trim()}function Wi(t,e){return(t=e.exec(t))?t[0]:t}function Re(t,e,r){return t.replace(e,r)}function vf(t,e,r){return t.indexOf(e,r)}function Ht(t,e){return t.charCodeAt(e)|0}function Dl(t,e,r){return t.slice(e,r)}function vi(t){return t.length}function gI(t){return t.length}function Vu(t,e){return e.push(t),t}function V3(t,e){return t.map(e).join("")}function DS(t,e){return t.filter(function(r){return!Wi(r,e)})}var hm=1,Nl=1,vI=0,xn=0,It=0,Jl="";function cm(t,e,r,n,i,s,o,a){return{value:t,root:e,parent:r,type:n,props:i,children:s,line:hm,column:Nl,length:o,return:"",siblings:a}}function Ps(t,e){return P0(cm("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function ka(t){for(;t.root;)t=Ps(t.root,{children:[t]});Vu(t,t.siblings)}function X3(){return It}function Y3(){return It=xn>0?Ht(Jl,--xn):0,Nl--,It===10&&(Nl=1,hm--),It}function Hn(){return It=xn<vI?Ht(Jl,xn++):0,Nl++,It===10&&(Nl=1,hm++),It}function jo(){return Ht(Jl,xn)}function yf(){return xn}function dm(t,e){return Dl(Jl,t,e)}function I0(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function K3(t){return hm=Nl=1,vI=vi(Jl=t),xn=0,[]}function Q3(t){return Jl="",t}function Sv(t){return mI(dm(xn-1,R0(t===91?t+2:t===40?t+1:t)))}function q3(t){for(;(It=jo())&&It<33;)Hn();return I0(t)>2||I0(It)>3?"":" "}function Z3(t,e){for(;--e&&Hn()&&!(It<48||It>102||It>57&&It<65||It>70&&It<97););return dm(t,yf()+(e<6&&jo()==32&&Hn()==32))}function R0(t){for(;Hn();)switch(It){case t:return xn;case 34:case 39:t!==34&&t!==39&&R0(It);break;case 40:t===41&&R0(t);break;case 92:Hn();break}return xn}function J3(t,e){for(;Hn()&&t+It!==57;)if(t+It===84&&jo()===47)break;return"/*"+dm(e,xn-1)+"*"+W1(t===47?t:Hn())}function eF(t){for(;!I0(jo());)Hn();return dm(t,xn)}function tF(t){return Q3(_f("",null,null,null,[""],t=K3(t),0,[0],t))}function _f(t,e,r,n,i,s,o,a,h){for(var c=0,d=0,p=o,m=0,y=0,_=0,S=1,A=1,E=1,b=0,x="",T=i,P=s,M=n,R=x;A;)switch(_=b,b=Hn()){case 40:if(_!=108&&Ht(R,p-1)==58){vf(R+=Re(Sv(b),"&","&\f"),"&\f",pI(c?a[c-1]:0))!=-1&&(E=-1);break}case 34:case 39:case 91:R+=Sv(b);break;case 9:case 10:case 13:case 32:R+=q3(_);break;case 92:R+=Z3(yf()-1,7);continue;case 47:switch(jo()){case 42:case 47:Vu(rF(J3(Hn(),yf()),e,r,h),h);break;default:R+="/"}break;case 123*S:a[c++]=vi(R)*E;case 125*S:case 59:case 0:switch(b){case 0:case 125:A=0;case 59+d:E==-1&&(R=Re(R,/\f/g,"")),y>0&&vi(R)-p&&Vu(y>32?FS(R+";",n,r,p-1,h):FS(Re(R," ","")+";",n,r,p-2,h),h);break;case 59:R+=";";default:if(Vu(M=NS(R,e,r,c,d,i,a,x,T=[],P=[],p,s),s),b===123)if(d===0)_f(R,e,M,M,T,s,p,a,P);else switch(m===99&&Ht(R,3)===110?100:m){case 100:case 108:case 109:case 115:_f(t,M,M,n&&Vu(NS(t,M,M,0,0,i,a,x,i,T=[],p,P),P),i,P,p,a,n?T:P);break;default:_f(R,M,M,M,[""],P,0,a,P)}}c=d=y=0,S=E=1,x=R="",p=o;break;case 58:p=1+vi(R),y=_;default:if(S<1){if(b==123)--S;else if(b==125&&S++==0&&Y3()==125)continue}switch(R+=W1(b),b*S){case 38:E=d>0?1:(R+="\f",-1);break;case 44:a[c++]=(vi(R)-1)*E,E=1;break;case 64:jo()===45&&(R+=Sv(Hn())),m=jo(),d=p=vi(x=R+=eF(yf())),b++;break;case 45:_===45&&vi(R)==2&&(S=0)}}return s}function NS(t,e,r,n,i,s,o,a,h,c,d,p){for(var m=i-1,y=i===0?s:[""],_=gI(y),S=0,A=0,E=0;S<n;++S)for(var b=0,x=Dl(t,m+1,m=pI(A=o[S])),T=t;b<_;++b)(T=mI(A>0?y[b]+" "+x:Re(x,/&\f/g,y[b])))&&(h[E++]=T);return cm(t,e,r,i===0?um:a,h,c,d,p)}function rF(t,e,r,n){return cm(t,e,r,dI,W1(X3()),Dl(t,2,-2),0,n)}function FS(t,e,r,n,i){return cm(t,e,r,j1,Dl(t,0,n),Dl(t,n+1,-1),n,i)}function yI(t,e,r){switch(W3(t,e)){case 5103:return Xe+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Xe+t+t;case 4789:return fh+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Xe+t+fh+t+rt+t+t;case 5936:switch(Ht(t,e+11)){case 114:return Xe+t+rt+Re(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Xe+t+rt+Re(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Xe+t+rt+Re(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return Xe+t+rt+t+t;case 6165:return Xe+t+rt+"flex-"+t+t;case 5187:return Xe+t+Re(t,/(\w+).+(:[^]+)/,Xe+"box-$1$2"+rt+"flex-$1$2")+t;case 5443:return Xe+t+rt+"flex-item-"+Re(t,/flex-|-self/g,"")+(Wi(t,/flex-|baseline/)?"":rt+"grid-row-"+Re(t,/flex-|-self/g,""))+t;case 4675:return Xe+t+rt+"flex-line-pack"+Re(t,/align-content|flex-|-self/g,"")+t;case 5548:return Xe+t+rt+Re(t,"shrink","negative")+t;case 5292:return Xe+t+rt+Re(t,"basis","preferred-size")+t;case 6060:return Xe+"box-"+Re(t,"-grow","")+Xe+t+rt+Re(t,"grow","positive")+t;case 4554:return Xe+Re(t,/([^-])(transform)/g,"$1"+Xe+"$2")+t;case 6187:return Re(Re(Re(t,/(zoom-|grab)/,Xe+"$1"),/(image-set)/,Xe+"$1"),t,"")+t;case 5495:case 3959:return Re(t,/(image-set\([^]*)/,Xe+"$1$`$1");case 4968:return Re(Re(t,/(.+:)(flex-)?(.*)/,Xe+"box-pack:$3"+rt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Xe+t+t;case 4200:if(!Wi(t,/flex-|baseline/))return rt+"grid-column-align"+Dl(t,e)+t;break;case 2592:case 3360:return rt+Re(t,"template-","")+t;case 4384:case 3616:return r&&r.some(function(n,i){return e=i,Wi(n.props,/grid-\w+-end/)})?~vf(t+(r=r[e].value),"span",0)?t:rt+Re(t,"-start","")+t+rt+"grid-row-span:"+(~vf(r,"span",0)?Wi(r,/\d+/):+Wi(r,/\d+/)-+Wi(t,/\d+/))+";":rt+Re(t,"-start","")+t;case 4896:case 4128:return r&&r.some(function(n){return Wi(n.props,/grid-\w+-start/)})?t:rt+Re(Re(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return Re(t,/(.+)-inline(.+)/,Xe+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(vi(t)-1-e>6)switch(Ht(t,e+1)){case 109:if(Ht(t,e+4)!==45)break;case 102:return Re(t,/(.+:)(.+)-([^]+)/,"$1"+Xe+"$2-$3$1"+fh+(Ht(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~vf(t,"stretch",0)?yI(Re(t,"stretch","fill-available"),e,r)+t:t}break;case 5152:case 5920:return Re(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(n,i,s,o,a,h,c){return rt+i+":"+s+c+(o?rt+i+"-span:"+(a?h:+h-+s)+c:"")+t});case 4949:if(Ht(t,e+6)===121)return Re(t,":",":"+Xe)+t;break;case 6444:switch(Ht(t,Ht(t,14)===45?18:11)){case 120:return Re(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+Xe+(Ht(t,14)===45?"inline-":"")+"box$3$1"+Xe+"$2$3$1"+rt+"$2box$3")+t;case 100:return Re(t,":",":"+rt)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return Re(t,"scroll-","scroll-snap-")+t}return t}function hp(t,e){for(var r="",n=0;n<t.length;n++)r+=e(t[n],n,t,e)||"";return r}function nF(t,e,r,n){switch(t.type){case j3:if(t.children.length)break;case H3:case j1:return t.return=t.return||t.value;case dI:return"";case fI:return t.return=t.value+"{"+hp(t.children,n)+"}";case um:if(!vi(t.value=t.props.join(",")))return""}return vi(r=hp(t.children,n))?t.return=t.value+"{"+r+"}":""}function iF(t){var e=gI(t);return function(r,n,i,s){for(var o="",a=0;a<e;a++)o+=t[a](r,n,i,s)||"";return o}}function sF(t){return function(e){e.root||(e=e.return)&&t(e)}}function oF(t,e,r,n){if(t.length>-1&&!t.return)switch(t.type){case j1:t.return=yI(t.value,t.length,r);return;case fI:return hp([Ps(t,{value:Re(t.value,"@","@"+Xe)})],n);case um:if(t.length)return V3(r=t.props,function(i){switch(Wi(i,n=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":ka(Ps(t,{props:[Re(i,/:(read-\w+)/,":"+fh+"$1")]})),ka(Ps(t,{props:[i]})),P0(t,{props:DS(r,n)});break;case"::placeholder":ka(Ps(t,{props:[Re(i,/:(plac\w+)/,":"+Xe+"input-$1")]})),ka(Ps(t,{props:[Re(i,/:(plac\w+)/,":"+fh+"$1")]})),ka(Ps(t,{props:[Re(i,/:(plac\w+)/,rt+"input-$1")]})),ka(Ps(t,{props:[i]})),P0(t,{props:DS(r,n)});break}return""})}}var aF={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Br={},Fl=typeof process<"u"&&Br!==void 0&&(Br.REACT_APP_SC_ATTR||Br.SC_ATTR)||"data-styled",_I="active",xI="data-styled-version",fm="6.1.12",V1=`/*!sc*/
`,cp=typeof window<"u"&&"HTMLElement"in window,lF=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&Br!==void 0&&Br.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&Br.REACT_APP_SC_DISABLE_SPEEDY!==""?Br.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Br.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&Br!==void 0&&Br.SC_DISABLE_SPEEDY!==void 0&&Br.SC_DISABLE_SPEEDY!==""&&Br.SC_DISABLE_SPEEDY!=="false"&&Br.SC_DISABLE_SPEEDY),uF={},pm=Object.freeze([]),Bl=Object.freeze({});function wI(t,e,r){return r===void 0&&(r=Bl),t.theme!==r.theme&&t.theme||e||r.theme}var bI=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),hF=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,cF=/(^-|-$)/g;function BS(t){return t.replace(hF,"-").replace(cF,"")}var dF=/(a)(d)/gi,Sd=52,LS=function(t){return String.fromCharCode(t+(t>25?39:97))};function O0(t){var e,r="";for(e=Math.abs(t);e>Sd;e=e/Sd|0)r=LS(e%Sd)+r;return(LS(e%Sd)+r).replace(dF,"$1-$2")}var Ev,SI=5381,ll=function(t,e){for(var r=e.length;r;)t=33*t^e.charCodeAt(--r);return t},EI=function(t){return ll(SI,t)};function TI(t){return O0(EI(t)>>>0)}function fF(t){return t.displayName||t.name||"Component"}function Tv(t){return typeof t=="string"&&!0}var AI=typeof Symbol=="function"&&Symbol.for,CI=AI?Symbol.for("react.memo"):60115,pF=AI?Symbol.for("react.forward_ref"):60112,mF={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},gF={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},PI={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},vF=((Ev={})[pF]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Ev[CI]=PI,Ev);function US(t){return("type"in(e=t)&&e.type.$$typeof)===CI?PI:"$$typeof"in t?vF[t.$$typeof]:mF;var e}var yF=Object.defineProperty,_F=Object.getOwnPropertyNames,zS=Object.getOwnPropertySymbols,xF=Object.getOwnPropertyDescriptor,wF=Object.getPrototypeOf,$S=Object.prototype;function II(t,e,r){if(typeof e!="string"){if($S){var n=wF(e);n&&n!==$S&&II(t,n,r)}var i=_F(e);zS&&(i=i.concat(zS(e)));for(var s=US(t),o=US(e),a=0;a<i.length;++a){var h=i[a];if(!(h in gF||r&&r[h]||o&&h in o||s&&h in s)){var c=xF(e,h);try{yF(t,h,c)}catch{}}}}return t}function Ll(t){return typeof t=="function"}function X1(t){return typeof t=="object"&&"styledComponentId"in t}function zo(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function M0(t,e){if(t.length===0)return"";for(var r=t[0],n=1;n<t.length;n++)r+=t[n];return r}function $h(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function k0(t,e,r){if(r===void 0&&(r=!1),!r&&!$h(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var n=0;n<e.length;n++)t[n]=k0(t[n],e[n]);else if($h(e))for(var n in e)t[n]=k0(t[n],e[n]);return t}function Y1(t,e){Object.defineProperty(t,"toString",{value:e})}function ac(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var bF=function(){function t(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return t.prototype.indexOfGroup=function(e){for(var r=0,n=0;n<e;n++)r+=this.groupSizes[n];return r},t.prototype.insertRules=function(e,r){if(e>=this.groupSizes.length){for(var n=this.groupSizes,i=n.length,s=i;e>=s;)if((s<<=1)<0)throw ac(16,"".concat(e));this.groupSizes=new Uint32Array(s),this.groupSizes.set(n),this.length=s;for(var o=i;o<s;o++)this.groupSizes[o]=0}for(var a=this.indexOfGroup(e+1),h=(o=0,r.length);o<h;o++)this.tag.insertRule(a,r[o])&&(this.groupSizes[e]++,a++)},t.prototype.clearGroup=function(e){if(e<this.length){var r=this.groupSizes[e],n=this.indexOfGroup(e),i=n+r;this.groupSizes[e]=0;for(var s=n;s<i;s++)this.tag.deleteRule(n)}},t.prototype.getGroup=function(e){var r="";if(e>=this.length||this.groupSizes[e]===0)return r;for(var n=this.groupSizes[e],i=this.indexOfGroup(e),s=i+n,o=i;o<s;o++)r+="".concat(this.tag.getRule(o)).concat(V1);return r},t}(),xf=new Map,dp=new Map,wf=1,Ed=function(t){if(xf.has(t))return xf.get(t);for(;dp.has(wf);)wf++;var e=wf++;return xf.set(t,e),dp.set(e,t),e},SF=function(t,e){wf=e+1,xf.set(t,e),dp.set(e,t)},EF="style[".concat(Fl,"][").concat(xI,'="').concat(fm,'"]'),TF=new RegExp("^".concat(Fl,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),AF=function(t,e,r){for(var n,i=r.split(","),s=0,o=i.length;s<o;s++)(n=i[s])&&t.registerName(e,n)},CF=function(t,e){for(var r,n=((r=e.textContent)!==null&&r!==void 0?r:"").split(V1),i=[],s=0,o=n.length;s<o;s++){var a=n[s].trim();if(a){var h=a.match(TF);if(h){var c=0|parseInt(h[1],10),d=h[2];c!==0&&(SF(d,c),AF(t,d,h[3]),t.getTag().insertRules(c,i)),i.length=0}else i.push(a)}}},GS=function(t){for(var e=document.querySelectorAll(EF),r=0,n=e.length;r<n;r++){var i=e[r];i&&i.getAttribute(Fl)!==_I&&(CF(t,i),i.parentNode&&i.parentNode.removeChild(i))}};function PF(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var RI=function(t){var e=document.head,r=t||e,n=document.createElement("style"),i=function(a){var h=Array.from(a.querySelectorAll("style[".concat(Fl,"]")));return h[h.length-1]}(r),s=i!==void 0?i.nextSibling:null;n.setAttribute(Fl,_I),n.setAttribute(xI,fm);var o=PF();return o&&n.setAttribute("nonce",o),r.insertBefore(n,s),n},IF=function(){function t(e){this.element=RI(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(r){if(r.sheet)return r.sheet;for(var n=document.styleSheets,i=0,s=n.length;i<s;i++){var o=n[i];if(o.ownerNode===r)return o}throw ac(17)}(this.element),this.length=0}return t.prototype.insertRule=function(e,r){try{return this.sheet.insertRule(r,e),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.prototype.getRule=function(e){var r=this.sheet.cssRules[e];return r&&r.cssText?r.cssText:""},t}(),RF=function(){function t(e){this.element=RI(e),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(e,r){if(e<=this.length&&e>=0){var n=document.createTextNode(r);return this.element.insertBefore(n,this.nodes[e]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},t}(),OF=function(){function t(e){this.rules=[],this.length=0}return t.prototype.insertRule=function(e,r){return e<=this.length&&(this.rules.splice(e,0,r),this.length++,!0)},t.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},t}(),HS=cp,MF={isServer:!cp,useCSSOMInjection:!lF},fp=function(){function t(e,r,n){e===void 0&&(e=Bl),r===void 0&&(r={});var i=this;this.options=lr(lr({},MF),e),this.gs=r,this.names=new Map(n),this.server=!!e.isServer,!this.server&&cp&&HS&&(HS=!1,GS(this)),Y1(this,function(){return function(s){for(var o=s.getTag(),a=o.length,h="",c=function(p){var m=function(E){return dp.get(E)}(p);if(m===void 0)return"continue";var y=s.names.get(m),_=o.getGroup(p);if(y===void 0||!y.size||_.length===0)return"continue";var S="".concat(Fl,".g").concat(p,'[id="').concat(m,'"]'),A="";y!==void 0&&y.forEach(function(E){E.length>0&&(A+="".concat(E,","))}),h+="".concat(_).concat(S,'{content:"').concat(A,'"}').concat(V1)},d=0;d<a;d++)c(d);return h}(i)})}return t.registerId=function(e){return Ed(e)},t.prototype.rehydrate=function(){!this.server&&cp&&GS(this)},t.prototype.reconstructWithOptions=function(e,r){return r===void 0&&(r=!0),new t(lr(lr({},this.options),e),this.gs,r&&this.names||void 0)},t.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(e=function(r){var n=r.useCSSOMInjection,i=r.target;return r.isServer?new OF(i):n?new IF(i):new RF(i)}(this.options),new bF(e)));var e},t.prototype.hasNameForId=function(e,r){return this.names.has(e)&&this.names.get(e).has(r)},t.prototype.registerName=function(e,r){if(Ed(e),this.names.has(e))this.names.get(e).add(r);else{var n=new Set;n.add(r),this.names.set(e,n)}},t.prototype.insertRules=function(e,r,n){this.registerName(e,r),this.getTag().insertRules(Ed(e),n)},t.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.prototype.clearRules=function(e){this.getTag().clearGroup(Ed(e)),this.clearNames(e)},t.prototype.clearTag=function(){this.tag=void 0},t}(),kF=/&/g,DF=/^\s*\/\/.*$/gm;function OI(t,e){return t.map(function(r){return r.type==="rule"&&(r.value="".concat(e," ").concat(r.value),r.value=r.value.replaceAll(",",",".concat(e," ")),r.props=r.props.map(function(n){return"".concat(e," ").concat(n)})),Array.isArray(r.children)&&r.type!=="@keyframes"&&(r.children=OI(r.children,e)),r})}function NF(t){var e,r,n,i=Bl,s=i.options,o=s===void 0?Bl:s,a=i.plugins,h=a===void 0?pm:a,c=function(m,y,_){return _.startsWith(r)&&_.endsWith(r)&&_.replaceAll(r,"").length>0?".".concat(e):m},d=h.slice();d.push(function(m){m.type===um&&m.value.includes("&")&&(m.props[0]=m.props[0].replace(kF,r).replace(n,c))}),o.prefix&&d.push(oF),d.push(nF);var p=function(m,y,_,S){y===void 0&&(y=""),_===void 0&&(_=""),S===void 0&&(S="&"),e=S,r=y,n=new RegExp("\\".concat(r,"\\b"),"g");var A=m.replace(DF,""),E=tF(_||y?"".concat(_," ").concat(y," { ").concat(A," }"):A);o.namespace&&(E=OI(E,o.namespace));var b=[];return hp(E,iF(d.concat(sF(function(x){return b.push(x)})))),b};return p.hash=h.length?h.reduce(function(m,y){return y.name||ac(15),ll(m,y.name)},SI).toString():"",p}var FF=new fp,D0=NF(),MI=ht.createContext({shouldForwardProp:void 0,styleSheet:FF,stylis:D0});MI.Consumer;ht.createContext(void 0);function N0(){return Ee.useContext(MI)}var BF=function(){function t(e,r){var n=this;this.inject=function(i,s){s===void 0&&(s=D0);var o=n.name+s.hash;i.hasNameForId(n.id,o)||i.insertRules(n.id,o,s(n.rules,o,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=r,Y1(this,function(){throw ac(12,String(n.name))})}return t.prototype.getName=function(e){return e===void 0&&(e=D0),this.name+e.hash},t}(),LF=function(t){return t>="A"&&t<="Z"};function jS(t){for(var e="",r=0;r<t.length;r++){var n=t[r];if(r===1&&n==="-"&&t[0]==="-")return t;LF(n)?e+="-"+n.toLowerCase():e+=n}return e.startsWith("ms-")?"-"+e:e}var kI=function(t){return t==null||t===!1||t===""},DI=function(t){var e,r,n=[];for(var i in t){var s=t[i];t.hasOwnProperty(i)&&!kI(s)&&(Array.isArray(s)&&s.isCss||Ll(s)?n.push("".concat(jS(i),":"),s,";"):$h(s)?n.push.apply(n,zh(zh(["".concat(i," {")],DI(s),!1),["}"],!1)):n.push("".concat(jS(i),": ").concat((e=i,(r=s)==null||typeof r=="boolean"||r===""?"":typeof r!="number"||r===0||e in aF||e.startsWith("--")?String(r).trim():"".concat(r,"px")),";")))}return n};function Zs(t,e,r,n){if(kI(t))return[];if(X1(t))return[".".concat(t.styledComponentId)];if(Ll(t)){if(!Ll(s=t)||s.prototype&&s.prototype.isReactComponent||!e)return[t];var i=t(e);return Zs(i,e,r,n)}var s;return t instanceof BF?r?(t.inject(r,n),[t.getName(n)]):[t]:$h(t)?DI(t):Array.isArray(t)?Array.prototype.concat.apply(pm,t.map(function(o){return Zs(o,e,r,n)})):[t.toString()]}function NI(t){for(var e=0;e<t.length;e+=1){var r=t[e];if(Ll(r)&&!X1(r))return!1}return!0}var UF=EI(fm),zF=function(){function t(e,r,n){this.rules=e,this.staticRulesId="",this.isStatic=(n===void 0||n.isStatic)&&NI(e),this.componentId=r,this.baseHash=ll(UF,r),this.baseStyle=n,fp.registerId(r)}return t.prototype.generateAndInjectStyles=function(e,r,n){var i=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,r,n):"";if(this.isStatic&&!n.hash)if(this.staticRulesId&&r.hasNameForId(this.componentId,this.staticRulesId))i=zo(i,this.staticRulesId);else{var s=M0(Zs(this.rules,e,r,n)),o=O0(ll(this.baseHash,s)>>>0);if(!r.hasNameForId(this.componentId,o)){var a=n(s,".".concat(o),void 0,this.componentId);r.insertRules(this.componentId,o,a)}i=zo(i,o),this.staticRulesId=o}else{for(var h=ll(this.baseHash,n.hash),c="",d=0;d<this.rules.length;d++){var p=this.rules[d];if(typeof p=="string")c+=p;else if(p){var m=M0(Zs(p,e,r,n));h=ll(h,m+d),c+=m}}if(c){var y=O0(h>>>0);r.hasNameForId(this.componentId,y)||r.insertRules(this.componentId,y,n(c,".".concat(y),void 0,this.componentId)),i=zo(i,y)}}return i},t}(),K1=ht.createContext(void 0);K1.Consumer;var Av={};function $F(t,e,r){var n=X1(t),i=t,s=!Tv(t),o=e.attrs,a=o===void 0?pm:o,h=e.componentId,c=h===void 0?function(T,P){var M=typeof T!="string"?"sc":BS(T);Av[M]=(Av[M]||0)+1;var R="".concat(M,"-").concat(TI(fm+M+Av[M]));return P?"".concat(P,"-").concat(R):R}(e.displayName,e.parentComponentId):h,d=e.displayName,p=d===void 0?function(T){return Tv(T)?"styled.".concat(T):"Styled(".concat(fF(T),")")}(t):d,m=e.displayName&&e.componentId?"".concat(BS(e.displayName),"-").concat(e.componentId):e.componentId||c,y=n&&i.attrs?i.attrs.concat(a).filter(Boolean):a,_=e.shouldForwardProp;if(n&&i.shouldForwardProp){var S=i.shouldForwardProp;if(e.shouldForwardProp){var A=e.shouldForwardProp;_=function(T,P){return S(T,P)&&A(T,P)}}else _=S}var E=new zF(r,m,n?i.componentStyle:void 0);function b(T,P){return function(M,R,D){var W=M.attrs,V=M.componentStyle,pe=M.defaultProps,J=M.foldedComponentIds,B=M.styledComponentId,X=M.target,ie=ht.useContext(K1),me=N0(),ae=M.shouldForwardProp||me.shouldForwardProp,O=wI(R,ie,pe)||Bl,$=function(Ne,Te,ke){for(var st,et=lr(lr({},Te),{className:void 0,theme:ke}),Ke=0;Ke<Ne.length;Ke+=1){var Pe=Ll(st=Ne[Ke])?st(et):st;for(var Be in Pe)et[Be]=Be==="className"?zo(et[Be],Pe[Be]):Be==="style"?lr(lr({},et[Be]),Pe[Be]):Pe[Be]}return Te.className&&(et.className=zo(et.className,Te.className)),et}(W,R,O),N=$.as||X,U={};for(var Z in $)$[Z]===void 0||Z[0]==="$"||Z==="as"||Z==="theme"&&$.theme===O||(Z==="forwardedAs"?U.as=$.forwardedAs:ae&&!ae(Z,N)||(U[Z]=$[Z]));var Ae=function(Ne,Te){var ke=N0(),st=Ne.generateAndInjectStyles(Te,ke.styleSheet,ke.stylis);return st}(V,$),we=zo(J,B);return Ae&&(we+=" "+Ae),$.className&&(we+=" "+$.className),U[Tv(N)&&!bI.has(N)?"class":"className"]=we,U.ref=D,Ee.createElement(N,U)}(x,T,P)}b.displayName=p;var x=ht.forwardRef(b);return x.attrs=y,x.componentStyle=E,x.displayName=p,x.shouldForwardProp=_,x.foldedComponentIds=n?zo(i.foldedComponentIds,i.styledComponentId):"",x.styledComponentId=m,x.target=n?i.target:t,Object.defineProperty(x,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(T){this._foldedDefaultProps=n?function(P){for(var M=[],R=1;R<arguments.length;R++)M[R-1]=arguments[R];for(var D=0,W=M;D<W.length;D++)k0(P,W[D],!0);return P}({},i.defaultProps,T):T}}),Y1(x,function(){return".".concat(x.styledComponentId)}),s&&II(x,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),x}function WS(t,e){for(var r=[t[0]],n=0,i=e.length;n<i;n+=1)r.push(e[n],t[n+1]);return r}var VS=function(t){return Object.assign(t,{isCss:!0})};function Gh(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(Ll(t)||$h(t))return VS(Zs(WS(pm,zh([t],e,!0))));var n=t;return e.length===0&&n.length===1&&typeof n[0]=="string"?Zs(n):VS(Zs(WS(n,e)))}function F0(t,e,r){if(r===void 0&&(r=Bl),!e)throw ac(1,e);var n=function(i){for(var s=[],o=1;o<arguments.length;o++)s[o-1]=arguments[o];return t(e,r,Gh.apply(void 0,zh([i],s,!1)))};return n.attrs=function(i){return F0(t,e,lr(lr({},r),{attrs:Array.prototype.concat(r.attrs,i).filter(Boolean)}))},n.withConfig=function(i){return F0(t,e,lr(lr({},r),i))},n}var FI=function(t){return F0($F,t)},da=FI;bI.forEach(function(t){da[t]=FI(t)});var GF=function(){function t(e,r){this.rules=e,this.componentId=r,this.isStatic=NI(e),fp.registerId(this.componentId+1)}return t.prototype.createStyles=function(e,r,n,i){var s=i(M0(Zs(this.rules,r,n,i)),""),o=this.componentId+e;n.insertRules(o,o,s)},t.prototype.removeStyles=function(e,r){r.clearRules(this.componentId+e)},t.prototype.renderStyles=function(e,r,n,i){e>2&&fp.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,r,n,i)},t}();function HF(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var n=Gh.apply(void 0,zh([t],e,!1)),i="sc-global-".concat(TI(JSON.stringify(n))),s=new GF(n,i),o=function(h){var c=N0(),d=ht.useContext(K1),p=ht.useRef(c.styleSheet.allocateGSInstance(i)).current;return c.styleSheet.server&&a(p,h,c.styleSheet,d,c.stylis),ht.useLayoutEffect(function(){if(!c.styleSheet.server)return a(p,h,c.styleSheet,d,c.stylis),function(){return s.removeStyles(p,c.styleSheet)}},[p,h,c.styleSheet,d,c.stylis]),null};function a(h,c,d,p,m){if(s.isStatic)s.renderStyles(h,uF,d,m);else{var y=lr(lr({},c),{theme:wI(c,p,o.defaultProps)});s.renderStyles(h,y,d,m)}}return ht.memo(o)}const jF=da.button`
  padding: ${t=>t.$icon?"5px":"0"};
  color: #333;
  font-size: 1em;
  border: ${t=>t.$icon?"1px solid #b3b0b0":"none"};
  background-color: ${t=>t.$icon?"#fff":"transparent"};
  cursor: pointer;
  ${t=>{if(t.$absolute)return Gh`
        position: absolute;
        top: 1em;
        left: 1em;
      `}}

  ${t=>{if(t.$icon)return Gh`
        border-radius: 10px;
        box-shadow: 3px 3px 0px 0px rgba(179, 176, 176, 0.5);
        & svg path {
          stroke: #333;
          stroke-width: 2;
        }
      `}}
`,XS=da.button`
  width: 60px;
  height: 60px;
  color: #fff;
  background-color: ${t=>t.$color?t.$color:"#fff"};
  border: 1px solid #b3b0b0;
  border-radius: 10px;
  box-shadow: 2px 2px 0px 0px rgba(179, 176, 176, 0.5);
  cursor: pointer;
  ${t=>{if(t.$color)return Gh`
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.5em;
      `}}
`,WF=da.div`
  position: relative;
  display: flex;
  flex-direction: column;
`,VF=da.div`
  height: 90vh;
`,XF=()=>Le.jsx("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Le.jsx("path",{d:"M20 8L12 16L20 24"})}),YF=()=>{qt.saveCanvas()},KF=({editor:t,pallete:e})=>Le.jsxs(WF,{children:[Le.jsx(jF,{$absolute:!0,$icon:!0,onClick:()=>YF(),children:Le.jsx(XF,{})}),t,e]});var mm={exports:{}},fa=(t=>(t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2",t))(fa||{}),BI=(t=>(t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS",t))(BI||{}),B0=(t=>(t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL",t))(B0||{}),xe=(t=>(t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR",t))(xe||{}),Bn=(t=>(t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN",t))(Bn||{}),q=(t=>(t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL",t))(q||{}),yl=(t=>(t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",t))(yl||{}),ge=(t=>(t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT",t))(ge||{}),se=(t=>(t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT",t))(se||{}),qi=(t=>(t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR",t))(qi||{}),ns=(t=>(t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",t))(ns||{}),Ri=(t=>(t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL",t))(Ri||{}),Cr=(t=>(t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",t))(Cr||{}),yi=(t=>(t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT",t))(yi||{}),Q1=(t=>(t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL",t))(Q1||{}),mn=(t=>(t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp",t))(mn||{}),kt=(t=>(t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE",t[t.COLOR=4]="COLOR",t))(kt||{}),Pt=(t=>(t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH",t))(Pt||{}),Pi=(t=>(t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",t))(Pi||{});const QF={createCanvas:(t,e)=>{const r=document.createElement("canvas");return r.width=t,r.height=e,r},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(t,e)=>fetch(t,e),parseXML:t=>new DOMParser().parseFromString(t,"text/xml")},oe={ADAPTER:QF,RESOLUTION:1,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};var Cv=/iPhone/i,YS=/iPod/i,KS=/iPad/i,QS=/\biOS-universal(?:.+)Mac\b/i,Pv=/\bAndroid(?:.+)Mobile\b/i,qS=/Android/i,Da=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,Td=/Silk/i,zi=/Windows Phone/i,ZS=/\bWindows(?:.+)ARM\b/i,JS=/BlackBerry/i,eE=/BB10/i,tE=/Opera Mini/i,rE=/\b(CriOS|Chrome)(?:.+)Mobile/i,nE=/Mobile(?:.+)Firefox\b/i,iE=function(t){return typeof t<"u"&&t.platform==="MacIntel"&&typeof t.maxTouchPoints=="number"&&t.maxTouchPoints>1&&typeof MSStream>"u"};function qF(t){return function(e){return e.test(t)}}function sE(t){var e={userAgent:"",platform:"",maxTouchPoints:0};!t&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof t=="string"?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0});var r=e.userAgent,n=r.split("[FBAN");typeof n[1]<"u"&&(r=n[0]),n=r.split("Twitter"),typeof n[1]<"u"&&(r=n[0]);var i=qF(r),s={apple:{phone:i(Cv)&&!i(zi),ipod:i(YS),tablet:!i(Cv)&&(i(KS)||iE(e))&&!i(zi),universal:i(QS),device:(i(Cv)||i(YS)||i(KS)||i(QS)||iE(e))&&!i(zi)},amazon:{phone:i(Da),tablet:!i(Da)&&i(Td),device:i(Da)||i(Td)},android:{phone:!i(zi)&&i(Da)||!i(zi)&&i(Pv),tablet:!i(zi)&&!i(Da)&&!i(Pv)&&(i(Td)||i(qS)),device:!i(zi)&&(i(Da)||i(Td)||i(Pv)||i(qS))||i(/\bokhttp\b/i)},windows:{phone:i(zi),tablet:i(ZS),device:i(zi)||i(ZS)},other:{blackberry:i(JS),blackberry10:i(eE),opera:i(tE),firefox:i(nE),chrome:i(rE),device:i(JS)||i(eE)||i(tE)||i(nE)||i(rE)},any:!1,phone:!1,tablet:!1};return s.any=s.apple.device||s.android.device||s.windows.device||s.other.device,s.phone=s.apple.phone||s.android.phone||s.windows.phone,s.tablet=s.apple.tablet||s.android.tablet||s.windows.tablet,s}const ZF=sE.default??sE,Zi=ZF(globalThis.navigator);oe.RETINA_PREFIX=/@([0-9\.]+)x/;oe.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var LI={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(h,c,d){this.fn=h,this.context=c,this.once=d||!1}function s(h,c,d,p,m){if(typeof d!="function")throw new TypeError("The listener must be a function");var y=new i(d,p||h,m),_=r?r+c:c;return h._events[_]?h._events[_].fn?h._events[_]=[h._events[_],y]:h._events[_].push(y):(h._events[_]=y,h._eventsCount++),h}function o(h,c){--h._eventsCount===0?h._events=new n:delete h._events[c]}function a(){this._events=new n,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],d,p;if(this._eventsCount===0)return c;for(p in d=this._events)e.call(d,p)&&c.push(r?p.slice(1):p);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},a.prototype.listeners=function(c){var d=r?r+c:c,p=this._events[d];if(!p)return[];if(p.fn)return[p.fn];for(var m=0,y=p.length,_=new Array(y);m<y;m++)_[m]=p[m].fn;return _},a.prototype.listenerCount=function(c){var d=r?r+c:c,p=this._events[d];return p?p.fn?1:p.length:0},a.prototype.emit=function(c,d,p,m,y,_){var S=r?r+c:c;if(!this._events[S])return!1;var A=this._events[S],E=arguments.length,b,x;if(A.fn){switch(A.once&&this.removeListener(c,A.fn,void 0,!0),E){case 1:return A.fn.call(A.context),!0;case 2:return A.fn.call(A.context,d),!0;case 3:return A.fn.call(A.context,d,p),!0;case 4:return A.fn.call(A.context,d,p,m),!0;case 5:return A.fn.call(A.context,d,p,m,y),!0;case 6:return A.fn.call(A.context,d,p,m,y,_),!0}for(x=1,b=new Array(E-1);x<E;x++)b[x-1]=arguments[x];A.fn.apply(A.context,b)}else{var T=A.length,P;for(x=0;x<T;x++)switch(A[x].once&&this.removeListener(c,A[x].fn,void 0,!0),E){case 1:A[x].fn.call(A[x].context);break;case 2:A[x].fn.call(A[x].context,d);break;case 3:A[x].fn.call(A[x].context,d,p);break;case 4:A[x].fn.call(A[x].context,d,p,m);break;default:if(!b)for(P=1,b=new Array(E-1);P<E;P++)b[P-1]=arguments[P];A[x].fn.apply(A[x].context,b)}}return!0},a.prototype.on=function(c,d,p){return s(this,c,d,p,!1)},a.prototype.once=function(c,d,p){return s(this,c,d,p,!0)},a.prototype.removeListener=function(c,d,p,m){var y=r?r+c:c;if(!this._events[y])return this;if(!d)return o(this,y),this;var _=this._events[y];if(_.fn)_.fn===d&&(!m||_.once)&&(!p||_.context===p)&&o(this,y);else{for(var S=0,A=[],E=_.length;S<E;S++)(_[S].fn!==d||m&&!_[S].once||p&&_[S].context!==p)&&A.push(_[S]);A.length?this._events[y]=A.length===1?A[0]:A:o(this,y)}return this},a.prototype.removeAllListeners=function(c){var d;return c?(d=r?r+c:c,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,t.exports=a})(LI);var JF=LI.exports;const lc=qh(JF);var q1={exports:{}};q1.exports=gm;q1.exports.default=gm;function gm(t,e,r){r=r||2;var n=e&&e.length,i=n?e[0]*r:t.length,s=UI(t,0,i,r,!0),o=[];if(!s||s.next===s.prev)return o;var a,h,c,d,p,m,y;if(n&&(s=iB(t,e,s,r)),t.length>80*r){a=c=t[0],h=d=t[1];for(var _=r;_<i;_+=r)p=t[_],m=t[_+1],p<a&&(a=p),m<h&&(h=m),p>c&&(c=p),m>d&&(d=m);y=Math.max(c-a,d-h),y=y!==0?32767/y:0}return Hh(s,o,r,a,h,y,0),o}function UI(t,e,r,n,i){var s,o;if(i===z0(t,e,r,n)>0)for(s=e;s<r;s+=n)o=oE(s,t[s],t[s+1],o);else for(s=r-n;s>=e;s-=n)o=oE(s,t[s],t[s+1],o);return o&&vm(o,o.next)&&(Wh(o),o=o.next),o}function ia(t,e){if(!t)return t;e||(e=t);var r=t,n;do if(n=!1,!r.steiner&&(vm(r,r.next)||mt(r.prev,r,r.next)===0)){if(Wh(r),r=e=r.prev,r===r.next)break;n=!0}else r=r.next;while(n||r!==e);return e}function Hh(t,e,r,n,i,s,o){if(t){!o&&s&&uB(t,n,i,s);for(var a=t,h,c;t.prev!==t.next;){if(h=t.prev,c=t.next,s?tB(t,n,i,s):eB(t)){e.push(h.i/r|0),e.push(t.i/r|0),e.push(c.i/r|0),Wh(t),t=c.next,a=c.next;continue}if(t=c,t===a){o?o===1?(t=rB(ia(t),e,r),Hh(t,e,r,n,i,s,2)):o===2&&nB(t,e,r,n,i,s):Hh(ia(t),e,r,n,i,s,1);break}}}}function eB(t){var e=t.prev,r=t,n=t.next;if(mt(e,r,n)>=0)return!1;for(var i=e.x,s=r.x,o=n.x,a=e.y,h=r.y,c=n.y,d=i<s?i<o?i:o:s<o?s:o,p=a<h?a<c?a:c:h<c?h:c,m=i>s?i>o?i:o:s>o?s:o,y=a>h?a>c?a:c:h>c?h:c,_=n.next;_!==e;){if(_.x>=d&&_.x<=m&&_.y>=p&&_.y<=y&&ul(i,a,s,h,o,c,_.x,_.y)&&mt(_.prev,_,_.next)>=0)return!1;_=_.next}return!0}function tB(t,e,r,n){var i=t.prev,s=t,o=t.next;if(mt(i,s,o)>=0)return!1;for(var a=i.x,h=s.x,c=o.x,d=i.y,p=s.y,m=o.y,y=a<h?a<c?a:c:h<c?h:c,_=d<p?d<m?d:m:p<m?p:m,S=a>h?a>c?a:c:h>c?h:c,A=d>p?d>m?d:m:p>m?p:m,E=L0(y,_,e,r,n),b=L0(S,A,e,r,n),x=t.prevZ,T=t.nextZ;x&&x.z>=E&&T&&T.z<=b;){if(x.x>=y&&x.x<=S&&x.y>=_&&x.y<=A&&x!==i&&x!==o&&ul(a,d,h,p,c,m,x.x,x.y)&&mt(x.prev,x,x.next)>=0||(x=x.prevZ,T.x>=y&&T.x<=S&&T.y>=_&&T.y<=A&&T!==i&&T!==o&&ul(a,d,h,p,c,m,T.x,T.y)&&mt(T.prev,T,T.next)>=0))return!1;T=T.nextZ}for(;x&&x.z>=E;){if(x.x>=y&&x.x<=S&&x.y>=_&&x.y<=A&&x!==i&&x!==o&&ul(a,d,h,p,c,m,x.x,x.y)&&mt(x.prev,x,x.next)>=0)return!1;x=x.prevZ}for(;T&&T.z<=b;){if(T.x>=y&&T.x<=S&&T.y>=_&&T.y<=A&&T!==i&&T!==o&&ul(a,d,h,p,c,m,T.x,T.y)&&mt(T.prev,T,T.next)>=0)return!1;T=T.nextZ}return!0}function rB(t,e,r){var n=t;do{var i=n.prev,s=n.next.next;!vm(i,s)&&zI(i,n,n.next,s)&&jh(i,s)&&jh(s,i)&&(e.push(i.i/r|0),e.push(n.i/r|0),e.push(s.i/r|0),Wh(n),Wh(n.next),n=t=s),n=n.next}while(n!==t);return ia(n)}function nB(t,e,r,n,i,s){var o=t;do{for(var a=o.next.next;a!==o.prev;){if(o.i!==a.i&&dB(o,a)){var h=$I(o,a);o=ia(o,o.next),h=ia(h,h.next),Hh(o,e,r,n,i,s,0),Hh(h,e,r,n,i,s,0);return}a=a.next}o=o.next}while(o!==t)}function iB(t,e,r,n){var i=[],s,o,a,h,c;for(s=0,o=e.length;s<o;s++)a=e[s]*n,h=s<o-1?e[s+1]*n:t.length,c=UI(t,a,h,n,!1),c===c.next&&(c.steiner=!0),i.push(cB(c));for(i.sort(sB),s=0;s<i.length;s++)r=oB(i[s],r);return r}function sB(t,e){return t.x-e.x}function oB(t,e){var r=aB(t,e);if(!r)return e;var n=$I(r,t);return ia(n,n.next),ia(r,r.next)}function aB(t,e){var r=e,n=t.x,i=t.y,s=-1/0,o;do{if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){var a=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(a<=n&&a>s&&(s=a,o=r.x<r.next.x?r:r.next,a===n))return o}r=r.next}while(r!==e);if(!o)return null;var h=o,c=o.x,d=o.y,p=1/0,m;r=o;do n>=r.x&&r.x>=c&&n!==r.x&&ul(i<d?n:s,i,c,d,i<d?s:n,i,r.x,r.y)&&(m=Math.abs(i-r.y)/(n-r.x),jh(r,t)&&(m<p||m===p&&(r.x>o.x||r.x===o.x&&lB(o,r)))&&(o=r,p=m)),r=r.next;while(r!==h);return o}function lB(t,e){return mt(t.prev,t,e.prev)<0&&mt(e.next,t,t.next)<0}function uB(t,e,r,n){var i=t;do i.z===0&&(i.z=L0(i.x,i.y,e,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,hB(i)}function hB(t){var e,r,n,i,s,o,a,h,c=1;do{for(r=t,t=null,s=null,o=0;r;){for(o++,n=r,a=0,e=0;e<c&&(a++,n=n.nextZ,!!n);e++);for(h=c;a>0||h>0&&n;)a!==0&&(h===0||!n||r.z<=n.z)?(i=r,r=r.nextZ,a--):(i=n,n=n.nextZ,h--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;r=n}s.nextZ=null,c*=2}while(o>1);return t}function L0(t,e,r,n,i){return t=(t-r)*i|0,e=(e-n)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function cB(t){var e=t,r=t;do(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next;while(e!==t);return r}function ul(t,e,r,n,i,s,o,a){return(i-o)*(e-a)>=(t-o)*(s-a)&&(t-o)*(n-a)>=(r-o)*(e-a)&&(r-o)*(s-a)>=(i-o)*(n-a)}function dB(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!fB(t,e)&&(jh(t,e)&&jh(e,t)&&pB(t,e)&&(mt(t.prev,t,e.prev)||mt(t,e.prev,e))||vm(t,e)&&mt(t.prev,t,t.next)>0&&mt(e.prev,e,e.next)>0)}function mt(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function vm(t,e){return t.x===e.x&&t.y===e.y}function zI(t,e,r,n){var i=Cd(mt(t,e,r)),s=Cd(mt(t,e,n)),o=Cd(mt(r,n,t)),a=Cd(mt(r,n,e));return!!(i!==s&&o!==a||i===0&&Ad(t,r,e)||s===0&&Ad(t,n,e)||o===0&&Ad(r,t,n)||a===0&&Ad(r,e,n))}function Ad(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function Cd(t){return t>0?1:t<0?-1:0}function fB(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&zI(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}function jh(t,e){return mt(t.prev,t,t.next)<0?mt(t,e,t.next)>=0&&mt(t,t.prev,e)>=0:mt(t,e,t.prev)<0||mt(t,t.next,e)<0}function pB(t,e){var r=t,n=!1,i=(t.x+e.x)/2,s=(t.y+e.y)/2;do r.y>s!=r.next.y>s&&r.next.y!==r.y&&i<(r.next.x-r.x)*(s-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next;while(r!==t);return n}function $I(t,e){var r=new U0(t.i,t.x,t.y),n=new U0(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,r.next=i,i.prev=r,n.next=r,r.prev=n,s.next=n,n.prev=s,n}function oE(t,e,r,n){var i=new U0(t,e,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function Wh(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function U0(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}gm.deviation=function(t,e,r,n){var i=e&&e.length,s=i?e[0]*r:t.length,o=Math.abs(z0(t,0,s,r));if(i)for(var a=0,h=e.length;a<h;a++){var c=e[a]*r,d=a<h-1?e[a+1]*r:t.length;o-=Math.abs(z0(t,c,d,r))}var p=0;for(a=0;a<n.length;a+=3){var m=n[a]*r,y=n[a+1]*r,_=n[a+2]*r;p+=Math.abs((t[m]-t[_])*(t[y+1]-t[m+1])-(t[m]-t[y])*(t[_+1]-t[m+1]))}return o===0&&p===0?0:Math.abs((p-o)/o)};function z0(t,e,r,n){for(var i=0,s=e,o=r-n;s<r;s+=n)i+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return i}gm.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},n=0,i=0;i<t.length;i++){for(var s=0;s<t[i].length;s++)for(var o=0;o<e;o++)r.vertices.push(t[i][s][o]);i>0&&(n+=t[i-1].length,r.holes.push(n))}return r};var mB=q1.exports;const gB=qh(mB);var pp={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */pp.exports;(function(t,e){(function(r){var n=e&&!e.nodeType&&e,i=t&&!t.nodeType&&t,s=typeof th=="object"&&th;(s.global===s||s.window===s||s.self===s)&&(r=s);var o,a=2147483647,h=36,c=1,d=26,p=38,m=700,y=72,_=128,S="-",A=/^xn--/,E=/[^\x20-\x7E]/,b=/[\x2E\u3002\uFF0E\uFF61]/g,x={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},T=h-c,P=Math.floor,M=String.fromCharCode,R;function D(N){throw new RangeError(x[N])}function W(N,U){for(var Z=N.length,Ae=[];Z--;)Ae[Z]=U(N[Z]);return Ae}function V(N,U){var Z=N.split("@"),Ae="";Z.length>1&&(Ae=Z[0]+"@",N=Z[1]),N=N.replace(b,".");var we=N.split("."),Ne=W(we,U).join(".");return Ae+Ne}function pe(N){for(var U=[],Z=0,Ae=N.length,we,Ne;Z<Ae;)we=N.charCodeAt(Z++),we>=55296&&we<=56319&&Z<Ae?(Ne=N.charCodeAt(Z++),(Ne&64512)==56320?U.push(((we&1023)<<10)+(Ne&1023)+65536):(U.push(we),Z--)):U.push(we);return U}function J(N){return W(N,function(U){var Z="";return U>65535&&(U-=65536,Z+=M(U>>>10&1023|55296),U=56320|U&1023),Z+=M(U),Z}).join("")}function B(N){return N-48<10?N-22:N-65<26?N-65:N-97<26?N-97:h}function X(N,U){return N+22+75*(N<26)-((U!=0)<<5)}function ie(N,U,Z){var Ae=0;for(N=Z?P(N/m):N>>1,N+=P(N/U);N>T*d>>1;Ae+=h)N=P(N/T);return P(Ae+(T+1)*N/(N+p))}function me(N){var U=[],Z=N.length,Ae,we=0,Ne=_,Te=y,ke,st,et,Ke,Pe,Be,$e,Yr,Kr;for(ke=N.lastIndexOf(S),ke<0&&(ke=0),st=0;st<ke;++st)N.charCodeAt(st)>=128&&D("not-basic"),U.push(N.charCodeAt(st));for(et=ke>0?ke+1:0;et<Z;){for(Ke=we,Pe=1,Be=h;et>=Z&&D("invalid-input"),$e=B(N.charCodeAt(et++)),($e>=h||$e>P((a-we)/Pe))&&D("overflow"),we+=$e*Pe,Yr=Be<=Te?c:Be>=Te+d?d:Be-Te,!($e<Yr);Be+=h)Kr=h-Yr,Pe>P(a/Kr)&&D("overflow"),Pe*=Kr;Ae=U.length+1,Te=ie(we-Ke,Ae,Ke==0),P(we/Ae)>a-Ne&&D("overflow"),Ne+=P(we/Ae),we%=Ae,U.splice(we++,0,Ne)}return J(U)}function ae(N){var U,Z,Ae,we,Ne,Te,ke,st,et,Ke,Pe,Be=[],$e,Yr,Kr,po;for(N=pe(N),$e=N.length,U=_,Z=0,Ne=y,Te=0;Te<$e;++Te)Pe=N[Te],Pe<128&&Be.push(M(Pe));for(Ae=we=Be.length,we&&Be.push(S);Ae<$e;){for(ke=a,Te=0;Te<$e;++Te)Pe=N[Te],Pe>=U&&Pe<ke&&(ke=Pe);for(Yr=Ae+1,ke-U>P((a-Z)/Yr)&&D("overflow"),Z+=(ke-U)*Yr,U=ke,Te=0;Te<$e;++Te)if(Pe=N[Te],Pe<U&&++Z>a&&D("overflow"),Pe==U){for(st=Z,et=h;Ke=et<=Ne?c:et>=Ne+d?d:et-Ne,!(st<Ke);et+=h)po=st-Ke,Kr=h-Ke,Be.push(M(X(Ke+po%Kr,0))),st=P(po/Kr);Be.push(M(X(st,0))),Ne=ie(Z,Yr,Ae==we),Z=0,++Ae}++Z,++U}return Be.join("")}function O(N){return V(N,function(U){return A.test(U)?me(U.slice(4).toLowerCase()):U})}function $(N){return V(N,function(U){return E.test(U)?"xn--"+ae(U):U})}if(o={version:"1.4.1",ucs2:{decode:pe,encode:J},decode:me,encode:ae,toASCII:$,toUnicode:O},n&&i)if(t.exports==n)i.exports=o;else for(R in o)o.hasOwnProperty(R)&&(n[R]=o[R]);else r.punycode=o})(th)})(pp,pp.exports);var vB=pp.exports,yB=Error,_B=EvalError,xB=RangeError,wB=ReferenceError,GI=SyntaxError,uc=TypeError,bB=URIError,SB=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,r);if(o.value!==i||o.enumerable!==!0)return!1}return!0},aE=typeof Symbol<"u"&&Symbol,EB=SB,TB=function(){return typeof aE!="function"||typeof Symbol!="function"||typeof aE("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:EB()},Iv={__proto__:null,foo:{}},AB=Object,CB=function(){return{__proto__:Iv}.foo===Iv.foo&&!(Iv instanceof AB)},PB="Function.prototype.bind called on incompatible ",IB=Object.prototype.toString,RB=Math.max,OB="[object Function]",lE=function(e,r){for(var n=[],i=0;i<e.length;i+=1)n[i]=e[i];for(var s=0;s<r.length;s+=1)n[s+e.length]=r[s];return n},MB=function(e,r){for(var n=[],i=r,s=0;i<e.length;i+=1,s+=1)n[s]=e[i];return n},kB=function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r},DB=function(e){var r=this;if(typeof r!="function"||IB.apply(r)!==OB)throw new TypeError(PB+r);for(var n=MB(arguments,1),i,s=function(){if(this instanceof i){var d=r.apply(this,lE(n,arguments));return Object(d)===d?d:this}return r.apply(e,lE(n,arguments))},o=RB(0,r.length-n.length),a=[],h=0;h<o;h++)a[h]="$"+h;if(i=Function("binder","return function ("+kB(a,",")+"){ return binder.apply(this,arguments); }")(s),r.prototype){var c=function(){};c.prototype=r.prototype,i.prototype=new c,c.prototype=null}return i},NB=DB,Z1=Function.prototype.bind||NB,FB=Function.prototype.call,BB=Object.prototype.hasOwnProperty,LB=Z1,UB=LB.call(FB,BB),De,zB=yB,$B=_B,GB=xB,HB=wB,Ul=GI,_l=uc,jB=bB,HI=Function,Rv=function(t){try{return HI('"use strict"; return ('+t+").constructor;")()}catch{}},Wo=Object.getOwnPropertyDescriptor;if(Wo)try{Wo({},"")}catch{Wo=null}var Ov=function(){throw new _l},WB=Wo?function(){try{return arguments.callee,Ov}catch{try{return Wo(arguments,"callee").get}catch{return Ov}}}():Ov,Na=TB(),VB=CB(),$t=Object.getPrototypeOf||(VB?function(t){return t.__proto__}:null),za={},XB=typeof Uint8Array>"u"||!$t?De:$t(Uint8Array),Vo={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?De:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?De:ArrayBuffer,"%ArrayIteratorPrototype%":Na&&$t?$t([][Symbol.iterator]()):De,"%AsyncFromSyncIteratorPrototype%":De,"%AsyncFunction%":za,"%AsyncGenerator%":za,"%AsyncGeneratorFunction%":za,"%AsyncIteratorPrototype%":za,"%Atomics%":typeof Atomics>"u"?De:Atomics,"%BigInt%":typeof BigInt>"u"?De:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?De:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?De:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?De:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":zB,"%eval%":eval,"%EvalError%":$B,"%Float32Array%":typeof Float32Array>"u"?De:Float32Array,"%Float64Array%":typeof Float64Array>"u"?De:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?De:FinalizationRegistry,"%Function%":HI,"%GeneratorFunction%":za,"%Int8Array%":typeof Int8Array>"u"?De:Int8Array,"%Int16Array%":typeof Int16Array>"u"?De:Int16Array,"%Int32Array%":typeof Int32Array>"u"?De:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Na&&$t?$t($t([][Symbol.iterator]())):De,"%JSON%":typeof JSON=="object"?JSON:De,"%Map%":typeof Map>"u"?De:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Na||!$t?De:$t(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?De:Promise,"%Proxy%":typeof Proxy>"u"?De:Proxy,"%RangeError%":GB,"%ReferenceError%":HB,"%Reflect%":typeof Reflect>"u"?De:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?De:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Na||!$t?De:$t(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?De:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Na&&$t?$t(""[Symbol.iterator]()):De,"%Symbol%":Na?Symbol:De,"%SyntaxError%":Ul,"%ThrowTypeError%":WB,"%TypedArray%":XB,"%TypeError%":_l,"%Uint8Array%":typeof Uint8Array>"u"?De:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?De:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?De:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?De:Uint32Array,"%URIError%":jB,"%WeakMap%":typeof WeakMap>"u"?De:WeakMap,"%WeakRef%":typeof WeakRef>"u"?De:WeakRef,"%WeakSet%":typeof WeakSet>"u"?De:WeakSet};if($t)try{null.error}catch(t){var YB=$t($t(t));Vo["%Error.prototype%"]=YB}var KB=function t(e){var r;if(e==="%AsyncFunction%")r=Rv("async function () {}");else if(e==="%GeneratorFunction%")r=Rv("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=Rv("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&$t&&(r=$t(i.prototype))}return Vo[e]=r,r},uE={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},hc=Z1,mp=UB,QB=hc.call(Function.call,Array.prototype.concat),qB=hc.call(Function.apply,Array.prototype.splice),hE=hc.call(Function.call,String.prototype.replace),gp=hc.call(Function.call,String.prototype.slice),ZB=hc.call(Function.call,RegExp.prototype.exec),JB=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,eL=/\\(\\)?/g,tL=function(e){var r=gp(e,0,1),n=gp(e,-1);if(r==="%"&&n!=="%")throw new Ul("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new Ul("invalid intrinsic syntax, expected opening `%`");var i=[];return hE(e,JB,function(s,o,a,h){i[i.length]=a?hE(h,eL,"$1"):o||s}),i},rL=function(e,r){var n=e,i;if(mp(uE,n)&&(i=uE[n],n="%"+i[0]+"%"),mp(Vo,n)){var s=Vo[n];if(s===za&&(s=KB(n)),typeof s>"u"&&!r)throw new _l("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:s}}throw new Ul("intrinsic "+e+" does not exist!")},eu=function(e,r){if(typeof e!="string"||e.length===0)throw new _l("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new _l('"allowMissing" argument must be a boolean');if(ZB(/^%?[^%]*%?$/,e)===null)throw new Ul("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=tL(e),i=n.length>0?n[0]:"",s=rL("%"+i+"%",r),o=s.name,a=s.value,h=!1,c=s.alias;c&&(i=c[0],qB(n,QB([0,1],c)));for(var d=1,p=!0;d<n.length;d+=1){var m=n[d],y=gp(m,0,1),_=gp(m,-1);if((y==='"'||y==="'"||y==="`"||_==='"'||_==="'"||_==="`")&&y!==_)throw new Ul("property names with quotes must have matching quotes");if((m==="constructor"||!p)&&(h=!0),i+="."+m,o="%"+i+"%",mp(Vo,o))a=Vo[o];else if(a!=null){if(!(m in a)){if(!r)throw new _l("base intrinsic for "+e+" exists, but the property is not available.");return}if(Wo&&d+1>=n.length){var S=Wo(a,m);p=!!S,p&&"get"in S&&!("originalValue"in S.get)?a=S.get:a=a[m]}else p=mp(a,m),a=a[m];p&&!h&&(Vo[o]=a)}}return a},jI={exports:{}},Mv,cE;function J1(){if(cE)return Mv;cE=1;var t=eu,e=t("%Object.defineProperty%",!0)||!1;if(e)try{e({},"a",{value:1})}catch{e=!1}return Mv=e,Mv}var nL=eu,bf=nL("%Object.getOwnPropertyDescriptor%",!0);if(bf)try{bf([],"length")}catch{bf=null}var WI=bf,dE=J1(),iL=GI,Fa=uc,fE=WI,sL=function(e,r,n){if(!e||typeof e!="object"&&typeof e!="function")throw new Fa("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new Fa("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new Fa("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new Fa("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new Fa("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new Fa("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,s=arguments.length>4?arguments[4]:null,o=arguments.length>5?arguments[5]:null,a=arguments.length>6?arguments[6]:!1,h=!!fE&&fE(e,r);if(dE)dE(e,r,{configurable:o===null&&h?h.configurable:!o,enumerable:i===null&&h?h.enumerable:!i,value:n,writable:s===null&&h?h.writable:!s});else if(a||!i&&!s&&!o)e[r]=n;else throw new iL("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},$0=J1(),VI=function(){return!!$0};VI.hasArrayLengthDefineBug=function(){if(!$0)return null;try{return $0([],"length",{value:1}).length!==1}catch{return!0}};var oL=VI,aL=eu,pE=sL,lL=oL(),mE=WI,gE=uc,uL=aL("%Math.floor%"),hL=function(e,r){if(typeof e!="function")throw new gE("`fn` is not a function");if(typeof r!="number"||r<0||r>4294967295||uL(r)!==r)throw new gE("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],i=!0,s=!0;if("length"in e&&mE){var o=mE(e,"length");o&&!o.configurable&&(i=!1),o&&!o.writable&&(s=!1)}return(i||s||!n)&&(lL?pE(e,"length",r,!0,!0):pE(e,"length",r)),e};(function(t){var e=Z1,r=eu,n=hL,i=uc,s=r("%Function.prototype.apply%"),o=r("%Function.prototype.call%"),a=r("%Reflect.apply%",!0)||e.call(o,s),h=J1(),c=r("%Math.max%");t.exports=function(m){if(typeof m!="function")throw new i("a function is required");var y=a(e,o,arguments);return n(y,1+c(0,m.length-(arguments.length-1)),!0)};var d=function(){return a(e,s,arguments)};h?h(t.exports,"apply",{value:d}):t.exports.apply=d})(jI);var cL=jI.exports,XI=eu,YI=cL,dL=YI(XI("String.prototype.indexOf")),fL=function(e,r){var n=XI(e,!!r);return typeof n=="function"&&dL(e,".prototype.")>-1?YI(n):n};const pL={},mL=Object.freeze(Object.defineProperty({__proto__:null,default:pL},Symbol.toStringTag,{value:"Module"})),gL=cA(mL);var ex=typeof Map=="function"&&Map.prototype,kv=Object.getOwnPropertyDescriptor&&ex?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,vp=ex&&kv&&typeof kv.get=="function"?kv.get:null,vE=ex&&Map.prototype.forEach,tx=typeof Set=="function"&&Set.prototype,Dv=Object.getOwnPropertyDescriptor&&tx?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,yp=tx&&Dv&&typeof Dv.get=="function"?Dv.get:null,yE=tx&&Set.prototype.forEach,vL=typeof WeakMap=="function"&&WeakMap.prototype,ph=vL?WeakMap.prototype.has:null,yL=typeof WeakSet=="function"&&WeakSet.prototype,mh=yL?WeakSet.prototype.has:null,_L=typeof WeakRef=="function"&&WeakRef.prototype,_E=_L?WeakRef.prototype.deref:null,xL=Boolean.prototype.valueOf,wL=Object.prototype.toString,bL=Function.prototype.toString,SL=String.prototype.match,rx=String.prototype.slice,$s=String.prototype.replace,EL=String.prototype.toUpperCase,xE=String.prototype.toLowerCase,KI=RegExp.prototype.test,wE=Array.prototype.concat,_i=Array.prototype.join,TL=Array.prototype.slice,bE=Math.floor,G0=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Nv=Object.getOwnPropertySymbols,H0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,zl=typeof Symbol=="function"&&typeof Symbol.iterator=="object",hr=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===zl||!0)?Symbol.toStringTag:null,QI=Object.prototype.propertyIsEnumerable,SE=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function EE(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||KI.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var n=t<0?-bE(-t):bE(t);if(n!==t){var i=String(n),s=rx.call(e,i.length+1);return $s.call(i,r,"$&_")+"."+$s.call($s.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return $s.call(e,r,"$&_")}var j0=gL,TE=j0.custom,AE=ZI(TE)?TE:null,AL=function t(e,r,n,i){var s=r||{};if(ks(s,"quoteStyle")&&s.quoteStyle!=="single"&&s.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(ks(s,"maxStringLength")&&(typeof s.maxStringLength=="number"?s.maxStringLength<0&&s.maxStringLength!==1/0:s.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=ks(s,"customInspect")?s.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(ks(s,"indent")&&s.indent!==null&&s.indent!=="	"&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(ks(s,"numericSeparator")&&typeof s.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=s.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return eR(e,s);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var h=String(e);return a?EE(e,h):h}if(typeof e=="bigint"){var c=String(e)+"n";return a?EE(e,c):c}var d=typeof s.depth>"u"?5:s.depth;if(typeof n>"u"&&(n=0),n>=d&&d>0&&typeof e=="object")return W0(e)?"[Array]":"[Object]";var p=jL(s,n);if(typeof i>"u")i=[];else if(JI(i,e)>=0)return"[Circular]";function m(B,X,ie){if(X&&(i=TL.call(i),i.push(X)),ie){var me={depth:s.depth};return ks(s,"quoteStyle")&&(me.quoteStyle=s.quoteStyle),t(B,me,n+1,i)}return t(B,s,n+1,i)}if(typeof e=="function"&&!CE(e)){var y=NL(e),_=Pd(e,m);return"[Function"+(y?": "+y:" (anonymous)")+"]"+(_.length>0?" { "+_i.call(_,", ")+" }":"")}if(ZI(e)){var S=zl?$s.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):H0.call(e);return typeof e=="object"&&!zl?Nu(S):S}if($L(e)){for(var A="<"+xE.call(String(e.nodeName)),E=e.attributes||[],b=0;b<E.length;b++)A+=" "+E[b].name+"="+qI(CL(E[b].value),"double",s);return A+=">",e.childNodes&&e.childNodes.length&&(A+="..."),A+="</"+xE.call(String(e.nodeName))+">",A}if(W0(e)){if(e.length===0)return"[]";var x=Pd(e,m);return p&&!HL(x)?"["+V0(x,p)+"]":"[ "+_i.call(x,", ")+" ]"}if(IL(e)){var T=Pd(e,m);return!("cause"in Error.prototype)&&"cause"in e&&!QI.call(e,"cause")?"{ ["+String(e)+"] "+_i.call(wE.call("[cause]: "+m(e.cause),T),", ")+" }":T.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+_i.call(T,", ")+" }"}if(typeof e=="object"&&o){if(AE&&typeof e[AE]=="function"&&j0)return j0(e,{depth:d-n});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(FL(e)){var P=[];return vE&&vE.call(e,function(B,X){P.push(m(X,e,!0)+" => "+m(B,e))}),PE("Map",vp.call(e),P,p)}if(UL(e)){var M=[];return yE&&yE.call(e,function(B){M.push(m(B,e))}),PE("Set",yp.call(e),M,p)}if(BL(e))return Fv("WeakMap");if(zL(e))return Fv("WeakSet");if(LL(e))return Fv("WeakRef");if(OL(e))return Nu(m(Number(e)));if(kL(e))return Nu(m(G0.call(e)));if(ML(e))return Nu(xL.call(e));if(RL(e))return Nu(m(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(typeof globalThis<"u"&&e===globalThis||typeof th<"u"&&e===th)return"{ [object globalThis] }";if(!PL(e)&&!CE(e)){var R=Pd(e,m),D=SE?SE(e)===Object.prototype:e instanceof Object||e.constructor===Object,W=e instanceof Object?"":"null prototype",V=!D&&hr&&Object(e)===e&&hr in e?rx.call(ho(e),8,-1):W?"Object":"",pe=D||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",J=pe+(V||W?"["+_i.call(wE.call([],V||[],W||[]),": ")+"] ":"");return R.length===0?J+"{}":p?J+"{"+V0(R,p)+"}":J+"{ "+_i.call(R,", ")+" }"}return String(e)};function qI(t,e,r){var n=(r.quoteStyle||e)==="double"?'"':"'";return n+t+n}function CL(t){return $s.call(String(t),/"/g,"&quot;")}function W0(t){return ho(t)==="[object Array]"&&(!hr||!(typeof t=="object"&&hr in t))}function PL(t){return ho(t)==="[object Date]"&&(!hr||!(typeof t=="object"&&hr in t))}function CE(t){return ho(t)==="[object RegExp]"&&(!hr||!(typeof t=="object"&&hr in t))}function IL(t){return ho(t)==="[object Error]"&&(!hr||!(typeof t=="object"&&hr in t))}function RL(t){return ho(t)==="[object String]"&&(!hr||!(typeof t=="object"&&hr in t))}function OL(t){return ho(t)==="[object Number]"&&(!hr||!(typeof t=="object"&&hr in t))}function ML(t){return ho(t)==="[object Boolean]"&&(!hr||!(typeof t=="object"&&hr in t))}function ZI(t){if(zl)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!H0)return!1;try{return H0.call(t),!0}catch{}return!1}function kL(t){if(!t||typeof t!="object"||!G0)return!1;try{return G0.call(t),!0}catch{}return!1}var DL=Object.prototype.hasOwnProperty||function(t){return t in this};function ks(t,e){return DL.call(t,e)}function ho(t){return wL.call(t)}function NL(t){if(t.name)return t.name;var e=SL.call(bL.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function JI(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function FL(t){if(!vp||!t||typeof t!="object")return!1;try{vp.call(t);try{yp.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function BL(t){if(!ph||!t||typeof t!="object")return!1;try{ph.call(t,ph);try{mh.call(t,mh)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function LL(t){if(!_E||!t||typeof t!="object")return!1;try{return _E.call(t),!0}catch{}return!1}function UL(t){if(!yp||!t||typeof t!="object")return!1;try{yp.call(t);try{vp.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function zL(t){if(!mh||!t||typeof t!="object")return!1;try{mh.call(t,mh);try{ph.call(t,ph)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function $L(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function eR(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return eR(rx.call(t,0,e.maxStringLength),e)+n}var i=$s.call($s.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,GL);return qI(i,"single",e)}function GL(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+EL.call(e.toString(16))}function Nu(t){return"Object("+t+")"}function Fv(t){return t+" { ? }"}function PE(t,e,r,n){var i=n?V0(r,n):_i.call(r,", ");return t+" ("+e+") {"+i+"}"}function HL(t){for(var e=0;e<t.length;e++)if(JI(t[e],`
`)>=0)return!1;return!0}function jL(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=_i.call(Array(t.indent+1)," ");else return null;return{base:r,prev:_i.call(Array(e+1),r)}}function V0(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+_i.call(t,","+r)+`
`+e.prev}function Pd(t,e){var r=W0(t),n=[];if(r){n.length=t.length;for(var i=0;i<t.length;i++)n[i]=ks(t,i)?e(t[i],t):""}var s=typeof Nv=="function"?Nv(t):[],o;if(zl){o={};for(var a=0;a<s.length;a++)o["$"+s[a]]=s[a]}for(var h in t)ks(t,h)&&(r&&String(Number(h))===h&&h<t.length||zl&&o["$"+h]instanceof Symbol||(KI.call(/[^\w$]/,h)?n.push(e(h,t)+": "+e(t[h],t)):n.push(h+": "+e(t[h],t))));if(typeof Nv=="function")for(var c=0;c<s.length;c++)QI.call(t,s[c])&&n.push("["+e(s[c])+"]: "+e(t[s[c]],t));return n}var tR=eu,tu=fL,WL=AL,VL=uc,Id=tR("%WeakMap%",!0),Rd=tR("%Map%",!0),XL=tu("WeakMap.prototype.get",!0),YL=tu("WeakMap.prototype.set",!0),KL=tu("WeakMap.prototype.has",!0),QL=tu("Map.prototype.get",!0),qL=tu("Map.prototype.set",!0),ZL=tu("Map.prototype.has",!0),nx=function(t,e){for(var r=t,n;(n=r.next)!==null;r=n)if(n.key===e)return r.next=n.next,n.next=t.next,t.next=n,n},JL=function(t,e){var r=nx(t,e);return r&&r.value},e4=function(t,e,r){var n=nx(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},t4=function(t,e){return!!nx(t,e)},r4=function(){var e,r,n,i={assert:function(s){if(!i.has(s))throw new VL("Side channel does not contain "+WL(s))},get:function(s){if(Id&&s&&(typeof s=="object"||typeof s=="function")){if(e)return XL(e,s)}else if(Rd){if(r)return QL(r,s)}else if(n)return JL(n,s)},has:function(s){if(Id&&s&&(typeof s=="object"||typeof s=="function")){if(e)return KL(e,s)}else if(Rd){if(r)return ZL(r,s)}else if(n)return t4(n,s);return!1},set:function(s,o){Id&&s&&(typeof s=="object"||typeof s=="function")?(e||(e=new Id),YL(e,s,o)):Rd?(r||(r=new Rd),qL(r,s,o)):(n||(n={key:{},next:null}),e4(n,s,o))}};return i},n4=String.prototype.replace,i4=/%20/g,Bv={RFC1738:"RFC1738",RFC3986:"RFC3986"},ix={default:Bv.RFC3986,formatters:{RFC1738:function(t){return n4.call(t,i4,"+")},RFC3986:function(t){return String(t)}},RFC1738:Bv.RFC1738,RFC3986:Bv.RFC3986},s4=ix,Lv=Object.prototype.hasOwnProperty,No=Array.isArray,li=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),o4=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(No(n)){for(var i=[],s=0;s<n.length;++s)typeof n[s]<"u"&&i.push(n[s]);r.obj[r.prop]=i}}},rR=function(e,r){for(var n=r&&r.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(n[i]=e[i]);return n},a4=function t(e,r,n){if(!r)return e;if(typeof r!="object"){if(No(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!Lv.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var i=e;return No(e)&&!No(r)&&(i=rR(e,n)),No(e)&&No(r)?(r.forEach(function(s,o){if(Lv.call(e,o)){var a=e[o];a&&typeof a=="object"&&s&&typeof s=="object"?e[o]=t(a,s,n):e.push(s)}else e[o]=s}),e):Object.keys(r).reduce(function(s,o){var a=r[o];return Lv.call(s,o)?s[o]=t(s[o],a,n):s[o]=a,s},i)},l4=function(e,r){return Object.keys(r).reduce(function(n,i){return n[i]=r[i],n},e)},u4=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},Uv=1024,h4=function(e,r,n,i,s){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),n==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(y){return"%26%23"+parseInt(y.slice(2),16)+"%3B"});for(var a="",h=0;h<o.length;h+=Uv){for(var c=o.length>=Uv?o.slice(h,h+Uv):o,d=[],p=0;p<c.length;++p){var m=c.charCodeAt(p);if(m===45||m===46||m===95||m===126||m>=48&&m<=57||m>=65&&m<=90||m>=97&&m<=122||s===s4.RFC1738&&(m===40||m===41)){d[d.length]=c.charAt(p);continue}if(m<128){d[d.length]=li[m];continue}if(m<2048){d[d.length]=li[192|m>>6]+li[128|m&63];continue}if(m<55296||m>=57344){d[d.length]=li[224|m>>12]+li[128|m>>6&63]+li[128|m&63];continue}p+=1,m=65536+((m&1023)<<10|c.charCodeAt(p)&1023),d[d.length]=li[240|m>>18]+li[128|m>>12&63]+li[128|m>>6&63]+li[128|m&63]}a+=d.join("")}return a},c4=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],i=0;i<r.length;++i)for(var s=r[i],o=s.obj[s.prop],a=Object.keys(o),h=0;h<a.length;++h){var c=a[h],d=o[c];typeof d=="object"&&d!==null&&n.indexOf(d)===-1&&(r.push({obj:o,prop:c}),n.push(d))}return o4(r),e},d4=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},f4=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},p4=function(e,r){return[].concat(e,r)},m4=function(e,r){if(No(e)){for(var n=[],i=0;i<e.length;i+=1)n.push(r(e[i]));return n}return r(e)},nR={arrayToObject:rR,assign:l4,combine:p4,compact:c4,decode:u4,encode:h4,isBuffer:f4,isRegExp:d4,maybeMap:m4,merge:a4},iR=r4,Sf=nR,gh=ix,g4=Object.prototype.hasOwnProperty,sR={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},gi=Array.isArray,v4=Array.prototype.push,oR=function(t,e){v4.apply(t,gi(e)?e:[e])},y4=Date.prototype.toISOString,IE=gh.default,Mt={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:Sf.encode,encodeValuesOnly:!1,format:IE,formatter:gh.formatters[IE],indices:!1,serializeDate:function(e){return y4.call(e)},skipNulls:!1,strictNullHandling:!1},_4=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},zv={},x4=function t(e,r,n,i,s,o,a,h,c,d,p,m,y,_,S,A,E,b){for(var x=e,T=b,P=0,M=!1;(T=T.get(zv))!==void 0&&!M;){var R=T.get(e);if(P+=1,typeof R<"u"){if(R===P)throw new RangeError("Cyclic object value");M=!0}typeof T.get(zv)>"u"&&(P=0)}if(typeof d=="function"?x=d(r,x):x instanceof Date?x=y(x):n==="comma"&&gi(x)&&(x=Sf.maybeMap(x,function(N){return N instanceof Date?y(N):N})),x===null){if(o)return c&&!A?c(r,Mt.encoder,E,"key",_):r;x=""}if(_4(x)||Sf.isBuffer(x)){if(c){var D=A?r:c(r,Mt.encoder,E,"key",_);return[S(D)+"="+S(c(x,Mt.encoder,E,"value",_))]}return[S(r)+"="+S(String(x))]}var W=[];if(typeof x>"u")return W;var V;if(n==="comma"&&gi(x))A&&c&&(x=Sf.maybeMap(x,c)),V=[{value:x.length>0?x.join(",")||null:void 0}];else if(gi(d))V=d;else{var pe=Object.keys(x);V=p?pe.sort(p):pe}var J=h?r.replace(/\./g,"%2E"):r,B=i&&gi(x)&&x.length===1?J+"[]":J;if(s&&gi(x)&&x.length===0)return B+"[]";for(var X=0;X<V.length;++X){var ie=V[X],me=typeof ie=="object"&&typeof ie.value<"u"?ie.value:x[ie];if(!(a&&me===null)){var ae=m&&h?ie.replace(/\./g,"%2E"):ie,O=gi(x)?typeof n=="function"?n(B,ae):B:B+(m?"."+ae:"["+ae+"]");b.set(e,P);var $=iR();$.set(zv,b),oR(W,t(me,O,n,i,s,o,a,h,n==="comma"&&A&&gi(x)?null:c,d,p,m,y,_,S,A,E,$))}}return W},w4=function(e){if(!e)return Mt;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||Mt.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=gh.default;if(typeof e.format<"u"){if(!g4.call(gh.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=gh.formatters[n],s=Mt.filter;(typeof e.filter=="function"||gi(e.filter))&&(s=e.filter);var o;if(e.arrayFormat in sR?o=e.arrayFormat:"indices"in e?o=e.indices?"indices":"repeat":o=Mt.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var a=typeof e.allowDots>"u"?e.encodeDotInKeys===!0?!0:Mt.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:Mt.addQueryPrefix,allowDots:a,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:Mt.allowEmptyArrays,arrayFormat:o,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Mt.charsetSentinel,commaRoundTrip:e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?Mt.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:Mt.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:Mt.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:Mt.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:Mt.encodeValuesOnly,filter:s,format:n,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:Mt.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:Mt.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Mt.strictNullHandling}},b4=function(t,e){var r=t,n=w4(e),i,s;typeof n.filter=="function"?(s=n.filter,r=s("",r)):gi(n.filter)&&(s=n.filter,i=s);var o=[];if(typeof r!="object"||r===null)return"";var a=sR[n.arrayFormat],h=a==="comma"&&n.commaRoundTrip;i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var c=iR(),d=0;d<i.length;++d){var p=i[d];n.skipNulls&&r[p]===null||oR(o,x4(r[p],p,a,h,n.allowEmptyArrays,n.strictNullHandling,n.skipNulls,n.encodeDotInKeys,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,c))}var m=o.join(n.delimiter),y=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?y+="utf8=%26%2310003%3B&":y+="utf8=%E2%9C%93&"),m.length>0?y+m:""},$l=nR,X0=Object.prototype.hasOwnProperty,S4=Array.isArray,_t={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:$l.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1},E4=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},aR=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},T4="utf8=%26%2310003%3B",A4="utf8=%E2%9C%93",C4=function(e,r){var n={__proto__:null},i=r.ignoreQueryPrefix?e.replace(/^\?/,""):e;i=i.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var s=r.parameterLimit===1/0?void 0:r.parameterLimit,o=i.split(r.delimiter,s),a=-1,h,c=r.charset;if(r.charsetSentinel)for(h=0;h<o.length;++h)o[h].indexOf("utf8=")===0&&(o[h]===A4?c="utf-8":o[h]===T4&&(c="iso-8859-1"),a=h,h=o.length);for(h=0;h<o.length;++h)if(h!==a){var d=o[h],p=d.indexOf("]="),m=p===-1?d.indexOf("="):p+1,y,_;m===-1?(y=r.decoder(d,_t.decoder,c,"key"),_=r.strictNullHandling?null:""):(y=r.decoder(d.slice(0,m),_t.decoder,c,"key"),_=$l.maybeMap(aR(d.slice(m+1),r),function(A){return r.decoder(A,_t.decoder,c,"value")})),_&&r.interpretNumericEntities&&c==="iso-8859-1"&&(_=E4(_)),d.indexOf("[]=")>-1&&(_=S4(_)?[_]:_);var S=X0.call(n,y);S&&r.duplicates==="combine"?n[y]=$l.combine(n[y],_):(!S||r.duplicates==="last")&&(n[y]=_)}return n},P4=function(t,e,r,n){for(var i=n?e:aR(e,r),s=t.length-1;s>=0;--s){var o,a=t[s];if(a==="[]"&&r.parseArrays)o=r.allowEmptyArrays&&(i===""||r.strictNullHandling&&i===null)?[]:[].concat(i);else{o=r.plainObjects?Object.create(null):{};var h=a.charAt(0)==="["&&a.charAt(a.length-1)==="]"?a.slice(1,-1):a,c=r.decodeDotInKeys?h.replace(/%2E/g,"."):h,d=parseInt(c,10);!r.parseArrays&&c===""?o={0:i}:!isNaN(d)&&a!==c&&String(d)===c&&d>=0&&r.parseArrays&&d<=r.arrayLimit?(o=[],o[d]=i):c!=="__proto__"&&(o[c]=i)}i=o}return i},I4=function(e,r,n,i){if(e){var s=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,h=n.depth>0&&o.exec(s),c=h?s.slice(0,h.index):s,d=[];if(c){if(!n.plainObjects&&X0.call(Object.prototype,c)&&!n.allowPrototypes)return;d.push(c)}for(var p=0;n.depth>0&&(h=a.exec(s))!==null&&p<n.depth;){if(p+=1,!n.plainObjects&&X0.call(Object.prototype,h[1].slice(1,-1))&&!n.allowPrototypes)return;d.push(h[1])}if(h){if(n.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+n.depth+" and strictDepth is true");d.push("["+s.slice(h.index)+"]")}return P4(d,r,n,i)}},R4=function(e){if(!e)return _t;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.decodeDotInKeys<"u"&&typeof e.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(e.decoder!==null&&typeof e.decoder<"u"&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset>"u"?_t.charset:e.charset,n=typeof e.duplicates>"u"?_t.duplicates:e.duplicates;if(n!=="combine"&&n!=="first"&&n!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var i=typeof e.allowDots>"u"?e.decodeDotInKeys===!0?!0:_t.allowDots:!!e.allowDots;return{allowDots:i,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:_t.allowEmptyArrays,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:_t.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:_t.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:_t.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:_t.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:_t.comma,decodeDotInKeys:typeof e.decodeDotInKeys=="boolean"?e.decodeDotInKeys:_t.decodeDotInKeys,decoder:typeof e.decoder=="function"?e.decoder:_t.decoder,delimiter:typeof e.delimiter=="string"||$l.isRegExp(e.delimiter)?e.delimiter:_t.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:_t.depth,duplicates:n,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:_t.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:_t.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:_t.plainObjects,strictDepth:typeof e.strictDepth=="boolean"?!!e.strictDepth:_t.strictDepth,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:_t.strictNullHandling}},O4=function(t,e){var r=R4(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?Object.create(null):{};for(var n=typeof t=="string"?C4(t,r):t,i=r.plainObjects?Object.create(null):{},s=Object.keys(n),o=0;o<s.length;++o){var a=s[o],h=I4(a,n[a],r,typeof t=="string");i=$l.merge(i,h,r)}return r.allowSparse===!0?i:$l.compact(i)},M4=b4,k4=O4,D4=ix,N4={formats:D4,parse:k4,stringify:M4},F4=vB;function is(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var B4=/^([a-z0-9.+-]+:)/i,L4=/:[0-9]*$/,U4=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,z4=["<",">",'"',"`"," ","\r",`
`,"	"],$4=["{","}","|","\\","^","`"].concat(z4),Y0=["'"].concat($4),RE=["%","/","?",";","#"].concat(Y0),OE=["/","?","#"],G4=255,ME=/^[+a-z0-9A-Z_-]{0,63}$/,H4=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,j4={javascript:!0,"javascript:":!0},K0={javascript:!0,"javascript:":!0},xl={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},Q0=N4;function W4(t,e,r){if(t&&typeof t=="object"&&t instanceof is)return t;var n=new is;return n.parse(t,e,r),n}is.prototype.parse=function(t,e,r){if(typeof t!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var n=t.indexOf("?"),i=n!==-1&&n<t.indexOf("#")?"?":"#",s=t.split(i),o=/\\/g;s[0]=s[0].replace(o,"/"),t=s.join(i);var a=t;if(a=a.trim(),!r&&t.split("#").length===1){var h=U4.exec(a);if(h)return this.path=a,this.href=a,this.pathname=h[1],h[2]?(this.search=h[2],e?this.query=Q0.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var c=B4.exec(a);if(c){c=c[0];var d=c.toLowerCase();this.protocol=d,a=a.substr(c.length)}if(r||c||a.match(/^\/\/[^@/]+@[^@/]+/)){var p=a.substr(0,2)==="//";p&&!(c&&K0[c])&&(a=a.substr(2),this.slashes=!0)}if(!K0[c]&&(p||c&&!xl[c])){for(var m=-1,y=0;y<OE.length;y++){var _=a.indexOf(OE[y]);_!==-1&&(m===-1||_<m)&&(m=_)}var S,A;m===-1?A=a.lastIndexOf("@"):A=a.lastIndexOf("@",m),A!==-1&&(S=a.slice(0,A),a=a.slice(A+1),this.auth=decodeURIComponent(S)),m=-1;for(var y=0;y<RE.length;y++){var _=a.indexOf(RE[y]);_!==-1&&(m===-1||_<m)&&(m=_)}m===-1&&(m=a.length),this.host=a.slice(0,m),a=a.slice(m),this.parseHost(),this.hostname=this.hostname||"";var E=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!E)for(var b=this.hostname.split(/\./),y=0,x=b.length;y<x;y++){var T=b[y];if(T&&!T.match(ME)){for(var P="",M=0,R=T.length;M<R;M++)T.charCodeAt(M)>127?P+="x":P+=T[M];if(!P.match(ME)){var D=b.slice(0,y),W=b.slice(y+1),V=T.match(H4);V&&(D.push(V[1]),W.unshift(V[2])),W.length&&(a="/"+W.join(".")+a),this.hostname=D.join(".");break}}}this.hostname.length>G4?this.hostname="":this.hostname=this.hostname.toLowerCase(),E||(this.hostname=F4.toASCII(this.hostname));var pe=this.port?":"+this.port:"",J=this.hostname||"";this.host=J+pe,this.href+=this.host,E&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),a[0]!=="/"&&(a="/"+a))}if(!j4[d])for(var y=0,x=Y0.length;y<x;y++){var B=Y0[y];if(a.indexOf(B)!==-1){var X=encodeURIComponent(B);X===B&&(X=escape(B)),a=a.split(B).join(X)}}var ie=a.indexOf("#");ie!==-1&&(this.hash=a.substr(ie),a=a.slice(0,ie));var me=a.indexOf("?");if(me!==-1?(this.search=a.substr(me),this.query=a.substr(me+1),e&&(this.query=Q0.parse(this.query)),a=a.slice(0,me)):e&&(this.search="",this.query={}),a&&(this.pathname=a),xl[d]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var pe=this.pathname||"",ae=this.search||"";this.path=pe+ae}return this.href=this.format(),this};is.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,s="";this.host?i=t+this.host:this.hostname&&(i=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(s=Q0.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var o=this.search||s&&"?"+s||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||xl[e])&&i!==!1?(i="//"+(i||""),r&&r.charAt(0)!=="/"&&(r="/"+r)):i||(i=""),n&&n.charAt(0)!=="#"&&(n="#"+n),o&&o.charAt(0)!=="?"&&(o="?"+o),r=r.replace(/[?#]/g,function(a){return encodeURIComponent(a)}),o=o.replace("#","%23"),e+i+r+o+n};is.prototype.resolve=function(t){return this.resolveObject(W4(t,!1,!0)).format()};is.prototype.resolveObject=function(t){if(typeof t=="string"){var e=new is;e.parse(t,!1,!0),t=e}for(var r=new is,n=Object.keys(this),i=0;i<n.length;i++){var s=n[i];r[s]=this[s]}if(r.hash=t.hash,t.href==="")return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var o=Object.keys(t),a=0;a<o.length;a++){var h=o[a];h!=="protocol"&&(r[h]=t[h])}return xl[r.protocol]&&r.hostname&&!r.pathname&&(r.pathname="/",r.path=r.pathname),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!xl[t.protocol]){for(var c=Object.keys(t),d=0;d<c.length;d++){var p=c[d];r[p]=t[p]}return r.href=r.format(),r}if(r.protocol=t.protocol,!t.host&&!K0[t.protocol]){for(var x=(t.pathname||"").split("/");x.length&&!(t.host=x.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),x[0]!==""&&x.unshift(""),x.length<2&&x.unshift(""),r.pathname=x.join("/")}else r.pathname=t.pathname;if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var m=r.pathname||"",y=r.search||"";r.path=m+y}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var _=r.pathname&&r.pathname.charAt(0)==="/",S=t.host||t.pathname&&t.pathname.charAt(0)==="/",A=S||_||r.host&&t.pathname,E=A,b=r.pathname&&r.pathname.split("/")||[],x=t.pathname&&t.pathname.split("/")||[],T=r.protocol&&!xl[r.protocol];if(T&&(r.hostname="",r.port=null,r.host&&(b[0]===""?b[0]=r.host:b.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(x[0]===""?x[0]=t.host:x.unshift(t.host)),t.host=null),A=A&&(x[0]===""||b[0]==="")),S)r.host=t.host||t.host===""?t.host:r.host,r.hostname=t.hostname||t.hostname===""?t.hostname:r.hostname,r.search=t.search,r.query=t.query,b=x;else if(x.length)b||(b=[]),b.pop(),b=b.concat(x),r.search=t.search,r.query=t.query;else if(t.search!=null){if(T){r.host=b.shift(),r.hostname=r.host;var P=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;P&&(r.auth=P.shift(),r.hostname=P.shift(),r.host=r.hostname)}return r.search=t.search,r.query=t.query,(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!b.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var M=b.slice(-1)[0],R=(r.host||t.host||b.length>1)&&(M==="."||M==="..")||M==="",D=0,W=b.length;W>=0;W--)M=b[W],M==="."?b.splice(W,1):M===".."?(b.splice(W,1),D++):D&&(b.splice(W,1),D--);if(!A&&!E)for(;D--;D)b.unshift("..");A&&b[0]!==""&&(!b[0]||b[0].charAt(0)!=="/")&&b.unshift(""),R&&b.join("/").substr(-1)!=="/"&&b.push("");var V=b[0]===""||b[0]&&b[0].charAt(0)==="/";if(T){r.hostname=V?"":b.length?b.shift():"",r.host=r.hostname;var P=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;P&&(r.auth=P.shift(),r.hostname=P.shift(),r.host=r.hostname)}return A=A||r.host&&b.length,A&&!V&&b.unshift(""),b.length>0?r.pathname=b.join("/"):(r.pathname=null,r.path=null),(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r};is.prototype.parseHost=function(){var t=this.host,e=L4.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};const kE={};function Oe(t,e,r=3){if(kE[e])return;let n=new Error().stack;typeof n>"u"?console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`):(n=n.split(`
`).splice(r).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${e}
Deprecated since v${t}`),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`),console.warn(n))),kE[e]=!0}function Pn(t){if(typeof t!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(t)}`)}function Fu(t){return t.split("?")[0].split("#")[0]}function V4(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function X4(t,e,r){return t.replace(new RegExp(V4(e),"g"),r)}function Y4(t,e){let r="",n=0,i=-1,s=0,o=-1;for(let a=0;a<=t.length;++a){if(a<t.length)o=t.charCodeAt(a);else{if(o===47)break;o=47}if(o===47){if(!(i===a-1||s===1))if(i!==a-1&&s===2){if(r.length<2||n!==2||r.charCodeAt(r.length-1)!==46||r.charCodeAt(r.length-2)!==46){if(r.length>2){const h=r.lastIndexOf("/");if(h!==r.length-1){h===-1?(r="",n=0):(r=r.slice(0,h),n=r.length-1-r.lastIndexOf("/")),i=a,s=0;continue}}else if(r.length===2||r.length===1){r="",n=0,i=a,s=0;continue}}}else r.length>0?r+=`/${t.slice(i+1,a)}`:r=t.slice(i+1,a),n=a-i-1;i=a,s=0}else o===46&&s!==-1?++s:s=-1}return r}const Vt={toPosix(t){return X4(t,"\\","/")},isUrl(t){return/^https?:/.test(this.toPosix(t))},isDataUrl(t){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(t)},isBlobUrl(t){return t.startsWith("blob:")},hasProtocol(t){return/^[^/:]+:/.test(this.toPosix(t))},getProtocol(t){Pn(t),t=this.toPosix(t);const e=/^file:\/\/\//.exec(t);if(e)return e[0];const r=/^[^/:]+:\/{0,2}/.exec(t);return r?r[0]:""},toAbsolute(t,e,r){if(Pn(t),this.isDataUrl(t)||this.isBlobUrl(t))return t;const n=Fu(this.toPosix(e??oe.ADAPTER.getBaseUrl())),i=Fu(this.toPosix(r??this.rootname(n)));return t=this.toPosix(t),t.startsWith("/")?Vt.join(i,t.slice(1)):this.isAbsolute(t)?t:this.join(n,t)},normalize(t){if(Pn(t),t.length===0)return".";if(this.isDataUrl(t)||this.isBlobUrl(t))return t;t=this.toPosix(t);let e="";const r=t.startsWith("/");this.hasProtocol(t)&&(e=this.rootname(t),t=t.slice(e.length));const n=t.endsWith("/");return t=Y4(t),t.length>0&&n&&(t+="/"),r?`/${t}`:e+t},isAbsolute(t){return Pn(t),t=this.toPosix(t),this.hasProtocol(t)?!0:t.startsWith("/")},join(...t){if(t.length===0)return".";let e;for(let r=0;r<t.length;++r){const n=t[r];if(Pn(n),n.length>0)if(e===void 0)e=n;else{const i=t[r-1]??"";this.joinExtensions.includes(this.extname(i).toLowerCase())?e+=`/../${n}`:e+=`/${n}`}}return e===void 0?".":this.normalize(e)},dirname(t){if(Pn(t),t.length===0)return".";t=this.toPosix(t);let e=t.charCodeAt(0);const r=e===47;let n=-1,i=!0;const s=this.getProtocol(t),o=t;t=t.slice(s.length);for(let a=t.length-1;a>=1;--a)if(e=t.charCodeAt(a),e===47){if(!i){n=a;break}}else i=!1;return n===-1?r?"/":this.isUrl(o)?s+t:s:r&&n===1?"//":s+t.slice(0,n)},rootname(t){Pn(t),t=this.toPosix(t);let e="";if(t.startsWith("/")?e="/":e=this.getProtocol(t),this.isUrl(t)){const r=t.indexOf("/",e.length);r!==-1?e=t.slice(0,r):e=t,e.endsWith("/")||(e+="/")}return e},basename(t,e){Pn(t),e&&Pn(e),t=Fu(this.toPosix(t));let r=0,n=-1,i=!0,s;if(e!==void 0&&e.length>0&&e.length<=t.length){if(e.length===t.length&&e===t)return"";let o=e.length-1,a=-1;for(s=t.length-1;s>=0;--s){const h=t.charCodeAt(s);if(h===47){if(!i){r=s+1;break}}else a===-1&&(i=!1,a=s+1),o>=0&&(h===e.charCodeAt(o)?--o===-1&&(n=s):(o=-1,n=a))}return r===n?n=a:n===-1&&(n=t.length),t.slice(r,n)}for(s=t.length-1;s>=0;--s)if(t.charCodeAt(s)===47){if(!i){r=s+1;break}}else n===-1&&(i=!1,n=s+1);return n===-1?"":t.slice(r,n)},extname(t){Pn(t),t=Fu(this.toPosix(t));let e=-1,r=0,n=-1,i=!0,s=0;for(let o=t.length-1;o>=0;--o){const a=t.charCodeAt(o);if(a===47){if(!i){r=o+1;break}continue}n===-1&&(i=!1,n=o+1),a===46?e===-1?e=o:s!==1&&(s=1):e!==-1&&(s=-1)}return e===-1||n===-1||s===0||s===1&&e===n-1&&e===r+1?"":t.slice(e,n)},parse(t){Pn(t);const e={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return e;t=Fu(this.toPosix(t));let r=t.charCodeAt(0);const n=this.isAbsolute(t);let i;e.root=this.rootname(t),n||this.hasProtocol(t)?i=1:i=0;let s=-1,o=0,a=-1,h=!0,c=t.length-1,d=0;for(;c>=i;--c){if(r=t.charCodeAt(c),r===47){if(!h){o=c+1;break}continue}a===-1&&(h=!1,a=c+1),r===46?s===-1?s=c:d!==1&&(d=1):s!==-1&&(d=-1)}return s===-1||a===-1||d===0||d===1&&s===a-1&&s===o+1?a!==-1&&(o===0&&n?e.base=e.name=t.slice(1,a):e.base=e.name=t.slice(o,a)):(o===0&&n?(e.name=t.slice(1,s),e.base=t.slice(1,a)):(e.name=t.slice(o,s),e.base=t.slice(o,a)),e.ext=t.slice(s,a)),e.dir=this.dirname(t),e},sep:"/",delimiter:":",joinExtensions:[".html"]};let $v;async function K4(){return $v??($v=(async()=>{var s;const t=document.createElement("canvas").getContext("webgl");if(!t)return Cr.UNPACK;const e=await new Promise(o=>{const a=document.createElement("video");a.onloadeddata=()=>o(a),a.onerror=()=>o(null),a.autoplay=!1,a.crossOrigin="anonymous",a.preload="auto",a.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",a.load()});if(!e)return Cr.UNPACK;const r=t.createTexture();t.bindTexture(t.TEXTURE_2D,r);const n=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,n),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,r,0),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.NONE),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e);const i=new Uint8Array(4);return t.readPixels(0,0,1,1,t.RGBA,t.UNSIGNED_BYTE,i),t.deleteFramebuffer(n),t.deleteTexture(r),(s=t.getExtension("WEBGL_lose_context"))==null||s.loseContext(),i[0]<=i[3]?Cr.PMA:Cr.UNPACK})()),$v}let Gv;function Q4(){return typeof Gv>"u"&&(Gv=function(){var e;const t={stencil:!0,failIfMajorPerformanceCaveat:oe.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!oe.ADAPTER.getWebGLRenderingContext())return!1;const r=oe.ADAPTER.createCanvas();let n=r.getContext("webgl",t)||r.getContext("experimental-webgl",t);const i=!!((e=n==null?void 0:n.getContextAttributes())!=null&&e.stencil);if(n){const s=n.getExtension("WEBGL_lose_context");s&&s.loseContext()}return n=null,i}catch{return!1}}()),Gv}var q4={grad:.9,turn:360,rad:360/(2*Math.PI)},$i=function(t){return typeof t=="string"?t.length>0:typeof t=="number"},jt=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=Math.pow(10,e)),Math.round(r*t)/r+0},gn=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=1),t>r?r:t>e?t:e},lR=function(t){return(t=isFinite(t)?t%360:0)>0?t:t+360},DE=function(t){return{r:gn(t.r,0,255),g:gn(t.g,0,255),b:gn(t.b,0,255),a:gn(t.a)}},Hv=function(t){return{r:jt(t.r),g:jt(t.g),b:jt(t.b),a:jt(t.a,3)}},Z4=/^#([0-9a-f]{3,8})$/i,Od=function(t){var e=t.toString(16);return e.length<2?"0"+e:e},uR=function(t){var e=t.r,r=t.g,n=t.b,i=t.a,s=Math.max(e,r,n),o=s-Math.min(e,r,n),a=o?s===e?(r-n)/o:s===r?2+(n-e)/o:4+(e-r)/o:0;return{h:60*(a<0?a+6:a),s:s?o/s*100:0,v:s/255*100,a:i}},hR=function(t){var e=t.h,r=t.s,n=t.v,i=t.a;e=e/360*6,r/=100,n/=100;var s=Math.floor(e),o=n*(1-r),a=n*(1-(e-s)*r),h=n*(1-(1-e+s)*r),c=s%6;return{r:255*[n,a,o,o,h,n][c],g:255*[h,n,n,a,o,o][c],b:255*[o,o,h,n,n,a][c],a:i}},NE=function(t){return{h:lR(t.h),s:gn(t.s,0,100),l:gn(t.l,0,100),a:gn(t.a)}},FE=function(t){return{h:jt(t.h),s:jt(t.s),l:jt(t.l),a:jt(t.a,3)}},BE=function(t){return hR((r=(e=t).s,{h:e.h,s:(r*=((n=e.l)<50?n:100-n)/100)>0?2*r/(n+r)*100:0,v:n+r,a:e.a}));var e,r,n},vh=function(t){return{h:(e=uR(t)).h,s:(i=(200-(r=e.s))*(n=e.v)/100)>0&&i<200?r*n/100/(i<=100?i:200-i)*100:0,l:i/2,a:e.a};var e,r,n,i},J4=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,eU=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,tU=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,rU=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,q0={string:[[function(t){var e=Z4.exec(t);return e?(t=e[1]).length<=4?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:t.length===4?jt(parseInt(t[3]+t[3],16)/255,2):1}:t.length===6||t.length===8?{r:parseInt(t.substr(0,2),16),g:parseInt(t.substr(2,2),16),b:parseInt(t.substr(4,2),16),a:t.length===8?jt(parseInt(t.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(t){var e=tU.exec(t)||rU.exec(t);return e?e[2]!==e[4]||e[4]!==e[6]?null:DE({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(t){var e=J4.exec(t)||eU.exec(t);if(!e)return null;var r,n,i=NE({h:(r=e[1],n=e[2],n===void 0&&(n="deg"),Number(r)*(q4[n]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return BE(i)},"hsl"]],object:[[function(t){var e=t.r,r=t.g,n=t.b,i=t.a,s=i===void 0?1:i;return $i(e)&&$i(r)&&$i(n)?DE({r:Number(e),g:Number(r),b:Number(n),a:Number(s)}):null},"rgb"],[function(t){var e=t.h,r=t.s,n=t.l,i=t.a,s=i===void 0?1:i;if(!$i(e)||!$i(r)||!$i(n))return null;var o=NE({h:Number(e),s:Number(r),l:Number(n),a:Number(s)});return BE(o)},"hsl"],[function(t){var e=t.h,r=t.s,n=t.v,i=t.a,s=i===void 0?1:i;if(!$i(e)||!$i(r)||!$i(n))return null;var o=function(a){return{h:lR(a.h),s:gn(a.s,0,100),v:gn(a.v,0,100),a:gn(a.a)}}({h:Number(e),s:Number(r),v:Number(n),a:Number(s)});return hR(o)},"hsv"]]},LE=function(t,e){for(var r=0;r<e.length;r++){var n=e[r][0](t);if(n)return[n,e[r][1]]}return[null,void 0]},nU=function(t){return typeof t=="string"?LE(t.trim(),q0.string):typeof t=="object"&&t!==null?LE(t,q0.object):[null,void 0]},jv=function(t,e){var r=vh(t);return{h:r.h,s:gn(r.s+100*e,0,100),l:r.l,a:r.a}},Wv=function(t){return(299*t.r+587*t.g+114*t.b)/1e3/255},UE=function(t,e){var r=vh(t);return{h:r.h,s:r.s,l:gn(r.l+100*e,0,100),a:r.a}},Z0=function(){function t(e){this.parsed=nU(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return t.prototype.isValid=function(){return this.parsed!==null},t.prototype.brightness=function(){return jt(Wv(this.rgba),2)},t.prototype.isDark=function(){return Wv(this.rgba)<.5},t.prototype.isLight=function(){return Wv(this.rgba)>=.5},t.prototype.toHex=function(){return e=Hv(this.rgba),r=e.r,n=e.g,i=e.b,o=(s=e.a)<1?Od(jt(255*s)):"","#"+Od(r)+Od(n)+Od(i)+o;var e,r,n,i,s,o},t.prototype.toRgb=function(){return Hv(this.rgba)},t.prototype.toRgbString=function(){return e=Hv(this.rgba),r=e.r,n=e.g,i=e.b,(s=e.a)<1?"rgba("+r+", "+n+", "+i+", "+s+")":"rgb("+r+", "+n+", "+i+")";var e,r,n,i,s},t.prototype.toHsl=function(){return FE(vh(this.rgba))},t.prototype.toHslString=function(){return e=FE(vh(this.rgba)),r=e.h,n=e.s,i=e.l,(s=e.a)<1?"hsla("+r+", "+n+"%, "+i+"%, "+s+")":"hsl("+r+", "+n+"%, "+i+"%)";var e,r,n,i,s},t.prototype.toHsv=function(){return e=uR(this.rgba),{h:jt(e.h),s:jt(e.s),v:jt(e.v),a:jt(e.a,3)};var e},t.prototype.invert=function(){return hi({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},t.prototype.saturate=function(e){return e===void 0&&(e=.1),hi(jv(this.rgba,e))},t.prototype.desaturate=function(e){return e===void 0&&(e=.1),hi(jv(this.rgba,-e))},t.prototype.grayscale=function(){return hi(jv(this.rgba,-1))},t.prototype.lighten=function(e){return e===void 0&&(e=.1),hi(UE(this.rgba,e))},t.prototype.darken=function(e){return e===void 0&&(e=.1),hi(UE(this.rgba,-e))},t.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},t.prototype.alpha=function(e){return typeof e=="number"?hi({r:(r=this.rgba).r,g:r.g,b:r.b,a:e}):jt(this.rgba.a,3);var r},t.prototype.hue=function(e){var r=vh(this.rgba);return typeof e=="number"?hi({h:e,s:r.s,l:r.l,a:r.a}):jt(r.h)},t.prototype.isEqual=function(e){return this.toHex()===hi(e).toHex()},t}(),hi=function(t){return t instanceof Z0?t:new Z0(t)},zE=[],iU=function(t){t.forEach(function(e){zE.indexOf(e)<0&&(e(Z0,q0),zE.push(e))})};function sU(t,e){var r={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},n={};for(var i in r)n[r[i]]=i;var s={};t.prototype.toName=function(o){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var a,h,c=n[this.toHex()];if(c)return c;if(o!=null&&o.closest){var d=this.toRgb(),p=1/0,m="black";if(!s.length)for(var y in r)s[y]=new t(r[y]).toRgb();for(var _ in r){var S=(a=d,h=s[_],Math.pow(a.r-h.r,2)+Math.pow(a.g-h.g,2)+Math.pow(a.b-h.b,2));S<p&&(p=S,m=_)}return m}},e.string.push([function(o){var a=o.toLowerCase(),h=a==="transparent"?"#0000":r[a];return h?new t(h).toRgb():null},"name"])}iU([sU]);const $a=class Ef{constructor(e=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=e}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(e){return this.value=e,this}set value(e){if(e instanceof Ef)this._value=this.cloneSource(e._value),this._int=e._int,this._components.set(e._components);else{if(e===null)throw new Error("Cannot set PIXI.Color#value to null");(this._value===null||!this.isSourceEqual(this._value,e))&&(this.normalize(e),this._value=this.cloneSource(e))}}get value(){return this._value}cloneSource(e){return typeof e=="string"||typeof e=="number"||e instanceof Number||e===null?e:Array.isArray(e)||ArrayBuffer.isView(e)?e.slice(0):typeof e=="object"&&e!==null?{...e}:e}isSourceEqual(e,r){const n=typeof e;if(n!==typeof r)return!1;if(n==="number"||n==="string"||e instanceof Number)return e===r;if(Array.isArray(e)&&Array.isArray(r)||ArrayBuffer.isView(e)&&ArrayBuffer.isView(r))return e.length!==r.length?!1:e.every((i,s)=>i===r[s]);if(e!==null&&r!==null){const i=Object.keys(e),s=Object.keys(r);return i.length!==s.length?!1:i.every(o=>e[o]===r[o])}return e===r}toRgba(){const[e,r,n,i]=this._components;return{r:e,g:r,b:n,a:i}}toRgb(){const[e,r,n]=this._components;return{r:e,g:r,b:n}}toRgbaString(){const[e,r,n]=this.toUint8RgbArray();return`rgba(${e},${r},${n},${this.alpha})`}toUint8RgbArray(e){const[r,n,i]=this._components;return e=e??[],e[0]=Math.round(r*255),e[1]=Math.round(n*255),e[2]=Math.round(i*255),e}toRgbArray(e){e=e??[];const[r,n,i]=this._components;return e[0]=r,e[1]=n,e[2]=i,e}toNumber(){return this._int}toLittleEndianNumber(){const e=this._int;return(e>>16)+(e&65280)+((e&255)<<16)}multiply(e){const[r,n,i,s]=Ef.temp.setValue(e)._components;return this._components[0]*=r,this._components[1]*=n,this._components[2]*=i,this._components[3]*=s,this.refreshInt(),this._value=null,this}premultiply(e,r=!0){return r&&(this._components[0]*=e,this._components[1]*=e,this._components[2]*=e),this._components[3]=e,this.refreshInt(),this._value=null,this}toPremultiplied(e,r=!0){if(e===1)return(255<<24)+this._int;if(e===0)return r?0:this._int;let n=this._int>>16&255,i=this._int>>8&255,s=this._int&255;return r&&(n=n*e+.5|0,i=i*e+.5|0,s=s*e+.5|0),(e*255<<24)+(n<<16)+(i<<8)+s}toHex(){const e=this._int.toString(16);return`#${"000000".substring(0,6-e.length)+e}`}toHexa(){const e=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-e.length)+e}setAlpha(e){return this._components[3]=this._clamp(e),this}round(e){const[r,n,i]=this._components;return this._components[0]=Math.round(r*e)/e,this._components[1]=Math.round(n*e)/e,this._components[2]=Math.round(i*e)/e,this.refreshInt(),this._value=null,this}toArray(e){e=e??[];const[r,n,i,s]=this._components;return e[0]=r,e[1]=n,e[2]=i,e[3]=s,e}normalize(e){let r,n,i,s;if((typeof e=="number"||e instanceof Number)&&e>=0&&e<=16777215){const o=e;r=(o>>16&255)/255,n=(o>>8&255)/255,i=(o&255)/255,s=1}else if((Array.isArray(e)||e instanceof Float32Array)&&e.length>=3&&e.length<=4)e=this._clamp(e),[r,n,i,s=1]=e;else if((e instanceof Uint8Array||e instanceof Uint8ClampedArray)&&e.length>=3&&e.length<=4)e=this._clamp(e,0,255),[r,n,i,s=255]=e,r/=255,n/=255,i/=255,s/=255;else if(typeof e=="string"||typeof e=="object"){if(typeof e=="string"){const a=Ef.HEX_PATTERN.exec(e);a&&(e=`#${a[2]}`)}const o=hi(e);o.isValid()&&({r,g:n,b:i,a:s}=o.rgba,r/=255,n/=255,i/=255)}if(r!==void 0)this._components[0]=r,this._components[1]=n,this._components[2]=i,this._components[3]=s,this.refreshInt();else throw new Error(`Unable to convert color ${e}`)}refreshInt(){this._clamp(this._components);const[e,r,n]=this._components;this._int=(e*255<<16)+(r*255<<8)+(n*255|0)}_clamp(e,r=0,n=1){return typeof e=="number"?Math.min(Math.max(e,r),n):(e.forEach((i,s)=>{e[s]=Math.min(Math.max(i,r),n)}),e)}};$a.shared=new $a,$a.temp=new $a,$a.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let Ze=$a;function oU(t){return Oe("7.2.0","utils.hex2string is deprecated, use Color#toHex instead"),Ze.shared.setValue(t).toHex()}function aU(t){return Oe("7.2.0","utils.rgb2hex is deprecated, use Color#toNumber instead"),Ze.shared.setValue(t).toNumber()}function lU(){const t=[],e=[];for(let n=0;n<32;n++)t[n]=n,e[n]=n;t[xe.NORMAL_NPM]=xe.NORMAL,t[xe.ADD_NPM]=xe.ADD,t[xe.SCREEN_NPM]=xe.SCREEN,e[xe.NORMAL]=xe.NORMAL_NPM,e[xe.ADD]=xe.ADD_NPM,e[xe.SCREEN]=xe.SCREEN_NPM;const r=[];return r.push(e),r.push(t),r}const cR=lU();function dR(t,e){return cR[e?1:0][t]}function uU(t,e=null){const r=t*6;if(e=e||new Uint16Array(r),e.length!==r)throw new Error(`Out buffer length is incorrect, got ${e.length} and expected ${r}`);for(let n=0,i=0;n<r;n+=6,i+=4)e[n+0]=i+0,e[n+1]=i+1,e[n+2]=i+2,e[n+3]=i+0,e[n+4]=i+2,e[n+5]=i+3;return e}function fR(t){if(t.BYTES_PER_ELEMENT===4)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(t.BYTES_PER_ELEMENT===2){if(t instanceof Uint16Array)return"Uint16Array"}else if(t.BYTES_PER_ELEMENT===1&&t instanceof Uint8Array)return"Uint8Array";return null}function _p(t){return t+=t===0?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1}function $E(t){return!(t&t-1)&&!!t}function GE(t){let e=(t>65535?1:0)<<4;t>>>=e;let r=(t>255?1:0)<<3;return t>>>=r,e|=r,r=(t>15?1:0)<<2,t>>>=r,e|=r,r=(t>3?1:0)<<1,t>>>=r,e|=r,e|t>>1}function wl(t,e,r){const n=t.length;let i;if(e>=n||r===0)return;r=e+r>n?n-e:r;const s=n-r;for(i=e;i<s;++i)t[i]=t[i+r];t.length=s}function Gs(t){return t===0?0:t<0?-1:1}let hU=0;function sa(){return++hU}const J0=class{constructor(t,e,r,n){this.left=t,this.top=e,this.right=r,this.bottom=n}get width(){return this.right-this.left}get height(){return this.bottom-this.top}isEmpty(){return this.left===this.right||this.top===this.bottom}};J0.EMPTY=new J0(0,0,0,0);let HE=J0;const jE={},ci=Object.create(null),As=Object.create(null);class cU{constructor(e,r,n){this._canvas=oe.ADAPTER.createCanvas(),this._context=this._canvas.getContext("2d"),this.resolution=n||oe.RESOLUTION,this.resize(e,r)}clear(){this._checkDestroyed(),this._context.setTransform(1,0,0,1,0,0),this._context.clearRect(0,0,this._canvas.width,this._canvas.height)}resize(e,r){this._checkDestroyed(),this._canvas.width=Math.round(e*this.resolution),this._canvas.height=Math.round(r*this.resolution)}destroy(){this._context=null,this._canvas=null}get width(){return this._checkDestroyed(),this._canvas.width}set width(e){this._checkDestroyed(),this._canvas.width=Math.round(e)}get height(){return this._checkDestroyed(),this._canvas.height}set height(e){this._checkDestroyed(),this._canvas.height=Math.round(e)}get canvas(){return this._checkDestroyed(),this._canvas}get context(){return this._checkDestroyed(),this._context}_checkDestroyed(){if(this._canvas===null)throw new TypeError("The CanvasRenderTarget has already been destroyed")}}function WE(t,e,r){for(let n=0,i=4*r*e;n<e;++n,i+=4)if(t[i+3]!==0)return!1;return!0}function VE(t,e,r,n,i){const s=4*e;for(let o=n,a=n*s+4*r;o<=i;++o,a+=s)if(t[a+3]!==0)return!1;return!0}function dU(t){const{width:e,height:r}=t,n=t.getContext("2d",{willReadFrequently:!0});if(n===null)throw new TypeError("Failed to get canvas 2D context");const i=n.getImageData(0,0,e,r).data;let s=0,o=0,a=e-1,h=r-1;for(;o<r&&WE(i,e,o);)++o;if(o===r)return HE.EMPTY;for(;WE(i,e,h);)--h;for(;VE(i,e,s,o,h);)++s;for(;VE(i,e,a,o,h);)--a;return++a,++h,new HE(s,o,a,h)}function fU(t){const e=dU(t),{width:r,height:n}=e;let i=null;if(!e.isEmpty()){const s=t.getContext("2d");if(s===null)throw new TypeError("Failed to get canvas 2D context");i=s.getImageData(e.left,e.top,r,n)}return{width:r,height:n,data:i}}function pU(t,e=globalThis.location){if(t.startsWith("data:"))return"";e=e||globalThis.location;const r=new URL(t,document.baseURI);return r.hostname!==e.hostname||r.port!==e.port||r.protocol!==e.protocol?"anonymous":""}function us(t,e=1){var n;const r=(n=oe.RETINA_PREFIX)==null?void 0:n.exec(t);return r?parseFloat(r[1]):e}var ne=(t=>(t.Renderer="renderer",t.Application="application",t.RendererSystem="renderer-webgl-system",t.RendererPlugin="renderer-webgl-plugin",t.CanvasRendererSystem="renderer-canvas-system",t.CanvasRendererPlugin="renderer-canvas-plugin",t.Asset="asset",t.LoadParser="load-parser",t.ResolveParser="resolve-parser",t.CacheParser="cache-parser",t.DetectionParser="detection-parser",t))(ne||{});const e_=t=>{if(typeof t=="function"||typeof t=="object"&&t.extension){if(!t.extension)throw new Error("Extension class must have an extension object");t={...typeof t.extension!="object"?{type:t.extension}:t.extension,ref:t}}if(typeof t=="object")t={...t};else throw new Error("Invalid extension type");return typeof t.type=="string"&&(t.type=[t.type]),t},XE=(t,e)=>e_(t).priority??e,ce={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...t){return t.map(e_).forEach(e=>{e.type.forEach(r=>{var n,i;return(i=(n=this._removeHandlers)[r])==null?void 0:i.call(n,e)})}),this},add(...t){return t.map(e_).forEach(e=>{e.type.forEach(r=>{var s,o;const n=this._addHandlers,i=this._queue;n[r]?(s=n[r])==null||s.call(n,e):(i[r]=i[r]||[],(o=i[r])==null||o.push(e))})}),this},handle(t,e,r){var o;const n=this._addHandlers,i=this._removeHandlers;if(n[t]||i[t])throw new Error(`Extension type ${t} already has a handler`);n[t]=e,i[t]=r;const s=this._queue;return s[t]&&((o=s[t])==null||o.forEach(a=>e(a)),delete s[t]),this},handleByMap(t,e){return this.handle(t,r=>{r.name&&(e[r.name]=r.ref)},r=>{r.name&&delete e[r.name]})},handleByList(t,e,r=-1){return this.handle(t,n=>{e.includes(n.ref)||(e.push(n.ref),e.sort((i,s)=>XE(s,r)-XE(i,r)))},n=>{const i=e.indexOf(n.ref);i!==-1&&e.splice(i,1)})}};class t_{constructor(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get uint16View(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}view(e){return this[`${e}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${e} isn't a valid view type`)}}}const mU=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function gU(t){let e="";for(let r=0;r<t;++r)r>0&&(e+=`
else `),r<t-1&&(e+=`if(test == ${r}.0){}`);return e}function vU(t,e){if(t===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const r=e.createShader(e.FRAGMENT_SHADER);for(;;){const n=mU.replace(/%forloop%/gi,gU(t));if(e.shaderSource(r,n),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS))t=t/2|0;else break}return t}const Vv=0,Xv=1,Yv=2,Kv=3,Qv=4,qv=5;class ki{constructor(){this.data=0,this.blendMode=xe.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<Vv)}set blend(e){!!(this.data&1<<Vv)!==e&&(this.data^=1<<Vv)}get offsets(){return!!(this.data&1<<Xv)}set offsets(e){!!(this.data&1<<Xv)!==e&&(this.data^=1<<Xv)}get culling(){return!!(this.data&1<<Yv)}set culling(e){!!(this.data&1<<Yv)!==e&&(this.data^=1<<Yv)}get depthTest(){return!!(this.data&1<<Kv)}set depthTest(e){!!(this.data&1<<Kv)!==e&&(this.data^=1<<Kv)}get depthMask(){return!!(this.data&1<<qv)}set depthMask(e){!!(this.data&1<<qv)!==e&&(this.data^=1<<qv)}get clockwiseFrontFace(){return!!(this.data&1<<Qv)}set clockwiseFrontFace(e){!!(this.data&1<<Qv)!==e&&(this.data^=1<<Qv)}get blendMode(){return this._blendMode}set blendMode(e){this.blend=e!==xe.NONE,this._blendMode=e}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){this.offsets=!!e,this._polygonOffset=e}static for2d(){const e=new ki;return e.depthTest=!1,e.blend=!0,e}}ki.prototype.toString=function(){return`[@pixi/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`};const r_=[];function pR(t,e){if(!t)return null;let r="";if(typeof t=="string"){const n=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);n&&(r=n[1].toLowerCase())}for(let n=r_.length-1;n>=0;--n){const i=r_[n];if(i.test&&i.test(t,r))return new i(t,e)}throw new Error("Unrecognized source type to auto-detect Resource")}class jn{constructor(e){this.items=[],this._name=e,this._aliasCount=0}emit(e,r,n,i,s,o,a,h){if(arguments.length>8)throw new Error("max arguments reached");const{name:c,items:d}=this;this._aliasCount++;for(let p=0,m=d.length;p<m;p++)d[p][c](e,r,n,i,s,o,a,h);return d===this.items&&this._aliasCount--,this}ensureNonAliasedItems(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))}add(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this}remove(e){const r=this.items.indexOf(e);return r!==-1&&(this.ensureNonAliasedItems(),this.items.splice(r,1)),this}contains(e){return this.items.includes(e)}removeAll(){return this.ensureNonAliasedItems(),this.items.length=0,this}destroy(){this.removeAll(),this.items.length=0,this._name=""}get empty(){return this.items.length===0}get name(){return this._name}}Object.defineProperties(jn.prototype,{dispatch:{value:jn.prototype.emit},run:{value:jn.prototype.emit}});class Vh{constructor(e=0,r=0){this._width=e,this._height=r,this.destroyed=!1,this.internal=!1,this.onResize=new jn("setRealSize"),this.onUpdate=new jn("update"),this.onError=new jn("onError")}bind(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)}unbind(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)}resize(e,r){(e!==this._width||r!==this._height)&&(this._width=e,this._height=r,this.onResize.emit(e,r))}get valid(){return!!this._width&&!!this._height}update(){this.destroyed||this.onUpdate.emit()}load(){return Promise.resolve(this)}get width(){return this._width}get height(){return this._height}style(e,r,n){return!1}dispose(){}destroy(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)}static test(e,r){return!1}}class ym extends Vh{constructor(e,r){const{width:n,height:i}=r||{};if(!n||!i)throw new Error("BufferResource width or height invalid");super(n,i),this.data=e,this.unpackAlignment=r.unpackAlignment??4}upload(e,r,n){const i=e.gl;i.pixelStorei(i.UNPACK_ALIGNMENT,this.unpackAlignment),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===Cr.UNPACK);const s=r.realWidth,o=r.realHeight;return n.width===s&&n.height===o?i.texSubImage2D(r.target,0,0,0,s,o,r.format,n.type,this.data):(n.width=s,n.height=o,i.texImage2D(r.target,0,n.internalFormat,s,o,0,r.format,n.type,this.data)),!0}dispose(){this.data=null}static test(e){return e===null||e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array}}const yU={scaleMode:qi.NEAREST,alphaMode:Cr.NPM},n_=class Ga extends lc{constructor(e=null,r=null){super(),r=Object.assign({},Ga.defaultOptions,r);const{alphaMode:n,mipmap:i,anisotropicLevel:s,scaleMode:o,width:a,height:h,wrapMode:c,format:d,type:p,target:m,resolution:y,resourceOptions:_}=r;e&&!(e instanceof Vh)&&(e=pR(e,_),e.internal=!0),this.resolution=y||oe.RESOLUTION,this.width=Math.round((a||0)*this.resolution)/this.resolution,this.height=Math.round((h||0)*this.resolution)/this.resolution,this._mipmap=i,this.anisotropicLevel=s,this._wrapMode=c,this._scaleMode=o,this.format=d,this.type=p,this.target=m,this.alphaMode=n,this.uid=sa(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=a>0&&h>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.parentTextureArray=null,this.setResource(e)}get realWidth(){return Math.round(this.width*this.resolution)}get realHeight(){return Math.round(this.height*this.resolution)}get mipmap(){return this._mipmap}set mipmap(e){this._mipmap!==e&&(this._mipmap=e,this.dirtyStyleId++)}get scaleMode(){return this._scaleMode}set scaleMode(e){this._scaleMode!==e&&(this._scaleMode=e,this.dirtyStyleId++)}get wrapMode(){return this._wrapMode}set wrapMode(e){this._wrapMode!==e&&(this._wrapMode=e,this.dirtyStyleId++)}setStyle(e,r){let n;return e!==void 0&&e!==this.scaleMode&&(this.scaleMode=e,n=!0),r!==void 0&&r!==this.mipmap&&(this.mipmap=r,n=!0),n&&this.dirtyStyleId++,this}setSize(e,r,n){return n=n||this.resolution,this.setRealSize(e*n,r*n,n)}setRealSize(e,r,n){return this.resolution=n||this.resolution,this.width=Math.round(e)/this.resolution,this.height=Math.round(r)/this.resolution,this._refreshPOT(),this.update(),this}_refreshPOT(){this.isPowerOfTwo=$E(this.realWidth)&&$E(this.realHeight)}setResolution(e){const r=this.resolution;return r===e?this:(this.resolution=e,this.valid&&(this.width=Math.round(this.width*r)/e,this.height=Math.round(this.height*r)/e,this.emit("update",this)),this._refreshPOT(),this)}setResource(e){if(this.resource===e)return this;if(this.resource)throw new Error("Resource can be set only once");return e.bind(this),this.resource=e,this}update(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}onError(e){this.emit("error",this,e)}destroy(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete As[this.cacheId],delete ci[this.cacheId],this.cacheId=null),this.valid=!1,this.dispose(),Ga.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}dispose(){this.emit("dispose",this)}castToBaseTexture(){return this}static from(e,r,n=oe.STRICT_TEXTURE_CACHE){const i=typeof e=="string";let s=null;if(i)s=e;else{if(!e._pixiId){const a=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e._pixiId=`${a}_${sa()}`}s=e._pixiId}let o=As[s];if(i&&n&&!o)throw new Error(`The cacheId "${s}" does not exist in BaseTextureCache.`);return o||(o=new Ga(e,r),o.cacheId=s,Ga.addToCache(o,s)),o}static fromBuffer(e,r,n,i){e=e||new Float32Array(r*n*4);const s=new ym(e,{width:r,height:n,...i==null?void 0:i.resourceOptions});let o,a;return e instanceof Float32Array?(o=q.RGBA,a=ge.FLOAT):e instanceof Int32Array?(o=q.RGBA_INTEGER,a=ge.INT):e instanceof Uint32Array?(o=q.RGBA_INTEGER,a=ge.UNSIGNED_INT):e instanceof Int16Array?(o=q.RGBA_INTEGER,a=ge.SHORT):e instanceof Uint16Array?(o=q.RGBA_INTEGER,a=ge.UNSIGNED_SHORT):e instanceof Int8Array?(o=q.RGBA,a=ge.BYTE):(o=q.RGBA,a=ge.UNSIGNED_BYTE),s.internal=!0,new Ga(s,Object.assign({},yU,{type:a,format:o},i))}static addToCache(e,r){r&&(e.textureCacheIds.includes(r)||e.textureCacheIds.push(r),As[r]&&As[r]!==e&&console.warn(`BaseTexture added to the cache with an id [${r}] that already had an entry`),As[r]=e)}static removeFromCache(e){if(typeof e=="string"){const r=As[e];if(r){const n=r.textureCacheIds.indexOf(e);return n>-1&&r.textureCacheIds.splice(n,1),delete As[e],r}}else if(e!=null&&e.textureCacheIds){for(let r=0;r<e.textureCacheIds.length;++r)delete As[e.textureCacheIds[r]];return e.textureCacheIds.length=0,e}return null}};n_.defaultOptions={mipmap:Ri.POW2,anisotropicLevel:0,scaleMode:qi.LINEAR,wrapMode:ns.CLAMP,alphaMode:Cr.UNPACK,target:yl.TEXTURE_2D,format:q.RGBA,type:ge.UNSIGNED_BYTE},n_._globalBatch=0;let Ce=n_;class i_{constructor(){this.texArray=null,this.blend=0,this.type=Bn.TRIANGLES,this.start=0,this.size=0,this.data=null}}let _U=0;class Et{constructor(e,r=!0,n=!1){this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=n,this.static=r,this.id=_U++,this.disposeRunner=new jn("disposeBuffer")}update(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.data=null}set index(e){this.type=e?Pi.ELEMENT_ARRAY_BUFFER:Pi.ARRAY_BUFFER}get index(){return this.type===Pi.ELEMENT_ARRAY_BUFFER}static from(e){return e instanceof Array&&(e=new Float32Array(e)),new Et(e)}}class xp{constructor(e,r=0,n=!1,i=ge.FLOAT,s,o,a,h=1){this.buffer=e,this.size=r,this.normalized=n,this.type=i,this.stride=s,this.start=o,this.instance=a,this.divisor=h}destroy(){this.buffer=null}static from(e,r,n,i,s){return new xp(e,r,n,i,s)}}const xU={Float32Array,Uint32Array,Int32Array,Uint8Array};function wU(t,e){let r=0,n=0;const i={};for(let h=0;h<t.length;h++)n+=e[h],r+=t[h].length;const s=new ArrayBuffer(r*4);let o=null,a=0;for(let h=0;h<t.length;h++){const c=e[h],d=t[h],p=fR(d);i[p]||(i[p]=new xU[p](s)),o=i[p];for(let m=0;m<d.length;m++){const y=(m/c|0)*n+a,_=m%c;o[y+_]=d[m]}a+=c}return new Float32Array(s)}const YE={5126:4,5123:2,5121:1};let bU=0;const SU={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array};class io{constructor(e=[],r={}){this.buffers=e,this.indexBuffer=null,this.attributes=r,this.glVertexArrayObjects={},this.id=bU++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new jn("disposeGeometry"),this.refCount=0}addAttribute(e,r,n=0,i=!1,s,o,a,h=!1){if(!r)throw new Error("You must pass a buffer when creating an attribute");r instanceof Et||(r instanceof Array&&(r=new Float32Array(r)),r=new Et(r));const c=e.split("|");if(c.length>1){for(let p=0;p<c.length;p++)this.addAttribute(c[p],r,n,i,s);return this}let d=this.buffers.indexOf(r);return d===-1&&(this.buffers.push(r),d=this.buffers.length-1),this.attributes[e]=new xp(d,n,i,s,o,a,h),this.instanced=this.instanced||h,this}getAttribute(e){return this.attributes[e]}getBuffer(e){return this.buffers[this.getAttribute(e).buffer]}addIndex(e){return e instanceof Et||(e instanceof Array&&(e=new Uint16Array(e)),e=new Et(e)),e.type=Pi.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,this.buffers.includes(e)||this.buffers.push(e),this}getIndex(){return this.indexBuffer}interleave(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;const e=[],r=[],n=new Et;let i;for(i in this.attributes){const s=this.attributes[i],o=this.buffers[s.buffer];e.push(o.data),r.push(s.size*YE[s.type]/4),s.buffer=0}for(n.data=wU(e,r),i=0;i<this.buffers.length;i++)this.buffers[i]!==this.indexBuffer&&this.buffers[i].destroy();return this.buffers=[n],this.indexBuffer&&this.buffers.push(this.indexBuffer),this}getSize(){for(const e in this.attributes){const r=this.attributes[e];return this.buffers[r.buffer].data.length/(r.stride/4||r.size)}return 0}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null}clone(){const e=new io;for(let r=0;r<this.buffers.length;r++)e.buffers[r]=new Et(this.buffers[r].data.slice(0));for(const r in this.attributes){const n=this.attributes[r];e.attributes[r]=new xp(n.buffer,n.size,n.normalized,n.type,n.stride,n.start,n.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=Pi.ELEMENT_ARRAY_BUFFER),e}static merge(e){const r=new io,n=[],i=[],s=[];let o;for(let a=0;a<e.length;a++){o=e[a];for(let h=0;h<o.buffers.length;h++)i[h]=i[h]||0,i[h]+=o.buffers[h].data.length,s[h]=0}for(let a=0;a<o.buffers.length;a++)n[a]=new SU[fR(o.buffers[a].data)](i[a]),r.buffers[a]=new Et(n[a]);for(let a=0;a<e.length;a++){o=e[a];for(let h=0;h<o.buffers.length;h++)n[h].set(o.buffers[h].data,s[h]),s[h]+=o.buffers[h].data.length}if(r.attributes=o.attributes,o.indexBuffer){r.indexBuffer=r.buffers[o.buffers.indexOf(o.indexBuffer)],r.indexBuffer.type=Pi.ELEMENT_ARRAY_BUFFER;let a=0,h=0,c=0,d=0;for(let p=0;p<o.buffers.length;p++)if(o.buffers[p]!==o.indexBuffer){d=p;break}for(const p in o.attributes){const m=o.attributes[p];(m.buffer|0)===d&&(h+=m.size*YE[m.type]/4)}for(let p=0;p<e.length;p++){const m=e[p].indexBuffer.data;for(let y=0;y<m.length;y++)r.indexBuffer.data[y+c]+=a;a+=e[p].buffers[d].data.length/h,c+=m.length}}return r}}class mR extends io{constructor(e=!1){super(),this._buffer=new Et(null,e,!1),this._indexBuffer=new Et(null,e,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,ge.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,ge.FLOAT).addAttribute("aColor",this._buffer,4,!0,ge.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,ge.FLOAT).addIndex(this._indexBuffer)}}const wp=Math.PI*2,EU=180/Math.PI,TU=Math.PI/180;var Zt=(t=>(t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC",t))(Zt||{});class _e{constructor(e=0,r=0){this.x=0,this.y=0,this.x=e,this.y=r}clone(){return new _e(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(e=0,r=e){return this.x=e,this.y=r,this}}_e.prototype.toString=function(){return`[@pixi/math:Point x=${this.x} y=${this.y}]`};const Md=[new _e,new _e,new _e,new _e];class be{constructor(e=0,r=0,n=0,i=0){this.x=Number(e),this.y=Number(r),this.width=Number(n),this.height=Number(i),this.type=Zt.RECT}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}static get EMPTY(){return new be(0,0,0,0)}clone(){return new be(this.x,this.y,this.width,this.height)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}contains(e,r){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&r>=this.y&&r<this.y+this.height}intersects(e,r){if(!r){const D=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=D)return!1;const W=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>W}const n=this.left,i=this.right,s=this.top,o=this.bottom;if(i<=n||o<=s)return!1;const a=Md[0].set(e.left,e.top),h=Md[1].set(e.left,e.bottom),c=Md[2].set(e.right,e.top),d=Md[3].set(e.right,e.bottom);if(c.x<=a.x||h.y<=a.y)return!1;const p=Math.sign(r.a*r.d-r.b*r.c);if(p===0||(r.apply(a,a),r.apply(h,h),r.apply(c,c),r.apply(d,d),Math.max(a.x,h.x,c.x,d.x)<=n||Math.min(a.x,h.x,c.x,d.x)>=i||Math.max(a.y,h.y,c.y,d.y)<=s||Math.min(a.y,h.y,c.y,d.y)>=o))return!1;const m=p*(h.y-a.y),y=p*(a.x-h.x),_=m*n+y*s,S=m*i+y*s,A=m*n+y*o,E=m*i+y*o;if(Math.max(_,S,A,E)<=m*a.x+y*a.y||Math.min(_,S,A,E)>=m*d.x+y*d.y)return!1;const b=p*(a.y-c.y),x=p*(c.x-a.x),T=b*n+x*s,P=b*i+x*s,M=b*n+x*o,R=b*i+x*o;return!(Math.max(T,P,M,R)<=b*a.x+x*a.y||Math.min(T,P,M,R)>=b*d.x+x*d.y)}pad(e=0,r=e){return this.x-=e,this.y-=r,this.width+=e*2,this.height+=r*2,this}fit(e){const r=Math.max(this.x,e.x),n=Math.min(this.x+this.width,e.x+e.width),i=Math.max(this.y,e.y),s=Math.min(this.y+this.height,e.y+e.height);return this.x=r,this.width=Math.max(n-r,0),this.y=i,this.height=Math.max(s-i,0),this}ceil(e=1,r=.001){const n=Math.ceil((this.x+this.width-r)*e)/e,i=Math.ceil((this.y+this.height-r)*e)/e;return this.x=Math.floor((this.x+r)*e)/e,this.y=Math.floor((this.y+r)*e)/e,this.width=n-this.x,this.height=i-this.y,this}enlarge(e){const r=Math.min(this.x,e.x),n=Math.max(this.x+this.width,e.x+e.width),i=Math.min(this.y,e.y),s=Math.max(this.y+this.height,e.y+e.height);return this.x=r,this.width=n-r,this.y=i,this.height=s-i,this}}be.prototype.toString=function(){return`[@pixi/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};class _m{constructor(e=0,r=0,n=0){this.x=e,this.y=r,this.radius=n,this.type=Zt.CIRC}clone(){return new _m(this.x,this.y,this.radius)}contains(e,r){if(this.radius<=0)return!1;const n=this.radius*this.radius;let i=this.x-e,s=this.y-r;return i*=i,s*=s,i+s<=n}getBounds(){return new be(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)}}_m.prototype.toString=function(){return`[@pixi/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`};class xm{constructor(e=0,r=0,n=0,i=0){this.x=e,this.y=r,this.width=n,this.height=i,this.type=Zt.ELIP}clone(){return new xm(this.x,this.y,this.width,this.height)}contains(e,r){if(this.width<=0||this.height<=0)return!1;let n=(e-this.x)/this.width,i=(r-this.y)/this.height;return n*=n,i*=i,n+i<=1}getBounds(){return new be(this.x-this.width,this.y-this.height,this.width,this.height)}}xm.prototype.toString=function(){return`[@pixi/math:Ellipse x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};class Xo{constructor(...e){let r=Array.isArray(e[0])?e[0]:e;if(typeof r[0]!="number"){const n=[];for(let i=0,s=r.length;i<s;i++)n.push(r[i].x,r[i].y);r=n}this.points=r,this.type=Zt.POLY,this.closeStroke=!0}clone(){const e=this.points.slice(),r=new Xo(e);return r.closeStroke=this.closeStroke,r}contains(e,r){let n=!1;const i=this.points.length/2;for(let s=0,o=i-1;s<i;o=s++){const a=this.points[s*2],h=this.points[s*2+1],c=this.points[o*2],d=this.points[o*2+1];h>r!=d>r&&e<(c-a)*((r-h)/(d-h))+a&&(n=!n)}return n}}Xo.prototype.toString=function(){return`[@pixi/math:PolygoncloseStroke=${this.closeStroke}points=${this.points.reduce((t,e)=>`${t}, ${e}`,"")}]`};class wm{constructor(e=0,r=0,n=0,i=0,s=20){this.x=e,this.y=r,this.width=n,this.height=i,this.radius=s,this.type=Zt.RREC}clone(){return new wm(this.x,this.y,this.width,this.height,this.radius)}contains(e,r){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&r>=this.y&&r<=this.y+this.height){const n=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(r>=this.y+n&&r<=this.y+this.height-n||e>=this.x+n&&e<=this.x+this.width-n)return!0;let i=e-(this.x+n),s=r-(this.y+n);const o=n*n;if(i*i+s*s<=o||(i=e-(this.x+this.width-n),i*i+s*s<=o)||(s=r-(this.y+this.height-n),i*i+s*s<=o)||(i=e-(this.x+n),i*i+s*s<=o))return!0}return!1}}wm.prototype.toString=function(){return`[@pixi/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`};class it{constructor(e=1,r=0,n=0,i=1,s=0,o=0){this.array=null,this.a=e,this.b=r,this.c=n,this.d=i,this.tx=s,this.ty=o}fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,r,n,i,s,o){return this.a=e,this.b=r,this.c=n,this.d=i,this.tx=s,this.ty=o,this}toArray(e,r){this.array||(this.array=new Float32Array(9));const n=r||this.array;return e?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n}apply(e,r){r=r||new _e;const n=e.x,i=e.y;return r.x=this.a*n+this.c*i+this.tx,r.y=this.b*n+this.d*i+this.ty,r}applyInverse(e,r){r=r||new _e;const n=1/(this.a*this.d+this.c*-this.b),i=e.x,s=e.y;return r.x=this.d*n*i+-this.c*n*s+(this.ty*this.c-this.tx*this.d)*n,r.y=this.a*n*s+-this.b*n*i+(-this.ty*this.a+this.tx*this.b)*n,r}translate(e,r){return this.tx+=e,this.ty+=r,this}scale(e,r){return this.a*=e,this.d*=r,this.c*=e,this.b*=r,this.tx*=e,this.ty*=r,this}rotate(e){const r=Math.cos(e),n=Math.sin(e),i=this.a,s=this.c,o=this.tx;return this.a=i*r-this.b*n,this.b=i*n+this.b*r,this.c=s*r-this.d*n,this.d=s*n+this.d*r,this.tx=o*r-this.ty*n,this.ty=o*n+this.ty*r,this}append(e){const r=this.a,n=this.b,i=this.c,s=this.d;return this.a=e.a*r+e.b*i,this.b=e.a*n+e.b*s,this.c=e.c*r+e.d*i,this.d=e.c*n+e.d*s,this.tx=e.tx*r+e.ty*i+this.tx,this.ty=e.tx*n+e.ty*s+this.ty,this}setTransform(e,r,n,i,s,o,a,h,c){return this.a=Math.cos(a+c)*s,this.b=Math.sin(a+c)*s,this.c=-Math.sin(a-h)*o,this.d=Math.cos(a-h)*o,this.tx=e-(n*this.a+i*this.c),this.ty=r-(n*this.b+i*this.d),this}prepend(e){const r=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){const n=this.a,i=this.c;this.a=n*e.a+this.b*e.c,this.b=n*e.b+this.b*e.d,this.c=i*e.a+this.d*e.c,this.d=i*e.b+this.d*e.d}return this.tx=r*e.a+this.ty*e.c+e.tx,this.ty=r*e.b+this.ty*e.d+e.ty,this}decompose(e){const r=this.a,n=this.b,i=this.c,s=this.d,o=e.pivot,a=-Math.atan2(-i,s),h=Math.atan2(n,r),c=Math.abs(a+h);return c<1e-5||Math.abs(wp-c)<1e-5?(e.rotation=h,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=a,e.skew.y=h),e.scale.x=Math.sqrt(r*r+n*n),e.scale.y=Math.sqrt(i*i+s*s),e.position.x=this.tx+(o.x*r+o.y*i),e.position.y=this.ty+(o.x*n+o.y*s),e}invert(){const e=this.a,r=this.b,n=this.c,i=this.d,s=this.tx,o=e*i-r*n;return this.a=i/o,this.b=-r/o,this.c=-n/o,this.d=e/o,this.tx=(n*this.ty-i*s)/o,this.ty=-(e*this.ty-r*s)/o,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const e=new it;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}static get IDENTITY(){return new it}static get TEMP_MATRIX(){return new it}}it.prototype.toString=function(){return`[@pixi/math:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`};const Io=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],Ro=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Oo=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Mo=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],s_=[],gR=[],kd=Math.sign;function AU(){for(let t=0;t<16;t++){const e=[];s_.push(e);for(let r=0;r<16;r++){const n=kd(Io[t]*Io[r]+Oo[t]*Ro[r]),i=kd(Ro[t]*Io[r]+Mo[t]*Ro[r]),s=kd(Io[t]*Oo[r]+Oo[t]*Mo[r]),o=kd(Ro[t]*Oo[r]+Mo[t]*Mo[r]);for(let a=0;a<16;a++)if(Io[a]===n&&Ro[a]===i&&Oo[a]===s&&Mo[a]===o){e.push(a);break}}}for(let t=0;t<16;t++){const e=new it;e.set(Io[t],Ro[t],Oo[t],Mo[t],0,0),gR.push(e)}}AU();const ft={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:t=>Io[t],uY:t=>Ro[t],vX:t=>Oo[t],vY:t=>Mo[t],inv:t=>t&8?t&15:-t&7,add:(t,e)=>s_[t][e],sub:(t,e)=>s_[t][ft.inv(e)],rotate180:t=>t^4,isVertical:t=>(t&3)===2,byDirection:(t,e)=>Math.abs(t)*2<=Math.abs(e)?e>=0?ft.S:ft.N:Math.abs(e)*2<=Math.abs(t)?t>0?ft.E:ft.W:e>0?t>0?ft.SE:ft.SW:t>0?ft.NE:ft.NW,matrixAppendRotationInv:(t,e,r=0,n=0)=>{const i=gR[ft.inv(e)];i.tx=r,i.ty=n,t.append(i)}};class bi{constructor(e,r,n=0,i=0){this._x=n,this._y=i,this.cb=e,this.scope=r}clone(e=this.cb,r=this.scope){return new bi(e,r,this._x,this._y)}set(e=0,r=e){return(this._x!==e||this._y!==r)&&(this._x=e,this._y=r,this.cb.call(this.scope)),this}copyFrom(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))}}bi.prototype.toString=function(){return`[@pixi/math:ObservablePoint x=${this.x} y=${this.y} scope=${this.scope}]`};const o_=class{constructor(){this.worldTransform=new it,this.localTransform=new it,this.position=new bi(this.onChange,this,0,0),this.scale=new bi(this.onChange,this,1,1),this.pivot=new bi(this.onChange,this,0,0),this.skew=new bi(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}onChange(){this._localID++}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}updateLocalTransform(){const t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)}updateTransform(t){const e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){const r=t.worldTransform,n=this.worldTransform;n.a=e.a*r.a+e.b*r.c,n.b=e.a*r.b+e.b*r.d,n.c=e.c*r.a+e.d*r.c,n.d=e.c*r.b+e.d*r.d,n.tx=e.tx*r.a+e.ty*r.c+r.tx,n.ty=e.tx*r.b+e.ty*r.d+r.ty,this._parentID=t._worldID,this._worldID++}}setFromMatrix(t){t.decompose(this),this._localID++}get rotation(){return this._rotation}set rotation(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())}};o_.IDENTITY=new o_;let bm=o_;bm.prototype.toString=function(){return`[@pixi/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`};var CU=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,PU=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`;function KE(t,e,r){const n=t.createShader(e);return t.shaderSource(n,r),t.compileShader(n),n}function Zv(t){const e=new Array(t);for(let r=0;r<e.length;r++)e[r]=!1;return e}function vR(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return Zv(2*e);case"bvec3":return Zv(3*e);case"bvec4":return Zv(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const bl=[{test:t=>t.type==="float"&&t.size===1&&!t.isArray,code:t=>`
            if(uv["${t}"] !== ud["${t}"].value)
            {
                ud["${t}"].value = uv["${t}"]
                gl.uniform1f(ud["${t}"].location, uv["${t}"])
            }
            `},{test:(t,e)=>(t.type==="sampler2D"||t.type==="samplerCube"||t.type==="sampler2DArray")&&t.size===1&&!t.isArray&&(e==null||e.castToBaseTexture!==void 0),code:t=>`t = syncData.textureCount++;

            renderer.texture.bind(uv["${t}"], t);

            if(ud["${t}"].value !== t)
            {
                ud["${t}"].value = t;
                gl.uniform1i(ud["${t}"].location, t);
; // eslint-disable-line max-len
            }`},{test:(t,e)=>t.type==="mat3"&&t.size===1&&!t.isArray&&e.a!==void 0,code:t=>`
            gl.uniformMatrix3fv(ud["${t}"].location, false, uv["${t}"].toArray(true));
            `,codeUbo:t=>`
                var ${t}_matrix = uv.${t}.toArray(true);

                data[offset] = ${t}_matrix[0];
                data[offset+1] = ${t}_matrix[1];
                data[offset+2] = ${t}_matrix[2];
        
                data[offset + 4] = ${t}_matrix[3];
                data[offset + 5] = ${t}_matrix[4];
                data[offset + 6] = ${t}_matrix[5];
        
                data[offset + 8] = ${t}_matrix[6];
                data[offset + 9] = ${t}_matrix[7];
                data[offset + 10] = ${t}_matrix[8];
            `},{test:(t,e)=>t.type==="vec2"&&t.size===1&&!t.isArray&&e.x!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["${t}"].location, v.x, v.y);
                }`,codeUbo:t=>`
                v = uv.${t};

                data[offset] = v.x;
                data[offset+1] = v.y;
            `},{test:t=>t.type==="vec2"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["${t}"].location, v[0], v[1]);
                }
            `},{test:(t,e)=>t.type==="vec4"&&t.size===1&&!t.isArray&&e.width!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["${t}"].location, v.x, v.y, v.width, v.height)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `},{test:(t,e)=>t.type==="vec4"&&t.size===1&&!t.isArray&&e.red!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
                    cv[3] = v.alpha;
                    gl.uniform4f(ud["${t}"].location, v.red, v.green, v.blue, v.alpha)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                    data[offset+3] = v.alpha;
                `},{test:(t,e)=>t.type==="vec3"&&t.size===1&&!t.isArray&&e.red!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.a)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
    
                    gl.uniform3f(ud["${t}"].location, v.red, v.green, v.blue)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                `},{test:t=>t.type==="vec4"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["${t}"].location, v[0], v[1], v[2], v[3])
                }`}],IU={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,samplerCube:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,sampler2DArray:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`},RU={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function OU(t,e){var n;const r=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(const i in t.uniforms){const s=e[i];if(!s){((n=t.uniforms[i])==null?void 0:n.group)===!0&&(t.uniforms[i].ubo?r.push(`
                        renderer.shader.syncUniformBufferGroup(uv.${i}, '${i}');
                    `):r.push(`
                        renderer.shader.syncUniformGroup(uv.${i}, syncData);
                    `));continue}const o=t.uniforms[i];let a=!1;for(let h=0;h<bl.length;h++)if(bl[h].test(s,o)){r.push(bl[h].code(i,o)),a=!0;break}if(!a){const h=(s.size===1&&!s.isArray?IU:RU)[s.type].replace("location",`ud["${i}"].location`);r.push(`
            cu = ud["${i}"];
            cv = cu.value;
            v = uv["${i}"];
            ${h};`)}}return new Function("ud","uv","renderer","syncData",r.join(`
`))}const yR={};let Ba=yR;function MU(){if(Ba===yR||Ba!=null&&Ba.isContextLost()){const t=oe.ADAPTER.createCanvas();let e;oe.PREFER_ENV>=fa.WEBGL2&&(e=t.getContext("webgl2",{})),e||(e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}),e?e.getExtension("WEBGL_draw_buffers"):e=null),Ba=e}return Ba}let Dd;function kU(){if(!Dd){Dd=mn.MEDIUM;const t=MU();if(t&&t.getShaderPrecisionFormat){const e=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT);e&&(Dd=e.precision?mn.HIGH:mn.MEDIUM)}}return Dd}function QE(t,e){const r=t.getShaderSource(e).split(`
`).map((c,d)=>`${d}: ${c}`),n=t.getShaderInfoLog(e),i=n.split(`
`),s={},o=i.map(c=>parseFloat(c.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))).filter(c=>c&&!s[c]?(s[c]=!0,!0):!1),a=[""];o.forEach(c=>{r[c-1]=`%c${r[c-1]}%c`,a.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});const h=r.join(`
`);a[0]=h,console.error(n),console.groupCollapsed("click to view full shader code"),console.warn(...a),console.groupEnd()}function DU(t,e,r,n){t.getProgramParameter(e,t.LINK_STATUS)||(t.getShaderParameter(r,t.COMPILE_STATUS)||QE(t,r),t.getShaderParameter(n,t.COMPILE_STATUS)||QE(t,n),console.error("PixiJS Error: Could not initialize shader."),t.getProgramInfoLog(e)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(e)))}const NU={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function _R(t){return NU[t]}let Nd=null;const qE={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function xR(t,e){if(!Nd){const r=Object.keys(qE);Nd={};for(let n=0;n<r.length;++n){const i=r[n];Nd[t[i]]=qE[i]}}return Nd[e]}function ZE(t,e,r){if(t.substring(0,9)!=="precision"){let n=e;return e===mn.HIGH&&r!==mn.HIGH&&(n=mn.MEDIUM),`precision ${n} float;
${t}`}else if(r!==mn.HIGH&&t.substring(0,15)==="precision highp")return t.replace("precision highp","precision mediump");return t}let Bu;function FU(){if(typeof Bu=="boolean")return Bu;try{Bu=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{Bu=!1}return Bu}let BU=0;const Fd={},a_=class Ha{constructor(e,r,n="pixi-shader",i={}){this.extra={},this.id=BU++,this.vertexSrc=e||Ha.defaultVertexSrc,this.fragmentSrc=r||Ha.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.extra=i,this.vertexSrc.substring(0,8)!=="#version"&&(n=n.replace(/\s+/g,"-"),Fd[n]?(Fd[n]++,n+=`-${Fd[n]}`):Fd[n]=1,this.vertexSrc=`#define SHADER_NAME ${n}
${this.vertexSrc}`,this.fragmentSrc=`#define SHADER_NAME ${n}
${this.fragmentSrc}`,this.vertexSrc=ZE(this.vertexSrc,Ha.defaultVertexPrecision,mn.HIGH),this.fragmentSrc=ZE(this.fragmentSrc,Ha.defaultFragmentPrecision,kU())),this.glPrograms={},this.syncUniforms=null}static get defaultVertexSrc(){return PU}static get defaultFragmentSrc(){return CU}static from(e,r,n){const i=e+r;let s=jE[i];return s||(jE[i]=s=new Ha(e,r,n)),s}};a_.defaultVertexPrecision=mn.HIGH,a_.defaultFragmentPrecision=Zi.apple.device?mn.HIGH:mn.MEDIUM;let Ji=a_,LU=0;class Wn{constructor(e,r,n){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=LU++,this.static=!!r,this.ubo=!!n,e instanceof Et?(this.buffer=e,this.buffer.type=Pi.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new Et(new Float32Array(1)),this.buffer.type=Pi.UNIFORM_BUFFER,this.autoManage=!0))}update(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()}add(e,r,n){if(!this.ubo)this.uniforms[e]=new Wn(r,n);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")}static from(e,r,n){return new Wn(e,r,n)}static uboFrom(e,r){return new Wn(e,r??!0,!0)}}class Ii{constructor(e,r){this.uniformBindCount=0,this.program=e,r?r instanceof Wn?this.uniformGroup=r:this.uniformGroup=new Wn(r):this.uniformGroup=new Wn({}),this.disposeRunner=new jn("disposeShader")}checkUniformExists(e,r){if(r.uniforms[e])return!0;for(const n in r.uniforms){const i=r.uniforms[n];if(i.group===!0&&this.checkUniformExists(e,i))return!0}return!1}destroy(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()}get uniforms(){return this.uniformGroup.uniforms}static from(e,r,n){const i=Ji.from(e,r);return new Ii(i,n)}}class UU{constructor(e,r){if(this.vertexSrc=e,this.fragTemplate=r,this.programCache={},this.defaultGroupCache={},!r.includes("%count%"))throw new Error('Fragment template must contain "%count%".');if(!r.includes("%forloop%"))throw new Error('Fragment template must contain "%forloop%".')}generateShader(e){if(!this.programCache[e]){const n=new Int32Array(e);for(let s=0;s<e;s++)n[s]=s;this.defaultGroupCache[e]=Wn.from({uSamplers:n},!0);let i=this.fragTemplate;i=i.replace(/%count%/gi,`${e}`),i=i.replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new Ji(this.vertexSrc,i)}const r={tint:new Float32Array([1,1,1,1]),translationMatrix:new it,default:this.defaultGroupCache[e]};return new Ii(this.programCache[e],r)}generateSampleSrc(e){let r="";r+=`
`,r+=`
`;for(let n=0;n<e;n++)n>0&&(r+=`
else `),n<e-1&&(r+=`if(vTextureId < ${n}.5)`),r+=`
{`,r+=`
	color = texture2D(uSamplers[${n}], vTextureCoord);`,r+=`
}`;return r+=`
`,r+=`
`,r}}class l_{constructor(){this.elements=[],this.ids=[],this.count=0}clear(){for(let e=0;e<this.count;e++)this.elements[e]=null;this.count=0}}function zU(){return!Zi.apple.device}function $U(t){let e=!0;const r=oe.ADAPTER.getNavigator();if(Zi.tablet||Zi.phone){if(Zi.apple.device){const n=r.userAgent.match(/OS (\d+)_(\d+)?/);n&&parseInt(n[1],10)<11&&(e=!1)}if(Zi.android.device){const n=r.userAgent.match(/Android\s([0-9.]*)/);n&&parseInt(n[1],10)<7&&(e=!1)}}return e?t:4}class Sm{constructor(e){this.renderer=e}flush(){}destroy(){this.renderer=null}start(){}stop(){this.flush()}render(e){}}var GU=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,HU=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`;const Xu=class On extends Sm{constructor(e){super(e),this.setShaderGenerator(),this.geometryClass=mR,this.vertexSize=6,this.state=ki.for2d(),this.size=On.defaultBatchSize*4,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.maxTextures=1,this.renderer.on("prerender",this.onPrerender,this),e.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}static get defaultMaxTextures(){return this._defaultMaxTextures=this._defaultMaxTextures??$U(32),this._defaultMaxTextures}static set defaultMaxTextures(e){this._defaultMaxTextures=e}static get canUploadSameBuffer(){return this._canUploadSameBuffer=this._canUploadSameBuffer??zU(),this._canUploadSameBuffer}static set canUploadSameBuffer(e){this._canUploadSameBuffer=e}get MAX_TEXTURES(){return Oe("7.1.0","BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures"),this.maxTextures}static get defaultVertexSrc(){return HU}static get defaultFragmentTemplate(){return GU}setShaderGenerator({vertex:e=On.defaultVertexSrc,fragment:r=On.defaultFragmentTemplate}={}){this.shaderGenerator=new UU(e,r)}contextChange(){const e=this.renderer.gl;oe.PREFER_ENV===fa.WEBGL_LEGACY?this.maxTextures=1:(this.maxTextures=Math.min(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),On.defaultMaxTextures),this.maxTextures=vU(this.maxTextures,e)),this._shader=this.shaderGenerator.generateShader(this.maxTextures);for(let r=0;r<this._packedGeometryPoolSize;r++)this._packedGeometries[r]=new this.geometryClass;this.initFlushBuffers()}initFlushBuffers(){const{_drawCallPool:e,_textureArrayPool:r}=On,n=this.size/4,i=Math.floor(n/this.maxTextures)+1;for(;e.length<n;)e.push(new i_);for(;r.length<i;)r.push(new l_);for(let s=0;s<this.maxTextures;s++)this._tempBoundTextures[s]=null}onPrerender(){this._flushId=0}render(e){e._texture.valid&&(this._vertexCount+e.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=e.vertexData.length/2,this._indexCount+=e.indices.length,this._bufferedTextures[this._bufferSize]=e._texture.baseTexture,this._bufferedElements[this._bufferSize++]=e)}buildTexturesAndDrawCalls(){const{_bufferedTextures:e,maxTextures:r}=this,n=On._textureArrayPool,i=this.renderer.batch,s=this._tempBoundTextures,o=this.renderer.textureGC.count;let a=++Ce._globalBatch,h=0,c=n[0],d=0;i.copyBoundTextures(s,r);for(let p=0;p<this._bufferSize;++p){const m=e[p];e[p]=null,m._batchEnabled!==a&&(c.count>=r&&(i.boundArray(c,s,a,r),this.buildDrawCalls(c,d,p),d=p,c=n[++h],++a),m._batchEnabled=a,m.touched=o,c.elements[c.count++]=m)}c.count>0&&(i.boundArray(c,s,a,r),this.buildDrawCalls(c,d,this._bufferSize),++h,++a);for(let p=0;p<s.length;p++)s[p]=null;Ce._globalBatch=a}buildDrawCalls(e,r,n){const{_bufferedElements:i,_attributeBuffer:s,_indexBuffer:o,vertexSize:a}=this,h=On._drawCallPool;let c=this._dcIndex,d=this._aIndex,p=this._iIndex,m=h[c];m.start=this._iIndex,m.texArray=e;for(let y=r;y<n;++y){const _=i[y],S=_._texture.baseTexture,A=cR[S.alphaMode?1:0][_.blendMode];i[y]=null,r<y&&m.blend!==A&&(m.size=p-m.start,r=y,m=h[++c],m.texArray=e,m.start=p),this.packInterleavedGeometry(_,s,o,d,p),d+=_.vertexData.length/2*a,p+=_.indices.length,m.blend=A}r<n&&(m.size=p-m.start,++c),this._dcIndex=c,this._aIndex=d,this._iIndex=p}bindAndClearTexArray(e){const r=this.renderer.texture;for(let n=0;n<e.count;n++)r.bind(e.elements[n],e.ids[n]),e.elements[n]=null;e.count=0}updateGeometry(){const{_packedGeometries:e,_attributeBuffer:r,_indexBuffer:n}=this;On.canUploadSameBuffer?(e[this._flushId]._buffer.update(r.rawBinaryData),e[this._flushId]._indexBuffer.update(n),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,e[this._flushId]=new this.geometryClass),e[this._flushId]._buffer.update(r.rawBinaryData),e[this._flushId]._indexBuffer.update(n),this.renderer.geometry.bind(e[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}drawBatches(){const e=this._dcIndex,{gl:r,state:n}=this.renderer,i=On._drawCallPool;let s=null;for(let o=0;o<e;o++){const{texArray:a,type:h,size:c,start:d,blend:p}=i[o];s!==a&&(s=a,this.bindAndClearTexArray(a)),this.state.blendMode=p,n.set(this.state),r.drawElements(h,c,r.UNSIGNED_SHORT,d*2)}}flush(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)}start(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.maxTextures),this.renderer.shader.bind(this._shader),On.canUploadSameBuffer&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}stop(){this.flush()}destroy(){for(let e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),super.destroy()}getAttributeBuffer(e){const r=_p(Math.ceil(e/8)),n=GE(r),i=r*8;this._aBuffers.length<=n&&(this._iBuffers.length=n+1);let s=this._aBuffers[i];return s||(this._aBuffers[i]=s=new t_(i*this.vertexSize*4)),s}getIndexBuffer(e){const r=_p(Math.ceil(e/12)),n=GE(r),i=r*12;this._iBuffers.length<=n&&(this._iBuffers.length=n+1);let s=this._iBuffers[n];return s||(this._iBuffers[n]=s=new Uint16Array(i)),s}packInterleavedGeometry(e,r,n,i,s){const{uint32View:o,float32View:a}=r,h=i/this.vertexSize,c=e.uvs,d=e.indices,p=e.vertexData,m=e._texture.baseTexture._batchLocation,y=Math.min(e.worldAlpha,1),_=Ze.shared.setValue(e._tintRGB).toPremultiplied(y,e._texture.baseTexture.alphaMode>0);for(let S=0;S<p.length;S+=2)a[i++]=p[S],a[i++]=p[S+1],a[i++]=c[S],a[i++]=c[S+1],o[i++]=_,a[i++]=m;for(let S=0;S<d.length;S++)n[s++]=h+d[S]}};Xu.defaultBatchSize=4096,Xu.extension={name:"batch",type:ne.RendererPlugin},Xu._drawCallPool=[],Xu._textureArrayPool=[];let ko=Xu;ce.add(ko);var jU=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,WU=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const u_=class Yu extends Ii{constructor(e,r,n){const i=Ji.from(e||Yu.defaultVertexSrc,r||Yu.defaultFragmentSrc);super(i,n),this.padding=0,this.resolution=Yu.defaultResolution,this.multisample=Yu.defaultMultisample,this.enabled=!0,this.autoFit=!0,this.state=new ki}apply(e,r,n,i,s){e.applyFilter(this,r,n,i)}get blendMode(){return this.state.blendMode}set blendMode(e){this.state.blendMode=e}get resolution(){return this._resolution}set resolution(e){this._resolution=e}static get defaultVertexSrc(){return WU}static get defaultFragmentSrc(){return jU}};u_.defaultResolution=1,u_.defaultMultisample=Pt.NONE;let gr=u_;class bp{constructor(){this.clearBeforeRender=!0,this._backgroundColor=new Ze(0),this.alpha=1}init(e){this.clearBeforeRender=e.clearBeforeRender;const{backgroundColor:r,background:n,backgroundAlpha:i}=e,s=n??r;s!==void 0&&(this.color=s),this.alpha=i}get color(){return this._backgroundColor.value}set color(e){this._backgroundColor.setValue(e)}get alpha(){return this._backgroundColor.alpha}set alpha(e){this._backgroundColor.setAlpha(e)}get backgroundColor(){return this._backgroundColor}destroy(){}}bp.defaultOptions={backgroundAlpha:1,backgroundColor:0,clearBeforeRender:!0},bp.extension={type:[ne.RendererSystem,ne.CanvasRendererSystem],name:"background"};ce.add(bp);class wR{constructor(e){this.renderer=e,this.emptyRenderer=new Sm(e),this.currentRenderer=this.emptyRenderer}setObjectRenderer(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())}flush(){this.setObjectRenderer(this.emptyRenderer)}reset(){this.setObjectRenderer(this.emptyRenderer)}copyBoundTextures(e,r){const{boundTextures:n}=this.renderer.texture;for(let i=r-1;i>=0;--i)e[i]=n[i]||null,e[i]&&(e[i]._batchLocation=i)}boundArray(e,r,n,i){const{elements:s,ids:o,count:a}=e;let h=0;for(let c=0;c<a;c++){const d=s[c],p=d._batchLocation;if(p>=0&&p<i&&r[p]===d){o[c]=p;continue}for(;h<i;){const m=r[h];if(m&&m._batchEnabled===n&&m._batchLocation===h){h++;continue}o[c]=h,d._batchLocation=h,r[h]=d;break}}}destroy(){this.renderer=null}}wR.extension={type:ne.RendererSystem,name:"batch"};ce.add(wR);let JE=0;class Sp{constructor(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=JE++}init(e){if(e.context)this.initFromContext(e.context);else{const r=this.renderer.background.alpha<1,n=e.premultipliedAlpha;this.preserveDrawingBuffer=e.preserveDrawingBuffer,this.useContextAlpha=e.useContextAlpha,this.powerPreference=e.powerPreference,this.initFromOptions({alpha:r,premultipliedAlpha:n,antialias:e.antialias,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:e.powerPreference})}}initFromContext(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=JE++,this.renderer.runners.contextChange.emit(e);const r=this.renderer.view;r.addEventListener!==void 0&&(r.addEventListener("webglcontextlost",this.handleContextLost,!1),r.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}initFromOptions(e){const r=this.createContext(this.renderer.view,e);this.initFromContext(r)}createContext(e,r){let n;if(oe.PREFER_ENV>=fa.WEBGL2&&(n=e.getContext("webgl2",r)),n)this.webGLVersion=2;else if(this.webGLVersion=1,n=e.getContext("webgl",r)||e.getContext("experimental-webgl",r),!n)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=n,this.getExtensions(),this.gl}getExtensions(){const{gl:e}=this,r={loseContext:e.getExtension("WEBGL_lose_context"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc"),bptc:e.getExtension("EXT_texture_compression_bptc")};this.webGLVersion===1?Object.assign(this.extensions,r,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,r,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})}handleContextLost(e){e.preventDefault(),setTimeout(()=>{this.gl.isContextLost()&&this.extensions.loseContext&&this.extensions.loseContext.restoreContext()},0)}handleContextRestored(){this.renderer.runners.contextChange.emit(this.gl)}destroy(){const e=this.renderer.view;this.renderer=null,e.removeEventListener!==void 0&&(e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored)),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()}postrender(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}validateContext(e){const r=e.getContextAttributes(),n="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;n&&(this.webGLVersion=2),r&&!r.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");const i=n||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=i,i||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}}Sp.defaultOptions={context:null,antialias:!1,premultipliedAlpha:!0,preserveDrawingBuffer:!1,powerPreference:"default"},Sp.extension={type:ne.RendererSystem,name:"context"};ce.add(Sp);class h_{constructor(e,r){if(this.width=Math.round(e),this.height=Math.round(r),!this.width||!this.height)throw new Error("Framebuffer width or height is zero");this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new jn("disposeFramebuffer"),this.multisample=Pt.NONE}get colorTexture(){return this.colorTextures[0]}addColorTexture(e=0,r){return this.colorTextures[e]=r||new Ce(null,{scaleMode:qi.NEAREST,resolution:1,mipmap:Ri.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this}addDepthTexture(e){return this.depthTexture=e||new Ce(null,{scaleMode:qi.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:Ri.OFF,format:q.DEPTH_COMPONENT,type:ge.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this}enableDepth(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this}enableStencil(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this}resize(e,r){if(e=Math.round(e),r=Math.round(r),!e||!r)throw new Error("Framebuffer width and height must not be zero");if(!(e===this.width&&r===this.height)){this.width=e,this.height=r,this.dirtyId++,this.dirtySize++;for(let n=0;n<this.colorTextures.length;n++){const i=this.colorTextures[n],s=i.resolution;i.setSize(e/s,r/s)}if(this.depthTexture){const n=this.depthTexture.resolution;this.depthTexture.setSize(e/n,r/n)}}}dispose(){this.disposeRunner.emit(this,!1)}destroyDepthTexture(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}}class bR extends Ce{constructor(e={}){if(typeof e=="number"){const r=arguments[0],n=arguments[1],i=arguments[2],s=arguments[3];e={width:r,height:n,scaleMode:i,resolution:s}}e.width=e.width??100,e.height=e.height??100,e.multisample??(e.multisample=Pt.NONE),super(null,e),this.mipmap=Ri.OFF,this.valid=!0,this._clear=new Ze([0,0,0,0]),this.framebuffer=new h_(this.realWidth,this.realHeight).addColorTexture(0,this),this.framebuffer.multisample=e.multisample,this.maskStack=[],this.filterStack=[{}]}set clearColor(e){this._clear.setValue(e)}get clearColor(){return this._clear.value}get clear(){return this._clear}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,r){this.framebuffer.resize(e*this.resolution,r*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)}dispose(){this.framebuffer.dispose(),super.dispose()}destroy(){super.destroy(),this.framebuffer.destroyDepthTexture(),this.framebuffer=null}}class hs extends Vh{constructor(e){const r=e,n=r.naturalWidth||r.videoWidth||r.displayWidth||r.width,i=r.naturalHeight||r.videoHeight||r.displayHeight||r.height;super(n,i),this.source=e,this.noSubImage=!1}static crossOrigin(e,r,n){n===void 0&&!r.startsWith("data:")?e.crossOrigin=pU(r):n!==!1&&(e.crossOrigin=typeof n=="string"?n:"anonymous")}upload(e,r,n,i){const s=e.gl,o=r.realWidth,a=r.realHeight;if(i=i||this.source,typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement){if(!i.complete||i.naturalWidth===0)return!1}else if(typeof HTMLVideoElement<"u"&&i instanceof HTMLVideoElement&&i.readyState<=1)return!1;return s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===Cr.UNPACK),!this.noSubImage&&r.target===s.TEXTURE_2D&&n.width===o&&n.height===a?s.texSubImage2D(s.TEXTURE_2D,0,0,0,r.format,n.type,i):(n.width=o,n.height=a,s.texImage2D(r.target,0,n.internalFormat,r.format,n.type,i)),!0}update(){if(this.destroyed)return;const e=this.source,r=e.naturalWidth||e.videoWidth||e.width,n=e.naturalHeight||e.videoHeight||e.height;this.resize(r,n),super.update()}dispose(){this.source=null}}class SR extends hs{constructor(e,r){if(r=r||{},typeof e=="string"){const n=new Image;hs.crossOrigin(n,e,r.crossorigin),n.src=e,e=n}super(e),!e.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=e.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(r.createBitmap??oe.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,this.alphaMode=typeof r.alphaMode=="number"?r.alphaMode:null,this.bitmap=null,this._load=null,r.autoLoad!==!1&&this.load()}load(e){return this._load?this._load:(e!==void 0&&(this.createBitmap=e),this._load=new Promise((r,n)=>{const i=this.source;this.url=i.src;const s=()=>{this.destroyed||(i.onload=null,i.onerror=null,this.update(),this._load=null,this.createBitmap?r(this.process()):r(this))};i.complete&&i.src?s():(i.onload=s,i.onerror=o=>{n(o),this.onError.emit(o)})}),this._load)}process(){const e=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);const r=globalThis.createImageBitmap,n=!e.crossOrigin||e.crossOrigin==="anonymous";return this._process=fetch(e.src,{mode:n?"cors":"no-cors"}).then(i=>i.blob()).then(i=>r(i,0,0,e.width,e.height,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===Cr.UNPACK?"premultiply":"none"})).then(i=>this.destroyed?Promise.reject():(this.bitmap=i,this.update(),this._process=null,Promise.resolve(this))),this._process}upload(e,r,n){if(typeof this.alphaMode=="number"&&(r.alphaMode=this.alphaMode),!this.createBitmap)return super.upload(e,r,n);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(super.upload(e,r,n,this.bitmap),!this.preserveBitmap){let i=!0;const s=r._glTextures;for(const o in s){const a=s[o];if(a!==n&&a.dirtyId!==r.dirtyId){i=!1;break}}i&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}dispose(){this.source.onload=null,this.source.onerror=null,super.dispose(),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null}static test(e){return typeof HTMLImageElement<"u"&&(typeof e=="string"||e instanceof HTMLImageElement)}}class sx{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}set(e,r,n){const i=r.width,s=r.height;if(n){const o=e.width/2/i,a=e.height/2/s,h=e.x/i+o,c=e.y/s+a;n=ft.add(n,ft.NW),this.x0=h+o*ft.uX(n),this.y0=c+a*ft.uY(n),n=ft.add(n,2),this.x1=h+o*ft.uX(n),this.y1=c+a*ft.uY(n),n=ft.add(n,2),this.x2=h+o*ft.uX(n),this.y2=c+a*ft.uY(n),n=ft.add(n,2),this.x3=h+o*ft.uX(n),this.y3=c+a*ft.uY(n)}else this.x0=e.x/i,this.y0=e.y/s,this.x1=(e.x+e.width)/i,this.y1=e.y/s,this.x2=(e.x+e.width)/i,this.y2=(e.y+e.height)/s,this.x3=e.x/i,this.y3=(e.y+e.height)/s;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}}sx.prototype.toString=function(){return`[@pixi/core:TextureUvs x0=${this.x0} y0=${this.y0} x1=${this.x1} y1=${this.y1} x2=${this.x2} y2=${this.y2} x3=${this.x3} y3=${this.y3}]`};const eT=new sx;function Bd(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}class re extends lc{constructor(e,r,n,i,s,o,a){if(super(),this.noFrame=!1,r||(this.noFrame=!0,r=new be(0,0,1,1)),e instanceof re&&(e=e.baseTexture),this.baseTexture=e,this._frame=r,this.trim=i,this.valid=!1,this.destroyed=!1,this._uvs=eT,this.uvMatrix=null,this.orig=n||r,this._rotate=Number(s||0),s===!0)this._rotate=2;else if(this._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=o?new _e(o.x,o.y):new _e(0,0),this.defaultBorders=a,this._updateID=0,this.textureCacheIds=[],e.valid?this.noFrame?e.valid&&this.onBaseTextureUpdated(e):this.frame=r:e.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&e.on("update",this.onBaseTextureUpdated,this)}update(){this.baseTexture.resource&&this.baseTexture.resource.update()}onBaseTextureUpdated(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}destroy(e){if(this.baseTexture){if(e){const{resource:r}=this.baseTexture;r!=null&&r.url&&ci[r.url]&&re.removeFromCache(r.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,re.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}clone(){var i;const e=this._frame.clone(),r=this._frame===this.orig?e:this.orig.clone(),n=new re(this.baseTexture,!this.noFrame&&e,r,(i=this.trim)==null?void 0:i.clone(),this.rotate,this.defaultAnchor,this.defaultBorders);return this.noFrame&&(n._frame=e),n}updateUvs(){this._uvs===eT&&(this._uvs=new sx),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}static from(e,r={},n=oe.STRICT_TEXTURE_CACHE){const i=typeof e=="string";let s=null;if(i)s=e;else if(e instanceof Ce){if(!e.cacheId){const a=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e.cacheId=`${a}-${sa()}`,Ce.addToCache(e,e.cacheId)}s=e.cacheId}else{if(!e._pixiId){const a=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e._pixiId=`${a}_${sa()}`}s=e._pixiId}let o=ci[s];if(i&&n&&!o)throw new Error(`The cacheId "${s}" does not exist in TextureCache.`);return!o&&!(e instanceof Ce)?(r.resolution||(r.resolution=us(e)),o=new re(new Ce(e,r)),o.baseTexture.cacheId=s,Ce.addToCache(o.baseTexture,s),re.addToCache(o,s)):!o&&e instanceof Ce&&(o=new re(e),re.addToCache(o,s)),o}static fromURL(e,r){const n=Object.assign({autoLoad:!1},r==null?void 0:r.resourceOptions),i=re.from(e,Object.assign({resourceOptions:n},r),!1),s=i.baseTexture.resource;return i.baseTexture.valid?Promise.resolve(i):s.load().then(()=>Promise.resolve(i))}static fromBuffer(e,r,n,i){return new re(Ce.fromBuffer(e,r,n,i))}static fromLoader(e,r,n,i){const s=new Ce(e,Object.assign({scaleMode:Ce.defaultOptions.scaleMode,resolution:us(r)},i)),{resource:o}=s;o instanceof SR&&(o.url=r);const a=new re(s);return n||(n=r),Ce.addToCache(a.baseTexture,n),re.addToCache(a,n),n!==r&&(Ce.addToCache(a.baseTexture,r),re.addToCache(a,r)),a.baseTexture.valid?Promise.resolve(a):new Promise(h=>{a.baseTexture.once("loaded",()=>h(a))})}static addToCache(e,r){r&&(e.textureCacheIds.includes(r)||e.textureCacheIds.push(r),ci[r]&&ci[r]!==e&&console.warn(`Texture added to the cache with an id [${r}] that already had an entry`),ci[r]=e)}static removeFromCache(e){if(typeof e=="string"){const r=ci[e];if(r){const n=r.textureCacheIds.indexOf(e);return n>-1&&r.textureCacheIds.splice(n,1),delete ci[e],r}}else if(e!=null&&e.textureCacheIds){for(let r=0;r<e.textureCacheIds.length;++r)ci[e.textureCacheIds[r]]===e&&delete ci[e.textureCacheIds[r]];return e.textureCacheIds.length=0,e}return null}get resolution(){return this.baseTexture.resolution}get frame(){return this._frame}set frame(e){this._frame=e,this.noFrame=!1;const{x:r,y:n,width:i,height:s}=e,o=r+i>this.baseTexture.width,a=n+s>this.baseTexture.height;if(o||a){const h=o&&a?"and":"or",c=`X: ${r} + ${i} = ${r+i} > ${this.baseTexture.width}`,d=`Y: ${n} + ${s} = ${n+s} > ${this.baseTexture.height}`;throw new Error(`Texture Error: frame does not fit inside the base Texture dimensions: ${c} ${h} ${d}`)}this.valid=i&&s&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()}get rotate(){return this._rotate}set rotate(e){this._rotate=e,this.valid&&this.updateUvs()}get width(){return this.orig.width}get height(){return this.orig.height}castToBaseTexture(){return this.baseTexture}static get EMPTY(){return re._EMPTY||(re._EMPTY=new re(new Ce),Bd(re._EMPTY),Bd(re._EMPTY.baseTexture)),re._EMPTY}static get WHITE(){if(!re._WHITE){const e=oe.ADAPTER.createCanvas(16,16),r=e.getContext("2d");e.width=16,e.height=16,r.fillStyle="white",r.fillRect(0,0,16,16),re._WHITE=new re(Ce.from(e)),Bd(re._WHITE),Bd(re._WHITE.baseTexture)}return re._WHITE}}class pa extends re{constructor(e,r){super(e,r),this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}get framebuffer(){return this.baseTexture.framebuffer}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,r,n=!0){const i=this.baseTexture.resolution,s=Math.round(e*i)/i,o=Math.round(r*i)/i;this.valid=s>0&&o>0,this._frame.width=this.orig.width=s,this._frame.height=this.orig.height=o,n&&this.baseTexture.resize(s,o),this.updateUvs()}setResolution(e){const{baseTexture:r}=this;r.resolution!==e&&(r.setResolution(e),this.resize(r.width,r.height,!1))}static create(e){return new pa(new bR(e))}}class ER{constructor(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}createTexture(e,r,n=Pt.NONE){const i=new bR(Object.assign({width:e,height:r,resolution:1,multisample:n},this.textureOptions));return new pa(i)}getOptimalTexture(e,r,n=1,i=Pt.NONE){let s;e=Math.max(Math.ceil(e*n-1e-6),1),r=Math.max(Math.ceil(r*n-1e-6),1),!this.enableFullScreen||e!==this._pixelsWidth||r!==this._pixelsHeight?(e=_p(e),r=_p(r),s=((e&65535)<<16|r&65535)>>>0,i>1&&(s+=i*4294967296)):s=i>1?-i:-1,this.texturePool[s]||(this.texturePool[s]=[]);let o=this.texturePool[s].pop();return o||(o=this.createTexture(e,r,i)),o.filterPoolKey=s,o.setResolution(n),o}getFilterTexture(e,r,n){const i=this.getOptimalTexture(e.width,e.height,r||e.resolution,n||Pt.NONE);return i.filterFrame=e.filterFrame,i}returnTexture(e){const r=e.filterPoolKey;e.filterFrame=null,this.texturePool[r].push(e)}returnFilterTexture(e){this.returnTexture(e)}clear(e){if(e=e!==!1,e)for(const r in this.texturePool){const n=this.texturePool[r];if(n)for(let i=0;i<n.length;i++)n[i].destroy(!0)}this.texturePool={}}setScreenSize(e){if(!(e.width===this._pixelsWidth&&e.height===this._pixelsHeight)){this.enableFullScreen=e.width>0&&e.height>0;for(const r in this.texturePool){if(!(Number(r)<0))continue;const n=this.texturePool[r];if(n)for(let i=0;i<n.length;i++)n[i].destroy(!0);this.texturePool[r]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}}}ER.SCREEN_KEY=-1;class VU extends io{constructor(){super(),this.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2])}}class TR extends io{constructor(){super(),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new Et(this.vertices),this.uvBuffer=new Et(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}map(e,r){let n=0,i=0;return this.uvs[0]=n,this.uvs[1]=i,this.uvs[2]=n+r.width/e.width,this.uvs[3]=i,this.uvs[4]=n+r.width/e.width,this.uvs[5]=i+r.height/e.height,this.uvs[6]=n,this.uvs[7]=i+r.height/e.height,n=r.x,i=r.y,this.vertices[0]=n,this.vertices[1]=i,this.vertices[2]=n+r.width,this.vertices[3]=i,this.vertices[4]=n+r.width,this.vertices[5]=i+r.height,this.vertices[6]=n,this.vertices[7]=i+r.height,this.invalidate(),this}invalidate(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this}}class XU{constructor(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=Pt.NONE,this.sourceFrame=new be,this.destinationFrame=new be,this.bindingSourceFrame=new be,this.bindingDestinationFrame=new be,this.filters=[],this.transform=null}clear(){this.target=null,this.filters=null,this.renderTexture=null}}const Ld=[new _e,new _e,new _e,new _e],Jv=new it;class AR{constructor(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new ER,this.statePool=[],this.quad=new VU,this.quadUv=new TR,this.tempRect=new be,this.activeState={},this.globalUniforms=new Wn({outputFrame:new be,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}init(){this.texturePool.setScreenSize(this.renderer.view)}push(e,r){const n=this.renderer,i=this.defaultFilterStack,s=this.statePool.pop()||new XU,o=n.renderTexture;let a,h;if(o.current){const A=o.current;a=A.resolution,h=A.multisample}else a=n.resolution,h=n.multisample;let c=r[0].resolution||a,d=r[0].multisample??h,p=r[0].padding,m=r[0].autoFit,y=r[0].legacy??!0;for(let A=1;A<r.length;A++){const E=r[A];c=Math.min(c,E.resolution||a),d=Math.min(d,E.multisample??h),p=this.useMaxPadding?Math.max(p,E.padding):p+E.padding,m=m&&E.autoFit,y=y||(E.legacy??!0)}i.length===1&&(this.defaultFilterStack[0].renderTexture=o.current),i.push(s),s.resolution=c,s.multisample=d,s.legacy=y,s.target=e,s.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),s.sourceFrame.pad(p);const _=this.tempRect.copyFrom(o.sourceFrame);n.projection.transform&&this.transformAABB(Jv.copyFrom(n.projection.transform).invert(),_),m?(s.sourceFrame.fit(_),(s.sourceFrame.width<=0||s.sourceFrame.height<=0)&&(s.sourceFrame.width=0,s.sourceFrame.height=0)):s.sourceFrame.intersects(_)||(s.sourceFrame.width=0,s.sourceFrame.height=0),this.roundFrame(s.sourceFrame,o.current?o.current.resolution:n.resolution,o.sourceFrame,o.destinationFrame,n.projection.transform),s.renderTexture=this.getOptimalFilterTexture(s.sourceFrame.width,s.sourceFrame.height,c,d),s.filters=r,s.destinationFrame.width=s.renderTexture.width,s.destinationFrame.height=s.renderTexture.height;const S=this.tempRect;S.x=0,S.y=0,S.width=s.sourceFrame.width,S.height=s.sourceFrame.height,s.renderTexture.filterFrame=s.sourceFrame,s.bindingSourceFrame.copyFrom(o.sourceFrame),s.bindingDestinationFrame.copyFrom(o.destinationFrame),s.transform=n.projection.transform,n.projection.transform=null,o.bind(s.renderTexture,s.sourceFrame,S),n.framebuffer.clear(0,0,0,0)}pop(){const e=this.defaultFilterStack,r=e.pop(),n=r.filters;this.activeState=r;const i=this.globalUniforms.uniforms;i.outputFrame=r.sourceFrame,i.resolution=r.resolution;const s=i.inputSize,o=i.inputPixel,a=i.inputClamp;if(s[0]=r.destinationFrame.width,s[1]=r.destinationFrame.height,s[2]=1/s[0],s[3]=1/s[1],o[0]=Math.round(s[0]*r.resolution),o[1]=Math.round(s[1]*r.resolution),o[2]=1/o[0],o[3]=1/o[1],a[0]=.5*o[2],a[1]=.5*o[3],a[2]=r.sourceFrame.width*s[2]-.5*o[2],a[3]=r.sourceFrame.height*s[3]-.5*o[3],r.legacy){const c=i.filterArea;c[0]=r.destinationFrame.width,c[1]=r.destinationFrame.height,c[2]=r.sourceFrame.x,c[3]=r.sourceFrame.y,i.filterClamp=i.inputClamp}this.globalUniforms.update();const h=e[e.length-1];if(this.renderer.framebuffer.blit(),n.length===1)n[0].apply(this,r.renderTexture,h.renderTexture,yi.BLEND,r),this.returnFilterTexture(r.renderTexture);else{let c=r.renderTexture,d=this.getOptimalFilterTexture(c.width,c.height,r.resolution);d.filterFrame=c.filterFrame;let p=0;for(p=0;p<n.length-1;++p){p===1&&r.multisample>1&&(d=this.getOptimalFilterTexture(c.width,c.height,r.resolution),d.filterFrame=c.filterFrame),n[p].apply(this,c,d,yi.CLEAR,r);const m=c;c=d,d=m}n[p].apply(this,c,h.renderTexture,yi.BLEND,r),p>1&&r.multisample>1&&this.returnFilterTexture(r.renderTexture),this.returnFilterTexture(c),this.returnFilterTexture(d)}r.clear(),this.statePool.push(r)}bindAndClear(e,r=yi.CLEAR){const{renderTexture:n,state:i}=this.renderer;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,e==null?void 0:e.filterFrame){const o=this.tempRect;o.x=0,o.y=0,o.width=e.filterFrame.width,o.height=e.filterFrame.height,n.bind(e,e.filterFrame,o)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?n.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);const s=i.stateId&1||this.forceClear;(r===yi.CLEAR||r===yi.BLIT&&s)&&this.renderer.framebuffer.clear(0,0,0,0)}applyFilter(e,r,n,i){const s=this.renderer;s.state.set(e.state),this.bindAndClear(n,i),e.uniforms.uSampler=r,e.uniforms.filterGlobals=this.globalUniforms,s.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(r._frame,r.filterFrame),s.geometry.bind(this.quadUv),s.geometry.draw(Bn.TRIANGLES)):(s.geometry.bind(this.quad),s.geometry.draw(Bn.TRIANGLE_STRIP))}calculateSpriteMatrix(e,r){const{sourceFrame:n,destinationFrame:i}=this.activeState,{orig:s}=r._texture,o=e.set(i.width,0,0,i.height,n.x,n.y),a=r.worldTransform.copyTo(it.TEMP_MATRIX);return a.invert(),o.prepend(a),o.scale(1/s.width,1/s.height),o.translate(r.anchor.x,r.anchor.y),o}destroy(){this.renderer=null,this.texturePool.clear(!1)}getOptimalFilterTexture(e,r,n=1,i=Pt.NONE){return this.texturePool.getOptimalTexture(e,r,n,i)}getFilterTexture(e,r,n){if(typeof e=="number"){const s=e;e=r,r=s}e=e||this.activeState.renderTexture;const i=this.texturePool.getOptimalTexture(e.width,e.height,r||e.resolution,n||Pt.NONE);return i.filterFrame=e.filterFrame,i}returnFilterTexture(e){this.texturePool.returnTexture(e)}emptyPool(){this.texturePool.clear(!0)}resize(){this.texturePool.setScreenSize(this.renderer.view)}transformAABB(e,r){const n=Ld[0],i=Ld[1],s=Ld[2],o=Ld[3];n.set(r.left,r.top),i.set(r.left,r.bottom),s.set(r.right,r.top),o.set(r.right,r.bottom),e.apply(n,n),e.apply(i,i),e.apply(s,s),e.apply(o,o);const a=Math.min(n.x,i.x,s.x,o.x),h=Math.min(n.y,i.y,s.y,o.y),c=Math.max(n.x,i.x,s.x,o.x),d=Math.max(n.y,i.y,s.y,o.y);r.x=a,r.y=h,r.width=c-a,r.height=d-h}roundFrame(e,r,n,i,s){if(!(e.width<=0||e.height<=0||n.width<=0||n.height<=0)){if(s){const{a:o,b:a,c:h,d:c}=s;if((Math.abs(a)>1e-4||Math.abs(h)>1e-4)&&(Math.abs(o)>1e-4||Math.abs(c)>1e-4))return}s=s?Jv.copyFrom(s):Jv.identity(),s.translate(-n.x,-n.y).scale(i.width/n.width,i.height/n.height).translate(i.x,i.y),this.transformAABB(s,e),e.ceil(r),this.transformAABB(s.invert(),e)}}}AR.extension={type:ne.RendererSystem,name:"filter"};ce.add(AR);class YU{constructor(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=Pt.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}}const KU=new be;class CR{constructor(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new h_(10,10),this.msaaSamples=null}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new be,this.hasMRT=!0,this.writeDepthTexture=!0,this.renderer.context.webGLVersion===1){let r=this.renderer.context.extensions.drawBuffers,n=this.renderer.context.extensions.depthTexture;oe.PREFER_ENV===fa.WEBGL_LEGACY&&(r=null,n=null),r?e.drawBuffers=i=>r.drawBuffersWEBGL(i):(this.hasMRT=!1,e.drawBuffers=()=>{}),n||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)}bind(e,r,n=0){const{gl:i}=this;if(e){const s=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,i.bindFramebuffer(i.FRAMEBUFFER,s.framebuffer)),s.mipLevel!==n&&(e.dirtyId++,e.dirtyFormat++,s.mipLevel=n),s.dirtyId!==e.dirtyId&&(s.dirtyId=e.dirtyId,s.dirtyFormat!==e.dirtyFormat?(s.dirtyFormat=e.dirtyFormat,s.dirtySize=e.dirtySize,this.updateFramebuffer(e,n)):s.dirtySize!==e.dirtySize&&(s.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(let o=0;o<e.colorTextures.length;o++){const a=e.colorTextures[o];this.renderer.texture.unbind(a.parentTextureArray||a)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),r){const o=r.width>>n,a=r.height>>n,h=o/r.width;this.setViewport(r.x*h,r.y*h,o,a)}else{const o=e.width>>n,a=e.height>>n;this.setViewport(0,0,o,a)}}else this.current&&(this.current=null,i.bindFramebuffer(i.FRAMEBUFFER,null)),r?this.setViewport(r.x,r.y,r.width,r.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}setViewport(e,r,n,i){const s=this.viewport;e=Math.round(e),r=Math.round(r),n=Math.round(n),i=Math.round(i),(s.width!==n||s.height!==i||s.x!==e||s.y!==r)&&(s.x=e,s.y=r,s.width=n,s.height=i,this.gl.viewport(e,r,n,i))}get size(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}clear(e,r,n,i,s=B0.COLOR|B0.DEPTH){const{gl:o}=this;o.clearColor(e,r,n,i),o.clear(s)}initFramebuffer(e){const{gl:r}=this,n=new YU(r.createFramebuffer());return n.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=n,this.managedFramebuffers.push(e),e.disposeRunner.add(this),n}resizeFramebuffer(e){const{gl:r}=this,n=e.glFramebuffers[this.CONTEXT_UID];if(n.stencil){r.bindRenderbuffer(r.RENDERBUFFER,n.stencil);let o;this.renderer.context.webGLVersion===1?o=r.DEPTH_STENCIL:e.depth&&e.stencil?o=r.DEPTH24_STENCIL8:e.depth?o=r.DEPTH_COMPONENT24:o=r.STENCIL_INDEX8,n.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,o,e.width,e.height):r.renderbufferStorage(r.RENDERBUFFER,o,e.width,e.height)}const i=e.colorTextures;let s=i.length;r.drawBuffers||(s=Math.min(s,1));for(let o=0;o<s;o++){const a=i[o],h=a.parentTextureArray||a;this.renderer.texture.bind(h,0),o===0&&n.msaaBuffer&&(r.bindRenderbuffer(r.RENDERBUFFER,n.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,h._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height))}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)}updateFramebuffer(e,r){const{gl:n}=this,i=e.glFramebuffers[this.CONTEXT_UID],s=e.colorTextures;let o=s.length;n.drawBuffers||(o=Math.min(o,1)),i.multisample>1&&this.canMultisampleFramebuffer(e)?i.msaaBuffer=i.msaaBuffer||n.createRenderbuffer():i.msaaBuffer&&(n.deleteRenderbuffer(i.msaaBuffer),i.msaaBuffer=null,i.blitFramebuffer&&(i.blitFramebuffer.dispose(),i.blitFramebuffer=null));const a=[];for(let h=0;h<o;h++){const c=s[h],d=c.parentTextureArray||c;this.renderer.texture.bind(d,0),h===0&&i.msaaBuffer?(n.bindRenderbuffer(n.RENDERBUFFER,i.msaaBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,d._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,i.msaaBuffer)):(n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+h,c.target,d._glTextures[this.CONTEXT_UID].texture,r),a.push(n.COLOR_ATTACHMENT0+h))}if(a.length>1&&n.drawBuffers(a),e.depthTexture&&this.writeDepthTexture){const h=e.depthTexture;this.renderer.texture.bind(h,0),n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,h._glTextures[this.CONTEXT_UID].texture,r)}if((e.stencil||e.depth)&&!(e.depthTexture&&this.writeDepthTexture)){i.stencil=i.stencil||n.createRenderbuffer();let h,c;this.renderer.context.webGLVersion===1?(h=n.DEPTH_STENCIL_ATTACHMENT,c=n.DEPTH_STENCIL):e.depth&&e.stencil?(h=n.DEPTH_STENCIL_ATTACHMENT,c=n.DEPTH24_STENCIL8):e.depth?(h=n.DEPTH_ATTACHMENT,c=n.DEPTH_COMPONENT24):(h=n.STENCIL_ATTACHMENT,c=n.STENCIL_INDEX8),n.bindRenderbuffer(n.RENDERBUFFER,i.stencil),i.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,c,e.width,e.height):n.renderbufferStorage(n.RENDERBUFFER,c,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,h,n.RENDERBUFFER,i.stencil)}else i.stencil&&(n.deleteRenderbuffer(i.stencil),i.stencil=null)}canMultisampleFramebuffer(e){return this.renderer.context.webGLVersion!==1&&e.colorTextures.length<=1&&!e.depthTexture}detectSamples(e){const{msaaSamples:r}=this;let n=Pt.NONE;if(e<=1||r===null)return n;for(let i=0;i<r.length;i++)if(r[i]<=e){n=r[i];break}return n===1&&(n=Pt.NONE),n}blit(e,r,n){const{current:i,renderer:s,gl:o,CONTEXT_UID:a}=this;if(s.context.webGLVersion!==2||!i)return;const h=i.glFramebuffers[a];if(!h)return;if(!e){if(!h.msaaBuffer)return;const d=i.colorTextures[0];if(!d)return;h.blitFramebuffer||(h.blitFramebuffer=new h_(i.width,i.height),h.blitFramebuffer.addColorTexture(0,d)),e=h.blitFramebuffer,e.colorTextures[0]!==d&&(e.colorTextures[0]=d,e.dirtyId++,e.dirtyFormat++),(e.width!==i.width||e.height!==i.height)&&(e.width=i.width,e.height=i.height,e.dirtyId++,e.dirtySize++)}r||(r=KU,r.width=i.width,r.height=i.height),n||(n=r);const c=r.width===n.width&&r.height===n.height;this.bind(e),o.bindFramebuffer(o.READ_FRAMEBUFFER,h.framebuffer),o.blitFramebuffer(r.left,r.top,r.right,r.bottom,n.left,n.top,n.right,n.bottom,o.COLOR_BUFFER_BIT,c?o.NEAREST:o.LINEAR),o.bindFramebuffer(o.READ_FRAMEBUFFER,e.glFramebuffers[this.CONTEXT_UID].framebuffer)}disposeFramebuffer(e,r){const n=e.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(!n)return;delete e.glFramebuffers[this.CONTEXT_UID];const s=this.managedFramebuffers.indexOf(e);s>=0&&this.managedFramebuffers.splice(s,1),e.disposeRunner.remove(this),r||(i.deleteFramebuffer(n.framebuffer),n.msaaBuffer&&i.deleteRenderbuffer(n.msaaBuffer),n.stencil&&i.deleteRenderbuffer(n.stencil)),n.blitFramebuffer&&this.disposeFramebuffer(n.blitFramebuffer,r)}disposeAll(e){const r=this.managedFramebuffers;this.managedFramebuffers=[];for(let n=0;n<r.length;n++)this.disposeFramebuffer(r[n],e)}forceStencil(){const e=this.current;if(!e)return;const r=e.glFramebuffers[this.CONTEXT_UID];if(!r||r.stencil&&e.stencil)return;e.stencil=!0;const n=e.width,i=e.height,s=this.gl,o=r.stencil=s.createRenderbuffer();s.bindRenderbuffer(s.RENDERBUFFER,o);let a,h;this.renderer.context.webGLVersion===1?(a=s.DEPTH_STENCIL_ATTACHMENT,h=s.DEPTH_STENCIL):e.depth?(a=s.DEPTH_STENCIL_ATTACHMENT,h=s.DEPTH24_STENCIL8):(a=s.STENCIL_ATTACHMENT,h=s.STENCIL_INDEX8),r.msaaBuffer?s.renderbufferStorageMultisample(s.RENDERBUFFER,r.multisample,h,n,i):s.renderbufferStorage(s.RENDERBUFFER,h,n,i),s.framebufferRenderbuffer(s.FRAMEBUFFER,a,s.RENDERBUFFER,o)}reset(){this.current=this.unknownFramebuffer,this.viewport=new be}destroy(){this.renderer=null}}CR.extension={type:ne.RendererSystem,name:"framebuffer"};ce.add(CR);const ey={5126:4,5123:2,5121:1};class PR{constructor(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl,r=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,r.webGLVersion!==2){let n=this.renderer.context.extensions.vertexArrayObject;oe.PREFER_ENV===fa.WEBGL_LEGACY&&(n=null),n?(e.createVertexArray=()=>n.createVertexArrayOES(),e.bindVertexArray=i=>n.bindVertexArrayOES(i),e.deleteVertexArray=i=>n.deleteVertexArrayOES(i)):(this.hasVao=!1,e.createVertexArray=()=>null,e.bindVertexArray=()=>null,e.deleteVertexArray=()=>null)}if(r.webGLVersion!==2){const n=e.getExtension("ANGLE_instanced_arrays");n?(e.vertexAttribDivisor=(i,s)=>n.vertexAttribDivisorANGLE(i,s),e.drawElementsInstanced=(i,s,o,a,h)=>n.drawElementsInstancedANGLE(i,s,o,a,h),e.drawArraysInstanced=(i,s,o,a)=>n.drawArraysInstancedANGLE(i,s,o,a)):this.hasInstance=!1}this.canUseUInt32ElementIndex=r.webGLVersion===2||!!r.extensions.uint32ElementIndex}bind(e,r){r=r||this.renderer.shader.shader;const{gl:n}=this;let i=e.glVertexArrayObjects[this.CONTEXT_UID],s=!1;i||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=i={},s=!0);const o=i[r.program.id]||this.initGeometryVao(e,r,s);this._activeGeometry=e,this._activeVao!==o&&(this._activeVao=o,this.hasVao?n.bindVertexArray(o):this.activateVao(e,r.program)),this.updateBuffers()}reset(){this.unbind()}updateBuffers(){const e=this._activeGeometry,r=this.renderer.buffer;for(let n=0;n<e.buffers.length;n++){const i=e.buffers[n];r.update(i)}}checkCompatibility(e,r){const n=e.attributes,i=r.attributeData;for(const s in i)if(!n[s])throw new Error(`shader and geometry incompatible, geometry missing the "${s}" attribute`)}getSignature(e,r){const n=e.attributes,i=r.attributeData,s=["g",e.id];for(const o in n)i[o]&&s.push(o,i[o].location);return s.join("-")}initGeometryVao(e,r,n=!0){const i=this.gl,s=this.CONTEXT_UID,o=this.renderer.buffer,a=r.program;a.glPrograms[s]||this.renderer.shader.generateProgram(r),this.checkCompatibility(e,a);const h=this.getSignature(e,a),c=e.glVertexArrayObjects[this.CONTEXT_UID];let d=c[h];if(d)return c[a.id]=d,d;const p=e.buffers,m=e.attributes,y={},_={};for(const S in p)y[S]=0,_[S]=0;for(const S in m)!m[S].size&&a.attributeData[S]?m[S].size=a.attributeData[S].size:m[S].size||console.warn(`PIXI Geometry attribute '${S}' size cannot be determined (likely the bound shader does not have the attribute)`),y[m[S].buffer]+=m[S].size*ey[m[S].type];for(const S in m){const A=m[S],E=A.size;A.stride===void 0&&(y[A.buffer]===E*ey[A.type]?A.stride=0:A.stride=y[A.buffer]),A.start===void 0&&(A.start=_[A.buffer],_[A.buffer]+=E*ey[A.type])}d=i.createVertexArray(),i.bindVertexArray(d);for(let S=0;S<p.length;S++){const A=p[S];o.bind(A),n&&A._glBuffers[s].refCount++}return this.activateVao(e,a),c[a.id]=d,c[h]=d,i.bindVertexArray(null),o.unbind(Pi.ARRAY_BUFFER),d}disposeGeometry(e,r){var a;if(!this.managedGeometries[e.id])return;delete this.managedGeometries[e.id];const n=e.glVertexArrayObjects[this.CONTEXT_UID],i=this.gl,s=e.buffers,o=(a=this.renderer)==null?void 0:a.buffer;if(e.disposeRunner.remove(this),!!n){if(o)for(let h=0;h<s.length;h++){const c=s[h]._glBuffers[this.CONTEXT_UID];c&&(c.refCount--,c.refCount===0&&!r&&o.dispose(s[h],r))}if(!r){for(const h in n)if(h[0]==="g"){const c=n[h];this._activeVao===c&&this.unbind(),i.deleteVertexArray(c)}}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}disposeAll(e){const r=Object.keys(this.managedGeometries);for(let n=0;n<r.length;n++)this.disposeGeometry(this.managedGeometries[r[n]],e)}activateVao(e,r){const n=this.gl,i=this.CONTEXT_UID,s=this.renderer.buffer,o=e.buffers,a=e.attributes;e.indexBuffer&&s.bind(e.indexBuffer);let h=null;for(const c in a){const d=a[c],p=o[d.buffer],m=p._glBuffers[i];if(r.attributeData[c]){h!==m&&(s.bind(p),h=m);const y=r.attributeData[c].location;if(n.enableVertexAttribArray(y),n.vertexAttribPointer(y,d.size,d.type||n.FLOAT,d.normalized,d.stride,d.start),d.instance)if(this.hasInstance)n.vertexAttribDivisor(y,d.divisor);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}}draw(e,r,n,i){const{gl:s}=this,o=this._activeGeometry;if(o.indexBuffer){const a=o.indexBuffer.data.BYTES_PER_ELEMENT,h=a===2?s.UNSIGNED_SHORT:s.UNSIGNED_INT;a===2||a===4&&this.canUseUInt32ElementIndex?o.instanced?s.drawElementsInstanced(e,r||o.indexBuffer.data.length,h,(n||0)*a,i||1):s.drawElements(e,r||o.indexBuffer.data.length,h,(n||0)*a):console.warn("unsupported index buffer type: uint32")}else o.instanced?s.drawArraysInstanced(e,n,r||o.getSize(),i||1):s.drawArrays(e,n,r||o.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this.renderer=null}}PR.extension={type:ne.RendererSystem,name:"geometry"};ce.add(PR);const tT=new it;class ox{constructor(e,r){this._texture=e,this.mapCoord=new it,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof r>"u"?.5:r,this.isSimple=!1}get texture(){return this._texture}set texture(e){this._texture=e,this._textureID=-1}multiplyUvs(e,r){r===void 0&&(r=e);const n=this.mapCoord;for(let i=0;i<e.length;i+=2){const s=e[i],o=e[i+1];r[i]=s*n.a+o*n.c+n.tx,r[i+1]=s*n.b+o*n.d+n.ty}return r}update(e){const r=this._texture;if(!r||!r.valid||!e&&this._textureID===r._updateID)return!1;this._textureID=r._updateID,this._updateID++;const n=r._uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);const i=r.orig,s=r.trim;s&&(tT.set(i.width/s.width,0,0,i.height/s.height,-s.x/s.width,-s.y/s.height),this.mapCoord.append(tT));const o=r.baseTexture,a=this.uClampFrame,h=this.clampMargin/o.resolution,c=this.clampOffset;return a[0]=(r._frame.x+h+c)/o.width,a[1]=(r._frame.y+h+c)/o.height,a[2]=(r._frame.x+r._frame.width-h+c)/o.width,a[3]=(r._frame.y+r._frame.height-h+c)/o.height,this.uClampOffset[0]=c/o.realWidth,this.uClampOffset[1]=c/o.realHeight,this.isSimple=r._frame.width===o.width&&r._frame.height===o.height&&r.rotate===0,!0}}var QU=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,qU=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`;class ZU extends gr{constructor(e,r,n){let i=null;typeof e!="string"&&r===void 0&&n===void 0&&(i=e,e=void 0,r=void 0,n=void 0),super(e||qU,r||QU,n),this.maskSprite=i,this.maskMatrix=new it}get maskSprite(){return this._maskSprite}set maskSprite(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)}apply(e,r,n,i){const s=this._maskSprite,o=s._texture;o.valid&&(o.uvMatrix||(o.uvMatrix=new ox(o,0)),o.uvMatrix.update(),this.uniforms.npmAlpha=o.baseTexture.alphaMode?0:1,this.uniforms.mask=o,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,s).prepend(o.uvMatrix.mapCoord),this.uniforms.alpha=s.worldAlpha,this.uniforms.maskClamp=o.uvMatrix.uClampFrame,e.applyFilter(this,r,n,i))}}class JU{constructor(e=null){this.type=kt.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=gr.defaultMultisample,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}get filter(){return this._filters?this._filters[0]:null}set filter(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null}reset(){this.pooled&&(this.maskObject=null,this.type=kt.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null}copyCountersOrReset(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)}}class IR{constructor(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}setMaskStack(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)}push(e,r){let n=r;if(!n.isMaskData){const s=this.maskDataPool.pop()||new JU;s.pooled=!0,s.maskObject=r,n=s}const i=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(n.copyCountersOrReset(i),n._colorMask=i?i._colorMask:15,n.autoDetect&&this.detect(n),n._target=e,n.type!==kt.SPRITE&&this.maskStack.push(n),n.enabled)switch(n.type){case kt.SCISSOR:this.renderer.scissor.push(n);break;case kt.STENCIL:this.renderer.stencil.push(n);break;case kt.SPRITE:n.copyCountersOrReset(null),this.pushSpriteMask(n);break;case kt.COLOR:this.pushColorMask(n);break}n.type===kt.SPRITE&&this.maskStack.push(n)}pop(e){const r=this.maskStack.pop();if(!(!r||r._target!==e)){if(r.enabled)switch(r.type){case kt.SCISSOR:this.renderer.scissor.pop(r);break;case kt.STENCIL:this.renderer.stencil.pop(r.maskObject);break;case kt.SPRITE:this.popSpriteMask(r);break;case kt.COLOR:this.popColorMask(r);break}if(r.reset(),r.pooled&&this.maskDataPool.push(r),this.maskStack.length!==0){const n=this.maskStack[this.maskStack.length-1];n.type===kt.SPRITE&&n._filters&&(n._filters[0].maskSprite=n.maskObject)}}}detect(e){const r=e.maskObject;r?r.isSprite?e.type=kt.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=kt.SCISSOR:e.type=kt.STENCIL:e.type=kt.COLOR}pushSpriteMask(e){const{maskObject:r}=e,n=e._target;let i=e._filters;i||(i=this.alphaMaskPool[this.alphaMaskIndex],i||(i=this.alphaMaskPool[this.alphaMaskIndex]=[new ZU])),i[0].resolution=e.resolution,i[0].multisample=e.multisample,i[0].maskSprite=r;const s=n.filterArea;n.filterArea=r.getBounds(!0),this.renderer.filter.push(n,i),n.filterArea=s,e._filters||this.alphaMaskIndex++}popSpriteMask(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}pushColorMask(e){const r=e._colorMask,n=e._colorMask=r&e.colorMask;n!==r&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)}popColorMask(e){const r=e._colorMask,n=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;n!==r&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)}destroy(){this.renderer=null}}IR.extension={type:ne.RendererSystem,name:"mask"};ce.add(IR);class RR{constructor(e){this.renderer=e,this.maskStack=[],this.glConst=0}getStackLength(){return this.maskStack.length}setMaskStack(e){const{gl:r}=this.renderer,n=this.getStackLength();this.maskStack=e;const i=this.getStackLength();i!==n&&(i===0?r.disable(this.glConst):(r.enable(this.glConst),this._useCurrent()))}_useCurrent(){}destroy(){this.renderer=null,this.maskStack=null}}const rT=new it,nT=[],OR=class Tf extends RR{constructor(e){super(e),this.glConst=oe.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._scissorCounter:0}calcScissorRect(e){if(e._scissorRectLocal)return;const r=e._scissorRect,{maskObject:n}=e,{renderer:i}=this,s=i.renderTexture,o=n.getBounds(!0,nT.pop()??new be);this.roundFrameToPixels(o,s.current?s.current.resolution:i.resolution,s.sourceFrame,s.destinationFrame,i.projection.transform),r&&o.fit(r),e._scissorRectLocal=o}static isMatrixRotated(e){if(!e)return!1;const{a:r,b:n,c:i,d:s}=e;return(Math.abs(n)>1e-4||Math.abs(i)>1e-4)&&(Math.abs(r)>1e-4||Math.abs(s)>1e-4)}testScissor(e){const{maskObject:r}=e;if(!r.isFastRect||!r.isFastRect()||Tf.isMatrixRotated(r.worldTransform)||Tf.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(e);const n=e._scissorRectLocal;return n.width>0&&n.height>0}roundFrameToPixels(e,r,n,i,s){Tf.isMatrixRotated(s)||(s=s?rT.copyFrom(s):rT.identity(),s.translate(-n.x,-n.y).scale(i.width/n.width,i.height/n.height).translate(i.x,i.y),this.renderer.filter.transformAABB(s,e),e.fit(i),e.x=Math.round(e.x*r),e.y=Math.round(e.y*r),e.width=Math.round(e.width*r),e.height=Math.round(e.height*r))}push(e){e._scissorRectLocal||this.calcScissorRect(e);const{gl:r}=this.renderer;e._scissorRect||r.enable(r.SCISSOR_TEST),e._scissorCounter++,e._scissorRect=e._scissorRectLocal,this._useCurrent()}pop(e){const{gl:r}=this.renderer;e&&nT.push(e._scissorRectLocal),this.getStackLength()>0?this._useCurrent():r.disable(r.SCISSOR_TEST)}_useCurrent(){const e=this.maskStack[this.maskStack.length-1]._scissorRect;let r;this.renderer.renderTexture.current?r=e.y:r=this.renderer.height-e.height-e.y,this.renderer.gl.scissor(e.x,r,e.width,e.height)}};OR.extension={type:ne.RendererSystem,name:"scissor"};let e5=OR;ce.add(e5);class MR extends RR{constructor(e){super(e),this.glConst=oe.ADAPTER.getWebGLRenderingContext().STENCIL_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0}push(e){const r=e.maskObject,{gl:n}=this.renderer,i=e._stencilCounter;i===0&&(this.renderer.framebuffer.forceStencil(),n.clearStencil(0),n.clear(n.STENCIL_BUFFER_BIT),n.enable(n.STENCIL_TEST)),e._stencilCounter++;const s=e._colorMask;s!==0&&(e._colorMask=0,n.colorMask(!1,!1,!1,!1)),n.stencilFunc(n.EQUAL,i,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.INCR),r.renderable=!0,r.render(this.renderer),this.renderer.batch.flush(),r.renderable=!1,s!==0&&(e._colorMask=s,n.colorMask((s&1)!==0,(s&2)!==0,(s&4)!==0,(s&8)!==0)),this._useCurrent()}pop(e){const r=this.renderer.gl;if(this.getStackLength()===0)r.disable(r.STENCIL_TEST);else{const n=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null,i=n?n._colorMask:15;i!==0&&(n._colorMask=0,r.colorMask(!1,!1,!1,!1)),r.stencilOp(r.KEEP,r.KEEP,r.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,i!==0&&(n._colorMask=i,r.colorMask((i&1)!==0,(i&2)!==0,(i&4)!==0,(i&8)!==0)),this._useCurrent()}}_useCurrent(){const e=this.renderer.gl;e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)}}MR.extension={type:ne.RendererSystem,name:"stencil"};ce.add(MR);class kR{constructor(e){this.renderer=e,this.plugins={},Object.defineProperties(this.plugins,{extract:{enumerable:!1,get(){return Oe("7.0.0","renderer.plugins.extract has moved to renderer.extract"),e.extract}},prepare:{enumerable:!1,get(){return Oe("7.0.0","renderer.plugins.prepare has moved to renderer.prepare"),e.prepare}},interaction:{enumerable:!1,get(){return Oe("7.0.0","renderer.plugins.interaction has been deprecated, use renderer.events"),e.events}}})}init(){const e=this.rendererPlugins;for(const r in e)this.plugins[r]=new e[r](this.renderer)}destroy(){for(const e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null}}kR.extension={type:[ne.RendererSystem,ne.CanvasRendererSystem],name:"_plugin"};ce.add(kR);class DR{constructor(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new it,this.transform=null}update(e,r,n,i){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=r||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,n,i),this.transform&&this.projectionMatrix.append(this.transform);const s=this.renderer;s.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,s.globalUniforms.update(),s.shader.shader&&s.shader.syncUniformGroup(s.shader.shader.uniforms.globals)}calculateProjection(e,r,n,i){const s=this.projectionMatrix,o=i?-1:1;s.identity(),s.a=1/r.width*2,s.d=o*(1/r.height*2),s.tx=-1-r.x*s.a,s.ty=-o-r.y*s.d}setTransform(e){}destroy(){this.renderer=null}}DR.extension={type:ne.RendererSystem,name:"projection"};ce.add(DR);const t5=new bm,iT=new be;class NR{constructor(e){this.renderer=e,this._tempMatrix=new it}generateTexture(e,r){const{region:n,...i}=r||{},s=(n==null?void 0:n.copyTo(iT))||e.getLocalBounds(iT,!0),o=i.resolution||this.renderer.resolution;s.width=Math.max(s.width,1/o),s.height=Math.max(s.height,1/o),i.width=s.width,i.height=s.height,i.resolution=o,i.multisample??(i.multisample=this.renderer.multisample);const a=pa.create(i);this._tempMatrix.tx=-s.x,this._tempMatrix.ty=-s.y;const h=e.transform;return e.transform=t5,this.renderer.render(e,{renderTexture:a,transform:this._tempMatrix,skipUpdateTransform:!!e.parent,blit:!0}),e.transform=h,a}destroy(){}}NR.extension={type:[ne.RendererSystem,ne.CanvasRendererSystem],name:"textureGenerator"};ce.add(NR);const Eo=new be,Lu=new be;class FR{constructor(e){this.renderer=e,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new be,this.destinationFrame=new be,this.viewportFrame=new be}contextChange(){var r;const e=(r=this.renderer)==null?void 0:r.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(e&&e.alpha&&e.premultipliedAlpha)}bind(e=null,r,n){const i=this.renderer;this.current=e;let s,o,a;e?(s=e.baseTexture,a=s.resolution,r||(Eo.width=e.frame.width,Eo.height=e.frame.height,r=Eo),n||(Lu.x=e.frame.x,Lu.y=e.frame.y,Lu.width=r.width,Lu.height=r.height,n=Lu),o=s.framebuffer):(a=i.resolution,r||(Eo.width=i._view.screen.width,Eo.height=i._view.screen.height,r=Eo),n||(n=Eo,n.width=r.width,n.height=r.height));const h=this.viewportFrame;h.x=n.x*a,h.y=n.y*a,h.width=n.width*a,h.height=n.height*a,e||(h.y=i.view.height-(h.y+h.height)),h.ceil(),this.renderer.framebuffer.bind(o,h),this.renderer.projection.update(n,r,a,!o),e?this.renderer.mask.setMaskStack(s.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(r),this.destinationFrame.copyFrom(n)}clear(e,r){const n=this.current?this.current.baseTexture.clear:this.renderer.background.backgroundColor,i=Ze.shared.setValue(e||n);(this.current&&this.current.baseTexture.alphaMode>0||!this.current&&this._rendererPremultipliedAlpha)&&i.premultiply(i.alpha);const s=this.destinationFrame,o=this.current?this.current.baseTexture:this.renderer._view.screen,a=s.width!==o.width||s.height!==o.height;if(a){let{x:h,y:c,width:d,height:p}=this.viewportFrame;h=Math.round(h),c=Math.round(c),d=Math.round(d),p=Math.round(p),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(h,c,d,p)}this.renderer.framebuffer.clear(i.red,i.green,i.blue,i.alpha,r),a&&this.renderer.scissor.pop()}resize(){this.bind(null)}reset(){this.bind(null)}destroy(){this.renderer=null}}FR.extension={type:ne.RendererSystem,name:"renderTexture"};ce.add(FR);class r5{constructor(e,r){this.program=e,this.uniformData=r,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null}}function n5(t,e){const r={},n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES);for(let i=0;i<n;i++){const s=e.getActiveAttrib(t,i);if(s.name.startsWith("gl_"))continue;const o=xR(e,s.type),a={type:o,name:s.name,size:_R(o),location:e.getAttribLocation(t,s.name)};r[s.name]=a}return r}function i5(t,e){const r={},n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let i=0;i<n;i++){const s=e.getActiveUniform(t,i),o=s.name.replace(/\[.*?\]$/,""),a=!!s.name.match(/\[.*?\]$/),h=xR(e,s.type);r[o]={name:o,index:i,type:h,size:s.size,isArray:a,value:vR(h,s.size)}}return r}function s5(t,e){var a;const r=KE(t,t.VERTEX_SHADER,e.vertexSrc),n=KE(t,t.FRAGMENT_SHADER,e.fragmentSrc),i=t.createProgram();t.attachShader(i,r),t.attachShader(i,n);const s=(a=e.extra)==null?void 0:a.transformFeedbackVaryings;if(s&&(typeof t.transformFeedbackVaryings!="function"?console.warn("TransformFeedback is not supported but TransformFeedbackVaryings are given."):t.transformFeedbackVaryings(i,s.names,s.bufferMode==="separate"?t.SEPARATE_ATTRIBS:t.INTERLEAVED_ATTRIBS)),t.linkProgram(i),t.getProgramParameter(i,t.LINK_STATUS)||DU(t,i,r,n),e.attributeData=n5(i,t),e.uniformData=i5(i,t),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertexSrc)){const h=Object.keys(e.attributeData);h.sort((c,d)=>c>d?1:-1);for(let c=0;c<h.length;c++)e.attributeData[h[c]].location=c,t.bindAttribLocation(i,c,h[c]);t.linkProgram(i)}t.deleteShader(r),t.deleteShader(n);const o={};for(const h in e.uniformData){const c=e.uniformData[h];o[h]={location:t.getUniformLocation(i,h),value:vR(c.type,c.size)}}return new r5(i,o)}function o5(t,e,r,n,i){r.buffer.update(i)}const a5={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},BR={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function l5(t){const e=t.map(s=>({data:s,offset:0,dataLen:0,dirty:0}));let r=0,n=0,i=0;for(let s=0;s<e.length;s++){const o=e[s];if(r=BR[o.data.type],o.data.size>1&&(r=Math.max(r,16)*o.data.size),o.dataLen=r,n%r!==0&&n<16){const a=n%r%16;n+=a,i+=a}n+r>16?(i=Math.ceil(i/16)*16,o.offset=i,i+=r,n=r):(o.offset=i,n+=r,i+=r)}return i=Math.ceil(i/16)*16,{uboElements:e,size:i}}function u5(t,e){const r=[];for(const n in t)e[n]&&r.push(e[n]);return r.sort((n,i)=>n.index-i.index),r}function h5(t,e){if(!t.autoManage)return{size:0,syncFunc:o5};const r=u5(t.uniforms,e),{uboElements:n,size:i}=l5(r),s=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `];for(let o=0;o<n.length;o++){const a=n[o],h=t.uniforms[a.data.name],c=a.data.name;let d=!1;for(let p=0;p<bl.length;p++){const m=bl[p];if(m.codeUbo&&m.test(a.data,h)){s.push(`offset = ${a.offset/4};`,bl[p].codeUbo(a.data.name,h)),d=!0;break}}if(!d)if(a.data.size>1){const p=_R(a.data.type),m=Math.max(BR[a.data.type]/16,1),y=p/m,_=(4-y%4)%4;s.push(`
                cv = ud.${c}.value;
                v = uv.${c};
                offset = ${a.offset/4};

                t = 0;

                for(var i=0; i < ${a.data.size*m}; i++)
                {
                    for(var j = 0; j < ${y}; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += ${_};
                }

                `)}else{const p=a5[a.data.type];s.push(`
                cv = ud.${c}.value;
                v = uv.${c};
                offset = ${a.offset/4};
                ${p};
                `)}}return s.push(`
       renderer.buffer.update(buffer);
    `),{size:i,syncFunc:new Function("ud","uv","renderer","syncData","buffer",s.join(`
`))}}let c5=0;const Ud={textureCount:0,uboCount:0};class LR{constructor(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=c5++}systemCheck(){if(!FU())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")}contextChange(e){this.gl=e,this.reset()}bind(e,r){e.disposeRunner.add(this),e.uniforms.globals=this.renderer.globalUniforms;const n=e.program,i=n.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==n&&(this.program=n,this.gl.useProgram(i.program)),r||(Ud.textureCount=0,Ud.uboCount=0,this.syncUniformGroup(e.uniformGroup,Ud)),i}setUniforms(e){const r=this.shader.program,n=r.glPrograms[this.renderer.CONTEXT_UID];r.syncUniforms(n.uniformData,e,this.renderer)}syncUniformGroup(e,r){const n=this.getGlProgram();(!e.static||e.dirtyId!==n.uniformDirtyGroups[e.id])&&(n.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,n,r))}syncUniforms(e,r,n){(e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e))(r.uniformData,e.uniforms,this.renderer,n)}createSyncGroups(e){const r=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[r]||(this.cache[r]=OU(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[r],e.syncUniforms[this.shader.program.id]}syncUniformBufferGroup(e,r){const n=this.getGlProgram();if(!e.static||e.dirtyId!==0||!n.uniformGroups[e.id]){e.dirtyId=0;const i=n.uniformGroups[e.id]||this.createSyncBufferGroup(e,n,r);e.buffer.update(),i(n.uniformData,e.uniforms,this.renderer,Ud,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,n.uniformBufferBindings[r])}createSyncBufferGroup(e,r,n){const{gl:i}=this.renderer;this.renderer.buffer.bind(e.buffer);const s=this.gl.getUniformBlockIndex(r.program,n);r.uniformBufferBindings[n]=this.shader.uniformBindCount,i.uniformBlockBinding(r.program,s,this.shader.uniformBindCount),this.shader.uniformBindCount++;const o=this.getSignature(e,this.shader.program.uniformData,"ubo");let a=this._uboCache[o];if(a||(a=this._uboCache[o]=h5(e,this.shader.program.uniformData)),e.autoManage){const h=new Float32Array(a.size/4);e.buffer.update(h)}return r.uniformGroups[e.id]=a.syncFunc,r.uniformGroups[e.id]}getSignature(e,r,n){const i=e.uniforms,s=[`${n}-`];for(const o in i)s.push(o),r[o]&&s.push(r[o].type);return s.join("-")}getGlProgram(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}generateProgram(e){const r=this.gl,n=e.program,i=s5(r,n);return n.glPrograms[this.renderer.CONTEXT_UID]=i,i}reset(){this.program=null,this.shader=null}disposeShader(e){this.shader===e&&(this.shader=null)}destroy(){this.renderer=null,this.destroyed=!0}}LR.extension={type:ne.RendererSystem,name:"shader"};ce.add(LR);class Ep{constructor(e){this.renderer=e}run(e){const{renderer:r}=this;r.runners.init.emit(r.options),e.hello&&console.log(`PixiJS 7.4.2 - ${r.rendererLogId} - https://pixijs.com`),r.resize(r.screen.width,r.screen.height)}destroy(){}}Ep.defaultOptions={hello:!1},Ep.extension={type:[ne.RendererSystem,ne.CanvasRendererSystem],name:"startup"};ce.add(Ep);function d5(t,e=[]){return e[xe.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[xe.ADD]=[t.ONE,t.ONE],e[xe.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[xe.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[xe.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[xe.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[xe.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[xe.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[xe.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[xe.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[xe.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[xe.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[xe.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[xe.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[xe.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[xe.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[xe.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[xe.NONE]=[0,0],e[xe.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[xe.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[xe.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[xe.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[xe.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[xe.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[xe.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[xe.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[xe.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[xe.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[xe.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[xe.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}const f5=0,p5=1,m5=2,g5=3,v5=4,y5=5,UR=class c_{constructor(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=xe.NONE,this._blendEq=!1,this.map=[],this.map[f5]=this.setBlend,this.map[p5]=this.setOffset,this.map[m5]=this.setCullFace,this.map[g5]=this.setDepthTest,this.map[v5]=this.setFrontFace,this.map[y5]=this.setDepthMask,this.checks=[],this.defaultState=new ki,this.defaultState.blend=!0}contextChange(e){this.gl=e,this.blendModes=d5(e),this.set(this.defaultState),this.reset()}set(e){if(e=e||this.defaultState,this.stateId!==e.data){let r=this.stateId^e.data,n=0;for(;r;)r&1&&this.map[n].call(this,!!(e.data&1<<n)),r=r>>1,n++;this.stateId=e.data}for(let r=0;r<this.checks.length;r++)this.checks[r](this,e)}forceState(e){e=e||this.defaultState;for(let r=0;r<this.map.length;r++)this.map[r].call(this,!!(e.data&1<<r));for(let r=0;r<this.checks.length;r++)this.checks[r](this,e);this.stateId=e.data}setBlend(e){this.updateCheck(c_.checkBlendMode,e),this.gl[e?"enable":"disable"](this.gl.BLEND)}setOffset(e){this.updateCheck(c_.checkPolygonOffset,e),this.gl[e?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(e){this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(e){this.gl.depthMask(e)}setCullFace(e){this.gl[e?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(e){this.gl.frontFace(this.gl[e?"CW":"CCW"])}setBlendMode(e){if(e===this.blendMode)return;this.blendMode=e;const r=this.blendModes[e],n=this.gl;r.length===2?n.blendFunc(r[0],r[1]):n.blendFuncSeparate(r[0],r[1],r[2],r[3]),r.length===6?(this._blendEq=!0,n.blendEquationSeparate(r[4],r[5])):this._blendEq&&(this._blendEq=!1,n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD))}setPolygonOffset(e,r){this.gl.polygonOffset(e,r)}reset(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)}updateCheck(e,r){const n=this.checks.indexOf(e);r&&n===-1?this.checks.push(e):!r&&n!==-1&&this.checks.splice(n,1)}static checkBlendMode(e,r){e.setBlendMode(r.blendMode)}static checkPolygonOffset(e,r){e.setPolygonOffset(1,r.polygonOffset)}destroy(){this.gl=null}};UR.extension={type:ne.RendererSystem,name:"state"};let _5=UR;ce.add(_5);class x5 extends lc{constructor(){super(...arguments),this.runners={},this._systemsHash={}}setup(e){this.addRunners(...e.runners);const r=(e.priority??[]).filter(i=>e.systems[i]),n=[...r,...Object.keys(e.systems).filter(i=>!r.includes(i))];for(const i of n)this.addSystem(e.systems[i],i)}addRunners(...e){e.forEach(r=>{this.runners[r]=new jn(r)})}addSystem(e,r){const n=new e(this);if(this[r])throw new Error(`Whoops! The name "${r}" is already in use`);this[r]=n,this._systemsHash[r]=n;for(const i in this.runners)this.runners[i].add(n);return this}emitWithCustomOptions(e,r){const n=Object.keys(this._systemsHash);e.items.forEach(i=>{const s=n.find(o=>this._systemsHash[o]===i);i[e.name](r[s])})}destroy(){Object.values(this.runners).forEach(e=>{e.destroy()}),this._systemsHash={}}}const Ku=class Af{constructor(e){this.renderer=e,this.count=0,this.checkCount=0,this.maxIdle=Af.defaultMaxIdle,this.checkCountMax=Af.defaultCheckCountMax,this.mode=Af.defaultMode}postrender(){this.renderer.objectRenderer.renderingToScreen&&(this.count++,this.mode!==Q1.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const e=this.renderer.texture,r=e.managedTextures;let n=!1;for(let i=0;i<r.length;i++){const s=r[i];s.resource&&this.count-s.touched>this.maxIdle&&(e.destroyTexture(s,!0),r[i]=null,n=!0)}if(n){let i=0;for(let s=0;s<r.length;s++)r[s]!==null&&(r[i++]=r[s]);r.length=i}}unload(e){const r=this.renderer.texture,n=e._texture;n&&!n.framebuffer&&r.destroyTexture(n);for(let i=e.children.length-1;i>=0;i--)this.unload(e.children[i])}destroy(){this.renderer=null}};Ku.defaultMode=Q1.AUTO,Ku.defaultMaxIdle=60*60,Ku.defaultCheckCountMax=60*10,Ku.extension={type:ne.RendererSystem,name:"textureGC"};let Do=Ku;ce.add(Do);class ty{constructor(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=ge.UNSIGNED_BYTE,this.internalFormat=q.RGBA,this.samplerType=0}}function w5(t){let e;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?e={[t.RGB]:se.FLOAT,[t.RGBA]:se.FLOAT,[t.ALPHA]:se.FLOAT,[t.LUMINANCE]:se.FLOAT,[t.LUMINANCE_ALPHA]:se.FLOAT,[t.R8]:se.FLOAT,[t.R8_SNORM]:se.FLOAT,[t.RG8]:se.FLOAT,[t.RG8_SNORM]:se.FLOAT,[t.RGB8]:se.FLOAT,[t.RGB8_SNORM]:se.FLOAT,[t.RGB565]:se.FLOAT,[t.RGBA4]:se.FLOAT,[t.RGB5_A1]:se.FLOAT,[t.RGBA8]:se.FLOAT,[t.RGBA8_SNORM]:se.FLOAT,[t.RGB10_A2]:se.FLOAT,[t.RGB10_A2UI]:se.FLOAT,[t.SRGB8]:se.FLOAT,[t.SRGB8_ALPHA8]:se.FLOAT,[t.R16F]:se.FLOAT,[t.RG16F]:se.FLOAT,[t.RGB16F]:se.FLOAT,[t.RGBA16F]:se.FLOAT,[t.R32F]:se.FLOAT,[t.RG32F]:se.FLOAT,[t.RGB32F]:se.FLOAT,[t.RGBA32F]:se.FLOAT,[t.R11F_G11F_B10F]:se.FLOAT,[t.RGB9_E5]:se.FLOAT,[t.R8I]:se.INT,[t.R8UI]:se.UINT,[t.R16I]:se.INT,[t.R16UI]:se.UINT,[t.R32I]:se.INT,[t.R32UI]:se.UINT,[t.RG8I]:se.INT,[t.RG8UI]:se.UINT,[t.RG16I]:se.INT,[t.RG16UI]:se.UINT,[t.RG32I]:se.INT,[t.RG32UI]:se.UINT,[t.RGB8I]:se.INT,[t.RGB8UI]:se.UINT,[t.RGB16I]:se.INT,[t.RGB16UI]:se.UINT,[t.RGB32I]:se.INT,[t.RGB32UI]:se.UINT,[t.RGBA8I]:se.INT,[t.RGBA8UI]:se.UINT,[t.RGBA16I]:se.INT,[t.RGBA16UI]:se.UINT,[t.RGBA32I]:se.INT,[t.RGBA32UI]:se.UINT,[t.DEPTH_COMPONENT16]:se.FLOAT,[t.DEPTH_COMPONENT24]:se.FLOAT,[t.DEPTH_COMPONENT32F]:se.FLOAT,[t.DEPTH_STENCIL]:se.FLOAT,[t.DEPTH24_STENCIL8]:se.FLOAT,[t.DEPTH32F_STENCIL8]:se.FLOAT}:e={[t.RGB]:se.FLOAT,[t.RGBA]:se.FLOAT,[t.ALPHA]:se.FLOAT,[t.LUMINANCE]:se.FLOAT,[t.LUMINANCE_ALPHA]:se.FLOAT,[t.DEPTH_STENCIL]:se.FLOAT},e}function b5(t){let e;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?e={[ge.UNSIGNED_BYTE]:{[q.RGBA]:t.RGBA8,[q.RGB]:t.RGB8,[q.RG]:t.RG8,[q.RED]:t.R8,[q.RGBA_INTEGER]:t.RGBA8UI,[q.RGB_INTEGER]:t.RGB8UI,[q.RG_INTEGER]:t.RG8UI,[q.RED_INTEGER]:t.R8UI,[q.ALPHA]:t.ALPHA,[q.LUMINANCE]:t.LUMINANCE,[q.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[ge.BYTE]:{[q.RGBA]:t.RGBA8_SNORM,[q.RGB]:t.RGB8_SNORM,[q.RG]:t.RG8_SNORM,[q.RED]:t.R8_SNORM,[q.RGBA_INTEGER]:t.RGBA8I,[q.RGB_INTEGER]:t.RGB8I,[q.RG_INTEGER]:t.RG8I,[q.RED_INTEGER]:t.R8I},[ge.UNSIGNED_SHORT]:{[q.RGBA_INTEGER]:t.RGBA16UI,[q.RGB_INTEGER]:t.RGB16UI,[q.RG_INTEGER]:t.RG16UI,[q.RED_INTEGER]:t.R16UI,[q.DEPTH_COMPONENT]:t.DEPTH_COMPONENT16},[ge.SHORT]:{[q.RGBA_INTEGER]:t.RGBA16I,[q.RGB_INTEGER]:t.RGB16I,[q.RG_INTEGER]:t.RG16I,[q.RED_INTEGER]:t.R16I},[ge.UNSIGNED_INT]:{[q.RGBA_INTEGER]:t.RGBA32UI,[q.RGB_INTEGER]:t.RGB32UI,[q.RG_INTEGER]:t.RG32UI,[q.RED_INTEGER]:t.R32UI,[q.DEPTH_COMPONENT]:t.DEPTH_COMPONENT24},[ge.INT]:{[q.RGBA_INTEGER]:t.RGBA32I,[q.RGB_INTEGER]:t.RGB32I,[q.RG_INTEGER]:t.RG32I,[q.RED_INTEGER]:t.R32I},[ge.FLOAT]:{[q.RGBA]:t.RGBA32F,[q.RGB]:t.RGB32F,[q.RG]:t.RG32F,[q.RED]:t.R32F,[q.DEPTH_COMPONENT]:t.DEPTH_COMPONENT32F},[ge.HALF_FLOAT]:{[q.RGBA]:t.RGBA16F,[q.RGB]:t.RGB16F,[q.RG]:t.RG16F,[q.RED]:t.R16F},[ge.UNSIGNED_SHORT_5_6_5]:{[q.RGB]:t.RGB565},[ge.UNSIGNED_SHORT_4_4_4_4]:{[q.RGBA]:t.RGBA4},[ge.UNSIGNED_SHORT_5_5_5_1]:{[q.RGBA]:t.RGB5_A1},[ge.UNSIGNED_INT_2_10_10_10_REV]:{[q.RGBA]:t.RGB10_A2,[q.RGBA_INTEGER]:t.RGB10_A2UI},[ge.UNSIGNED_INT_10F_11F_11F_REV]:{[q.RGB]:t.R11F_G11F_B10F},[ge.UNSIGNED_INT_5_9_9_9_REV]:{[q.RGB]:t.RGB9_E5},[ge.UNSIGNED_INT_24_8]:{[q.DEPTH_STENCIL]:t.DEPTH24_STENCIL8},[ge.FLOAT_32_UNSIGNED_INT_24_8_REV]:{[q.DEPTH_STENCIL]:t.DEPTH32F_STENCIL8}}:e={[ge.UNSIGNED_BYTE]:{[q.RGBA]:t.RGBA,[q.RGB]:t.RGB,[q.ALPHA]:t.ALPHA,[q.LUMINANCE]:t.LUMINANCE,[q.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[ge.UNSIGNED_SHORT_5_6_5]:{[q.RGB]:t.RGB},[ge.UNSIGNED_SHORT_4_4_4_4]:{[q.RGBA]:t.RGBA},[ge.UNSIGNED_SHORT_5_5_5_1]:{[q.RGBA]:t.RGBA}},e}class zR{constructor(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new Ce,this.hasIntegerTextures=!1}contextChange(){const e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=b5(e),this.samplerTypes=w5(e);const r=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=r;for(let i=0;i<r;i++)this.boundTextures[i]=null;this.emptyTextures={};const n=new ty(e.createTexture());e.bindTexture(e.TEXTURE_2D,n.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=n,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new ty(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(let i=0;i<6;i++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+i,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(let i=0;i<this.boundTextures.length;i++)this.bind(null,i)}bind(e,r=0){const{gl:n}=this;if(e=e==null?void 0:e.castToBaseTexture(),(e==null?void 0:e.valid)&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;const i=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[r]!==e&&(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(e.target,i.texture)),i.dirtyId!==e.dirtyId?(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),this.updateTexture(e)):i.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(e),this.boundTextures[r]=e}else this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(n.TEXTURE_2D,this.emptyTextures[n.TEXTURE_2D].texture),this.boundTextures[r]=null}reset(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(let e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture}unbind(e){const{gl:r,boundTextures:n}=this;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(let i=0;i<n.length;i++)n[i]===this.unknownTexture&&this.bind(null,i)}for(let i=0;i<n.length;i++)n[i]===e&&(this.currentLocation!==i&&(r.activeTexture(r.TEXTURE0+i),this.currentLocation=i),r.bindTexture(e.target,this.emptyTextures[e.target].texture),n[i]=null)}ensureSamplerType(e){const{boundTextures:r,hasIntegerTextures:n,CONTEXT_UID:i}=this;if(n)for(let s=e-1;s>=0;--s){const o=r[s];o&&o._glTextures[i].samplerType!==se.FLOAT&&this.renderer.texture.unbind(o)}}initTexture(e){const r=new ty(this.gl.createTexture());return r.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=r,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),r}initTextureType(e,r){var n;r.internalFormat=((n=this.internalFormats[e.type])==null?void 0:n[e.format])??e.format,r.samplerType=this.samplerTypes[r.internalFormat]??se.FLOAT,this.webGLVersion===2&&e.type===ge.HALF_FLOAT?r.type=this.gl.HALF_FLOAT:r.type=e.type}updateTexture(e){var i;const r=e._glTextures[this.CONTEXT_UID];if(!r)return;const n=this.renderer;if(this.initTextureType(e,r),(i=e.resource)==null?void 0:i.upload(n,e,r))r.samplerType!==se.FLOAT&&(this.hasIntegerTextures=!0);else{const s=e.realWidth,o=e.realHeight,a=n.gl;(r.width!==s||r.height!==o||r.dirtyId<0)&&(r.width=s,r.height=o,a.texImage2D(e.target,0,r.internalFormat,s,o,0,e.format,r.type,null))}e.dirtyStyleId!==r.dirtyStyleId&&this.updateTextureStyle(e),r.dirtyId=e.dirtyId}destroyTexture(e,r){const{gl:n}=this;if(e=e.castToBaseTexture(),e._glTextures[this.CONTEXT_UID]&&(this.unbind(e),n.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!r)){const i=this.managedTextures.indexOf(e);i!==-1&&wl(this.managedTextures,i,1)}}updateTextureStyle(e){var n;const r=e._glTextures[this.CONTEXT_UID];r&&((e.mipmap===Ri.POW2||this.webGLVersion!==2)&&!e.isPowerOfTwo?r.mipmap=!1:r.mipmap=e.mipmap>=1,this.webGLVersion!==2&&!e.isPowerOfTwo?r.wrapMode=ns.CLAMP:r.wrapMode=e.wrapMode,(n=e.resource)!=null&&n.style(this.renderer,e,r)||this.setStyle(e,r),r.dirtyStyleId=e.dirtyStyleId)}setStyle(e,r){const n=this.gl;if(r.mipmap&&e.mipmap!==Ri.ON_MANUAL&&n.generateMipmap(e.target),n.texParameteri(e.target,n.TEXTURE_WRAP_S,r.wrapMode),n.texParameteri(e.target,n.TEXTURE_WRAP_T,r.wrapMode),r.mipmap){n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===qi.LINEAR?n.LINEAR_MIPMAP_LINEAR:n.NEAREST_MIPMAP_NEAREST);const i=this.renderer.context.extensions.anisotropicFiltering;if(i&&e.anisotropicLevel>0&&e.scaleMode===qi.LINEAR){const s=Math.min(e.anisotropicLevel,n.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT));n.texParameterf(e.target,i.TEXTURE_MAX_ANISOTROPY_EXT,s)}}else n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===qi.LINEAR?n.LINEAR:n.NEAREST);n.texParameteri(e.target,n.TEXTURE_MAG_FILTER,e.scaleMode===qi.LINEAR?n.LINEAR:n.NEAREST)}destroy(){this.renderer=null}}zR.extension={type:ne.RendererSystem,name:"texture"};ce.add(zR);class $R{constructor(e){this.renderer=e}contextChange(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:r,CONTEXT_UID:n}=this,i=e._glTransformFeedbacks[n]||this.createGLTransformFeedback(e);r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,i)}unbind(){const{gl:e}=this;e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null)}beginTransformFeedback(e,r){const{gl:n,renderer:i}=this;r&&i.shader.bind(r),n.beginTransformFeedback(e)}endTransformFeedback(){const{gl:e}=this;e.endTransformFeedback()}createGLTransformFeedback(e){const{gl:r,renderer:n,CONTEXT_UID:i}=this,s=r.createTransformFeedback();e._glTransformFeedbacks[i]=s,r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,s);for(let o=0;o<e.buffers.length;o++){const a=e.buffers[o];a&&(n.buffer.update(a),a._glBuffers[i].refCount++,r.bindBufferBase(r.TRANSFORM_FEEDBACK_BUFFER,o,a._glBuffers[i].buffer||null))}return r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,null),e.disposeRunner.add(this),s}disposeTransformFeedback(e,r){const n=e._glTransformFeedbacks[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this);const s=this.renderer.buffer;if(s)for(let o=0;o<e.buffers.length;o++){const a=e.buffers[o];if(!a)continue;const h=a._glBuffers[this.CONTEXT_UID];h&&(h.refCount--,h.refCount===0&&!r&&s.dispose(a,r))}n&&(r||i.deleteTransformFeedback(n),delete e._glTransformFeedbacks[this.CONTEXT_UID])}destroy(){this.renderer=null}}$R.extension={type:ne.RendererSystem,name:"transformFeedback"};ce.add($R);class Tp{constructor(e){this.renderer=e}init(e){this.screen=new be(0,0,e.width,e.height),this.element=e.view||oe.ADAPTER.createCanvas(),this.resolution=e.resolution||oe.RESOLUTION,this.autoDensity=!!e.autoDensity}resizeView(e,r){this.element.width=Math.round(e*this.resolution),this.element.height=Math.round(r*this.resolution);const n=this.element.width/this.resolution,i=this.element.height/this.resolution;this.screen.width=n,this.screen.height=i,this.autoDensity&&(this.element.style.width=`${n}px`,this.element.style.height=`${i}px`),this.renderer.emit("resize",n,i),this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}destroy(e){var r;e&&((r=this.element.parentNode)==null||r.removeChild(this.element)),this.renderer=null,this.element=null,this.screen=null}}Tp.defaultOptions={width:800,height:600,resolution:void 0,autoDensity:!1},Tp.extension={type:[ne.RendererSystem,ne.CanvasRendererSystem],name:"_view"};ce.add(Tp);oe.PREFER_ENV=fa.WEBGL2;oe.STRICT_TEXTURE_CACHE=!1;oe.RENDER_OPTIONS={...Sp.defaultOptions,...bp.defaultOptions,...Tp.defaultOptions,...Ep.defaultOptions};Object.defineProperties(oe,{WRAP_MODE:{get(){return Ce.defaultOptions.wrapMode},set(t){Oe("7.1.0","settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode"),Ce.defaultOptions.wrapMode=t}},SCALE_MODE:{get(){return Ce.defaultOptions.scaleMode},set(t){Oe("7.1.0","settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode"),Ce.defaultOptions.scaleMode=t}},MIPMAP_TEXTURES:{get(){return Ce.defaultOptions.mipmap},set(t){Oe("7.1.0","settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap"),Ce.defaultOptions.mipmap=t}},ANISOTROPIC_LEVEL:{get(){return Ce.defaultOptions.anisotropicLevel},set(t){Oe("7.1.0","settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel"),Ce.defaultOptions.anisotropicLevel=t}},FILTER_RESOLUTION:{get(){return Oe("7.1.0","settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution"),gr.defaultResolution},set(t){gr.defaultResolution=t}},FILTER_MULTISAMPLE:{get(){return Oe("7.1.0","settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample"),gr.defaultMultisample},set(t){gr.defaultMultisample=t}},SPRITE_MAX_TEXTURES:{get(){return ko.defaultMaxTextures},set(t){Oe("7.1.0","settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures"),ko.defaultMaxTextures=t}},SPRITE_BATCH_SIZE:{get(){return ko.defaultBatchSize},set(t){Oe("7.1.0","settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize"),ko.defaultBatchSize=t}},CAN_UPLOAD_SAME_BUFFER:{get(){return ko.canUploadSameBuffer},set(t){Oe("7.1.0","settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer"),ko.canUploadSameBuffer=t}},GC_MODE:{get(){return Do.defaultMode},set(t){Oe("7.1.0","settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode"),Do.defaultMode=t}},GC_MAX_IDLE:{get(){return Do.defaultMaxIdle},set(t){Oe("7.1.0","settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle"),Do.defaultMaxIdle=t}},GC_MAX_CHECK_COUNT:{get(){return Do.defaultCheckCountMax},set(t){Oe("7.1.0","settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax"),Do.defaultCheckCountMax=t}},PRECISION_VERTEX:{get(){return Ji.defaultVertexPrecision},set(t){Oe("7.1.0","settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision"),Ji.defaultVertexPrecision=t}},PRECISION_FRAGMENT:{get(){return Ji.defaultFragmentPrecision},set(t){Oe("7.1.0","settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision"),Ji.defaultFragmentPrecision=t}}});var so=(t=>(t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY",t))(so||{});class ry{constructor(e,r=null,n=0,i=!1){this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=r,this.priority=n,this.once=i}match(e,r=null){return this.fn===e&&this.context===r}emit(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));const r=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),r}connect(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(e=!1){this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const r=this.next;return this.next=e?null:r,this.previous=null,r}}const GR=class Fr{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new ry(null,null,1/0),this.deltaMS=1/Fr.targetFPMS,this.elapsedMS=1/Fr.targetFPMS,this._tick=e=>{this._requestId=null,this.started&&(this.update(e),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(e,r,n=so.NORMAL){return this._addListener(new ry(e,r,n))}addOnce(e,r,n=so.NORMAL){return this._addListener(new ry(e,r,n,!0))}_addListener(e){let r=this._head.next,n=this._head;if(!r)e.connect(n);else{for(;r;){if(e.priority>r.priority){e.connect(n);break}n=r,r=r.next}e.previous||e.connect(n)}return this._startIfPossible(),this}remove(e,r){let n=this._head.next;for(;n;)n.match(e,r)?n=n.destroy():n=n.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let e=0,r=this._head;for(;r=r.next;)e++;return e}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let e=this._head.next;for(;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}}update(e=performance.now()){let r;if(e>this.lastTime){if(r=this.elapsedMS=e-this.lastTime,r>this._maxElapsedMS&&(r=this._maxElapsedMS),r*=this.speed,this._minElapsedMS){const s=e-this._lastFrame|0;if(s<this._minElapsedMS)return;this._lastFrame=e-s%this._minElapsedMS}this.deltaMS=r,this.deltaTime=this.deltaMS*Fr.targetFPMS;const n=this._head;let i=n.next;for(;i;)i=i.emit(this.deltaTime);n.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=e}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(e){const r=Math.min(this.maxFPS,e),n=Math.min(Math.max(0,r)/1e3,Fr.targetFPMS);this._maxElapsedMS=1/n}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(e){if(e===0)this._minElapsedMS=0;else{const r=Math.max(this.minFPS,e);this._minElapsedMS=1/(r/1e3)}}static get shared(){if(!Fr._shared){const e=Fr._shared=new Fr;e.autoStart=!0,e._protected=!0}return Fr._shared}static get system(){if(!Fr._system){const e=Fr._system=new Fr;e.autoStart=!0,e._protected=!0}return Fr._system}};GR.targetFPMS=.06;let Ft=GR;Object.defineProperties(oe,{TARGET_FPMS:{get(){return Ft.targetFPMS},set(t){Oe("7.1.0","settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS"),Ft.targetFPMS=t}}});class HR{static init(e){e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set(r){this._ticker&&this._ticker.remove(this.render,this),this._ticker=r,r&&r.add(this.render,this,so.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?Ft.shared:new Ft,e.autoStart&&this.start()}static destroy(){if(this._ticker){const e=this._ticker;this.ticker=null,e.destroy()}}}HR.extension=ne.Application;ce.add(HR);const jR=[];ce.handleByList(ne.Renderer,jR);function S5(t){for(const e of jR)if(e.test(t))return new e(t);throw new Error("Unable to auto-detect a suitable renderer.")}var E5=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,T5=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const A5=E5,WR=T5;class VR{constructor(e){this.renderer=e}contextChange(e){let r;if(this.renderer.context.webGLVersion===1){const n=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),r=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,n)}else{const n=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING);e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),r=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,n)}r>=Pt.HIGH?this.multisample=Pt.HIGH:r>=Pt.MEDIUM?this.multisample=Pt.MEDIUM:r>=Pt.LOW?this.multisample=Pt.LOW:this.multisample=Pt.NONE}destroy(){}}VR.extension={type:ne.RendererSystem,name:"_multisample"};ce.add(VR);class C5{constructor(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}class XR{constructor(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}destroy(){this.renderer=null}contextChange(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:r,CONTEXT_UID:n}=this,i=e._glBuffers[n]||this.createGLBuffer(e);r.bindBuffer(e.type,i.buffer)}unbind(e){const{gl:r}=this;r.bindBuffer(e,null)}bindBufferBase(e,r){const{gl:n,CONTEXT_UID:i}=this;if(this.boundBufferBases[r]!==e){const s=e._glBuffers[i]||this.createGLBuffer(e);this.boundBufferBases[r]=e,n.bindBufferBase(n.UNIFORM_BUFFER,r,s.buffer)}}bindBufferRange(e,r,n){const{gl:i,CONTEXT_UID:s}=this;n=n||0;const o=e._glBuffers[s]||this.createGLBuffer(e);i.bindBufferRange(i.UNIFORM_BUFFER,r||0,o.buffer,n*256,256)}update(e){const{gl:r,CONTEXT_UID:n}=this,i=e._glBuffers[n]||this.createGLBuffer(e);if(e._updateID!==i.updateID)if(i.updateID=e._updateID,r.bindBuffer(e.type,i.buffer),i.byteLength>=e.data.byteLength)r.bufferSubData(e.type,0,e.data);else{const s=e.static?r.STATIC_DRAW:r.DYNAMIC_DRAW;i.byteLength=e.data.byteLength,r.bufferData(e.type,e.data,s)}}dispose(e,r){if(!this.managedBuffers[e.id])return;delete this.managedBuffers[e.id];const n=e._glBuffers[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this),n&&(r||i.deleteBuffer(n.buffer),delete e._glBuffers[this.CONTEXT_UID])}disposeAll(e){const r=Object.keys(this.managedBuffers);for(let n=0;n<r.length;n++)this.dispose(this.managedBuffers[r[n]],e)}createGLBuffer(e){const{CONTEXT_UID:r,gl:n}=this;return e._glBuffers[r]=new C5(n.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[r]}}XR.extension={type:ne.RendererSystem,name:"buffer"};ce.add(XR);class YR{constructor(e){this.renderer=e}render(e,r){const n=this.renderer;let i,s,o,a;if(r&&(i=r.renderTexture,s=r.clear,o=r.transform,a=r.skipUpdateTransform),this.renderingToScreen=!i,n.runners.prerender.emit(),n.emit("prerender"),n.projection.transform=o,!n.context.isLost){if(i||(this.lastObjectRendered=e),!a){const h=e.enableTempParent();e.updateTransform(),e.disableTempParent(h)}n.renderTexture.bind(i),n.batch.currentRenderer.start(),(s??n.background.clearBeforeRender)&&n.renderTexture.clear(),e.render(n),n.batch.currentRenderer.flush(),i&&(r.blit&&n.framebuffer.blit(),i.baseTexture.update()),n.runners.postrender.emit(),n.projection.transform=null,n.emit("postrender")}}destroy(){this.renderer=null,this.lastObjectRendered=null}}YR.extension={type:ne.RendererSystem,name:"objectRenderer"};ce.add(YR);const Cf=class d_ extends x5{constructor(e){super(),this.type=BI.WEBGL,e=Object.assign({},oe.RENDER_OPTIONS,e),this.gl=null,this.CONTEXT_UID=0,this.globalUniforms=new Wn({projectionMatrix:new it},!0);const r={runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:d_.__systems,priority:["_view","textureGenerator","background","_plugin","startup","context","state","texture","buffer","geometry","framebuffer","transformFeedback","mask","scissor","stencil","projection","textureGC","filter","renderTexture","batch","objectRenderer","_multisample"]};this.setup(r),"useContextAlpha"in e&&(Oe("7.0.0","options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"),e.premultipliedAlpha=e.useContextAlpha&&e.useContextAlpha!=="notMultiplied",e.backgroundAlpha=e.useContextAlpha===!1?1:e.backgroundAlpha),this._plugin.rendererPlugins=d_.__plugins,this.options=e,this.startup.run(this.options)}static test(e){return e!=null&&e.forceCanvas?!1:Q4()}render(e,r){this.objectRenderer.render(e,r)}resize(e,r){this._view.resizeView(e,r)}reset(){return this.runners.reset.emit(),this}clear(){this.renderTexture.bind(),this.renderTexture.clear()}destroy(e=!1){this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:e}),super.destroy()}get plugins(){return this._plugin.plugins}get multisample(){return this._multisample.multisample}get width(){return this._view.element.width}get height(){return this._view.element.height}get resolution(){return this._view.resolution}set resolution(e){this._view.resolution=e,this.runners.resolutionChange.emit(e)}get autoDensity(){return this._view.autoDensity}get view(){return this._view.element}get screen(){return this._view.screen}get lastObjectRendered(){return this.objectRenderer.lastObjectRendered}get renderingToScreen(){return this.objectRenderer.renderingToScreen}get rendererLogId(){return`WebGL ${this.context.webGLVersion}`}get clearBeforeRender(){return Oe("7.0.0","renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead."),this.background.clearBeforeRender}get useContextAlpha(){return Oe("7.0.0","renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead."),this.context.useContextAlpha}get preserveDrawingBuffer(){return Oe("7.0.0","renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context"),this.context.preserveDrawingBuffer}get backgroundColor(){return Oe("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color}set backgroundColor(e){Oe("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=e}get backgroundAlpha(){return Oe("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha}set backgroundAlpha(e){Oe("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=e}get powerPreference(){return Oe("7.0.0","renderer.powerPreference has been deprecated, we can only know this if pixi creates the context"),this.context.powerPreference}generateTexture(e,r){return this.textureGenerator.generateTexture(e,r)}};Cf.extension={type:ne.Renderer,priority:1},Cf.__plugins={},Cf.__systems={};let ax=Cf;ce.handleByMap(ne.RendererPlugin,ax.__plugins);ce.handleByMap(ne.RendererSystem,ax.__systems);ce.add(ax);class KR extends Vh{constructor(e,r){const{width:n,height:i}=r||{};super(n,i),this.items=[],this.itemDirtyIds=[];for(let s=0;s<e;s++){const o=new Ce;this.items.push(o),this.itemDirtyIds.push(-2)}this.length=e,this._load=null,this.baseTexture=null}initFromArray(e,r){for(let n=0;n<this.length;n++)e[n]&&(e[n].castToBaseTexture?this.addBaseTextureAt(e[n].castToBaseTexture(),n):e[n]instanceof Vh?this.addResourceAt(e[n],n):this.addResourceAt(pR(e[n],r),n))}dispose(){for(let e=0,r=this.length;e<r;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null}addResourceAt(e,r){if(!this.items[r])throw new Error(`Index ${r} is out of bounds`);return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[r].setResource(e),this}bind(e){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");super.bind(e);for(let r=0;r<this.length;r++)this.items[r].parentTextureArray=e,this.items[r].on("update",e.update,e)}unbind(e){super.unbind(e);for(let r=0;r<this.length;r++)this.items[r].parentTextureArray=null,this.items[r].off("update",e.update,e)}load(){if(this._load)return this._load;const e=this.items.map(r=>r.resource).filter(r=>r).map(r=>r.load());return this._load=Promise.all(e).then(()=>{const{realWidth:r,realHeight:n}=this.items[0];return this.resize(r,n),this.update(),Promise.resolve(this)}),this._load}}class P5 extends KR{constructor(e,r){const{width:n,height:i}=r||{};let s,o;Array.isArray(e)?(s=e,o=e.length):o=e,super(o,{width:n,height:i}),s&&this.initFromArray(s,r)}addBaseTextureAt(e,r){if(e.resource)this.addResourceAt(e.resource,r);else throw new Error("ArrayResource does not support RenderTexture");return this}bind(e){super.bind(e),e.target=yl.TEXTURE_2D_ARRAY}upload(e,r,n){const{length:i,itemDirtyIds:s,items:o}=this,{gl:a}=e;n.dirtyId<0&&a.texImage3D(a.TEXTURE_2D_ARRAY,0,n.internalFormat,this._width,this._height,i,0,r.format,n.type,null);for(let h=0;h<i;h++){const c=o[h];s[h]<c.dirtyId&&(s[h]=c.dirtyId,c.valid&&a.texSubImage3D(a.TEXTURE_2D_ARRAY,0,0,0,h,c.resource.width,c.resource.height,1,r.format,n.type,c.resource.source))}return!0}}class I5 extends hs{constructor(e){super(e)}static test(e){const{OffscreenCanvas:r}=globalThis;return r&&e instanceof r?!0:globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement}}const QR=class Qu extends KR{constructor(e,r){const{width:n,height:i,autoLoad:s,linkBaseTexture:o}=r||{};if(e&&e.length!==Qu.SIDES)throw new Error(`Invalid length. Got ${e.length}, expected 6`);super(6,{width:n,height:i});for(let a=0;a<Qu.SIDES;a++)this.items[a].target=yl.TEXTURE_CUBE_MAP_POSITIVE_X+a;this.linkBaseTexture=o!==!1,e&&this.initFromArray(e,r),s!==!1&&this.load()}bind(e){super.bind(e),e.target=yl.TEXTURE_CUBE_MAP}addBaseTextureAt(e,r,n){if(n===void 0&&(n=this.linkBaseTexture),!this.items[r])throw new Error(`Index ${r} is out of bounds`);if(!this.linkBaseTexture||e.parentTextureArray||Object.keys(e._glTextures).length>0)if(e.resource)this.addResourceAt(e.resource,r);else throw new Error("CubeResource does not support copying of renderTexture.");else e.target=yl.TEXTURE_CUBE_MAP_POSITIVE_X+r,e.parentTextureArray=this.baseTexture,this.items[r]=e;return e.valid&&!this.valid&&this.resize(e.realWidth,e.realHeight),this.items[r]=e,this}upload(e,r,n){const i=this.itemDirtyIds;for(let s=0;s<Qu.SIDES;s++){const o=this.items[s];(i[s]<o.dirtyId||n.dirtyId<r.dirtyId)&&(o.valid&&o.resource?(o.resource.upload(e,o,n),i[s]=o.dirtyId):i[s]<-1&&(e.gl.texImage2D(o.target,0,n.internalFormat,r.realWidth,r.realHeight,0,r.format,n.type,null),i[s]=-1))}return!0}static test(e){return Array.isArray(e)&&e.length===Qu.SIDES}};QR.SIDES=6;let R5=QR;class hl extends hs{constructor(e,r){r=r||{};let n,i,s;typeof e=="string"?(n=hl.EMPTY,i=e,s=!0):(n=e,i=null,s=!1),super(n),this.url=i,this.crossOrigin=r.crossOrigin??!0,this.alphaMode=typeof r.alphaMode=="number"?r.alphaMode:null,this.ownsImageBitmap=r.ownsImageBitmap??s,this._load=null,r.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(async(e,r)=>{if(this.url===null){e(this);return}try{const n=await oe.ADAPTER.fetch(this.url,{mode:this.crossOrigin?"cors":"no-cors"});if(this.destroyed)return;const i=await n.blob();if(this.destroyed)return;const s=await createImageBitmap(i,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===Cr.UNPACK?"premultiply":"none"});if(this.destroyed){s.close();return}this.source=s,this.update(),e(this)}catch(n){if(this.destroyed)return;r(n),this.onError.emit(n)}}),this._load)}upload(e,r,n){return this.source instanceof ImageBitmap?(typeof this.alphaMode=="number"&&(r.alphaMode=this.alphaMode),super.upload(e,r,n)):(this.load(),!1)}dispose(){this.ownsImageBitmap&&this.source instanceof ImageBitmap&&this.source.close(),super.dispose(),this._load=null}static test(e){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&(typeof e=="string"||e instanceof ImageBitmap)}static get EMPTY(){return hl._EMPTY=hl._EMPTY??oe.ADAPTER.createCanvas(0,0),hl._EMPTY}}const f_=class Pf extends hs{constructor(e,r){r=r||{},super(oe.ADAPTER.createCanvas()),this._width=0,this._height=0,this.svg=e,this.scale=r.scale||1,this._overrideWidth=r.width,this._overrideHeight=r.height,this._resolve=null,this._crossorigin=r.crossorigin,this._load=null,r.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(e=>{if(this._resolve=()=>{this.update(),e(this)},Pf.SVG_XML.test(this.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");this.svg=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(this.svg)))}`}this._loadSvg()}),this._load)}_loadSvg(){const e=new Image;hs.crossOrigin(e,this.svg,this._crossorigin),e.src=this.svg,e.onerror=r=>{this._resolve&&(e.onerror=null,this.onError.emit(r))},e.onload=()=>{if(!this._resolve)return;const r=e.width,n=e.height;if(!r||!n)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");let i=r*this.scale,s=n*this.scale;(this._overrideWidth||this._overrideHeight)&&(i=this._overrideWidth||this._overrideHeight/n*r,s=this._overrideHeight||this._overrideWidth/r*n),i=Math.round(i),s=Math.round(s);const o=this.source;o.width=i,o.height=s,o._pixiId=`canvas_${sa()}`,o.getContext("2d").drawImage(e,0,0,r,n,0,0,i,s),this._resolve(),this._resolve=null}}static getSize(e){const r=Pf.SVG_SIZE.exec(e),n={};return r&&(n[r[1]]=Math.round(parseFloat(r[3])),n[r[5]]=Math.round(parseFloat(r[7]))),n}dispose(){super.dispose(),this._resolve=null,this._crossorigin=null}static test(e,r){return r==="svg"||typeof e=="string"&&e.startsWith("data:image/svg+xml")||typeof e=="string"&&Pf.SVG_XML.test(e)}};f_.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,f_.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;let p_=f_;class O5 extends hs{constructor(e){super(e)}static test(e){return!!globalThis.VideoFrame&&e instanceof globalThis.VideoFrame}}const m_=class g_ extends hs{constructor(e,r){if(r=r||{},!(e instanceof HTMLVideoElement)){const n=document.createElement("video");r.autoLoad!==!1&&n.setAttribute("preload","auto"),r.playsinline!==!1&&(n.setAttribute("webkit-playsinline",""),n.setAttribute("playsinline","")),r.muted===!0&&(n.setAttribute("muted",""),n.muted=!0),r.loop===!0&&n.setAttribute("loop",""),r.autoPlay!==!1&&n.setAttribute("autoplay",""),typeof e=="string"&&(e=[e]);const i=e[0].src||e[0];hs.crossOrigin(n,i,r.crossorigin);for(let s=0;s<e.length;++s){const o=document.createElement("source");let{src:a,mime:h}=e[s];if(a=a||e[s],a.startsWith("data:"))h=a.slice(5,a.indexOf(";"));else if(!a.startsWith("blob:")){const c=a.split("?").shift().toLowerCase(),d=c.slice(c.lastIndexOf(".")+1);h=h||g_.MIME_TYPES[d]||`video/${d}`}o.src=a,h&&(o.type=h),n.appendChild(o)}e=n}super(e),this.noSubImage=!0,this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=r.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=r.autoPlay!==!1,this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),r.autoLoad!==!1&&this.load()}update(e=0){if(!this.destroyed){if(this._updateFPS){const r=Ft.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-r)}(!this._updateFPS||this._msToNextUpdate<=0)&&(super.update(),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}}_videoFrameRequestCallback(){this.update(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback)}load(){if(this._load)return this._load;const e=this.source;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart),e.addEventListener("pause",this._onPlayStop),e.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._onCanPlay():(e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlay),e.addEventListener("error",this._onError,!0)),this._load=new Promise((r,n)=>{this.valid?r(this):(this._resolve=r,this._reject=n,e.load())}),this._load}_onError(e){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(e),this._reject&&(this._reject(e),this._reject=null,this._resolve=null)}_isSourcePlaying(){const e=this.source;return!e.paused&&!e.ended}_isSourceReady(){return this.source.readyState>2}_onPlayStart(){this.valid||this._onCanPlay(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0)}_onCanPlay(){const e=this.source;e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay);const r=this.valid;this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0,!r&&this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&e.play()}dispose(){this._configureAutoUpdate();const e=this.source;e&&(e.removeEventListener("play",this._onPlayStart),e.removeEventListener("pause",this._onPlayStop),e.removeEventListener("seeked",this._onSeeked),e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay),e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),super.dispose()}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(e){e!==this._updateFPS&&(this._updateFPS=e,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.source.requestVideoFrameCallback?(this._isConnectedToTicker&&(Ft.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),this._videoFrameRequestCallbackHandle===null&&(this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback))):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(Ft.shared.add(this.update,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(Ft.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(e,r){return globalThis.HTMLVideoElement&&e instanceof HTMLVideoElement||g_.TYPES.includes(r)}};m_.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],m_.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let qR=m_;r_.push(hl,SR,I5,qR,O5,p_,ym,R5,P5);class Ap{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}clear(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}getRectangle(e){return this.minX>this.maxX||this.minY>this.maxY?be.EMPTY:(e=e||new be(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)}addPoint(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)}addPointMatrix(e,r){const{a:n,b:i,c:s,d:o,tx:a,ty:h}=e,c=n*r.x+s*r.y+a,d=i*r.x+o*r.y+h;this.minX=Math.min(this.minX,c),this.maxX=Math.max(this.maxX,c),this.minY=Math.min(this.minY,d),this.maxY=Math.max(this.maxY,d)}addQuad(e){let r=this.minX,n=this.minY,i=this.maxX,s=this.maxY,o=e[0],a=e[1];r=o<r?o:r,n=a<n?a:n,i=o>i?o:i,s=a>s?a:s,o=e[2],a=e[3],r=o<r?o:r,n=a<n?a:n,i=o>i?o:i,s=a>s?a:s,o=e[4],a=e[5],r=o<r?o:r,n=a<n?a:n,i=o>i?o:i,s=a>s?a:s,o=e[6],a=e[7],r=o<r?o:r,n=a<n?a:n,i=o>i?o:i,s=a>s?a:s,this.minX=r,this.minY=n,this.maxX=i,this.maxY=s}addFrame(e,r,n,i,s){this.addFrameMatrix(e.worldTransform,r,n,i,s)}addFrameMatrix(e,r,n,i,s){const o=e.a,a=e.b,h=e.c,c=e.d,d=e.tx,p=e.ty;let m=this.minX,y=this.minY,_=this.maxX,S=this.maxY,A=o*r+h*n+d,E=a*r+c*n+p;m=A<m?A:m,y=E<y?E:y,_=A>_?A:_,S=E>S?E:S,A=o*i+h*n+d,E=a*i+c*n+p,m=A<m?A:m,y=E<y?E:y,_=A>_?A:_,S=E>S?E:S,A=o*r+h*s+d,E=a*r+c*s+p,m=A<m?A:m,y=E<y?E:y,_=A>_?A:_,S=E>S?E:S,A=o*i+h*s+d,E=a*i+c*s+p,m=A<m?A:m,y=E<y?E:y,_=A>_?A:_,S=E>S?E:S,this.minX=m,this.minY=y,this.maxX=_,this.maxY=S}addVertexData(e,r,n){let i=this.minX,s=this.minY,o=this.maxX,a=this.maxY;for(let h=r;h<n;h+=2){const c=e[h],d=e[h+1];i=c<i?c:i,s=d<s?d:s,o=c>o?c:o,a=d>a?d:a}this.minX=i,this.minY=s,this.maxX=o,this.maxY=a}addVertices(e,r,n,i){this.addVerticesMatrix(e.worldTransform,r,n,i)}addVerticesMatrix(e,r,n,i,s=0,o=s){const a=e.a,h=e.b,c=e.c,d=e.d,p=e.tx,m=e.ty;let y=this.minX,_=this.minY,S=this.maxX,A=this.maxY;for(let E=n;E<i;E+=2){const b=r[E],x=r[E+1],T=a*b+c*x+p,P=d*x+h*b+m;y=Math.min(y,T-s),S=Math.max(S,T+s),_=Math.min(_,P-o),A=Math.max(A,P+o)}this.minX=y,this.minY=_,this.maxX=S,this.maxY=A}addBounds(e){const r=this.minX,n=this.minY,i=this.maxX,s=this.maxY;this.minX=e.minX<r?e.minX:r,this.minY=e.minY<n?e.minY:n,this.maxX=e.maxX>i?e.maxX:i,this.maxY=e.maxY>s?e.maxY:s}addBoundsMask(e,r){const n=e.minX>r.minX?e.minX:r.minX,i=e.minY>r.minY?e.minY:r.minY,s=e.maxX<r.maxX?e.maxX:r.maxX,o=e.maxY<r.maxY?e.maxY:r.maxY;if(n<=s&&i<=o){const a=this.minX,h=this.minY,c=this.maxX,d=this.maxY;this.minX=n<a?n:a,this.minY=i<h?i:h,this.maxX=s>c?s:c,this.maxY=o>d?o:d}}addBoundsMatrix(e,r){this.addFrameMatrix(r,e.minX,e.minY,e.maxX,e.maxY)}addBoundsArea(e,r){const n=e.minX>r.x?e.minX:r.x,i=e.minY>r.y?e.minY:r.y,s=e.maxX<r.x+r.width?e.maxX:r.x+r.width,o=e.maxY<r.y+r.height?e.maxY:r.y+r.height;if(n<=s&&i<=o){const a=this.minX,h=this.minY,c=this.maxX,d=this.maxY;this.minX=n<a?n:a,this.minY=i<h?i:h,this.maxX=s>c?s:c,this.maxY=o>d?o:d}}pad(e=0,r=e){this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=r,this.maxY+=r)}addFramePad(e,r,n,i,s,o){e-=s,r-=o,n+=s,i+=o,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>n?this.maxX:n,this.minY=this.minY<r?this.minY:r,this.maxY=this.maxY>i?this.maxY:i}}class ct extends lc{constructor(){super(),this.tempDisplayObjectParent=null,this.transform=new bm,this.alpha=1,this.visible=!0,this.renderable=!0,this.cullable=!1,this.cullArea=null,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new Ap,this._localBounds=null,this._boundsID=0,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._maskRefCount=0,this._destroyed=!1,this.isSprite=!1,this.isMask=!1}static mixin(e){const r=Object.keys(e);for(let n=0;n<r.length;++n){const i=r[n];Object.defineProperty(ct.prototype,i,Object.getOwnPropertyDescriptor(e,i))}}get destroyed(){return this._destroyed}_recursivePostUpdateTransform(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}updateTransform(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha}getBounds(e,r){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),r||(this._boundsRect||(this._boundsRect=new be),r=this._boundsRect),this._bounds.getRectangle(r)}getLocalBounds(e){e||(this._localBoundsRect||(this._localBoundsRect=new be),e=this._localBoundsRect),this._localBounds||(this._localBounds=new Ap);const r=this.transform,n=this.parent;this.parent=null,this._tempDisplayObjectParent.worldAlpha=(n==null?void 0:n.worldAlpha)??1,this.transform=this._tempDisplayObjectParent.transform;const i=this._bounds,s=this._boundsID;this._bounds=this._localBounds;const o=this.getBounds(!1,e);return this.parent=n,this.transform=r,this._bounds=i,this._bounds.updateID+=this._boundsID-s,o}toGlobal(e,r,n=!1){return n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,r)}toLocal(e,r,n,i){return r&&(e=r.toGlobal(e,n,i)),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,n)}setParent(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e}removeFromParent(){var e;(e=this.parent)==null||e.removeChild(this)}setTransform(e=0,r=0,n=1,i=1,s=0,o=0,a=0,h=0,c=0){return this.position.x=e,this.position.y=r,this.scale.x=n||1,this.scale.y=i||1,this.rotation=s,this.skew.x=o,this.skew.y=a,this.pivot.x=h,this.pivot.y=c,this}destroy(e){this.removeFromParent(),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.eventMode="auto",this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()}get _tempDisplayObjectParent(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new M5),this.tempDisplayObjectParent}enableTempParent(){const e=this.parent;return this.parent=this._tempDisplayObjectParent,e}disableTempParent(e){this.parent=e}get x(){return this.position.x}set x(e){this.transform.position.x=e}get y(){return this.position.y}set y(e){this.transform.position.y=e}get worldTransform(){return this.transform.worldTransform}get localTransform(){return this.transform.localTransform}get position(){return this.transform.position}set position(e){this.transform.position.copyFrom(e)}get scale(){return this.transform.scale}set scale(e){this.transform.scale.copyFrom(e)}get pivot(){return this.transform.pivot}set pivot(e){this.transform.pivot.copyFrom(e)}get skew(){return this.transform.skew}set skew(e){this.transform.skew.copyFrom(e)}get rotation(){return this.transform.rotation}set rotation(e){this.transform.rotation=e}get angle(){return this.transform.rotation*EU}set angle(e){this.transform.rotation=e*TU}get zIndex(){return this._zIndex}set zIndex(e){this._zIndex!==e&&(this._zIndex=e,this.parent&&(this.parent.sortDirty=!0))}get worldVisible(){let e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0}get mask(){return this._mask}set mask(e){if(this._mask!==e){if(this._mask){const r=this._mask.isMaskData?this._mask.maskObject:this._mask;r&&(r._maskRefCount--,r._maskRefCount===0&&(r.renderable=!0,r.isMask=!1))}if(this._mask=e,this._mask){const r=this._mask.isMaskData?this._mask.maskObject:this._mask;r&&(r._maskRefCount===0&&(r.renderable=!1,r.isMask=!0),r._maskRefCount++)}}}}class M5 extends ct{constructor(){super(...arguments),this.sortDirty=null}}ct.prototype.displayObjectUpdateTransform=ct.prototype.updateTransform;const k5=new it;function D5(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}const ZR=class v_ extends ct{constructor(){super(),this.children=[],this.sortableChildren=v_.defaultSortableChildren,this.sortDirty=!1}onChildrenChange(e){}addChild(...e){if(e.length>1)for(let r=0;r<e.length;r++)this.addChild(e[r]);else{const r=e[0];r.parent&&r.parent.removeChild(r),r.parent=this,this.sortDirty=!0,r.transform._parentID=-1,this.children.push(r),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",r,this,this.children.length-1),r.emit("added",this)}return e[0]}addChildAt(e,r){if(r<0||r>this.children.length)throw new Error(`${e}addChildAt: The index ${r} supplied is out of bounds ${this.children.length}`);return e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.splice(r,0,e),this._boundsID++,this.onChildrenChange(r),e.emit("added",this),this.emit("childAdded",e,this,r),e}swapChildren(e,r){if(e===r)return;const n=this.getChildIndex(e),i=this.getChildIndex(r);this.children[n]=r,this.children[i]=e,this.onChildrenChange(n<i?n:i)}getChildIndex(e){const r=this.children.indexOf(e);if(r===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return r}setChildIndex(e,r){if(r<0||r>=this.children.length)throw new Error(`The index ${r} supplied is out of bounds ${this.children.length}`);const n=this.getChildIndex(e);wl(this.children,n,1),this.children.splice(r,0,e),this.onChildrenChange(r)}getChildAt(e){if(e<0||e>=this.children.length)throw new Error(`getChildAt: Index (${e}) does not exist.`);return this.children[e]}removeChild(...e){if(e.length>1)for(let r=0;r<e.length;r++)this.removeChild(e[r]);else{const r=e[0],n=this.children.indexOf(r);if(n===-1)return null;r.parent=null,r.transform._parentID=-1,wl(this.children,n,1),this._boundsID++,this.onChildrenChange(n),r.emit("removed",this),this.emit("childRemoved",r,this,n)}return e[0]}removeChildAt(e){const r=this.getChildAt(e);return r.parent=null,r.transform._parentID=-1,wl(this.children,e,1),this._boundsID++,this.onChildrenChange(e),r.emit("removed",this),this.emit("childRemoved",r,this,e),r}removeChildren(e=0,r=this.children.length){const n=e,i=r,s=i-n;let o;if(s>0&&s<=i){o=this.children.splice(n,s);for(let a=0;a<o.length;++a)o[a].parent=null,o[a].transform&&(o[a].transform._parentID=-1);this._boundsID++,this.onChildrenChange(e);for(let a=0;a<o.length;++a)o[a].emit("removed",this),this.emit("childRemoved",o[a],this,a);return o}else if(s===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")}sortChildren(){let e=!1;for(let r=0,n=this.children.length;r<n;++r){const i=this.children[r];i._lastSortedIndex=r,!e&&i.zIndex!==0&&(e=!0)}e&&this.children.length>1&&this.children.sort(D5),this.sortDirty=!1}updateTransform(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(let e=0,r=this.children.length;e<r;++e){const n=this.children[e];n.visible&&n.updateTransform()}}calculateBounds(){this._bounds.clear(),this._calculateBounds();for(let e=0;e<this.children.length;e++){const r=this.children[e];if(!(!r.visible||!r.renderable))if(r.calculateBounds(),r._mask){const n=r._mask.isMaskData?r._mask.maskObject:r._mask;n?(n.calculateBounds(),this._bounds.addBoundsMask(r._bounds,n._bounds)):this._bounds.addBounds(r._bounds)}else r.filterArea?this._bounds.addBoundsArea(r._bounds,r.filterArea):this._bounds.addBounds(r._bounds)}this._bounds.updateID=this._boundsID}getLocalBounds(e,r=!1){const n=super.getLocalBounds(e);if(!r)for(let i=0,s=this.children.length;i<s;++i){const o=this.children[i];o.visible&&o.updateTransform()}return n}_calculateBounds(){}_renderWithCulling(e){const r=e.renderTexture.sourceFrame;if(!(r.width>0&&r.height>0))return;let n,i;this.cullArea?(n=this.cullArea,i=this.worldTransform):this._render!==v_.prototype._render&&(n=this.getBounds(!0));const s=e.projection.transform;if(s&&(i?(i=k5.copyFrom(i),i.prepend(s)):i=s),n&&r.intersects(n,i))this._render(e);else if(this.cullArea)return;for(let o=0,a=this.children.length;o<a;++o){const h=this.children[o],c=h.cullable;h.cullable=c||!this.cullArea,h.render(e),h.cullable=c}}render(e){var r;if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||(r=this.filters)!=null&&r.length)this.renderAdvanced(e);else if(this.cullable)this._renderWithCulling(e);else{this._render(e);for(let n=0,i=this.children.length;n<i;++n)this.children[n].render(e)}}renderAdvanced(e){var s,o,a;const r=this.filters,n=this._mask;if(r){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(let h=0;h<r.length;h++)r[h].enabled&&this._enabledFilters.push(r[h])}const i=r&&((s=this._enabledFilters)==null?void 0:s.length)||n&&(!n.isMaskData||n.enabled&&(n.autoDetect||n.type!==kt.NONE));if(i&&e.batch.flush(),r&&((o=this._enabledFilters)!=null&&o.length)&&e.filter.push(this,this._enabledFilters),n&&e.mask.push(this,this._mask),this.cullable)this._renderWithCulling(e);else{this._render(e);for(let h=0,c=this.children.length;h<c;++h)this.children[h].render(e)}i&&e.batch.flush(),n&&e.mask.pop(this),r&&((a=this._enabledFilters)!=null&&a.length)&&e.filter.pop()}_render(e){}destroy(e){super.destroy(),this.sortDirty=!1;const r=typeof e=="boolean"?e:e==null?void 0:e.children,n=this.removeChildren(0,this.children.length);if(r)for(let i=0;i<n.length;++i)n[i].destroy(e)}get width(){return this.scale.x*this.getLocalBounds().width}set width(e){const r=this.getLocalBounds().width;r!==0?this.scale.x=e/r:this.scale.x=1,this._width=e}get height(){return this.scale.y*this.getLocalBounds().height}set height(e){const r=this.getLocalBounds().height;r!==0?this.scale.y=e/r:this.scale.y=1,this._height=e}};ZR.defaultSortableChildren=!1;let cr=ZR;cr.prototype.containerUpdateTransform=cr.prototype.updateTransform;Object.defineProperties(oe,{SORTABLE_CHILDREN:{get(){return cr.defaultSortableChildren},set(t){Oe("7.1.0","settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren"),cr.defaultSortableChildren=t}}});var Em=(t=>(t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",t))(Em||{});const Uu=new _e,N5=new Uint16Array([0,1,2,0,2,3]);class Di extends cr{constructor(e){super(),this._anchor=new bi(this._onAnchorUpdate,this,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tintColor=new Ze(16777215),this._tintRGB=null,this.tint=16777215,this.blendMode=xe.NORMAL,this._cachedTint=16777215,this.uvs=null,this.texture=e||re.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=N5,this.pluginName="batch",this.isSprite=!0,this._roundPixels=oe.ROUND_PIXELS}_onTextureUpdate(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=Gs(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=Gs(this.scale.y)*this._height/this._texture.orig.height)}_onAnchorUpdate(){this._transformID=-1,this._transformTrimmedID=-1}calculateVertices(){const e=this._texture;if(this._transformID===this.transform._worldID&&this._textureID===e._updateID)return;this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;const r=this.transform.worldTransform,n=r.a,i=r.b,s=r.c,o=r.d,a=r.tx,h=r.ty,c=this.vertexData,d=e.trim,p=e.orig,m=this._anchor;let y=0,_=0,S=0,A=0;if(d?(_=d.x-m._x*p.width,y=_+d.width,A=d.y-m._y*p.height,S=A+d.height):(_=-m._x*p.width,y=_+p.width,A=-m._y*p.height,S=A+p.height),c[0]=n*_+s*A+a,c[1]=o*A+i*_+h,c[2]=n*y+s*A+a,c[3]=o*A+i*y+h,c[4]=n*y+s*S+a,c[5]=o*S+i*y+h,c[6]=n*_+s*S+a,c[7]=o*S+i*_+h,this._roundPixels){const E=oe.RESOLUTION;for(let b=0;b<c.length;++b)c[b]=Math.round(c[b]*E)/E}}calculateTrimmedVertices(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;const e=this._texture,r=this.vertexTrimmedData,n=e.orig,i=this._anchor,s=this.transform.worldTransform,o=s.a,a=s.b,h=s.c,c=s.d,d=s.tx,p=s.ty,m=-i._x*n.width,y=m+n.width,_=-i._y*n.height,S=_+n.height;if(r[0]=o*m+h*_+d,r[1]=c*_+a*m+p,r[2]=o*y+h*_+d,r[3]=c*_+a*y+p,r[4]=o*y+h*S+d,r[5]=c*S+a*y+p,r[6]=o*m+h*S+d,r[7]=c*S+a*m+p,this._roundPixels){const A=oe.RESOLUTION;for(let E=0;E<r.length;++E)r[E]=Math.round(r[E]*A)/A}}_render(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)}_calculateBounds(){const e=this._texture.trim,r=this._texture.orig;!e||e.width===r.width&&e.height===r.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))}getLocalBounds(e){return this.children.length===0?(this._localBounds||(this._localBounds=new Ap),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new be),e=this._localBoundsRect),this._localBounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,Uu);const r=this._texture.orig.width,n=this._texture.orig.height,i=-r*this.anchor.x;let s=0;return Uu.x>=i&&Uu.x<i+r&&(s=-n*this.anchor.y,Uu.y>=s&&Uu.y<s+n)}destroy(e){if(super.destroy(e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,typeof e=="boolean"?e:e==null?void 0:e.texture){const r=typeof e=="boolean"?e:e==null?void 0:e.baseTexture;this._texture.destroy(!!r)}this._texture=null}static from(e,r){const n=e instanceof re?e:re.from(e,r);return new Di(n)}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1,this._transformTrimmedID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(e){const r=Gs(this.scale.x)||1;this.scale.x=r*e/this._texture.orig.width,this._width=e}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(e){const r=Gs(this.scale.y)||1;this.scale.y=r*e/this._texture.orig.height,this._height=e}get anchor(){return this._anchor}set anchor(e){this._anchor.copyFrom(e)}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber()}get tintValue(){return this._tintColor.toNumber()}get texture(){return this._texture}set texture(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||re.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))}}const zd={willReadFrequently:!0},di=class fe{static get experimentalLetterSpacingSupported(){let e=fe._experimentalLetterSpacingSupported;if(e!==void 0){const r=oe.ADAPTER.getCanvasRenderingContext2D().prototype;e=fe._experimentalLetterSpacingSupported="letterSpacing"in r||"textLetterSpacing"in r}return e}constructor(e,r,n,i,s,o,a,h,c){this.text=e,this.style=r,this.width=n,this.height=i,this.lines=s,this.lineWidths=o,this.lineHeight=a,this.maxLineWidth=h,this.fontProperties=c}static measureText(e,r,n,i=fe._canvas){n=n??r.wordWrap;const s=r.toFontString(),o=fe.measureFont(s);o.fontSize===0&&(o.fontSize=r.fontSize,o.ascent=r.fontSize);const a=i.getContext("2d",zd);a.font=s;const h=(n?fe.wordWrap(e,r,i):e).split(/(?:\r\n|\r|\n)/),c=new Array(h.length);let d=0;for(let _=0;_<h.length;_++){const S=fe._measureText(h[_],r.letterSpacing,a);c[_]=S,d=Math.max(d,S)}let p=d+r.strokeThickness;r.dropShadow&&(p+=r.dropShadowDistance);const m=r.lineHeight||o.fontSize+r.strokeThickness;let y=Math.max(m,o.fontSize+r.strokeThickness*2)+r.leading+(h.length-1)*(m+r.leading);return r.dropShadow&&(y+=r.dropShadowDistance),new fe(e,r,p,y,h,c,m+r.leading,d,o)}static _measureText(e,r,n){let i=!1;fe.experimentalLetterSpacingSupported&&(fe.experimentalLetterSpacing?(n.letterSpacing=`${r}px`,n.textLetterSpacing=`${r}px`,i=!0):(n.letterSpacing="0px",n.textLetterSpacing="0px"));let s=n.measureText(e).width;return s>0&&(i?s-=r:s+=(fe.graphemeSegmenter(e).length-1)*r),s}static wordWrap(e,r,n=fe._canvas){const i=n.getContext("2d",zd);let s=0,o="",a="";const h=Object.create(null),{letterSpacing:c,whiteSpace:d}=r,p=fe.collapseSpaces(d),m=fe.collapseNewlines(d);let y=!p;const _=r.wordWrapWidth+c,S=fe.tokenize(e);for(let A=0;A<S.length;A++){let E=S[A];if(fe.isNewline(E)){if(!m){a+=fe.addLine(o),y=!p,o="",s=0;continue}E=" "}if(p){const x=fe.isBreakingSpace(E),T=fe.isBreakingSpace(o[o.length-1]);if(x&&T)continue}const b=fe.getFromCache(E,c,h,i);if(b>_)if(o!==""&&(a+=fe.addLine(o),o="",s=0),fe.canBreakWords(E,r.breakWords)){const x=fe.wordWrapSplit(E);for(let T=0;T<x.length;T++){let P=x[T],M=P,R=1;for(;x[T+R];){const W=x[T+R];if(!fe.canBreakChars(M,W,E,T,r.breakWords))P+=W;else break;M=W,R++}T+=R-1;const D=fe.getFromCache(P,c,h,i);D+s>_&&(a+=fe.addLine(o),y=!1,o="",s=0),o+=P,s+=D}}else{o.length>0&&(a+=fe.addLine(o),o="",s=0);const x=A===S.length-1;a+=fe.addLine(E,!x),y=!1,o="",s=0}else b+s>_&&(y=!1,a+=fe.addLine(o),o="",s=0),(o.length>0||!fe.isBreakingSpace(E)||y)&&(o+=E,s+=b)}return a+=fe.addLine(o,!1),a}static addLine(e,r=!0){return e=fe.trimRight(e),e=r?`${e}
`:e,e}static getFromCache(e,r,n,i){let s=n[e];return typeof s!="number"&&(s=fe._measureText(e,r,i)+r,n[e]=s),s}static collapseSpaces(e){return e==="normal"||e==="pre-line"}static collapseNewlines(e){return e==="normal"}static trimRight(e){if(typeof e!="string")return"";for(let r=e.length-1;r>=0;r--){const n=e[r];if(!fe.isBreakingSpace(n))break;e=e.slice(0,-1)}return e}static isNewline(e){return typeof e!="string"?!1:fe._newlines.includes(e.charCodeAt(0))}static isBreakingSpace(e,r){return typeof e!="string"?!1:fe._breakingSpaces.includes(e.charCodeAt(0))}static tokenize(e){const r=[];let n="";if(typeof e!="string")return r;for(let i=0;i<e.length;i++){const s=e[i],o=e[i+1];if(fe.isBreakingSpace(s,o)||fe.isNewline(s)){n!==""&&(r.push(n),n=""),r.push(s);continue}n+=s}return n!==""&&r.push(n),r}static canBreakWords(e,r){return r}static canBreakChars(e,r,n,i,s){return!0}static wordWrapSplit(e){return fe.graphemeSegmenter(e)}static measureFont(e){if(fe._fonts[e])return fe._fonts[e];const r={ascent:0,descent:0,fontSize:0},n=fe._canvas,i=fe._context;i.font=e;const s=fe.METRICS_STRING+fe.BASELINE_SYMBOL,o=Math.ceil(i.measureText(s).width);let a=Math.ceil(i.measureText(fe.BASELINE_SYMBOL).width);const h=Math.ceil(fe.HEIGHT_MULTIPLIER*a);if(a=a*fe.BASELINE_MULTIPLIER|0,o===0||h===0)return fe._fonts[e]=r,r;n.width=o,n.height=h,i.fillStyle="#f00",i.fillRect(0,0,o,h),i.font=e,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(s,0,a);const c=i.getImageData(0,0,o,h).data,d=c.length,p=o*4;let m=0,y=0,_=!1;for(m=0;m<a;++m){for(let S=0;S<p;S+=4)if(c[y+S]!==255){_=!0;break}if(!_)y+=p;else break}for(r.ascent=a-m,y=d-p,_=!1,m=h;m>a;--m){for(let S=0;S<p;S+=4)if(c[y+S]!==255){_=!0;break}if(!_)y-=p;else break}return r.descent=m-a,r.fontSize=r.ascent+r.descent,fe._fonts[e]=r,r}static clearMetrics(e=""){e?delete fe._fonts[e]:fe._fonts={}}static get _canvas(){var e;if(!fe.__canvas){let r;try{const n=new OffscreenCanvas(0,0);if((e=n.getContext("2d",zd))!=null&&e.measureText)return fe.__canvas=n,n;r=oe.ADAPTER.createCanvas()}catch{r=oe.ADAPTER.createCanvas()}r.width=r.height=10,fe.__canvas=r}return fe.__canvas}static get _context(){return fe.__context||(fe.__context=fe._canvas.getContext("2d",zd)),fe.__context}};di.METRICS_STRING="|q",di.BASELINE_SYMBOL="M",di.BASELINE_MULTIPLIER=1.4,di.HEIGHT_MULTIPLIER=2,di.graphemeSegmenter=(()=>{if(typeof(Intl==null?void 0:Intl.Segmenter)=="function"){const t=new Intl.Segmenter;return e=>[...t.segment(e)].map(r=>r.segment)}return t=>[...t]})(),di.experimentalLetterSpacing=!1,di._fonts={},di._newlines=[10,13],di._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];let Ds=di;const F5=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],JR=class qu{constructor(e){this.styleID=0,this.reset(),iy(this,e,e)}clone(){const e={};return iy(e,this,qu.defaultStyle),new qu(e)}reset(){iy(this,qu.defaultStyle,qu.defaultStyle)}get align(){return this._align}set align(e){this._align!==e&&(this._align=e,this.styleID++)}get breakWords(){return this._breakWords}set breakWords(e){this._breakWords!==e&&(this._breakWords=e,this.styleID++)}get dropShadow(){return this._dropShadow}set dropShadow(e){this._dropShadow!==e&&(this._dropShadow=e,this.styleID++)}get dropShadowAlpha(){return this._dropShadowAlpha}set dropShadowAlpha(e){this._dropShadowAlpha!==e&&(this._dropShadowAlpha=e,this.styleID++)}get dropShadowAngle(){return this._dropShadowAngle}set dropShadowAngle(e){this._dropShadowAngle!==e&&(this._dropShadowAngle=e,this.styleID++)}get dropShadowBlur(){return this._dropShadowBlur}set dropShadowBlur(e){this._dropShadowBlur!==e&&(this._dropShadowBlur=e,this.styleID++)}get dropShadowColor(){return this._dropShadowColor}set dropShadowColor(e){const r=ny(e);this._dropShadowColor!==r&&(this._dropShadowColor=r,this.styleID++)}get dropShadowDistance(){return this._dropShadowDistance}set dropShadowDistance(e){this._dropShadowDistance!==e&&(this._dropShadowDistance=e,this.styleID++)}get fill(){return this._fill}set fill(e){const r=ny(e);this._fill!==r&&(this._fill=r,this.styleID++)}get fillGradientType(){return this._fillGradientType}set fillGradientType(e){this._fillGradientType!==e&&(this._fillGradientType=e,this.styleID++)}get fillGradientStops(){return this._fillGradientStops}set fillGradientStops(e){B5(this._fillGradientStops,e)||(this._fillGradientStops=e,this.styleID++)}get fontFamily(){return this._fontFamily}set fontFamily(e){this.fontFamily!==e&&(this._fontFamily=e,this.styleID++)}get fontSize(){return this._fontSize}set fontSize(e){this._fontSize!==e&&(this._fontSize=e,this.styleID++)}get fontStyle(){return this._fontStyle}set fontStyle(e){this._fontStyle!==e&&(this._fontStyle=e,this.styleID++)}get fontVariant(){return this._fontVariant}set fontVariant(e){this._fontVariant!==e&&(this._fontVariant=e,this.styleID++)}get fontWeight(){return this._fontWeight}set fontWeight(e){this._fontWeight!==e&&(this._fontWeight=e,this.styleID++)}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.styleID++)}get lineHeight(){return this._lineHeight}set lineHeight(e){this._lineHeight!==e&&(this._lineHeight=e,this.styleID++)}get leading(){return this._leading}set leading(e){this._leading!==e&&(this._leading=e,this.styleID++)}get lineJoin(){return this._lineJoin}set lineJoin(e){this._lineJoin!==e&&(this._lineJoin=e,this.styleID++)}get miterLimit(){return this._miterLimit}set miterLimit(e){this._miterLimit!==e&&(this._miterLimit=e,this.styleID++)}get padding(){return this._padding}set padding(e){this._padding!==e&&(this._padding=e,this.styleID++)}get stroke(){return this._stroke}set stroke(e){const r=ny(e);this._stroke!==r&&(this._stroke=r,this.styleID++)}get strokeThickness(){return this._strokeThickness}set strokeThickness(e){this._strokeThickness!==e&&(this._strokeThickness=e,this.styleID++)}get textBaseline(){return this._textBaseline}set textBaseline(e){this._textBaseline!==e&&(this._textBaseline=e,this.styleID++)}get trim(){return this._trim}set trim(e){this._trim!==e&&(this._trim=e,this.styleID++)}get whiteSpace(){return this._whiteSpace}set whiteSpace(e){this._whiteSpace!==e&&(this._whiteSpace=e,this.styleID++)}get wordWrap(){return this._wordWrap}set wordWrap(e){this._wordWrap!==e&&(this._wordWrap=e,this.styleID++)}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(e){this._wordWrapWidth!==e&&(this._wordWrapWidth=e,this.styleID++)}toFontString(){const e=typeof this.fontSize=="number"?`${this.fontSize}px`:this.fontSize;let r=this.fontFamily;Array.isArray(this.fontFamily)||(r=this.fontFamily.split(","));for(let n=r.length-1;n>=0;n--){let i=r[n].trim();!/([\"\'])[^\'\"]+\1/.test(i)&&!F5.includes(i)&&(i=`"${i}"`),r[n]=i}return`${this.fontStyle} ${this.fontVariant} ${this.fontWeight} ${e} ${r.join(",")}`}};JR.defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:Em.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};let cs=JR;function ny(t){const e=Ze.shared,r=n=>{const i=e.setValue(n);return i.alpha===1?i.toHex():i.toRgbaString()};return Array.isArray(t)?t.map(r):r(t)}function B5(t,e){if(!Array.isArray(t)||!Array.isArray(e)||t.length!==e.length)return!1;for(let r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0}function iy(t,e,r){for(const n in r)Array.isArray(e[n])?t[n]=e[n].slice():t[n]=e[n]}const L5={texture:!0,children:!1,baseTexture:!0},e2=class y_ extends Di{constructor(e,r,n){let i=!1;n||(n=oe.ADAPTER.createCanvas(),i=!0),n.width=3,n.height=3;const s=re.from(n);s.orig=new be,s.trim=new be,super(s),this._ownCanvas=i,this.canvas=n,this.context=n.getContext("2d",{willReadFrequently:!0}),this._resolution=y_.defaultResolution??oe.RESOLUTION,this._autoResolution=y_.defaultAutoResolution,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=e,this.style=r,this.localStyleID=-1}static get experimentalLetterSpacing(){return Ds.experimentalLetterSpacing}static set experimentalLetterSpacing(e){Oe("7.1.0","Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing"),Ds.experimentalLetterSpacing=e}updateText(e){const r=this._style;if(this.localStyleID!==r.styleID&&(this.dirty=!0,this.localStyleID=r.styleID),!this.dirty&&e)return;this._font=this._style.toFontString();const n=this.context,i=Ds.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),s=i.width,o=i.height,a=i.lines,h=i.lineHeight,c=i.lineWidths,d=i.maxLineWidth,p=i.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,s)+r.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,o)+r.padding*2)*this._resolution),n.scale(this._resolution,this._resolution),n.clearRect(0,0,this.canvas.width,this.canvas.height),n.font=this._font,n.lineWidth=r.strokeThickness,n.textBaseline=r.textBaseline,n.lineJoin=r.lineJoin,n.miterLimit=r.miterLimit;let m,y;const _=r.dropShadow?2:1;for(let S=0;S<_;++S){const A=r.dropShadow&&S===0,E=A?Math.ceil(Math.max(1,o)+r.padding*2):0,b=E*this._resolution;if(A){n.fillStyle="black",n.strokeStyle="black";const T=r.dropShadowColor,P=r.dropShadowBlur*this._resolution,M=r.dropShadowDistance*this._resolution;n.shadowColor=Ze.shared.setValue(T).setAlpha(r.dropShadowAlpha).toRgbaString(),n.shadowBlur=P,n.shadowOffsetX=Math.cos(r.dropShadowAngle)*M,n.shadowOffsetY=Math.sin(r.dropShadowAngle)*M+b}else n.fillStyle=this._generateFillStyle(r,a,i),n.strokeStyle=r.stroke,n.shadowColor="black",n.shadowBlur=0,n.shadowOffsetX=0,n.shadowOffsetY=0;let x=(h-p.fontSize)/2;h-p.fontSize<0&&(x=0);for(let T=0;T<a.length;T++)m=r.strokeThickness/2,y=r.strokeThickness/2+T*h+p.ascent+x,r.align==="right"?m+=d-c[T]:r.align==="center"&&(m+=(d-c[T])/2),r.stroke&&r.strokeThickness&&this.drawLetterSpacing(a[T],m+r.padding,y+r.padding-E,!0),r.fill&&this.drawLetterSpacing(a[T],m+r.padding,y+r.padding-E)}this.updateTexture()}drawLetterSpacing(e,r,n,i=!1){const s=this._style.letterSpacing;let o=!1;if(Ds.experimentalLetterSpacingSupported&&(Ds.experimentalLetterSpacing?(this.context.letterSpacing=`${s}px`,this.context.textLetterSpacing=`${s}px`,o=!0):(this.context.letterSpacing="0px",this.context.textLetterSpacing="0px")),s===0||o){i?this.context.strokeText(e,r,n):this.context.fillText(e,r,n);return}let a=r;const h=Ds.graphemeSegmenter(e);let c=this.context.measureText(e).width,d=0;for(let p=0;p<h.length;++p){const m=h[p];i?this.context.strokeText(m,a,n):this.context.fillText(m,a,n);let y="";for(let _=p+1;_<h.length;++_)y+=h[_];d=this.context.measureText(y).width,a+=c-d+s,c=d}}updateTexture(){const e=this.canvas;if(this._style.trim){const o=fU(e);o.data&&(e.width=o.width,e.height=o.height,this.context.putImageData(o.data,0,0))}const r=this._texture,n=this._style,i=n.trim?0:n.padding,s=r.baseTexture;r.trim.width=r._frame.width=e.width/this._resolution,r.trim.height=r._frame.height=e.height/this._resolution,r.trim.x=-i,r.trim.y=-i,r.orig.width=r._frame.width-i*2,r.orig.height=r._frame.height-i*2,this._onTextureUpdate(),s.setRealSize(e.width,e.height,this._resolution),r.updateUvs(),this.dirty=!1}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._render(e)}updateTransform(){this.updateText(!0),super.updateTransform()}getBounds(e,r){return this.updateText(!0),this._textureID===-1&&(e=!1),super.getBounds(e,r)}getLocalBounds(e){return this.updateText(!0),super.getLocalBounds.call(this,e)}_calculateBounds(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_generateFillStyle(e,r,n){const i=e.fill;if(Array.isArray(i)){if(i.length===1)return i[0]}else return i;let s;const o=e.dropShadow?e.dropShadowDistance:0,a=e.padding||0,h=this.canvas.width/this._resolution-o-a*2,c=this.canvas.height/this._resolution-o-a*2,d=i.slice(),p=e.fillGradientStops.slice();if(!p.length){const m=d.length+1;for(let y=1;y<m;++y)p.push(y/m)}if(d.unshift(i[0]),p.unshift(0),d.push(i[i.length-1]),p.push(1),e.fillGradientType===Em.LINEAR_VERTICAL){s=this.context.createLinearGradient(h/2,a,h/2,c+a);const m=n.fontProperties.fontSize+e.strokeThickness;for(let y=0;y<r.length;y++){const _=n.lineHeight*(y-1)+m,S=n.lineHeight*y;let A=S;y>0&&_>S&&(A=(S+_)/2);const E=S+m,b=n.lineHeight*(y+1);let x=E;y+1<r.length&&b<E&&(x=(E+b)/2);const T=(x-A)/c;for(let P=0;P<d.length;P++){let M=0;typeof p[P]=="number"?M=p[P]:M=P/d.length;let R=Math.min(1,Math.max(0,A/c+M*T));R=Number(R.toFixed(5)),s.addColorStop(R,d[P])}}}else{s=this.context.createLinearGradient(a,c/2,h+a,c/2);const m=d.length+1;let y=1;for(let _=0;_<d.length;_++){let S;typeof p[_]=="number"?S=p[_]:S=y/m,s.addColorStop(S,d[_]),y++}}return s}destroy(e){typeof e=="boolean"&&(e={children:e}),e=Object.assign({},L5,e),super.destroy(e),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width}set width(e){this.updateText(!0);const r=Gs(this.scale.x)||1;this.scale.x=r*e/this._texture.orig.width,this._width=e}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height}set height(e){this.updateText(!0);const r=Gs(this.scale.y)||1;this.scale.y=r*e/this._texture.orig.height,this._height=e}get style(){return this._style}set style(e){e=e||{},e instanceof cs?this._style=e:this._style=new cs(e),this.localStyleID=-1,this.dirty=!0}get text(){return this._text}set text(e){e=String(e??""),this._text!==e&&(this._text=e,this.dirty=!0)}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}};e2.defaultAutoResolution=!0;let lx=e2;class Cp{constructor(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}}class If{static test(e){return typeof e=="string"&&e.startsWith("info face=")}static parse(e){const r=e.match(/^[a-z]+\s+.+$/gm),n={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const s in r){const o=r[s].match(/^[a-z]+/gm)[0],a=r[s].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),h={};for(const c in a){const d=a[c].split("="),p=d[0],m=d[1].replace(/"/gm,""),y=parseFloat(m),_=isNaN(y)?m:y;h[p]=_}n[o].push(h)}const i=new Cp;return n.info.forEach(s=>i.info.push({face:s.face,size:parseInt(s.size,10)})),n.common.forEach(s=>i.common.push({lineHeight:parseInt(s.lineHeight,10)})),n.page.forEach(s=>i.page.push({id:parseInt(s.id,10),file:s.file})),n.char.forEach(s=>i.char.push({id:parseInt(s.id,10),page:parseInt(s.page,10),x:parseInt(s.x,10),y:parseInt(s.y,10),width:parseInt(s.width,10),height:parseInt(s.height,10),xoffset:parseInt(s.xoffset,10),yoffset:parseInt(s.yoffset,10),xadvance:parseInt(s.xadvance,10)})),n.kerning.forEach(s=>i.kerning.push({first:parseInt(s.first,10),second:parseInt(s.second,10),amount:parseInt(s.amount,10)})),n.distanceField.forEach(s=>i.distanceField.push({distanceRange:parseInt(s.distanceRange,10),fieldType:s.fieldType})),i}}class __{static test(e){const r=e;return typeof e!="string"&&"getElementsByTagName"in e&&r.getElementsByTagName("page").length&&r.getElementsByTagName("info")[0].getAttribute("face")!==null}static parse(e){const r=new Cp,n=e.getElementsByTagName("info"),i=e.getElementsByTagName("common"),s=e.getElementsByTagName("page"),o=e.getElementsByTagName("char"),a=e.getElementsByTagName("kerning"),h=e.getElementsByTagName("distanceField");for(let c=0;c<n.length;c++)r.info.push({face:n[c].getAttribute("face"),size:parseInt(n[c].getAttribute("size"),10)});for(let c=0;c<i.length;c++)r.common.push({lineHeight:parseInt(i[c].getAttribute("lineHeight"),10)});for(let c=0;c<s.length;c++)r.page.push({id:parseInt(s[c].getAttribute("id"),10)||0,file:s[c].getAttribute("file")});for(let c=0;c<o.length;c++){const d=o[c];r.char.push({id:parseInt(d.getAttribute("id"),10),page:parseInt(d.getAttribute("page"),10)||0,x:parseInt(d.getAttribute("x"),10),y:parseInt(d.getAttribute("y"),10),width:parseInt(d.getAttribute("width"),10),height:parseInt(d.getAttribute("height"),10),xoffset:parseInt(d.getAttribute("xoffset"),10),yoffset:parseInt(d.getAttribute("yoffset"),10),xadvance:parseInt(d.getAttribute("xadvance"),10)})}for(let c=0;c<a.length;c++)r.kerning.push({first:parseInt(a[c].getAttribute("first"),10),second:parseInt(a[c].getAttribute("second"),10),amount:parseInt(a[c].getAttribute("amount"),10)});for(let c=0;c<h.length;c++)r.distanceField.push({fieldType:h[c].getAttribute("fieldType"),distanceRange:parseInt(h[c].getAttribute("distanceRange"),10)});return r}}class x_{static test(e){return typeof e=="string"&&e.includes("<font>")?__.test(oe.ADAPTER.parseXML(e)):!1}static parse(e){return __.parse(oe.ADAPTER.parseXML(e))}}const sy=[If,__,x_];function U5(t){for(let e=0;e<sy.length;e++)if(sy[e].test(t))return sy[e];return null}function z5(t,e,r,n,i,s){const o=r.fill;if(Array.isArray(o)){if(o.length===1)return o[0]}else return o;let a;const h=r.dropShadow?r.dropShadowDistance:0,c=r.padding||0,d=t.width/n-h-c*2,p=t.height/n-h-c*2,m=o.slice(),y=r.fillGradientStops.slice();if(!y.length){const _=m.length+1;for(let S=1;S<_;++S)y.push(S/_)}if(m.unshift(o[0]),y.unshift(0),m.push(o[o.length-1]),y.push(1),r.fillGradientType===Em.LINEAR_VERTICAL){a=e.createLinearGradient(d/2,c,d/2,p+c);let _=0;const S=(s.fontProperties.fontSize+r.strokeThickness)/p;for(let A=0;A<i.length;A++){const E=s.lineHeight*A;for(let b=0;b<m.length;b++){let x=0;typeof y[b]=="number"?x=y[b]:x=b/m.length;const T=E/p+x*S;let P=Math.max(_,T);P=Math.min(P,1),a.addColorStop(P,m[b]),_=P}}}else{a=e.createLinearGradient(c,p/2,d+c,p/2);const _=m.length+1;let S=1;for(let A=0;A<m.length;A++){let E;typeof y[A]=="number"?E=y[A]:E=S/_,a.addColorStop(E,m[A]),S++}}return a}function $5(t,e,r,n,i,s,o){const a=r.text,h=r.fontProperties;e.translate(n,i),e.scale(s,s);const c=o.strokeThickness/2,d=-(o.strokeThickness/2);if(e.font=o.toFontString(),e.lineWidth=o.strokeThickness,e.textBaseline=o.textBaseline,e.lineJoin=o.lineJoin,e.miterLimit=o.miterLimit,e.fillStyle=z5(t,e,o,s,[a],r),e.strokeStyle=o.stroke,o.dropShadow){const p=o.dropShadowColor,m=o.dropShadowBlur*s,y=o.dropShadowDistance*s;e.shadowColor=Ze.shared.setValue(p).setAlpha(o.dropShadowAlpha).toRgbaString(),e.shadowBlur=m,e.shadowOffsetX=Math.cos(o.dropShadowAngle)*y,e.shadowOffsetY=Math.sin(o.dropShadowAngle)*y}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0;o.stroke&&o.strokeThickness&&e.strokeText(a,c,d+r.lineHeight-h.descent),o.fill&&e.fillText(a,c,d+r.lineHeight-h.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}function Rf(t){return t.codePointAt?t.codePointAt(0):t.charCodeAt(0)}function t2(t){return Array.from?Array.from(t):t.split("")}function G5(t){typeof t=="string"&&(t=[t]);const e=[];for(let r=0,n=t.length;r<n;r++){const i=t[r];if(Array.isArray(i)){if(i.length!==2)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${i.length}.`);const s=i[0].charCodeAt(0),o=i[1].charCodeAt(0);if(o<s)throw new Error("[BitmapFont]: Invalid character range.");for(let a=s,h=o;a<=h;a++)e.push(String.fromCharCode(a))}else e.push(...t2(i))}if(e.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}const Is=class fi{constructor(e,r,n){var d;const[i]=e.info,[s]=e.common,[o]=e.page,[a]=e.distanceField,h=us(o.file),c={};this._ownsTextures=n,this.font=i.face,this.size=i.size,this.lineHeight=s.lineHeight/h,this.chars={},this.pageTextures=c;for(let p=0;p<e.page.length;p++){const{id:m,file:y}=e.page[p];c[m]=r instanceof Array?r[p]:r[y],a!=null&&a.fieldType&&a.fieldType!=="none"&&(c[m].baseTexture.alphaMode=Cr.NO_PREMULTIPLIED_ALPHA,c[m].baseTexture.mipmap=Ri.OFF)}for(let p=0;p<e.char.length;p++){const{id:m,page:y}=e.char[p];let{x:_,y:S,width:A,height:E,xoffset:b,yoffset:x,xadvance:T}=e.char[p];_/=h,S/=h,A/=h,E/=h,b/=h,x/=h,T/=h;const P=new be(_+c[y].frame.x/h,S+c[y].frame.y/h,A,E);this.chars[m]={xOffset:b,yOffset:x,xAdvance:T,kerning:{},texture:new re(c[y].baseTexture,P),page:y}}for(let p=0;p<e.kerning.length;p++){let{first:m,second:y,amount:_}=e.kerning[p];m/=h,y/=h,_/=h,this.chars[y]&&(this.chars[y].kerning[m]=_)}this.distanceFieldRange=a==null?void 0:a.distanceRange,this.distanceFieldType=((d=a==null?void 0:a.fieldType)==null?void 0:d.toLowerCase())??"none"}destroy(){for(const e in this.chars)this.chars[e].texture.destroy(),this.chars[e].texture=null;for(const e in this.pageTextures)this._ownsTextures&&this.pageTextures[e].destroy(!0),this.pageTextures[e]=null;this.chars=null,this.pageTextures=null}static install(e,r,n){let i;if(e instanceof Cp)i=e;else{const o=U5(e);if(!o)throw new Error("Unrecognized data format for font.");i=o.parse(e)}r instanceof re&&(r=[r]);const s=new fi(i,r,n);return fi.available[s.font]=s,s}static uninstall(e){const r=fi.available[e];if(!r)throw new Error(`No font found named '${e}'`);r.destroy(),delete fi.available[e]}static from(e,r,n){if(!e)throw new Error("[BitmapFont] Property `name` is required.");const{chars:i,padding:s,resolution:o,textureWidth:a,textureHeight:h,...c}=Object.assign({},fi.defaultOptions,n),d=G5(i),p=r instanceof cs?r:new cs(r),m=a,y=new Cp;y.info[0]={face:p.fontFamily,size:p.fontSize},y.common[0]={lineHeight:p.fontSize};let _=0,S=0,A,E,b,x=0;const T=[];for(let M=0;M<d.length;M++){A||(A=oe.ADAPTER.createCanvas(),A.width=a,A.height=h,E=A.getContext("2d"),b=new Ce(A,{resolution:o,...c}),T.push(new re(b)),y.page.push({id:T.length-1,file:""}));const R=d[M],D=Ds.measureText(R,p,!1,A),W=D.width,V=Math.ceil(D.height),pe=Math.ceil((p.fontStyle==="italic"?2:1)*W);if(S>=h-V*o){if(S===0)throw new Error(`[BitmapFont] textureHeight ${h}px is too small (fontFamily: '${p.fontFamily}', fontSize: ${p.fontSize}px, char: '${R}')`);--M,A=null,E=null,b=null,S=0,_=0,x=0;continue}if(x=Math.max(V+D.fontProperties.descent,x),pe*o+_>=m){if(_===0)throw new Error(`[BitmapFont] textureWidth ${a}px is too small (fontFamily: '${p.fontFamily}', fontSize: ${p.fontSize}px, char: '${R}')`);--M,S+=x*o,S=Math.ceil(S),_=0,x=0;continue}$5(A,E,D,_,S,o,p);const J=Rf(D.text);y.char.push({id:J,page:T.length-1,x:_/o,y:S/o,width:pe,height:V,xoffset:0,yoffset:0,xadvance:W-(p.dropShadow?p.dropShadowDistance:0)-(p.stroke?p.strokeThickness:0)}),_+=(pe+2*s)*o,_=Math.ceil(_)}if(!(n!=null&&n.skipKerning))for(let M=0,R=d.length;M<R;M++){const D=d[M];for(let W=0;W<R;W++){const V=d[W],pe=E.measureText(D).width,J=E.measureText(V).width,B=E.measureText(D+V).width-(pe+J);B&&y.kerning.push({first:Rf(D),second:Rf(V),amount:B})}}const P=new fi(y,T,!0);return fi.available[e]!==void 0&&fi.uninstall(e),fi.available[e]=P,P}};Is.ALPHA=[["a","z"],["A","Z"]," "],Is.NUMERIC=[["0","9"]],Is.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],Is.ASCII=[[" ","~"]],Is.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:Is.ALPHANUMERIC},Is.available={};let Rs=Is;class H5{constructor(e,r){this.uvBuffer=e,this.uvMatrix=r,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}update(e){if(!e&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)return;this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;const r=this.uvBuffer.data;(!this.data||this.data.length!==r.length)&&(this.data=new Float32Array(r.length)),this.uvMatrix.multiplyUvs(r,this.data),this._updateID++}}const oy=new _e,sT=new Xo,r2=class n2 extends cr{constructor(e,r,n,i=Bn.TRIANGLES){super(),this.geometry=e,this.shader=r,this.state=n||ki.for2d(),this.drawMode=i,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=-1,this._transformID=-1,this._roundPixels=oe.ROUND_PIXELS,this.batchUvs=null}get geometry(){return this._geometry}set geometry(e){this._geometry!==e&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=e,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)}get uvBuffer(){return this.geometry.buffers[1]}get verticesBuffer(){return this.geometry.buffers[0]}set material(e){this.shader=e}get material(){return this.shader}set blendMode(e){this.state.blendMode=e}get blendMode(){return this.state.blendMode}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get tint(){return"tint"in this.shader?this.shader.tint:null}set tint(e){this.shader.tint=e}get tintValue(){return this.shader.tintValue}get texture(){return"texture"in this.shader?this.shader.texture:null}set texture(e){this.shader.texture=e}_render(e){const r=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===Bn.TRIANGLES&&r.length<n2.BATCHABLE_SIZE*2?this._renderToBatch(e):this._renderDefault(e)}_renderDefault(e){const r=this.shader;r.alpha=this.worldAlpha,r.update&&r.update(),e.batch.flush(),r.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),e.shader.bind(r),e.state.set(this.state),e.geometry.bind(this.geometry,r),e.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)}_renderToBatch(e){const r=this.geometry,n=this.shader;n.uvMatrix&&(n.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=r.indexBuffer.data,this._tintRGB=n._tintRGB,this._texture=n.texture;const i=this.material.pluginName;e.batch.setObjectRenderer(e.plugins[i]),e.plugins[i].render(this)}calculateVertices(){const e=this.geometry.buffers[0],r=e.data,n=e._updateID;if(n===this.vertexDirty&&this._transformID===this.transform._worldID)return;this._transformID=this.transform._worldID,this.vertexData.length!==r.length&&(this.vertexData=new Float32Array(r.length));const i=this.transform.worldTransform,s=i.a,o=i.b,a=i.c,h=i.d,c=i.tx,d=i.ty,p=this.vertexData;for(let m=0;m<p.length/2;m++){const y=r[m*2],_=r[m*2+1];p[m*2]=s*y+a*_+c,p[m*2+1]=o*y+h*_+d}if(this._roundPixels){const m=oe.RESOLUTION;for(let y=0;y<p.length;++y)p[y]=Math.round(p[y]*m)/m}this.vertexDirty=n}calculateUvs(){const e=this.geometry.buffers[1],r=this.shader;r.uvMatrix.isSimple?this.uvs=e.data:(this.batchUvs||(this.batchUvs=new H5(e,r.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)}_calculateBounds(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)}containsPoint(e){if(!this.getBounds().contains(e.x,e.y))return!1;this.worldTransform.applyInverse(e,oy);const r=this.geometry.getBuffer("aVertexPosition").data,n=sT.points,i=this.geometry.getIndex().data,s=i.length,o=this.drawMode===4?3:1;for(let a=0;a+2<s;a+=o){const h=i[a]*2,c=i[a+1]*2,d=i[a+2]*2;if(n[0]=r[h],n[1]=r[h+1],n[2]=r[c],n[3]=r[c+1],n[4]=r[d],n[5]=r[d+1],sT.contains(oy.x,oy.y))return!0}return!1}destroy(e){super.destroy(e),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null}};r2.BATCHABLE_SIZE=100;let Xh=r2;class Tm extends io{constructor(e,r,n){super();const i=new Et(e),s=new Et(r,!0),o=new Et(n,!0,!0);this.addAttribute("aVertexPosition",i,2,!1,ge.FLOAT).addAttribute("aTextureCoord",s,2,!1,ge.FLOAT).addIndex(o),this._updateId=-1}get vertexDirtyId(){return this.buffers[0]._updateID}}var j5=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,W5=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`;class Yh extends Ii{constructor(e,r){const n={uSampler:e,alpha:1,uTextureMatrix:it.IDENTITY,uColor:new Float32Array([1,1,1,1])};r=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},r),r.uniforms&&Object.assign(n,r.uniforms),super(r.program||Ji.from(W5,j5),n),this._colorDirty=!1,this.uvMatrix=new ox(e),this.batchable=r.program===void 0,this.pluginName=r.pluginName,this._tintColor=new Ze(r.tint),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0,this.alpha=r.alpha}get texture(){return this.uniforms.uSampler}set texture(e){this.uniforms.uSampler!==e&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!e.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=e,this.uvMatrix.texture=e)}set alpha(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)}get alpha(){return this._alpha}set tint(e){e!==this.tint&&(this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0)}get tint(){return this._tintColor.value}get tintValue(){return this._tintColor.toNumber()}update(){if(this._colorDirty){this._colorDirty=!1;const e=this.texture.baseTexture.alphaMode;Ze.shared.setValue(this._tintColor).premultiply(this._alpha,e).toArray(this.uniforms.uColor)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)}}var V5=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
  if (median < 0.01) {\r
    alpha = 0.0;\r
  } else if (median > 0.99) {\r
    alpha = 1.0;\r
  }\r
\r
  // Gamma correction for coverage-like alpha\r
  float luma = dot(uColor.rgb, vec3(0.299, 0.587, 0.114));\r
  float gamma = mix(1.0, 1.0 / 2.2, luma);\r
  float coverage = pow(uColor.a * alpha, gamma);  \r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, coverage);\r
}\r
`,X5=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`;const oT=[],aT=[],lT=[],i2=class s2 extends cr{constructor(e,r={}){super();const{align:n,tint:i,maxWidth:s,letterSpacing:o,fontName:a,fontSize:h}=Object.assign({},s2.styleDefaults,r);if(!Rs.available[a])throw new Error(`Missing BitmapFont "${a}"`);this._activePagesMeshData=[],this._textWidth=0,this._textHeight=0,this._align=n,this._tintColor=new Ze(i),this._font=void 0,this._fontName=a,this._fontSize=h,this.text=e,this._maxWidth=s,this._maxLineHeight=0,this._letterSpacing=o,this._anchor=new bi(()=>{this.dirty=!0},this,0,0),this._roundPixels=oe.ROUND_PIXELS,this.dirty=!0,this._resolution=oe.RESOLUTION,this._autoResolution=!0,this._textureCache={}}updateText(){var pe;const e=Rs.available[this._fontName],r=this.fontSize,n=r/e.size,i=new _e,s=[],o=[],a=[],h=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",c=t2(h),d=this._maxWidth*e.size/r,p=e.distanceFieldType==="none"?oT:aT;let m=null,y=0,_=0,S=0,A=-1,E=0,b=0,x=0,T=0;for(let J=0;J<c.length;J++){const B=c[J],X=Rf(B);if(/(?:\s)/.test(B)&&(A=J,E=y,T++),B==="\r"||B===`
`){o.push(y),a.push(-1),_=Math.max(_,y),++S,++b,i.x=0,i.y+=e.lineHeight,m=null,T=0;continue}const ie=e.chars[X];if(!ie)continue;m&&ie.kerning[m]&&(i.x+=ie.kerning[m]);const me=lT.pop()||{texture:re.EMPTY,line:0,charCode:0,prevSpaces:0,position:new _e};me.texture=ie.texture,me.line=S,me.charCode=X,me.position.x=Math.round(i.x+ie.xOffset+this._letterSpacing/2),me.position.y=Math.round(i.y+ie.yOffset),me.prevSpaces=T,s.push(me),y=me.position.x+Math.max(ie.xAdvance-ie.xOffset,ie.texture.orig.width),i.x+=ie.xAdvance+this._letterSpacing,x=Math.max(x,ie.yOffset+ie.texture.height),m=X,A!==-1&&d>0&&i.x>d&&(++b,wl(s,1+A-b,1+J-A),J=A,A=-1,o.push(E),a.push(s.length>0?s[s.length-1].prevSpaces:0),_=Math.max(_,E),S++,i.x=0,i.y+=e.lineHeight,m=null,T=0)}const P=c[c.length-1];P!=="\r"&&P!==`
`&&(/(?:\s)/.test(P)&&(y=E),o.push(y),_=Math.max(_,y),a.push(-1));const M=[];for(let J=0;J<=S;J++){let B=0;this._align==="right"?B=_-o[J]:this._align==="center"?B=(_-o[J])/2:this._align==="justify"&&(B=a[J]<0?0:(_-o[J])/a[J]),M.push(B)}const R=s.length,D={},W=[],V=this._activePagesMeshData;p.push(...V);for(let J=0;J<R;J++){const B=s[J].texture,X=B.baseTexture.uid;if(!D[X]){let ie=p.pop();if(!ie){const ae=new Tm;let O,$;e.distanceFieldType==="none"?(O=new Yh(re.EMPTY),$=xe.NORMAL):(O=new Yh(re.EMPTY,{program:Ji.from(X5,V5),uniforms:{uFWidth:0}}),$=xe.NORMAL_NPM);const N=new Xh(ae,O);N.blendMode=$,ie={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:N,vertices:null,uvs:null,indices:null}}ie.index=0,ie.indexCount=0,ie.vertexCount=0,ie.uvsCount=0,ie.total=0;const{_textureCache:me}=this;me[X]=me[X]||new re(B.baseTexture),ie.mesh.texture=me[X],ie.mesh.tint=this._tintColor.value,W.push(ie),D[X]=ie}D[X].total++}for(let J=0;J<V.length;J++)W.includes(V[J])||this.removeChild(V[J].mesh);for(let J=0;J<W.length;J++)W[J].mesh.parent!==this&&this.addChild(W[J].mesh);this._activePagesMeshData=W;for(const J in D){const B=D[J],X=B.total;if(!(((pe=B.indices)==null?void 0:pe.length)>6*X)||B.vertices.length<Xh.BATCHABLE_SIZE*2)B.vertices=new Float32Array(4*2*X),B.uvs=new Float32Array(4*2*X),B.indices=new Uint16Array(6*X);else{const ie=B.total,me=B.vertices;for(let ae=ie*4*2;ae<me.length;ae++)me[ae]=0}B.mesh.size=6*X}for(let J=0;J<R;J++){const B=s[J];let X=B.position.x+M[B.line]*(this._align==="justify"?B.prevSpaces:1);this._roundPixels&&(X=Math.round(X));const ie=X*n,me=B.position.y*n,ae=B.texture,O=D[ae.baseTexture.uid],$=ae.frame,N=ae._uvs,U=O.index++;O.indices[U*6+0]=0+U*4,O.indices[U*6+1]=1+U*4,O.indices[U*6+2]=2+U*4,O.indices[U*6+3]=0+U*4,O.indices[U*6+4]=2+U*4,O.indices[U*6+5]=3+U*4,O.vertices[U*8+0]=ie,O.vertices[U*8+1]=me,O.vertices[U*8+2]=ie+$.width*n,O.vertices[U*8+3]=me,O.vertices[U*8+4]=ie+$.width*n,O.vertices[U*8+5]=me+$.height*n,O.vertices[U*8+6]=ie,O.vertices[U*8+7]=me+$.height*n,O.uvs[U*8+0]=N.x0,O.uvs[U*8+1]=N.y0,O.uvs[U*8+2]=N.x1,O.uvs[U*8+3]=N.y1,O.uvs[U*8+4]=N.x2,O.uvs[U*8+5]=N.y2,O.uvs[U*8+6]=N.x3,O.uvs[U*8+7]=N.y3}this._textWidth=_*n,this._textHeight=(i.y+e.lineHeight)*n;for(const J in D){const B=D[J];if(this.anchor.x!==0||this.anchor.y!==0){let ae=0;const O=this._textWidth*this.anchor.x,$=this._textHeight*this.anchor.y;for(let N=0;N<B.total;N++)B.vertices[ae++]-=O,B.vertices[ae++]-=$,B.vertices[ae++]-=O,B.vertices[ae++]-=$,B.vertices[ae++]-=O,B.vertices[ae++]-=$,B.vertices[ae++]-=O,B.vertices[ae++]-=$}this._maxLineHeight=x*n;const X=B.mesh.geometry.getBuffer("aVertexPosition"),ie=B.mesh.geometry.getBuffer("aTextureCoord"),me=B.mesh.geometry.getIndex();X.data=B.vertices,ie.data=B.uvs,me.data=B.indices,X.update(),ie.update(),me.update()}for(let J=0;J<s.length;J++)lT.push(s[J]);this._font=e,this.dirty=!1}updateTransform(){this.validate(),this.containerUpdateTransform()}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0);const{distanceFieldRange:r,distanceFieldType:n,size:i}=Rs.available[this._fontName];if(n!=="none"){const{a:s,b:o,c:a,d:h}=this.worldTransform,c=Math.sqrt(s*s+o*o),d=Math.sqrt(a*a+h*h),p=(Math.abs(c)+Math.abs(d))/2,m=this.fontSize/i,y=e._view.resolution;for(const _ of this._activePagesMeshData)_.mesh.shader.uniforms.uFWidth=p*r*m*y}super._render(e)}getLocalBounds(){return this.validate(),super.getLocalBounds()}validate(){const e=Rs.available[this._fontName];if(!e)throw new Error(`Missing BitmapFont "${this._fontName}"`);this._font!==e&&(this.dirty=!0),this.dirty&&this.updateText()}get tint(){return this._tintColor.value}set tint(e){if(this.tint!==e){this._tintColor.setValue(e);for(let r=0;r<this._activePagesMeshData.length;r++)this._activePagesMeshData[r].mesh.tint=e}}get align(){return this._align}set align(e){this._align!==e&&(this._align=e,this.dirty=!0)}get fontName(){return this._fontName}set fontName(e){if(!Rs.available[e])throw new Error(`Missing BitmapFont "${e}"`);this._fontName!==e&&(this._fontName=e,this.dirty=!0)}get fontSize(){return this._fontSize??Rs.available[this._fontName].size}set fontSize(e){this._fontSize!==e&&(this._fontSize=e,this.dirty=!0)}get anchor(){return this._anchor}set anchor(e){typeof e=="number"?this._anchor.set(e):this._anchor.copyFrom(e)}get text(){return this._text}set text(e){e=String(e??""),this._text!==e&&(this._text=e,this.dirty=!0)}get maxWidth(){return this._maxWidth}set maxWidth(e){this._maxWidth!==e&&(this._maxWidth=e,this.dirty=!0)}get maxLineHeight(){return this.validate(),this._maxLineHeight}get textWidth(){return this.validate(),this._textWidth}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.dirty=!0)}get roundPixels(){return this._roundPixels}set roundPixels(e){e!==this._roundPixels&&(this._roundPixels=e,this.dirty=!0)}get textHeight(){return this.validate(),this._textHeight}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}destroy(e){const{_textureCache:r}=this,n=Rs.available[this._fontName].distanceFieldType==="none"?oT:aT;n.push(...this._activePagesMeshData);for(const i of this._activePagesMeshData)this.removeChild(i.mesh);this._activePagesMeshData=[],n.filter(i=>r[i.mesh.texture.baseTexture.uid]).forEach(i=>{i.mesh.texture=re.EMPTY});for(const i in r)r[i].destroy(),delete r[i];this._font=null,this._tintColor=null,this._textureCache=null,super.destroy(e)}};i2.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0};let Y5=i2;const uT={loader:ne.LoadParser,resolver:ne.ResolveParser,cache:ne.CacheParser,detection:ne.DetectionParser};ce.handle(ne.Asset,t=>{const e=t.ref;Object.entries(uT).filter(([r])=>!!e[r]).forEach(([r,n])=>ce.add(Object.assign(e[r],{extension:e[r].extension??n})))},t=>{const e=t.ref;Object.keys(uT).filter(r=>!!e[r]).forEach(r=>ce.remove(e[r]))});class K5{constructor(e,r=!1){this._loader=e,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=r}add(e){e.forEach(r=>{this._assetList.push(r)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const e=[],r=Math.min(this._assetList.length,this._maxConcurrent);for(let n=0;n<r;n++)e.push(this._assetList.pop());await this._loader.load(e),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(e){this._isActive!==e&&(this._isActive=e,e&&!this._isLoading&&this._next())}}function ru(t,e){if(Array.isArray(e)){for(const r of e)if(t.startsWith(`data:${r}`))return!0;return!1}return t.startsWith(`data:${e}`)}function co(t,e){const r=t.split("?")[0],n=Vt.extname(r).toLowerCase();return Array.isArray(e)?e.includes(n):n===e}const Fn=(t,e,r=!1)=>(Array.isArray(t)||(t=[t]),e?t.map(n=>typeof n=="string"||r?e(n):n):t),w_=(t,e)=>{const r=e.split("?")[1];return r&&(t+=`?${r}`),t};function o2(t,e,r,n,i){const s=e[r];for(let o=0;o<s.length;o++){const a=s[o];r<e.length-1?o2(t.replace(n[r],a),e,r+1,n,i):i.push(t.replace(n[r],a))}}function Q5(t){const e=/\{(.*?)\}/g,r=t.match(e),n=[];if(r){const i=[];r.forEach(s=>{const o=s.substring(1,s.length-1).split(",");i.push(o)}),o2(t,i,0,r,n)}else n.push(t);return n}const Pp=t=>!Array.isArray(t);class q5{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(e){return this._cache.has(e)}get(e){const r=this._cache.get(e);return r||console.warn(`[Assets] Asset id ${e} was not found in the Cache`),r}set(e,r){const n=Fn(e);let i;for(let a=0;a<this.parsers.length;a++){const h=this.parsers[a];if(h.test(r)){i=h.getCacheableAssets(n,r);break}}i||(i={},n.forEach(a=>{i[a]=r}));const s=Object.keys(i),o={cacheKeys:s,keys:n};if(n.forEach(a=>{this._cacheMap.set(a,o)}),s.forEach(a=>{this._cache.has(a)&&this._cache.get(a)!==r&&console.warn("[Cache] already has key:",a),this._cache.set(a,i[a])}),r instanceof re){const a=r;n.forEach(h=>{a.baseTexture!==re.EMPTY.baseTexture&&Ce.addToCache(a.baseTexture,h),re.addToCache(a,h)})}}remove(e){if(!this._cacheMap.has(e)){console.warn(`[Assets] Asset id ${e} was not found in the Cache`);return}const r=this._cacheMap.get(e);r.cacheKeys.forEach(n=>{this._cache.delete(n)}),r.keys.forEach(n=>{this._cacheMap.delete(n)})}get parsers(){return this._parsers}}const Fo=new q5;class Z5{constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(e,r,n)=>(this._parsersValidated=!1,e[r]=n,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(e,r){const n={promise:null,parser:null};return n.promise=(async()=>{var o,a;let i=null,s=null;if(r.loadParser&&(s=this._parserHash[r.loadParser],s||console.warn(`[Assets] specified load parser "${r.loadParser}" not found while loading ${e}`)),!s){for(let h=0;h<this.parsers.length;h++){const c=this.parsers[h];if(c.load&&((o=c.test)!=null&&o.call(c,e,r,this))){s=c;break}}if(!s)return console.warn(`[Assets] ${e} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`),null}i=await s.load(e,r,this),n.parser=s;for(let h=0;h<this.parsers.length;h++){const c=this.parsers[h];c.parse&&c.parse&&await((a=c.testParse)==null?void 0:a.call(c,i,r,this))&&(i=await c.parse(i,r,this)||i,n.parser=c)}return i})(),n}async load(e,r){this._parsersValidated||this._validateParsers();let n=0;const i={},s=Pp(e),o=Fn(e,c=>({alias:[c],src:c})),a=o.length,h=o.map(async c=>{const d=Vt.toAbsolute(c.src);if(!i[c.src])try{this.promiseCache[d]||(this.promiseCache[d]=this._getLoadPromiseAndParser(d,c)),i[c.src]=await this.promiseCache[d].promise,r&&r(++n/a)}catch(p){throw delete this.promiseCache[d],delete i[c.src],new Error(`[Loader.load] Failed to load ${d}.
${p}`)}});return await Promise.all(h),s?i[o[0].src]:i}async unload(e){const r=Fn(e,n=>({alias:[n],src:n})).map(async n=>{var o,a;const i=Vt.toAbsolute(n.src),s=this.promiseCache[i];if(s){const h=await s.promise;delete this.promiseCache[i],(a=(o=s.parser)==null?void 0:o.unload)==null||a.call(o,h,n,this)}});await Promise.all(r)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter(e=>e.name).reduce((e,r)=>(e[r.name]&&console.warn(`[Assets] loadParser name conflict "${r.name}"`),{...e,[r.name]:r}),{})}}var Qn=(t=>(t[t.Low=0]="Low",t[t.Normal=1]="Normal",t[t.High=2]="High",t))(Qn||{});const J5=".json",e6="application/json",t6={extension:{type:ne.LoadParser,priority:Qn.Low},name:"loadJson",test(t){return ru(t,e6)||co(t,J5)},async load(t){return await(await oe.ADAPTER.fetch(t)).json()}};ce.add(t6);const r6=".txt",n6="text/plain",i6={name:"loadTxt",extension:{type:ne.LoadParser,priority:Qn.Low},test(t){return ru(t,n6)||co(t,r6)},async load(t){return await(await oe.ADAPTER.fetch(t)).text()}};ce.add(i6);const s6=["normal","bold","100","200","300","400","500","600","700","800","900"],o6=[".ttf",".otf",".woff",".woff2"],a6=["font/ttf","font/otf","font/woff","font/woff2"],l6=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function u6(t){const e=Vt.extname(t),r=Vt.basename(t,e).replace(/(-|_)/g," ").toLowerCase().split(" ").map(s=>s.charAt(0).toUpperCase()+s.slice(1));let n=r.length>0;for(const s of r)if(!s.match(l6)){n=!1;break}let i=r.join(" ");return n||(i=`"${i.replace(/[\\"]/g,"\\$&")}"`),i}const h6=/^[0-9A-Za-z%:/?#\[\]@!\$&'()\*\+,;=\-._~]*$/;function c6(t){return h6.test(t)?t:encodeURI(t)}const d6={extension:{type:ne.LoadParser,priority:Qn.Low},name:"loadWebFont",test(t){return ru(t,a6)||co(t,o6)},async load(t,e){var n,i,s;const r=oe.ADAPTER.getFontFaceSet();if(r){const o=[],a=((n=e.data)==null?void 0:n.family)??u6(t),h=((s=(i=e.data)==null?void 0:i.weights)==null?void 0:s.filter(d=>s6.includes(d)))??["normal"],c=e.data??{};for(let d=0;d<h.length;d++){const p=h[d],m=new FontFace(a,`url(${c6(t)})`,{...c,weight:p});await m.load(),r.add(m),o.push(m)}return o.length===1?o[0]:o}return console.warn("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(t){(Array.isArray(t)?t:[t]).forEach(e=>oe.ADAPTER.getFontFaceSet().delete(e))}};ce.add(d6);const f6=`(function() {
  "use strict";
  const WHITE_PNG = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=";
  async function checkImageBitmap() {
    try {
      if (typeof createImageBitmap != "function")
        return !1;
      const imageBlob = await (await fetch(WHITE_PNG)).blob(), imageBitmap = await createImageBitmap(imageBlob);
      return imageBitmap.width === 1 && imageBitmap.height === 1;
    } catch {
      return !1;
    }
  }
  checkImageBitmap().then((result) => {
    self.postMessage(result);
  });
})();
`;let Sl=null,b_=class{constructor(){Sl||(Sl=URL.createObjectURL(new Blob([f6],{type:"application/javascript"}))),this.worker=new Worker(Sl)}};b_.revokeObjectURL=function(){Sl&&(URL.revokeObjectURL(Sl),Sl=null)};const p6=`(function() {
  "use strict";
  async function loadImageBitmap(url) {
    const response = await fetch(url);
    if (!response.ok)
      throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \${response.status} \${response.statusText}\`);
    const imageBlob = await response.blob();
    return await createImageBitmap(imageBlob);
  }
  self.onmessage = async (event) => {
    try {
      const imageBitmap = await loadImageBitmap(event.data.data[0]);
      self.postMessage({
        data: imageBitmap,
        uuid: event.data.uuid,
        id: event.data.id
      }, [imageBitmap]);
    } catch (e) {
      self.postMessage({
        error: e,
        uuid: event.data.uuid,
        id: event.data.id
      });
    }
  };
})();
`;let El=null;class a2{constructor(){El||(El=URL.createObjectURL(new Blob([p6],{type:"application/javascript"}))),this.worker=new Worker(El)}}a2.revokeObjectURL=function(){El&&(URL.revokeObjectURL(El),El=null)};let hT=0,ay;class m6{constructor(){this._initialized=!1,this._createdWorkers=0,this.workerPool=[],this.queue=[],this.resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(e=>{const{worker:r}=new b_;r.addEventListener("message",n=>{r.terminate(),b_.revokeObjectURL(),e(n.data)})}),this._isImageBitmapSupported)}loadImageBitmap(e){return this._run("loadImageBitmap",[e])}async _initWorkers(){this._initialized||(this._initialized=!0)}getWorker(){ay===void 0&&(ay=navigator.hardwareConcurrency||4);let e=this.workerPool.pop();return!e&&this._createdWorkers<ay&&(this._createdWorkers++,e=new a2().worker,e.addEventListener("message",r=>{this.complete(r.data),this.returnWorker(r.target),this.next()})),e}returnWorker(e){this.workerPool.push(e)}complete(e){e.error!==void 0?this.resolveHash[e.uuid].reject(e.error):this.resolveHash[e.uuid].resolve(e.data),this.resolveHash[e.uuid]=null}async _run(e,r){await this._initWorkers();const n=new Promise((i,s)=>{this.queue.push({id:e,arguments:r,resolve:i,reject:s})});return this.next(),n}next(){if(!this.queue.length)return;const e=this.getWorker();if(!e)return;const r=this.queue.pop(),n=r.id;this.resolveHash[hT]={resolve:r.resolve,reject:r.reject},e.postMessage({data:r.arguments,uuid:hT++,id:n})}}const cT=new m6;function cc(t,e,r){t.resource.internal=!0;const n=new re(t),i=()=>{delete e.promiseCache[r],Fo.has(r)&&Fo.remove(r)};return n.baseTexture.once("destroyed",()=>{r in e.promiseCache&&(console.warn("[Assets] A BaseTexture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the BaseTexture."),i())}),n.once("destroyed",()=>{t.destroyed||(console.warn("[Assets] A Texture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the Texture."),i())}),n}const g6=[".jpeg",".jpg",".png",".webp",".avif"],v6=["image/jpeg","image/png","image/webp","image/avif"];async function y6(t){const e=await oe.ADAPTER.fetch(t);if(!e.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${t}: ${e.status} ${e.statusText}`);const r=await e.blob();return await createImageBitmap(r)}const Am={name:"loadTextures",extension:{type:ne.LoadParser,priority:Qn.High},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test(t){return ru(t,v6)||co(t,g6)},async load(t,e,r){var a;const n=globalThis.createImageBitmap&&this.config.preferCreateImageBitmap;let i;n?this.config.preferWorkers&&await cT.isImageBitmapSupported()?i=await cT.loadImageBitmap(t):i=await y6(t):i=await new Promise((h,c)=>{const d=new Image;d.crossOrigin=this.config.crossOrigin,d.src=t,d.complete?h(d):(d.onload=()=>h(d),d.onerror=p=>c(p))});const s={...e.data};s.resolution??(s.resolution=us(t)),n&&((a=s.resourceOptions)==null?void 0:a.ownsImageBitmap)===void 0&&(s.resourceOptions={...s.resourceOptions},s.resourceOptions.ownsImageBitmap=!0);const o=new Ce(i,s);return o.resource.src=t,cc(o,r,t)},unload(t){t.destroy(!0)}};ce.add(Am);const _6=".svg",x6="image/svg+xml",w6={extension:{type:ne.LoadParser,priority:Qn.High},name:"loadSVG",test(t){return ru(t,x6)||co(t,_6)},async testParse(t){return p_.test(t)},async parse(t,e,r){var s;const n=new p_(t,(s=e==null?void 0:e.data)==null?void 0:s.resourceOptions);await n.load();const i=new Ce(n,{resolution:us(t),...e==null?void 0:e.data});return i.resource.src=e.src,cc(i,r,e.src)},async load(t,e){return(await oe.ADAPTER.fetch(t)).text()},unload:Am.unload};ce.add(w6);const b6=[".mp4",".m4v",".webm",".ogv"],S6=["video/mp4","video/webm","video/ogg"],E6={name:"loadVideo",extension:{type:ne.LoadParser,priority:Qn.High},config:{defaultAutoPlay:!0,defaultUpdateFPS:0,defaultLoop:!1,defaultMuted:!1,defaultPlaysinline:!0},test(t){return ru(t,S6)||co(t,b6)},async load(t,e,r){var o;let n;const i=await(await oe.ADAPTER.fetch(t)).blob(),s=URL.createObjectURL(i);try{const a={autoPlay:this.config.defaultAutoPlay,updateFPS:this.config.defaultUpdateFPS,loop:this.config.defaultLoop,muted:this.config.defaultMuted,playsinline:this.config.defaultPlaysinline,...(o=e==null?void 0:e.data)==null?void 0:o.resourceOptions,autoLoad:!0},h=new qR(s,a);await h.load();const c=new Ce(h,{alphaMode:await K4(),resolution:us(t),...e==null?void 0:e.data});c.resource.src=t,n=cc(c,r,t),n.baseTexture.once("destroyed",()=>{URL.revokeObjectURL(s)})}catch(a){throw URL.revokeObjectURL(s),a}return n},unload(t){t.destroy(!0)}};ce.add(E6);class T6{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(e,r)=>`${e}${this._bundleIdConnector}${r}`,extractAssetIdFromBundle:(e,r)=>r.replace(`${e}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(e){if(this._bundleIdConnector=e.connector??this._bundleIdConnector,this._createBundleAssetId=e.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=e.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...e){e.forEach(r=>{this._preferredOrder.push(r),r.priority||(r.priority=Object.keys(r.params))}),this._resolverHash={}}set basePath(e){this._basePath=e}get basePath(){return this._basePath}set rootPath(e){this._rootPath=e}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(e){if(typeof e=="string")this._defaultSearchParams=e;else{const r=e;this._defaultSearchParams=Object.keys(r).map(n=>`${encodeURIComponent(n)}=${encodeURIComponent(r[n])}`).join("&")}}getAlias(e){const{alias:r,name:n,src:i,srcs:s}=e;return Fn(r||n||i||s,o=>typeof o=="string"?o:Array.isArray(o)?o.map(a=>(a==null?void 0:a.src)??(a==null?void 0:a.srcs)??a):o!=null&&o.src||o!=null&&o.srcs?o.src??o.srcs:o,!0)}addManifest(e){this._manifest&&console.warn("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach(r=>{this.addBundle(r.name,r.assets)})}addBundle(e,r){const n=[];Array.isArray(r)?r.forEach(i=>{const s=i.src??i.srcs,o=i.alias??i.name;let a;if(typeof o=="string"){const h=this._createBundleAssetId(e,o);n.push(h),a=[o,h]}else{const h=o.map(c=>this._createBundleAssetId(e,c));n.push(...h),a=[...o,...h]}this.add({...i,alias:a,src:s})}):Object.keys(r).forEach(i=>{const s=[i,this._createBundleAssetId(e,i)];if(typeof r[i]=="string")this.add({alias:s,src:r[i]});else if(Array.isArray(r[i]))this.add({alias:s,src:r[i]});else{const o=r[i],a=o.src??o.srcs;this.add({...o,alias:s,src:Array.isArray(a)?a:[a]})}n.push(...s)}),this._bundles[e]=n}add(e,r,n,i,s){const o=[];typeof e=="string"||Array.isArray(e)&&typeof e[0]=="string"?(Oe("7.2.0",`Assets.add now uses an object instead of individual parameters.
Please use Assets.add({ alias, src, data, format, loadParser }) instead.`),o.push({alias:e,src:r,data:n,format:i,loadParser:s})):Array.isArray(e)?o.push(...e):o.push(e);let a;a=h=>{this.hasKey(h)&&console.warn(`[Resolver] already has key: ${h} overwriting`)},Fn(o).forEach(h=>{const{src:c,srcs:d}=h;let{data:p,format:m,loadParser:y}=h;const _=Fn(c||d).map(E=>typeof E=="string"?Q5(E):Array.isArray(E)?E:[E]),S=this.getAlias(h);Array.isArray(S)?S.forEach(a):a(S);const A=[];_.forEach(E=>{E.forEach(b=>{let x={};if(typeof b!="object"){x.src=b;for(let T=0;T<this._parsers.length;T++){const P=this._parsers[T];if(P.test(b)){x=P.parse(b);break}}}else p=b.data??p,m=b.format??m,y=b.loadParser??y,x={...x,...b};if(!S)throw new Error(`[Resolver] alias is undefined for this asset: ${x.src}`);x=this.buildResolvedAsset(x,{aliases:S,data:p,format:m,loadParser:y}),A.push(x)})}),S.forEach(E=>{this._assetMap[E]=A})})}resolveBundle(e){const r=Pp(e);e=Fn(e);const n={};return e.forEach(i=>{const s=this._bundles[i];if(s){const o=this.resolve(s),a={};for(const h in o){const c=o[h];a[this._extractAssetIdFromBundle(i,h)]=c}n[i]=a}}),r?n[e[0]]:n}resolveUrl(e){const r=this.resolve(e);if(typeof e!="string"){const n={};for(const i in r)n[i]=r[i].src;return n}return r.src}resolve(e){const r=Pp(e);e=Fn(e);const n={};return e.forEach(i=>{if(!this._resolverHash[i])if(this._assetMap[i]){let s=this._assetMap[i];const o=s[0],a=this._getPreferredOrder(s);a==null||a.priority.forEach(h=>{a.params[h].forEach(c=>{const d=s.filter(p=>p[h]?p[h]===c:!1);d.length&&(s=d)})}),this._resolverHash[i]=s[0]??o}else this._resolverHash[i]=this.buildResolvedAsset({alias:[i],src:i},{});n[i]=this._resolverHash[i]}),r?n[e[0]]:n}hasKey(e){return!!this._assetMap[e]}hasBundle(e){return!!this._bundles[e]}_getPreferredOrder(e){for(let r=0;r<e.length;r++){const n=e[0],i=this._preferredOrder.find(s=>s.params.format.includes(n.format));if(i)return i}return this._preferredOrder[0]}_appendDefaultSearchParams(e){if(!this._defaultSearchParams)return e;const r=/\?/.test(e)?"&":"?";return`${e}${r}${this._defaultSearchParams}`}buildResolvedAsset(e,r){const{aliases:n,data:i,loadParser:s,format:o}=r;return(this._basePath||this._rootPath)&&(e.src=Vt.toAbsolute(e.src,this._basePath,this._rootPath)),e.alias=n??e.alias??[e.src],e.src=this._appendDefaultSearchParams(e.src),e.data={...i||{},...e.data},e.loadParser=s??e.loadParser,e.format=o??e.format??Vt.extname(e.src).slice(1),e.srcs=e.src,e.name=e.alias,e}}class A6{constructor(){this._detections=[],this._initialized=!1,this.resolver=new T6,this.loader=new Z5,this.cache=Fo,this._backgroundLoader=new K5(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(e={}){var s,o;if(this._initialized){console.warn("[Assets]AssetManager already initialized, did you load before calling this Assets.init()?");return}if(this._initialized=!0,e.defaultSearchParams&&this.resolver.setDefaultSearchParams(e.defaultSearchParams),e.basePath&&(this.resolver.basePath=e.basePath),e.bundleIdentifier&&this.resolver.setBundleIdentifier(e.bundleIdentifier),e.manifest){let a=e.manifest;typeof a=="string"&&(a=await this.load(a)),this.resolver.addManifest(a)}const r=((s=e.texturePreference)==null?void 0:s.resolution)??1,n=typeof r=="number"?[r]:r,i=await this._detectFormats({preferredFormats:(o=e.texturePreference)==null?void 0:o.format,skipDetections:e.skipDetections,detections:this._detections});this.resolver.prefer({params:{format:i,resolution:n}}),e.preferences&&this.setPreferences(e.preferences)}add(e,r,n,i,s){this.resolver.add(e,r,n,i,s)}async load(e,r){this._initialized||await this.init();const n=Pp(e),i=Fn(e).map(a=>{if(typeof a!="string"){const h=this.resolver.getAlias(a);return h.some(c=>!this.resolver.hasKey(c))&&this.add(a),Array.isArray(h)?h[0]:h}return this.resolver.hasKey(a)||this.add({alias:a,src:a}),a}),s=this.resolver.resolve(i),o=await this._mapLoadToResolve(s,r);return n?o[i[0]]:o}addBundle(e,r){this.resolver.addBundle(e,r)}async loadBundle(e,r){this._initialized||await this.init();let n=!1;typeof e=="string"&&(n=!0,e=[e]);const i=this.resolver.resolveBundle(e),s={},o=Object.keys(i);let a=0,h=0;const c=()=>{r==null||r(++a/h)},d=o.map(p=>{const m=i[p];return h+=Object.keys(m).length,this._mapLoadToResolve(m,c).then(y=>{s[p]=y})});return await Promise.all(d),n?s[e[0]]:s}async backgroundLoad(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const r=this.resolver.resolve(e);this._backgroundLoader.add(Object.values(r))}async backgroundLoadBundle(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const r=this.resolver.resolveBundle(e);Object.values(r).forEach(n=>{this._backgroundLoader.add(Object.values(n))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(e){if(typeof e=="string")return Fo.get(e);const r={};for(let n=0;n<e.length;n++)r[n]=Fo.get(e[n]);return r}async _mapLoadToResolve(e,r){const n=Object.values(e),i=Object.keys(e);this._backgroundLoader.active=!1;const s=await this.loader.load(n,r);this._backgroundLoader.active=!0;const o={};return n.forEach((a,h)=>{const c=s[a.src],d=[a.src];a.alias&&d.push(...a.alias),o[i[h]]=c,Fo.set(d,c)}),o}async unload(e){this._initialized||await this.init();const r=Fn(e).map(i=>typeof i!="string"?i.src:i),n=this.resolver.resolve(r);await this._unloadFromResolved(n)}async unloadBundle(e){this._initialized||await this.init(),e=Fn(e);const r=this.resolver.resolveBundle(e),n=Object.keys(r).map(i=>this._unloadFromResolved(r[i]));await Promise.all(n)}async _unloadFromResolved(e){const r=Object.values(e);r.forEach(n=>{Fo.remove(n.src)}),await this.loader.unload(r)}async _detectFormats(e){let r=[];e.preferredFormats&&(r=Array.isArray(e.preferredFormats)?e.preferredFormats:[e.preferredFormats]);for(const n of e.detections)e.skipDetections||await n.test()?r=await n.add(r):e.skipDetections||(r=await n.remove(r));return r=r.filter((n,i)=>r.indexOf(n)===i),r}get detections(){return this._detections}get preferWorkers(){return Am.config.preferWorkers}set preferWorkers(e){Oe("7.2.0","Assets.prefersWorkers is deprecated, use Assets.setPreferences({ preferWorkers: true }) instead."),this.setPreferences({preferWorkers:e})}setPreferences(e){this.loader.parsers.forEach(r=>{r.config&&Object.keys(r.config).filter(n=>n in e).forEach(n=>{r.config[n]=e[n]})})}}const $d=new A6;ce.handleByList(ne.LoadParser,$d.loader.parsers).handleByList(ne.ResolveParser,$d.resolver.parsers).handleByList(ne.CacheParser,$d.cache.parsers).handleByList(ne.DetectionParser,$d.detections);const C6={extension:ne.CacheParser,test:t=>Array.isArray(t)&&t.every(e=>e instanceof re),getCacheableAssets:(t,e)=>{const r={};return t.forEach(n=>{e.forEach((i,s)=>{r[n+(s===0?"":s+1)]=i})}),r}};ce.add(C6);async function l2(t){if("Image"in globalThis)return new Promise(e=>{const r=new Image;r.onload=()=>{e(!0)},r.onerror=()=>{e(!1)},r.src=t});if("createImageBitmap"in globalThis&&"fetch"in globalThis){try{const e=await(await fetch(t)).blob();await createImageBitmap(e)}catch{return!1}return!0}return!1}const P6={extension:{type:ne.DetectionParser,priority:1},test:async()=>l2("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="),add:async t=>[...t,"avif"],remove:async t=>t.filter(e=>e!=="avif")};ce.add(P6);const I6={extension:{type:ne.DetectionParser,priority:0},test:async()=>l2("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="),add:async t=>[...t,"webp"],remove:async t=>t.filter(e=>e!=="webp")};ce.add(I6);const dT=["png","jpg","jpeg"],R6={extension:{type:ne.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async t=>[...t,...dT],remove:async t=>t.filter(e=>!dT.includes(e))};ce.add(R6);const O6="WorkerGlobalScope"in globalThis&&globalThis instanceof globalThis.WorkerGlobalScope;function ux(t){return O6?!1:document.createElement("video").canPlayType(t)!==""}const M6={extension:{type:ne.DetectionParser,priority:0},test:async()=>ux("video/webm"),add:async t=>[...t,"webm"],remove:async t=>t.filter(e=>e!=="webm")};ce.add(M6);const k6={extension:{type:ne.DetectionParser,priority:0},test:async()=>ux("video/mp4"),add:async t=>[...t,"mp4","m4v"],remove:async t=>t.filter(e=>e!=="mp4"&&e!=="m4v")};ce.add(k6);const D6={extension:{type:ne.DetectionParser,priority:0},test:async()=>ux("video/ogg"),add:async t=>[...t,"ogv"],remove:async t=>t.filter(e=>e!=="ogv")};ce.add(D6);const N6={extension:ne.ResolveParser,test:Am.test,parse:t=>{var e;return{resolution:parseFloat(((e=oe.RETINA_PREFIX.exec(t))==null?void 0:e[1])??"1"),format:Vt.extname(t).slice(1),src:t}}};ce.add(N6);const F6=[".xml",".fnt"],B6={extension:{type:ne.LoadParser,priority:Qn.Normal},name:"loadBitmapFont",test(t){return F6.includes(Vt.extname(t).toLowerCase())},async testParse(t){return If.test(t)||x_.test(t)},async parse(t,e,r){const n=If.test(t)?If.parse(t):x_.parse(t),{src:i}=e,{page:s}=n,o=[];for(let c=0;c<s.length;++c){const d=s[c].file;let p=Vt.join(Vt.dirname(i),d);p=w_(p,i),o.push(p)}const a=await r.load(o),h=o.map(c=>a[c]);return Rs.install(n,h,!0)},async load(t,e){return(await oe.ADAPTER.fetch(t)).text()},unload(t){t.destroy()}};ce.add(B6);const Ip={build(t){const e=t.points;let r,n,i,s,o,a;if(t.type===Zt.CIRC){const _=t.shape;r=_.x,n=_.y,o=a=_.radius,i=s=0}else if(t.type===Zt.ELIP){const _=t.shape;r=_.x,n=_.y,o=_.width,a=_.height,i=s=0}else{const _=t.shape,S=_.width/2,A=_.height/2;r=_.x+S,n=_.y+A,o=a=Math.max(0,Math.min(_.radius,Math.min(S,A))),i=S-o,s=A-a}if(!(o>=0&&a>=0&&i>=0&&s>=0)){e.length=0;return}const h=Math.ceil(2.3*Math.sqrt(o+a)),c=h*8+(i?4:0)+(s?4:0);if(e.length=c,c===0)return;if(h===0){e.length=8,e[0]=e[6]=r+i,e[1]=e[3]=n+s,e[2]=e[4]=r-i,e[5]=e[7]=n-s;return}let d=0,p=h*4+(i?2:0)+2,m=p,y=c;{const _=i+o,S=s,A=r+_,E=r-_,b=n+S;if(e[d++]=A,e[d++]=b,e[--p]=b,e[--p]=E,s){const x=n-S;e[m++]=E,e[m++]=x,e[--y]=x,e[--y]=A}}for(let _=1;_<h;_++){const S=Math.PI/2*(_/h),A=i+Math.cos(S)*o,E=s+Math.sin(S)*a,b=r+A,x=r-A,T=n+E,P=n-E;e[d++]=b,e[d++]=T,e[--p]=T,e[--p]=x,e[m++]=x,e[m++]=P,e[--y]=P,e[--y]=b}{const _=i,S=s+a,A=r+_,E=r-_,b=n+S,x=n-S;e[d++]=A,e[d++]=b,e[--y]=x,e[--y]=A,i&&(e[d++]=E,e[d++]=b,e[--y]=x,e[--y]=E)}},triangulate(t,e){const r=t.points,n=e.points,i=e.indices;if(r.length===0)return;let s=n.length/2;const o=s;let a,h;if(t.type!==Zt.RREC){const d=t.shape;a=d.x,h=d.y}else{const d=t.shape;a=d.x+d.width/2,h=d.y+d.height/2}const c=t.matrix;n.push(t.matrix?c.a*a+c.c*h+c.tx:a,t.matrix?c.b*a+c.d*h+c.ty:h),s++,n.push(r[0],r[1]);for(let d=2;d<r.length;d+=2)n.push(r[d],r[d+1]),i.push(s++,o,s);i.push(o+1,o,s)}};function fT(t,e=!1){const r=t.length;if(r<6)return;let n=0;for(let i=0,s=t[r-2],o=t[r-1];i<r;i+=2){const a=t[i],h=t[i+1];n+=(a-s)*(h+o),s=a,o=h}if(!e&&n>0||e&&n<=0){const i=r/2;for(let s=i+i%2;s<r;s+=2){const o=r-s-2,a=r-s-1,h=s,c=s+1;[t[o],t[h]]=[t[h],t[o]],[t[a],t[c]]=[t[c],t[a]]}}}const u2={build(t){t.points=t.shape.points.slice()},triangulate(t,e){let r=t.points;const n=t.holes,i=e.points,s=e.indices;if(r.length>=6){fT(r,!1);const o=[];for(let c=0;c<n.length;c++){const d=n[c];fT(d.points,!0),o.push(r.length/2),r=r.concat(d.points)}const a=gB(r,o,2);if(!a)return;const h=i.length/2;for(let c=0;c<a.length;c+=3)s.push(a[c]+h),s.push(a[c+1]+h),s.push(a[c+2]+h);for(let c=0;c<r.length;c++)i.push(r[c])}}},L6={build(t){const e=t.shape,r=e.x,n=e.y,i=e.width,s=e.height,o=t.points;o.length=0,i>=0&&s>=0&&o.push(r,n,r+i,n,r+i,n+s,r,n+s)},triangulate(t,e){const r=t.points,n=e.points;if(r.length===0)return;const i=n.length/2;n.push(r[0],r[1],r[2],r[3],r[6],r[7],r[4],r[5]),e.indices.push(i,i+1,i+2,i+1,i+2,i+3)}},U6={build(t){Ip.build(t)},triangulate(t,e){Ip.triangulate(t,e)}};var on=(t=>(t.MITER="miter",t.BEVEL="bevel",t.ROUND="round",t))(on||{}),Hs=(t=>(t.BUTT="butt",t.ROUND="round",t.SQUARE="square",t))(Hs||{});const Gl={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount(t,e=20){if(!this.adaptive||!t||isNaN(t))return e;let r=Math.ceil(t/this.maxLength);return r<this.minSegments?r=this.minSegments:r>this.maxSegments&&(r=this.maxSegments),r}};class pT{static curveTo(e,r,n,i,s,o){const a=o[o.length-2],h=o[o.length-1]-r,c=a-e,d=i-r,p=n-e,m=Math.abs(h*p-c*d);if(m<1e-8||s===0)return(o[o.length-2]!==e||o[o.length-1]!==r)&&o.push(e,r),null;const y=h*h+c*c,_=d*d+p*p,S=h*d+c*p,A=s*Math.sqrt(y)/m,E=s*Math.sqrt(_)/m,b=A*S/y,x=E*S/_,T=A*p+E*c,P=A*d+E*h,M=c*(E+b),R=h*(E+b),D=p*(A+x),W=d*(A+x),V=Math.atan2(R-P,M-T),pe=Math.atan2(W-P,D-T);return{cx:T+e,cy:P+r,radius:s,startAngle:V,endAngle:pe,anticlockwise:c*d>p*h}}static arc(e,r,n,i,s,o,a,h,c){const d=a-o,p=Gl._segmentsCount(Math.abs(d)*s,Math.ceil(Math.abs(d)/wp)*40),m=d/(p*2),y=m*2,_=Math.cos(m),S=Math.sin(m),A=p-1,E=A%1/A;for(let b=0;b<=A;++b){const x=b+E*b,T=m+o+y*x,P=Math.cos(T),M=-Math.sin(T);c.push((_*P+S*M)*s+n,(_*-M+S*P)*s+i)}}}class z6{constructor(){this.reset()}begin(e,r,n){this.reset(),this.style=e,this.start=r,this.attribStart=n}end(e,r){this.attribSize=r-this.attribStart,this.size=e-this.start}reset(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0}}class hx{static curveLength(e,r,n,i,s,o,a,h){let c=0,d=0,p=0,m=0,y=0,_=0,S=0,A=0,E=0,b=0,x=0,T=e,P=r;for(let M=1;M<=10;++M)d=M/10,p=d*d,m=p*d,y=1-d,_=y*y,S=_*y,A=S*e+3*_*d*n+3*y*p*s+m*a,E=S*r+3*_*d*i+3*y*p*o+m*h,b=T-A,x=P-E,T=A,P=E,c+=Math.sqrt(b*b+x*x);return c}static curveTo(e,r,n,i,s,o,a){const h=a[a.length-2],c=a[a.length-1];a.length-=2;const d=Gl._segmentsCount(hx.curveLength(h,c,e,r,n,i,s,o));let p=0,m=0,y=0,_=0,S=0;a.push(h,c);for(let A=1,E=0;A<=d;++A)E=A/d,p=1-E,m=p*p,y=m*p,_=E*E,S=_*E,a.push(y*h+3*m*E*e+3*p*_*n+S*s,y*c+3*m*E*r+3*p*_*i+S*o)}}function mT(t,e,r,n,i,s,o,a){const h=t-r*i,c=e-n*i,d=t+r*s,p=e+n*s;let m,y;o?(m=n,y=-r):(m=-n,y=r);const _=h+m,S=c+y,A=d+m,E=p+y;return a.push(_,S,A,E),2}function To(t,e,r,n,i,s,o,a){const h=r-t,c=n-e;let d=Math.atan2(h,c),p=Math.atan2(i-t,s-e);a&&d<p?d+=Math.PI*2:!a&&d>p&&(p+=Math.PI*2);let m=d;const y=p-d,_=Math.abs(y),S=Math.sqrt(h*h+c*c),A=(15*_*Math.sqrt(S)/Math.PI>>0)+1,E=y/A;if(m+=E,a){o.push(t,e,r,n);for(let b=1,x=m;b<A;b++,x+=E)o.push(t,e,t+Math.sin(x)*S,e+Math.cos(x)*S);o.push(t,e,i,s)}else{o.push(r,n,t,e);for(let b=1,x=m;b<A;b++,x+=E)o.push(t+Math.sin(x)*S,e+Math.cos(x)*S,t,e);o.push(i,s,t,e)}return A*2}function $6(t,e){const r=t.shape;let n=t.points||r.points.slice();const i=e.closePointEps;if(n.length===0)return;const s=t.lineStyle,o=new _e(n[0],n[1]),a=new _e(n[n.length-2],n[n.length-1]),h=r.type!==Zt.POLY||r.closeStroke,c=Math.abs(o.x-a.x)<i&&Math.abs(o.y-a.y)<i;if(h){n=n.slice(),c&&(n.pop(),n.pop(),a.set(n[n.length-2],n[n.length-1]));const ae=(o.x+a.x)*.5,O=(a.y+o.y)*.5;n.unshift(ae,O),n.push(ae,O)}const d=e.points,p=n.length/2;let m=n.length;const y=d.length/2,_=s.width/2,S=_*_,A=s.miterLimit*s.miterLimit;let E=n[0],b=n[1],x=n[2],T=n[3],P=0,M=0,R=-(b-T),D=E-x,W=0,V=0,pe=Math.sqrt(R*R+D*D);R/=pe,D/=pe,R*=_,D*=_;const J=s.alignment,B=(1-J)*2,X=J*2;h||(s.cap===Hs.ROUND?m+=To(E-R*(B-X)*.5,b-D*(B-X)*.5,E-R*B,b-D*B,E+R*X,b+D*X,d,!0)+2:s.cap===Hs.SQUARE&&(m+=mT(E,b,R,D,B,X,!0,d))),d.push(E-R*B,b-D*B,E+R*X,b+D*X);for(let ae=1;ae<p-1;++ae){E=n[(ae-1)*2],b=n[(ae-1)*2+1],x=n[ae*2],T=n[ae*2+1],P=n[(ae+1)*2],M=n[(ae+1)*2+1],R=-(b-T),D=E-x,pe=Math.sqrt(R*R+D*D),R/=pe,D/=pe,R*=_,D*=_,W=-(T-M),V=x-P,pe=Math.sqrt(W*W+V*V),W/=pe,V/=pe,W*=_,V*=_;const O=x-E,$=b-T,N=x-P,U=M-T,Z=O*N+$*U,Ae=$*N-U*O,we=Ae<0;if(Math.abs(Ae)<.001*Math.abs(Z)){d.push(x-R*B,T-D*B,x+R*X,T+D*X),Z>=0&&(s.join===on.ROUND?m+=To(x,T,x-R*B,T-D*B,x-W*B,T-V*B,d,!1)+4:m+=2,d.push(x-W*X,T-V*X,x+W*B,T+V*B));continue}const Ne=(-R+E)*(-D+T)-(-R+x)*(-D+b),Te=(-W+P)*(-V+T)-(-W+x)*(-V+M),ke=(O*Te-N*Ne)/Ae,st=(U*Ne-$*Te)/Ae,et=(ke-x)*(ke-x)+(st-T)*(st-T),Ke=x+(ke-x)*B,Pe=T+(st-T)*B,Be=x-(ke-x)*X,$e=T-(st-T)*X,Yr=Math.min(O*O+$*$,N*N+U*U),Kr=we?B:X,po=Yr+Kr*Kr*S,Om=et<=po;let ma=s.join;if(ma===on.MITER&&et/S>A&&(ma=on.BEVEL),Om)switch(ma){case on.MITER:{d.push(Ke,Pe,Be,$e);break}case on.BEVEL:{we?d.push(Ke,Pe,x+R*X,T+D*X,Ke,Pe,x+W*X,T+V*X):d.push(x-R*B,T-D*B,Be,$e,x-W*B,T-V*B,Be,$e),m+=2;break}case on.ROUND:{we?(d.push(Ke,Pe,x+R*X,T+D*X),m+=To(x,T,x+R*X,T+D*X,x+W*X,T+V*X,d,!0)+4,d.push(Ke,Pe,x+W*X,T+V*X)):(d.push(x-R*B,T-D*B,Be,$e),m+=To(x,T,x-R*B,T-D*B,x-W*B,T-V*B,d,!1)+4,d.push(x-W*B,T-V*B,Be,$e));break}}else{switch(d.push(x-R*B,T-D*B,x+R*X,T+D*X),ma){case on.MITER:{we?d.push(Be,$e,Be,$e):d.push(Ke,Pe,Ke,Pe),m+=2;break}case on.ROUND:{we?m+=To(x,T,x+R*X,T+D*X,x+W*X,T+V*X,d,!0)+2:m+=To(x,T,x-R*B,T-D*B,x-W*B,T-V*B,d,!1)+2;break}}d.push(x-W*B,T-V*B,x+W*X,T+V*X),m+=2}}E=n[(p-2)*2],b=n[(p-2)*2+1],x=n[(p-1)*2],T=n[(p-1)*2+1],R=-(b-T),D=E-x,pe=Math.sqrt(R*R+D*D),R/=pe,D/=pe,R*=_,D*=_,d.push(x-R*B,T-D*B,x+R*X,T+D*X),h||(s.cap===Hs.ROUND?m+=To(x-R*(B-X)*.5,T-D*(B-X)*.5,x-R*B,T-D*B,x+R*X,T+D*X,d,!1)+2:s.cap===Hs.SQUARE&&(m+=mT(x,T,R,D,B,X,!1,d)));const ie=e.indices,me=Gl.epsilon*Gl.epsilon;for(let ae=y;ae<m+y-2;++ae)E=d[ae*2],b=d[ae*2+1],x=d[(ae+1)*2],T=d[(ae+1)*2+1],P=d[(ae+2)*2],M=d[(ae+2)*2+1],!(Math.abs(E*(T-M)+x*(M-b)+P*(b-T))<me)&&ie.push(ae,ae+1,ae+2)}function G6(t,e){let r=0;const n=t.shape,i=t.points||n.points,s=n.type!==Zt.POLY||n.closeStroke;if(i.length===0)return;const o=e.points,a=e.indices,h=i.length/2,c=o.length/2;let d=c;for(o.push(i[0],i[1]),r=1;r<h;r++)o.push(i[r*2],i[r*2+1]),a.push(d,d+1),d++;s&&a.push(d,c)}function gT(t,e){t.lineStyle.native?G6(t,e):$6(t,e)}class cx{static curveLength(e,r,n,i,s,o){const a=e-2*n+s,h=r-2*i+o,c=2*n-2*e,d=2*i-2*r,p=4*(a*a+h*h),m=4*(a*c+h*d),y=c*c+d*d,_=2*Math.sqrt(p+m+y),S=Math.sqrt(p),A=2*p*S,E=2*Math.sqrt(y),b=m/S;return(A*_+S*m*(_-E)+(4*y*p-m*m)*Math.log((2*S+b+_)/(b+E)))/(4*A)}static curveTo(e,r,n,i,s){const o=s[s.length-2],a=s[s.length-1],h=Gl._segmentsCount(cx.curveLength(o,a,e,r,n,i));let c=0,d=0;for(let p=1;p<=h;++p){const m=p/h;c=o+(e-o)*m,d=a+(r-a)*m,s.push(c+(e+(n-e)*m-c)*m,d+(r+(i-r)*m-d)*m)}}}const ly={[Zt.POLY]:u2,[Zt.CIRC]:Ip,[Zt.ELIP]:Ip,[Zt.RECT]:L6,[Zt.RREC]:U6},vT=[],Gd=[];class Rp{constructor(e,r=null,n=null,i=null){this.points=[],this.holes=[],this.shape=e,this.lineStyle=n,this.fillStyle=r,this.matrix=i,this.type=e.type}clone(){return new Rp(this.shape,this.fillStyle,this.lineStyle,this.matrix)}destroy(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null}}const La=new _e,h2=class c2 extends mR{constructor(){super(),this.closePointEps=1e-4,this.boundsPadding=0,this.uvsFloat32=null,this.indicesUint16=null,this.batchable=!1,this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.drawCalls=[],this.batchDirty=-1,this.batches=[],this.dirty=0,this.cacheDirty=-1,this.clearDirty=0,this.shapeIndex=0,this._bounds=new Ap,this.boundsDirty=-1}get bounds(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds}invalidate(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(let e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),Gd.push(this.drawCalls[e]);this.drawCalls.length=0;for(let e=0;e<this.batches.length;e++){const r=this.batches[e];r.reset(),vT.push(r)}this.batches.length=0}clear(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this}drawShape(e,r=null,n=null,i=null){const s=new Rp(e,r,n,i);return this.graphicsData.push(s),this.dirty++,this}drawHole(e,r=null){if(!this.graphicsData.length)return null;const n=new Rp(e,null,null,r),i=this.graphicsData[this.graphicsData.length-1];return n.lineStyle=i.lineStyle,i.holes.push(n),this.dirty++,this}destroy(){super.destroy();for(let e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null}containsPoint(e){const r=this.graphicsData;for(let n=0;n<r.length;++n){const i=r[n];if(i.fillStyle.visible&&i.shape&&(i.matrix?i.matrix.applyInverse(e,La):La.copyFrom(e),i.shape.contains(La.x,La.y))){let s=!1;if(i.holes){for(let o=0;o<i.holes.length;o++)if(i.holes[o].shape.contains(La.x,La.y)){s=!0;break}}if(!s)return!0}}return!1}updateBatches(){if(!this.graphicsData.length){this.batchable=!0;return}if(!this.validateBatching())return;this.cacheDirty=this.dirty;const e=this.uvs,r=this.graphicsData;let n=null,i=null;this.batches.length>0&&(n=this.batches[this.batches.length-1],i=n.style);for(let h=this.shapeIndex;h<r.length;h++){this.shapeIndex++;const c=r[h],d=c.fillStyle,p=c.lineStyle;ly[c.type].build(c),c.matrix&&this.transformPoints(c.points,c.matrix),(d.visible||p.visible)&&this.processHoles(c.holes);for(let m=0;m<2;m++){const y=m===0?d:p;if(!y.visible)continue;const _=y.texture.baseTexture,S=this.indices.length,A=this.points.length/2;_.wrapMode=ns.REPEAT,m===0?this.processFill(c):this.processLine(c);const E=this.points.length/2-A;E!==0&&(n&&!this._compareStyles(i,y)&&(n.end(S,A),n=null),n||(n=vT.pop()||new z6,n.begin(y,S,A),this.batches.push(n),i=y),this.addUvs(this.points,e,y.texture,A,E,y.matrix))}}const s=this.indices.length,o=this.points.length/2;if(n&&n.end(s,o),this.batches.length===0){this.batchable=!0;return}const a=o>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&a===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=a?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}_compareStyles(e,r){return!(!e||!r||e.texture.baseTexture!==r.texture.baseTexture||e.color+e.alpha!==r.color+r.alpha||!!e.native!=!!r.native)}validateBatching(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(let e=0,r=this.graphicsData.length;e<r;e++){const n=this.graphicsData[e],i=n.fillStyle,s=n.lineStyle;if(i&&!i.texture.baseTexture.valid||s&&!s.texture.baseTexture.valid)return!1}return!0}packBatches(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);const e=this.batches;for(let r=0,n=e.length;r<n;r++){const i=e[r];for(let s=0;s<i.size;s++){const o=i.start+s;this.indicesUint16[o]=this.indicesUint16[o]-i.attribStart}}}isBatchable(){if(this.points.length>65535*2)return!1;const e=this.batches;for(let r=0;r<e.length;r++)if(e[r].style.native)return!1;return this.points.length<c2.BATCHABLE_SIZE*2}buildDrawCalls(){let e=++Ce._globalBatch;for(let p=0;p<this.drawCalls.length;p++)this.drawCalls[p].texArray.clear(),Gd.push(this.drawCalls[p]);this.drawCalls.length=0;const r=this.colors,n=this.textureIds;let i=Gd.pop();i||(i=new i_,i.texArray=new l_),i.texArray.count=0,i.start=0,i.size=0,i.type=Bn.TRIANGLES;let s=0,o=null,a=0,h=!1,c=Bn.TRIANGLES,d=0;this.drawCalls.push(i);for(let p=0;p<this.batches.length;p++){const m=this.batches[p],y=8,_=m.style,S=_.texture.baseTexture;h!==!!_.native&&(h=!!_.native,c=h?Bn.LINES:Bn.TRIANGLES,o=null,s=y,e++),o!==S&&(o=S,S._batchEnabled!==e&&(s===y&&(e++,s=0,i.size>0&&(i=Gd.pop(),i||(i=new i_,i.texArray=new l_),this.drawCalls.push(i)),i.start=d,i.size=0,i.texArray.count=0,i.type=c),S.touched=1,S._batchEnabled=e,S._batchLocation=s,S.wrapMode=ns.REPEAT,i.texArray.elements[i.texArray.count++]=S,s++)),i.size+=m.size,d+=m.size,a=S._batchLocation,this.addColors(r,_.color,_.alpha,m.attribSize,m.attribStart),this.addTextureIds(n,a,m.attribSize,m.attribStart)}Ce._globalBatch=e,this.packAttributes()}packAttributes(){const e=this.points,r=this.uvs,n=this.colors,i=this.textureIds,s=new ArrayBuffer(e.length*3*4),o=new Float32Array(s),a=new Uint32Array(s);let h=0;for(let c=0;c<e.length/2;c++)o[h++]=e[c*2],o[h++]=e[c*2+1],o[h++]=r[c*2],o[h++]=r[c*2+1],a[h++]=n[c],o[h++]=i[c];this._buffer.update(s),this._indexBuffer.update(this.indicesUint16)}processFill(e){e.holes.length?u2.triangulate(e,this):ly[e.type].triangulate(e,this)}processLine(e){gT(e,this);for(let r=0;r<e.holes.length;r++)gT(e.holes[r],this)}processHoles(e){for(let r=0;r<e.length;r++){const n=e[r];ly[n.type].build(n),n.matrix&&this.transformPoints(n.points,n.matrix)}}calculateBounds(){const e=this._bounds;e.clear(),e.addVertexData(this.points,0,this.points.length),e.pad(this.boundsPadding,this.boundsPadding)}transformPoints(e,r){for(let n=0;n<e.length/2;n++){const i=e[n*2],s=e[n*2+1];e[n*2]=r.a*i+r.c*s+r.tx,e[n*2+1]=r.b*i+r.d*s+r.ty}}addColors(e,r,n,i,s=0){const o=Ze.shared.setValue(r).toLittleEndianNumber(),a=Ze.shared.setValue(o).toPremultiplied(n);e.length=Math.max(e.length,s+i);for(let h=0;h<i;h++)e[s+h]=a}addTextureIds(e,r,n,i=0){e.length=Math.max(e.length,i+n);for(let s=0;s<n;s++)e[i+s]=r}addUvs(e,r,n,i,s,o=null){let a=0;const h=r.length,c=n.frame;for(;a<s;){let p=e[(i+a)*2],m=e[(i+a)*2+1];if(o){const y=o.a*p+o.c*m+o.tx;m=o.b*p+o.d*m+o.ty,p=y}a++,r.push(p/c.width,m/c.height)}const d=n.baseTexture;(c.width<d.width||c.height<d.height)&&this.adjustUvs(r,n,h,s)}adjustUvs(e,r,n,i){const s=r.baseTexture,o=1e-6,a=n+i*2,h=r.frame,c=h.width/s.width,d=h.height/s.height;let p=h.x/h.width,m=h.y/h.height,y=Math.floor(e[n]+o),_=Math.floor(e[n+1]+o);for(let S=n+2;S<a;S+=2)y=Math.min(y,Math.floor(e[S]+o)),_=Math.min(_,Math.floor(e[S+1]+o));p-=y,m-=_;for(let S=n;S<a;S+=2)e[S]=(e[S]+p)*c,e[S+1]=(e[S+1]+m)*d}};h2.BATCHABLE_SIZE=100;let H6=h2;class Cm{constructor(){this.color=16777215,this.alpha=1,this.texture=re.WHITE,this.matrix=null,this.visible=!1,this.reset()}clone(){const e=new Cm;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e}reset(){this.color=16777215,this.alpha=1,this.texture=re.WHITE,this.matrix=null,this.visible=!1}destroy(){this.texture=null,this.matrix=null}}class dx extends Cm{constructor(){super(...arguments),this.width=0,this.alignment=.5,this.native=!1,this.cap=Hs.BUTT,this.join=on.MITER,this.miterLimit=10}clone(){const e=new dx;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e}reset(){super.reset(),this.color=0,this.alignment=.5,this.width=0,this.native=!1,this.cap=Hs.BUTT,this.join=on.MITER,this.miterLimit=10}}const uy={},S_=class Of extends cr{constructor(e=null){super(),this.shader=null,this.pluginName="batch",this.currentPath=null,this.batches=[],this.batchTint=-1,this.batchDirty=-1,this.vertexData=null,this._fillStyle=new Cm,this._lineStyle=new dx,this._matrix=null,this._holeMode=!1,this.state=ki.for2d(),this._geometry=e||new H6,this._geometry.refCount++,this._transformID=-1,this._tintColor=new Ze(16777215),this.blendMode=xe.NORMAL}get geometry(){return this._geometry}clone(){return this.finishPoly(),new Of(this._geometry)}set blendMode(e){this.state.blendMode=e}get blendMode(){return this.state.blendMode}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e)}get fill(){return this._fillStyle}get line(){return this._lineStyle}lineStyle(e=null,r=0,n,i=.5,s=!1){return typeof e=="number"&&(e={width:e,color:r,alpha:n,alignment:i,native:s}),this.lineTextureStyle(e)}lineTextureStyle(e){const r={width:0,texture:re.WHITE,color:e!=null&&e.texture?16777215:0,matrix:null,alignment:.5,native:!1,cap:Hs.BUTT,join:on.MITER,miterLimit:10};e=Object.assign(r,e),this.normalizeColor(e),this.currentPath&&this.startPoly();const n=e.width>0&&e.alpha>0;return n?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._lineStyle,{visible:n},e)):this._lineStyle.reset(),this}startPoly(){if(this.currentPath){const e=this.currentPath.points,r=this.currentPath.points.length;r>2&&(this.drawShape(this.currentPath),this.currentPath=new Xo,this.currentPath.closeStroke=!1,this.currentPath.points.push(e[r-2],e[r-1]))}else this.currentPath=new Xo,this.currentPath.closeStroke=!1}finishPoly(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)}moveTo(e,r){return this.startPoly(),this.currentPath.points[0]=e,this.currentPath.points[1]=r,this}lineTo(e,r){this.currentPath||this.moveTo(0,0);const n=this.currentPath.points,i=n[n.length-2],s=n[n.length-1];return(i!==e||s!==r)&&n.push(e,r),this}_initCurve(e=0,r=0){this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[e,r]):this.moveTo(e,r)}quadraticCurveTo(e,r,n,i){this._initCurve();const s=this.currentPath.points;return s.length===0&&this.moveTo(0,0),cx.curveTo(e,r,n,i,s),this}bezierCurveTo(e,r,n,i,s,o){return this._initCurve(),hx.curveTo(e,r,n,i,s,o,this.currentPath.points),this}arcTo(e,r,n,i,s){this._initCurve(e,r);const o=this.currentPath.points,a=pT.curveTo(e,r,n,i,s,o);if(a){const{cx:h,cy:c,radius:d,startAngle:p,endAngle:m,anticlockwise:y}=a;this.arc(h,c,d,p,m,y)}return this}arc(e,r,n,i,s,o=!1){if(i===s)return this;if(!o&&s<=i?s+=wp:o&&i<=s&&(i+=wp),s-i===0)return this;const a=e+Math.cos(i)*n,h=r+Math.sin(i)*n,c=this._geometry.closePointEps;let d=this.currentPath?this.currentPath.points:null;if(d){const p=Math.abs(d[d.length-2]-a),m=Math.abs(d[d.length-1]-h);p<c&&m<c||d.push(a,h)}else this.moveTo(a,h),d=this.currentPath.points;return pT.arc(a,h,e,r,n,i,s,o,d),this}beginFill(e=0,r){return this.beginTextureFill({texture:re.WHITE,color:e,alpha:r})}normalizeColor(e){const r=Ze.shared.setValue(e.color??0);e.color=r.toNumber(),e.alpha??(e.alpha=r.alpha)}beginTextureFill(e){const r={texture:re.WHITE,color:16777215,matrix:null};e=Object.assign(r,e),this.normalizeColor(e),this.currentPath&&this.startPoly();const n=e.alpha>0;return n?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._fillStyle,{visible:n},e)):this._fillStyle.reset(),this}endFill(){return this.finishPoly(),this._fillStyle.reset(),this}drawRect(e,r,n,i){return this.drawShape(new be(e,r,n,i))}drawRoundedRect(e,r,n,i,s){return this.drawShape(new wm(e,r,n,i,s))}drawCircle(e,r,n){return this.drawShape(new _m(e,r,n))}drawEllipse(e,r,n,i){return this.drawShape(new xm(e,r,n,i))}drawPolygon(...e){let r,n=!0;const i=e[0];i.points?(n=i.closeStroke,r=i.points):Array.isArray(e[0])?r=e[0]:r=e;const s=new Xo(r);return s.closeStroke=n,this.drawShape(s),this}drawShape(e){return this._holeMode?this._geometry.drawHole(e,this._matrix):this._geometry.drawShape(e,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this}clear(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this}isFastRect(){const e=this._geometry.graphicsData;return e.length===1&&e[0].shape.type===Zt.RECT&&!e[0].matrix&&!e[0].holes.length&&!(e[0].lineStyle.visible&&e[0].lineStyle.width)}_render(e){this.finishPoly();const r=this._geometry;r.updateBatches(),r.batchable?(this.batchDirty!==r.batchDirty&&this._populateBatches(),this._renderBatched(e)):(e.batch.flush(),this._renderDirect(e))}_populateBatches(){const e=this._geometry,r=this.blendMode,n=e.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=e.batchDirty,this.batches.length=n,this.vertexData=new Float32Array(e.points);for(let i=0;i<n;i++){const s=e.batches[i],o=s.style.color,a=new Float32Array(this.vertexData.buffer,s.attribStart*4*2,s.attribSize*2),h=new Float32Array(e.uvsFloat32.buffer,s.attribStart*4*2,s.attribSize*2),c=new Uint16Array(e.indicesUint16.buffer,s.start*2,s.size),d={vertexData:a,blendMode:r,indices:c,uvs:h,_batchRGB:Ze.shared.setValue(o).toRgbArray(),_tintRGB:o,_texture:s.style.texture,alpha:s.style.alpha,worldAlpha:1};this.batches[i]=d}}_renderBatched(e){if(this.batches.length){e.batch.setObjectRenderer(e.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(let r=0,n=this.batches.length;r<n;r++){const i=this.batches[r];i.worldAlpha=this.worldAlpha*i.alpha,e.plugins[this.pluginName].render(i)}}}_renderDirect(e){const r=this._resolveDirectShader(e),n=this._geometry,i=this.worldAlpha,s=r.uniforms,o=n.drawCalls;s.translationMatrix=this.transform.worldTransform,Ze.shared.setValue(this._tintColor).premultiply(i).toArray(s.tint),e.shader.bind(r),e.geometry.bind(n,r),e.state.set(this.state);for(let a=0,h=o.length;a<h;a++)this._renderDrawCallDirect(e,n.drawCalls[a])}_renderDrawCallDirect(e,r){const{texArray:n,type:i,size:s,start:o}=r,a=n.count;for(let h=0;h<a;h++)e.texture.bind(n.elements[h],h);e.geometry.draw(i,s,o)}_resolveDirectShader(e){let r=this.shader;const n=this.pluginName;if(!r){if(!uy[n]){const{maxTextures:i}=e.plugins[n],s=new Int32Array(i);for(let h=0;h<i;h++)s[h]=h;const o={tint:new Float32Array([1,1,1,1]),translationMatrix:new it,default:Wn.from({uSamplers:s},!0)},a=e.plugins[n]._shader.program;uy[n]=new Ii(a,o)}r=uy[n]}return r}_calculateBounds(){this.finishPoly();const e=this._geometry;if(!e.graphicsData.length)return;const{minX:r,minY:n,maxX:i,maxY:s}=e.bounds;this._bounds.addFrame(this.transform,r,n,i,s)}containsPoint(e){return this.worldTransform.applyInverse(e,Of._TEMP_POINT),this._geometry.containsPoint(Of._TEMP_POINT)}calculateTints(){if(this.batchTint!==this.tint){this.batchTint=this._tintColor.toNumber();for(let e=0;e<this.batches.length;e++){const r=this.batches[e];r._tintRGB=Ze.shared.setValue(this._tintColor).multiply(r._batchRGB).toLittleEndianNumber()}}}calculateVertices(){const e=this.transform._worldID;if(this._transformID===e)return;this._transformID=e;const r=this.transform.worldTransform,n=r.a,i=r.b,s=r.c,o=r.d,a=r.tx,h=r.ty,c=this._geometry.points,d=this.vertexData;let p=0;for(let m=0;m<c.length;m+=2){const y=c[m],_=c[m+1];d[p++]=n*y+s*_+a,d[p++]=o*_+i*y+h}}closePath(){const e=this.currentPath;return e&&(e.closeStroke=!0,this.finishPoly()),this}setMatrix(e){return this._matrix=e,this}beginHole(){return this.finishPoly(),this._holeMode=!0,this}endHole(){return this.finishPoly(),this._holeMode=!1,this}destroy(e){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,super.destroy(e)}};S_.curves=Gl,S_._TEMP_POINT=new _e;let yh=S_;class j6 extends Tm{constructor(e=100,r=100,n=10,i=10){super(),this.segWidth=n,this.segHeight=i,this.width=e,this.height=r,this.build()}build(){const e=this.segWidth*this.segHeight,r=[],n=[],i=[],s=this.segWidth-1,o=this.segHeight-1,a=this.width/s,h=this.height/o;for(let d=0;d<e;d++){const p=d%this.segWidth,m=d/this.segWidth|0;r.push(p*a,m*h),n.push(p/s,m/o)}const c=s*o;for(let d=0;d<c;d++){const p=d%s,m=d/s|0,y=m*this.segWidth+p,_=m*this.segWidth+p+1,S=(m+1)*this.segWidth+p,A=(m+1)*this.segWidth+p+1;i.push(y,_,S,_,A,S)}this.buffers[0].data=new Float32Array(r),this.buffers[1].data=new Float32Array(n),this.indexBuffer.data=new Uint16Array(i),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()}}class W6 extends Tm{constructor(e=200,r,n=0){super(new Float32Array(r.length*4),new Float32Array(r.length*4),new Uint16Array((r.length-1)*6)),this.points=r,this._width=e,this.textureScale=n,this.build()}get width(){return this._width}build(){const e=this.points;if(!e)return;const r=this.getBuffer("aVertexPosition"),n=this.getBuffer("aTextureCoord"),i=this.getIndex();if(e.length<1)return;r.data.length/4!==e.length&&(r.data=new Float32Array(e.length*4),n.data=new Float32Array(e.length*4),i.data=new Uint16Array((e.length-1)*6));const s=n.data,o=i.data;s[0]=0,s[1]=0,s[2]=0,s[3]=1;let a=0,h=e[0];const c=this._width*this.textureScale,d=e.length;for(let m=0;m<d;m++){const y=m*4;if(this.textureScale>0){const _=h.x-e[m].x,S=h.y-e[m].y,A=Math.sqrt(_*_+S*S);h=e[m],a+=A/c}else a=m/(d-1);s[y]=a,s[y+1]=0,s[y+2]=a,s[y+3]=1}let p=0;for(let m=0;m<d-1;m++){const y=m*2;o[p++]=y,o[p++]=y+1,o[p++]=y+2,o[p++]=y+2,o[p++]=y+1,o[p++]=y+3}n.update(),i.update(),this.updateVertices()}updateVertices(){const e=this.points;if(e.length<1)return;let r=e[0],n,i=0,s=0;const o=this.buffers[0].data,a=e.length,h=this.textureScale>0?this.textureScale*this._width/2:this._width/2;for(let c=0;c<a;c++){const d=e[c],p=c*4;c<e.length-1?n=e[c+1]:n=d,s=-(n.x-r.x),i=n.y-r.y;const m=Math.sqrt(i*i+s*s);m<1e-6?(i=0,s=0):(i/=m,s/=m,i*=h,s*=h),o[p]=d.x+i,o[p+1]=d.y+s,o[p+2]=d.x-i,o[p+3]=d.y-s,r=d}this.buffers[0].update()}update(){this.textureScale>0?this.build():this.updateVertices()}}class V6 extends Xh{constructor(e,r,n){const i=new j6(e.width,e.height,r,n),s=new Yh(re.WHITE);super(i,s),this.texture=e,this.autoResize=!0}textureUpdated(){this._textureID=this.shader.texture._updateID;const e=this.geometry,{width:r,height:n}=this.shader.texture;this.autoResize&&(e.width!==r||e.height!==n)&&(e.width=this.shader.texture.width,e.height=this.shader.texture.height,e.build())}set texture(e){this.shader.texture!==e&&(this.shader.texture=e,this._textureID=-1,e.baseTexture.valid?this.textureUpdated():e.once("update",this.textureUpdated,this))}get texture(){return this.shader.texture}_render(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),super._render(e)}destroy(e){this.shader.texture.off("update",this.textureUpdated,this),super.destroy(e)}}const Hd=10;class X6 extends V6{constructor(e,r,n,i,s){var o,a,h,c;super(re.WHITE,4,4),this._origWidth=e.orig.width,this._origHeight=e.orig.height,this._width=this._origWidth,this._height=this._origHeight,this._leftWidth=r??((o=e.defaultBorders)==null?void 0:o.left)??Hd,this._rightWidth=i??((a=e.defaultBorders)==null?void 0:a.right)??Hd,this._topHeight=n??((h=e.defaultBorders)==null?void 0:h.top)??Hd,this._bottomHeight=s??((c=e.defaultBorders)==null?void 0:c.bottom)??Hd,this.texture=e}textureUpdated(){this._textureID=this.shader.texture._updateID,this._refresh()}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}updateHorizontalVertices(){const e=this.vertices,r=this._getMinScale();e[9]=e[11]=e[13]=e[15]=this._topHeight*r,e[17]=e[19]=e[21]=e[23]=this._height-this._bottomHeight*r,e[25]=e[27]=e[29]=e[31]=this._height}updateVerticalVertices(){const e=this.vertices,r=this._getMinScale();e[2]=e[10]=e[18]=e[26]=this._leftWidth*r,e[4]=e[12]=e[20]=e[28]=this._width-this._rightWidth*r,e[6]=e[14]=e[22]=e[30]=this._width}_getMinScale(){const e=this._leftWidth+this._rightWidth,r=this._width>e?1:this._width/e,n=this._topHeight+this._bottomHeight,i=this._height>n?1:this._height/n;return Math.min(r,i)}get width(){return this._width}set width(e){this._width=e,this._refresh()}get height(){return this._height}set height(e){this._height=e,this._refresh()}get leftWidth(){return this._leftWidth}set leftWidth(e){this._leftWidth=e,this._refresh()}get rightWidth(){return this._rightWidth}set rightWidth(e){this._rightWidth=e,this._refresh()}get topHeight(){return this._topHeight}set topHeight(e){this._topHeight=e,this._refresh()}get bottomHeight(){return this._bottomHeight}set bottomHeight(e){this._bottomHeight=e,this._refresh()}_refresh(){const e=this.texture,r=this.geometry.buffers[1].data;this._origWidth=e.orig.width,this._origHeight=e.orig.height;const n=1/this._origWidth,i=1/this._origHeight;r[0]=r[8]=r[16]=r[24]=0,r[1]=r[3]=r[5]=r[7]=0,r[6]=r[14]=r[22]=r[30]=1,r[25]=r[27]=r[29]=r[31]=1,r[2]=r[10]=r[18]=r[26]=n*this._leftWidth,r[4]=r[12]=r[20]=r[28]=1-n*this._rightWidth,r[9]=r[11]=r[13]=r[15]=i*this._topHeight,r[17]=r[19]=r[21]=r[23]=1-i*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()}}class Y6 extends Xh{constructor(e=re.EMPTY,r,n,i,s){const o=new Tm(r,n,i);o.getBuffer("aVertexPosition").static=!1;const a=new Yh(e);super(o,a,null,s),this.autoUpdate=!0}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}_render(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),super._render(e)}}class K6 extends Xh{constructor(e,r,n=0){const i=new W6(e.height,r,n),s=new Yh(e);n>0&&(e.baseTexture.wrapMode=ns.REPEAT),super(i,s),this.autoUpdate=!0}_render(e){const r=this.geometry;(this.autoUpdate||r._width!==this.shader.texture.height)&&(r._width=this.shader.texture.height,r.update()),super._render(e)}}class Q6 extends cr{constructor(e=1500,r,n=16384,i=!1){super();const s=16384;n>s&&(n=s),this._properties=[!1,!0,!1,!1,!1],this._maxSize=e,this._batchSize=n,this._buffers=null,this._bufferUpdateIDs=[],this._updateID=0,this.interactiveChildren=!1,this.blendMode=xe.NORMAL,this.autoResize=i,this.roundPixels=!0,this.baseTexture=null,this.setProperties(r),this._tintColor=new Ze(0),this.tintRgb=new Float32Array(3),this.tint=16777215}setProperties(e){e&&(this._properties[0]="vertices"in e||"scale"in e?!!e.vertices||!!e.scale:this._properties[0],this._properties[1]="position"in e?!!e.position:this._properties[1],this._properties[2]="rotation"in e?!!e.rotation:this._properties[2],this._properties[3]="uvs"in e?!!e.uvs:this._properties[3],this._properties[4]="tint"in e||"alpha"in e?!!e.tint||!!e.alpha:this._properties[4])}updateTransform(){this.displayObjectUpdateTransform()}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintColor.toRgbArray(this.tintRgb)}render(e){!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",()=>this.onChildrenChange(0))),e.batch.setObjectRenderer(e.plugins.particle),e.plugins.particle.render(this))}onChildrenChange(e){const r=Math.floor(e/this._batchSize);for(;this._bufferUpdateIDs.length<r;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[r]=++this._updateID}dispose(){if(this._buffers){for(let e=0;e<this._buffers.length;++e)this._buffers[e].destroy();this._buffers=null}}destroy(e){super.destroy(e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null}}class yT{constructor(e,r,n){this.geometry=new io,this.indexBuffer=null,this.size=n,this.dynamicProperties=[],this.staticProperties=[];for(let i=0;i<e.length;++i){let s=e[i];s={attributeName:s.attributeName,size:s.size,uploadFunction:s.uploadFunction,type:s.type||ge.FLOAT,offset:s.offset},r[i]?this.dynamicProperties.push(s):this.staticProperties.push(s)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}initBuffers(){const e=this.geometry;let r=0;this.indexBuffer=new Et(uU(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(let o=0;o<this.dynamicProperties.length;++o){const a=this.dynamicProperties[o];a.offset=r,r+=a.size,this.dynamicStride+=a.size}const n=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(n),this.dynamicDataUint32=new Uint32Array(n),this.dynamicBuffer=new Et(this.dynamicData,!1,!1);let i=0;this.staticStride=0;for(let o=0;o<this.staticProperties.length;++o){const a=this.staticProperties[o];a.offset=i,i+=a.size,this.staticStride+=a.size}const s=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(s),this.staticDataUint32=new Uint32Array(s),this.staticBuffer=new Et(this.staticData,!0,!1);for(let o=0;o<this.dynamicProperties.length;++o){const a=this.dynamicProperties[o];e.addAttribute(a.attributeName,this.dynamicBuffer,0,a.type===ge.UNSIGNED_BYTE,a.type,this.dynamicStride*4,a.offset*4)}for(let o=0;o<this.staticProperties.length;++o){const a=this.staticProperties[o];e.addAttribute(a.attributeName,this.staticBuffer,0,a.type===ge.UNSIGNED_BYTE,a.type,this.staticStride*4,a.offset*4)}}uploadDynamic(e,r,n){for(let i=0;i<this.dynamicProperties.length;i++){const s=this.dynamicProperties[i];s.uploadFunction(e,r,n,s.type===ge.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,s.offset)}this.dynamicBuffer._updateID++}uploadStatic(e,r,n){for(let i=0;i<this.staticProperties.length;i++){const s=this.staticProperties[i];s.uploadFunction(e,r,n,s.type===ge.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,s.offset)}this.staticBuffer._updateID++}destroy(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()}}var q6=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,Z6=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`;class d2 extends Sm{constructor(e){super(e),this.shader=null,this.properties=null,this.tempMatrix=new it,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:ge.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=Ii.from(Z6,q6,{}),this.state=ki.for2d()}render(e){const r=e.children,n=e._maxSize,i=e._batchSize,s=this.renderer;let o=r.length;if(o===0)return;o>n&&!e.autoResize&&(o=n);let a=e._buffers;a||(a=e._buffers=this.generateBuffers(e));const h=r[0]._texture.baseTexture,c=h.alphaMode>0;this.state.blendMode=dR(e.blendMode,c),s.state.set(this.state);const d=s.gl,p=e.worldTransform.copyTo(this.tempMatrix);p.prepend(s.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=p.toArray(!0),this.shader.uniforms.uColor=Ze.shared.setValue(e.tintRgb).premultiply(e.worldAlpha,c).toArray(this.shader.uniforms.uColor),this.shader.uniforms.uSampler=h,this.renderer.shader.bind(this.shader);let m=!1;for(let y=0,_=0;y<o;y+=i,_+=1){let S=o-y;S>i&&(S=i),_>=a.length&&a.push(this._generateOneMoreBuffer(e));const A=a[_];A.uploadDynamic(r,y,S);const E=e._bufferUpdateIDs[_]||0;m=m||A._updateID<E,m&&(A._updateID=e._updateID,A.uploadStatic(r,y,S)),s.geometry.bind(A.geometry),d.drawElements(d.TRIANGLES,S*6,d.UNSIGNED_SHORT,0)}}generateBuffers(e){const r=[],n=e._maxSize,i=e._batchSize,s=e._properties;for(let o=0;o<n;o+=i)r.push(new yT(this.properties,s,i));return r}_generateOneMoreBuffer(e){const r=e._batchSize,n=e._properties;return new yT(this.properties,n,r)}uploadVertices(e,r,n,i,s,o){let a=0,h=0,c=0,d=0;for(let p=0;p<n;++p){const m=e[r+p],y=m._texture,_=m.scale.x,S=m.scale.y,A=y.trim,E=y.orig;A?(h=A.x-m.anchor.x*E.width,a=h+A.width,d=A.y-m.anchor.y*E.height,c=d+A.height):(a=E.width*(1-m.anchor.x),h=E.width*-m.anchor.x,c=E.height*(1-m.anchor.y),d=E.height*-m.anchor.y),i[o]=h*_,i[o+1]=d*S,i[o+s]=a*_,i[o+s+1]=d*S,i[o+s*2]=a*_,i[o+s*2+1]=c*S,i[o+s*3]=h*_,i[o+s*3+1]=c*S,o+=s*4}}uploadPosition(e,r,n,i,s,o){for(let a=0;a<n;a++){const h=e[r+a].position;i[o]=h.x,i[o+1]=h.y,i[o+s]=h.x,i[o+s+1]=h.y,i[o+s*2]=h.x,i[o+s*2+1]=h.y,i[o+s*3]=h.x,i[o+s*3+1]=h.y,o+=s*4}}uploadRotation(e,r,n,i,s,o){for(let a=0;a<n;a++){const h=e[r+a].rotation;i[o]=h,i[o+s]=h,i[o+s*2]=h,i[o+s*3]=h,o+=s*4}}uploadUvs(e,r,n,i,s,o){for(let a=0;a<n;++a){const h=e[r+a]._texture._uvs;h?(i[o]=h.x0,i[o+1]=h.y0,i[o+s]=h.x1,i[o+s+1]=h.y1,i[o+s*2]=h.x2,i[o+s*2+1]=h.y2,i[o+s*3]=h.x3,i[o+s*3+1]=h.y3,o+=s*4):(i[o]=0,i[o+1]=0,i[o+s]=0,i[o+s+1]=0,i[o+s*2]=0,i[o+s*2+1]=0,i[o+s*3]=0,i[o+s*3+1]=0,o+=s*4)}}uploadTint(e,r,n,i,s,o){for(let a=0;a<n;++a){const h=e[r+a],c=Ze.shared.setValue(h._tintRGB).toPremultiplied(h.alpha,h.texture.baseTexture.alphaMode>0);i[o]=c,i[o+s]=c,i[o+s*2]=c,i[o+s*3]=c,o+=s*4}}destroy(){super.destroy(),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null}}d2.extension={name:"particle",type:ne.RendererPlugin};ce.add(d2);class Kh extends Di{constructor(e,r=!0){super(e[0]instanceof re?e[0]:e[0].texture),this._textures=null,this._durations=null,this._autoUpdate=r,this._isConnectedToTicker=!1,this.animationSpeed=1,this.loop=!0,this.updateAnchor=!1,this.onComplete=null,this.onFrameChange=null,this.onLoop=null,this._currentTime=0,this._playing=!1,this._previousFrame=null,this.textures=e}stop(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(Ft.shared.remove(this.update,this),this._isConnectedToTicker=!1))}play(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(Ft.shared.add(this.update,this,so.HIGH),this._isConnectedToTicker=!0))}gotoAndStop(e){this.stop(),this.currentFrame=e}gotoAndPlay(e){this.currentFrame=e,this.play()}update(e){if(!this._playing)return;const r=this.animationSpeed*e,n=this.currentFrame;if(this._durations!==null){let i=this._currentTime%1*this._durations[this.currentFrame];for(i+=r/60*1e3;i<0;)this._currentTime--,i+=this._durations[this.currentFrame];const s=Math.sign(this.animationSpeed*e);for(this._currentTime=Math.floor(this._currentTime);i>=this._durations[this.currentFrame];)i-=this._durations[this.currentFrame]*s,this._currentTime+=s;this._currentTime+=i/this._durations[this.currentFrame]}else this._currentTime+=r;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):n!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<n||this.animationSpeed<0&&this.currentFrame>n)&&this.onLoop(),this.updateTexture())}updateTexture(){const e=this.currentFrame;this._previousFrame!==e&&(this._previousFrame=e,this._texture=this._textures[e],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))}destroy(e){this.stop(),super.destroy(e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null}static fromFrames(e){const r=[];for(let n=0;n<e.length;++n)r.push(re.from(e[n]));return new Kh(r)}static fromImages(e){const r=[];for(let n=0;n<e.length;++n)r.push(re.from(e[n]));return new Kh(r)}get totalFrames(){return this._textures.length}get textures(){return this._textures}set textures(e){if(e[0]instanceof re)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(let r=0;r<e.length;r++)this._textures.push(e[r].texture),this._durations.push(e[r].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()}get currentFrame(){let e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e}set currentFrame(e){if(e<0||e>this.totalFrames-1)throw new Error(`[AnimatedSprite]: Invalid frame index value ${e}, expected to be between 0 and totalFrames ${this.totalFrames}.`);const r=this.currentFrame;this._currentTime=e,r!==this.currentFrame&&this.updateTexture()}get playing(){return this._playing}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(Ft.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(Ft.shared.add(this.update,this),this._isConnectedToTicker=!0))}}const zu=new _e;class fx extends Di{constructor(e,r=100,n=100){super(e),this.tileTransform=new bm,this._width=r,this._height=n,this.uvMatrix=this.texture.uvMatrix||new ox(e),this.pluginName="tilingSprite",this.uvRespectAnchor=!1}get clampMargin(){return this.uvMatrix.clampMargin}set clampMargin(e){this.uvMatrix.clampMargin=e,this.uvMatrix.update(!0)}get tileScale(){return this.tileTransform.scale}set tileScale(e){this.tileTransform.scale.copyFrom(e)}get tilePosition(){return this.tileTransform.position}set tilePosition(e){this.tileTransform.position.copyFrom(e)}_onTextureUpdate(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215}_render(e){const r=this._texture;!r||!r.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this))}_calculateBounds(){const e=this._width*-this._anchor._x,r=this._height*-this._anchor._y,n=this._width*(1-this._anchor._x),i=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,e,r,n,i)}getLocalBounds(e){return this.children.length===0?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new be),e=this._localBoundsRect),this._bounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,zu);const r=this._width,n=this._height,i=-r*this.anchor._x;if(zu.x>=i&&zu.x<i+r){const s=-n*this.anchor._y;if(zu.y>=s&&zu.y<s+n)return!0}return!1}destroy(e){super.destroy(e),this.tileTransform=null,this.uvMatrix=null}static from(e,r){const n=e instanceof re?e:re.from(e,r);return new fx(n,r.width,r.height)}get width(){return this._width}set width(e){this._width=e}get height(){return this._height}set height(e){this._height=e}}var J6=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,ez=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,tz=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,_T=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,rz=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`;const jd=new it;class f2 extends Sm{constructor(e){super(e),e.runners.contextChange.add(this),this.quad=new TR,this.state=ki.for2d()}contextChange(){const e=this.renderer,r={globals:e.globalUniforms};this.simpleShader=Ii.from(_T,rz,r),this.shader=e.context.webGLVersion>1?Ii.from(ez,J6,r):Ii.from(_T,tz,r)}render(e){const r=this.renderer,n=this.quad;let i=n.vertices;i[0]=i[6]=e._width*-e.anchor.x,i[1]=i[3]=e._height*-e.anchor.y,i[2]=i[4]=e._width*(1-e.anchor.x),i[5]=i[7]=e._height*(1-e.anchor.y);const s=e.uvRespectAnchor?e.anchor.x:0,o=e.uvRespectAnchor?e.anchor.y:0;i=n.uvs,i[0]=i[6]=-s,i[1]=i[3]=-o,i[2]=i[4]=1-s,i[5]=i[7]=1-o,n.invalidate();const a=e._texture,h=a.baseTexture,c=h.alphaMode>0,d=e.tileTransform.localTransform,p=e.uvMatrix;let m=h.isPowerOfTwo&&a.frame.width===h.width&&a.frame.height===h.height;m&&(h._glTextures[r.CONTEXT_UID]?m=h.wrapMode!==ns.CLAMP:h.wrapMode===ns.CLAMP&&(h.wrapMode=ns.REPEAT));const y=m?this.simpleShader:this.shader,_=a.width,S=a.height,A=e._width,E=e._height;jd.set(d.a*_/A,d.b*_/E,d.c*S/A,d.d*S/E,d.tx/A,d.ty/E),jd.invert(),m?jd.prepend(p.mapCoord):(y.uniforms.uMapCoord=p.mapCoord.toArray(!0),y.uniforms.uClampFrame=p.uClampFrame,y.uniforms.uClampOffset=p.uClampOffset),y.uniforms.uTransform=jd.toArray(!0),y.uniforms.uColor=Ze.shared.setValue(e.tint).premultiply(e.worldAlpha,c).toArray(y.uniforms.uColor),y.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),y.uniforms.uSampler=a,r.shader.bind(y),r.geometry.bind(n),this.state.blendMode=dR(e.blendMode,c),r.state.set(this.state),r.geometry.draw(this.renderer.gl.TRIANGLES,6,0)}}f2.extension={name:"tilingSprite",type:ne.RendererPlugin};ce.add(f2);const p2=class E_{constructor(e){this.stage=new cr,e=Object.assign({forceCanvas:!1},e),this.renderer=S5(e),E_._plugins.forEach(r=>{r.init.call(this,e)})}render(){this.renderer.render(this.stage)}get view(){var e;return(e=this.renderer)==null?void 0:e.view}get screen(){var e;return(e=this.renderer)==null?void 0:e.screen}destroy(e,r){const n=E_._plugins.slice(0);n.reverse(),n.forEach(i=>{i.destroy.call(this)}),this.stage.destroy(r),this.stage=null,this.renderer.destroy(e),this.renderer=null}};p2._plugins=[];let Pm=p2;ce.handleByList(ne.Application,Pm._plugins);class m2{static init(e){Object.defineProperty(this,"resizeTo",{set(r){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=r,r&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this.cancelResize(),this._resizeId=requestAnimationFrame(()=>this.resize()))},this.cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;this.cancelResize();let r,n;if(this._resizeTo===globalThis.window)r=globalThis.innerWidth,n=globalThis.innerHeight;else{const{clientWidth:i,clientHeight:s}=this._resizeTo;r=i,n=s}this.renderer.resize(r,n),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}m2.extension=ne.Application;ce.add(m2);var g2={exports:{}},nz="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",iz=nz,sz=iz;function v2(){}function y2(){}y2.resetWarningCache=v2;var oz=function(){function t(n,i,s,o,a,h){if(h!==sz){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:y2,resetWarningCache:v2};return r.PropTypes=r,r};g2.exports=oz();var az=g2.exports;const ve=qh(az);function Hr(t){return Hr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hr(t)}function _2(t){var e=function(r,n){if(Hr(r)!=="object"||r===null)return r;var i=r[Symbol.toPrimitive];if(i!==void 0){var s=i.call(r,n||"default");if(Hr(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(r)}(t,"string");return Hr(e)==="symbol"?e:String(e)}function St(t,e,r){return(e=_2(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hy(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ds(t){return function(e){if(Array.isArray(e))return hy(e)}(t)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||function(e,r){if(e){if(typeof e=="string")return hy(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?hy(e,r):void 0}}(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function wt(t,e){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i]}var lz=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function uz(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var hz=function(t){return t==null};function Zu(t){var e=[];if(t===void 0)return e;if(typeof t=="string")e=t.split(",");else if(typeof t=="number")e=[t];else if(Array.isArray(t))e=ds(t);else{if(t===null||Hr(t)!=="object")return e;e=[t&&(t==null?void 0:t.x)||0,t&&(t==null?void 0:t.y)||0]}return e.filter(function(r){return!hz(r)&&!isNaN(r)}).map(Number)}function xT(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function cy(t){return t instanceof _e||t instanceof bi}var Op=["click","mousedown","mousemove","mouseout","mouseover","mouseup","mouseupoutside","tap","touchstart","touchmove","touchend","touchendoutside","pointercancel","pointerout","pointerover","pointertap","pointerdown","pointerup","pointerupoutside","pointermove","rightclick","rightdown","rightup","rightupoutside","touchcancel","touchendoutside","touchmove","touchstart"];function dy(t,e,r){if(cy(t[e])&&cy(r))t[e].copyFrom(r);else if(cy(t[e])){var n=Zu(r);wt(n!==void 0&&n.length>0&&n.length<3,"The property `%s` is a `Point` and must be set to a comma-separated string of either coordinates, an array containing coordinates, or a Point.",e,JSON.stringify(r),Hr(r)),t[e].set(n.shift(),n.shift())}else t[e]=r}var Ua,x2=function(t){var e,r=t;if(!Array.isArray(r)){if(e=t,Object.prototype.toString.call(e)!=="[object Object]")throw new Error("collection needs to be an Array or Object");r=Object.keys(t)}var n={};return r.forEach(function(i){n[i]=!0}),function(i){return n[i]!==void 0}},w2=function(t){return function(){return!t.apply(void 0,arguments)}},T_="children",cz=(St(Ua={},T_,!0),St(Ua,"parent",!0),St(Ua,"worldAlpha",!0),St(Ua,"worldTransform",!0),St(Ua,"worldVisible",!0),Ua),A_={alpha:1,buttonMode:!1,cacheAsBitmap:!1,cursor:null,filterArea:null,filters:null,hitArea:null,interactive:!1,mask:null,pivot:0,position:0,renderable:!0,rotation:0,scale:1,skew:0,transform:null,visible:!0,x:0,y:0},Oi=function(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=function(a){return requestAnimationFrame(function(){var h,c;a==null||(h=a.__reactpixi)===null||h===void 0||(c=h.root)===null||c===void 0||c.emit("__REACT_PIXI_REQUEST_RENDER__")})},i=function(a,h){if(r.hasOwnProperty(a))return wt(h.typeofs.some(function(c){return Hr(r[a])===c})||h.instanceofs.some(function(c){return r[a]instanceof c}),"".concat(t," ").concat(a," prop is invalid")),r[a]};if(r.texture)return wt(r.texture instanceof re,"".concat(t," texture needs to be typeof `Texture`")),r.texture;var s=i("image",{typeofs:["string"],instanceofs:[HTMLImageElement]})||i("video",{typeofs:["string"],instanceofs:[HTMLVideoElement]})||i("source",{typeofs:["string","number"],instanceofs:[HTMLImageElement,HTMLVideoElement,HTMLCanvasElement,re]});wt(!!s,"".concat(t," could not get texture from props"));var o=re.from(s);return o.__reactpixi={root:e},o.once("update",n),o.once("loaded",n),o.valid&&n(o),o},dz=w2(x2([].concat(ds(Object.keys(cz)),ds(Op))));function Mi(t,e,r){var n=!1;if(wt(ct.prototype.isPrototypeOf(t),"instance needs to be typeof `DisplayObject`, got `%s`",Hr(t)),!r.ignoreEvents)for(var i=typeof t.removeListener=="function",s=typeof t.on=="function",o=0;o<Op.length;o++){var a=Op[o];e[a]!==r[a]&&(n=!0,typeof e[a]=="function"&&i&&t.removeListener(a,e[a]),typeof r[a]=="function"&&s&&t.on(a,r[a]))}var h=Object.keys(r||{});if(r.overwriteProps){for(var c=0;c<h.length;c++){var d=h[c];e[d]!==r[d]&&(n=!0,dy(t,d,r[d]))}return n}for(var p=h.filter(dz),m=0;m<p.length;m++){var y=p[m],_=r[y];r[y]!==e[y]&&(n=!0),_!==void 0?dy(t,y,_):y in A_?(console.warn("setting default value: ".concat(y,", from: ").concat(t[y]," to: ").concat(_," for"),t),n=!0,dy(t,y,A_[y])):console.warn("ignoring prop: ".concat(y,", from ").concat(t[y]," to ").concat(_," for"),t)}return n}var fz=function(t,e){var r=e.text,n=e.style;return new Y5(r,n)},pz=function(){return new cr};function fo(t,e){if(t==null)return{};var r,n,i=function(o,a){if(o==null)return{};var h,c,d={},p=Object.keys(o);for(c=0;c<p.length;c++)h=p[c],a.indexOf(h)>=0||(d[h]=o[h]);return d}(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}var mz=["draw","geometry"],gz=function(t,e){var r=e.geometry;wt(!r||r instanceof yh,"Graphics geometry needs to be a `Graphics`");var n=r?new yh(r.geometry):new yh;return n.applyProps=function(i,s,o){var a=o.draw;o.geometry;var h=Mi(i,s,fo(o,mz));return s.draw!==a&&typeof a=="function"&&(h=!0,a.call(n,n)),h},n},vz=["image","texture"],yz=function(t,e){var r=e.leftWidth,n=r===void 0?10:r,i=e.topHeight,s=i===void 0?10:i,o=e.rightWidth,a=o===void 0?10:o,h=e.bottomHeight,c=h===void 0?10:h,d=Oi("NineSlicePlane",t,e),p=new X6(d,n,s,a,c);return p.applyProps=function(m,y,_){var S=_.image,A=_.texture,E=Mi(m,y,fo(_,vz));return(S||A)&&(A!==y.texture&&(E=!0),m.texture=Oi("NineSlicePlane",t,_)),E},p};function wT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Wd(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wT(Object(r),!0).forEach(function(n){St(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var _z=function(t,e){var r=e.maxSize,n=r===void 0?1500:r,i=e.batchSize,s=i===void 0?16384:i,o=e.autoResize,a=o!==void 0&&o,h=Wd(Wd({},{vertices:!1,scale:!0,position:!0,rotation:!0,uvs:!0,tint:!0}),e.properties||{}),c=Wd(Wd({},{children:!1,texture:!1,baseTexture:!1}),e.destroyOptions||{}),d=new Q6(n,h,s,a);return d.willUnmount=function(p,m,y){p.destroy(c)},d},xz=["image","texture"],wz=function(t,e){var r=new Di(Oi("Sprite",t,e));return r.applyProps=function(n,i,s){var o=s.image,a=s.texture,h=Mi(n,i,fo(s,xz));return(a&&i.texture!==s.texture||o&&i.image!==s.image)&&(i.texture!==s.texture&&(h=!0),n.texture=Oi("Sprite",t,s)),h},r},bz=["textures","isPlaying","initialFrame","images"],Sz=function(t,e){var r=e.textures,n=e.images,i=e.isPlaying,s=i===void 0||i,o=e.initialFrame,a=function(c){return c.map(function(d){return wt(d instanceof re||(d==null?void 0:d.texture),"AnimationSprite texture needs to be an array of `Texture` or `{ texture: Texture, time:\n                number }`"),d})},h=n?Kh.fromImages(n):new Kh(a(r));return h[s?"gotoAndPlay":"gotoAndStop"](o||0),h.applyProps=function(c,d,p){var m=p.textures,y=p.isPlaying,_=p.initialFrame,S=p.images,A=Mi(c,d,fo(p,bz));if(S&&d.images!==S){for(var E=[],b=0;b<S.length;++b)E.push(re.from(S[b]));c.textures=E,A=!0}if(m&&d.textures!==m&&(c.textures=a(m),A=!0),y!==d.isPlaying||_!==d.initialFrame){var x=typeof _=="number"?_:h.currentFrame||0;h[y?"gotoAndPlay":"gotoAndStop"](x),A=!0}return A},h},Ez=function(t,e){var r=e.text,n=r===void 0?"":r,i=e.style,s=i===void 0?{}:i,o=e.isSprite,a=new lx(n,s);return o?(a.updateText(),new Di(a.texture)):a},Tz=["tileScale","tilePosition","image","texture"],Az=function(t,e){var r=e.width,n=r===void 0?100:r,i=e.height,s=i===void 0?100:i,o=Oi("TilingSprite",t,e),a=new fx(o,n,s);return a.applyProps=function(h,c,d){var p=d.tileScale,m=d.tilePosition,y=d.image,_=d.texture,S=Mi(h,c,fo(d,Tz));if(m){var A,E=Zu(m);(A=h.tilePosition).set.apply(A,ds(E)),S=!xT(Zu(c.tilePosition),E)||S}if(p){var b,x=Zu(p);(b=h.tileScale).set.apply(b,ds(x)),S=!xT(Zu(c.tileScale),x)||S}return(y||_)&&(_!==c.texture&&(S=!0),h.texture=Oi("Sprite",t,d)),S},a},Cz=["image","texture"],Pz=function(t,e){var r=Oi("Mesh",t,e),n=e.vertices,i=e.uvs,s=e.indices,o=e.drawMode,a=o===void 0?Bn.TRIANGLES:o,h=new Y6(r,n,i,s,a);return h.applyProps=function(c,d,p){var m=p.image,y=p.texture,_=Mi(c,d,fo(p,Cz));return(m||y)&&(y!==d.texture&&(_=!0),c.texture=Oi("Mesh",t,p)),_},h},Iz=["image","texture"],Rz=function(t,e){var r=Oi("SimpleRope",t,e),n=e.points,i=new K6(r,n);return i.applyProps=function(s,o,a){var h=a.image,c=a.texture,d=fo(a,Iz);wt(Array.isArray(a.points),"SimpleRope points needs to be %s","Array<Point>");var p=Mi(s,o,d);return(h||c)&&(c!==o.texture&&(p=!0),s.texture=Oi("SimpleRope",t,a)),p},i},Oz=Object.freeze({__proto__:null,BitmapText:fz,Container:pz,Graphics:gz,NineSlicePlane:yz,ParticleContainer:_z,Sprite:wz,Text:Ez,TilingSprite:Az,SimpleMesh:Pz,SimpleRope:Rz,AnimatedSprite:Sz});function bT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ST(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bT(Object(r),!0).forEach(function(n){St(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Or={BitmapText:"BitmapText",Container:"Container",Graphics:"Graphics",NineSlicePlane:"NineSlicePlane",ParticleContainer:"ParticleContainer",Sprite:"Sprite",AnimatedSprite:"AnimatedSprite",Text:"Text",TilingSprite:"TilingSprite",SimpleMesh:"SimpleMesh",SimpleRope:"SimpleRope"},Mz=Object.keys(Or).reduce(function(t,e){return ST(ST({},t),{},St({},e,Oz[e]))},{}),b2={};function kz(t,e){return wt(!!t,"Expect type to be defined, got `%s`",t),wt(!Or[t],"Component `%s` could not be created, already exists in default components.",t),b2[t]=e,t}var ET,TT,AT,CT,C_={},P_={},Dz={get exports(){return P_},set exports(t){P_=t}},PT={};function Nz(){return TT||(TT=1,Dz.exports=(ET||(ET=1,function(t){function e(O,$){var N=O.length;O.push($);e:for(;0<N;){var U=N-1>>>1,Z=O[U];if(!(0<i(Z,$)))break e;O[U]=$,O[N]=Z,N=U}}function r(O){return O.length===0?null:O[0]}function n(O){if(O.length===0)return null;var $=O[0],N=O.pop();if(N!==$){O[0]=N;e:for(var U=0,Z=O.length,Ae=Z>>>1;U<Ae;){var we=2*(U+1)-1,Ne=O[we],Te=we+1,ke=O[Te];if(0>i(Ne,N))Te<Z&&0>i(ke,Ne)?(O[U]=ke,O[Te]=N,U=Te):(O[U]=Ne,O[we]=N,U=we);else{if(!(Te<Z&&0>i(ke,N)))break e;O[U]=ke,O[Te]=N,U=Te}}}return $}function i(O,$){var N=O.sortIndex-$.sortIndex;return N!==0?N:O.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var h=[],c=[],d=1,p=null,m=3,y=!1,_=!1,S=!1,A=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;function x(O){for(var $=r(c);$!==null;){if($.callback===null)n(c);else{if(!($.startTime<=O))break;n(c),$.sortIndex=$.expirationTime,e(h,$)}$=r(c)}}function T(O){if(S=!1,x(O),!_)if(r(h)!==null)_=!0,me(P);else{var $=r(c);$!==null&&ae(T,$.startTime-O)}}function P(O,$){_=!1,S&&(S=!1,E(W),W=-1),y=!0;var N=m;try{for(x($),p=r(h);p!==null&&(!(p.expirationTime>$)||O&&!J());){var U=p.callback;if(typeof U=="function"){p.callback=null,m=p.priorityLevel;var Z=U(p.expirationTime<=$);$=t.unstable_now(),typeof Z=="function"?p.callback=Z:p===r(h)&&n(h),x($)}else n(h);p=r(h)}if(p!==null)var Ae=!0;else{var we=r(c);we!==null&&ae(T,we.startTime-$),Ae=!1}return Ae}finally{p=null,m=N,y=!1}}typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var M,R=!1,D=null,W=-1,V=5,pe=-1;function J(){return!(t.unstable_now()-pe<V)}function B(){if(D!==null){var O=t.unstable_now();pe=O;var $=!0;try{$=D(!0,O)}finally{$?M():(R=!1,D=null)}}else R=!1}if(typeof b=="function")M=function(){b(B)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,ie=X.port2;X.port1.onmessage=B,M=function(){ie.postMessage(null)}}else M=function(){A(B,0)};function me(O){D=O,R||(R=!0,M())}function ae(O,$){W=A(function(){O(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){_||y||(_=!0,me(P))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return r(h)},t.unstable_next=function(O){switch(m){case 1:case 2:case 3:var $=3;break;default:$=m}var N=m;m=$;try{return O()}finally{m=N}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,$){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var N=m;m=O;try{return $()}finally{m=N}},t.unstable_scheduleCallback=function(O,$,N){var U=t.unstable_now();switch(N=typeof N=="object"&&N!==null&&typeof(N=N.delay)=="number"&&0<N?U+N:U,O){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return O={id:d++,callback:$,priorityLevel:O,startTime:N,expirationTime:Z=N+Z,sortIndex:-1},N>U?(O.sortIndex=N,e(c,O),r(h)===null&&O===r(c)&&(S?(E(W),W=-1):S=!0,ae(T,N-U))):(O.sortIndex=Z,e(h,O),_||y||(_=!0,me(P))),O},t.unstable_shouldYield=J,t.unstable_wrapCallback=function(O){var $=m;return function(){var N=m;m=$;try{return O.apply(this,arguments)}finally{m=N}}}}(PT)),PT)),P_}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function Fz(){return CT||(CT=1,AT=function(t){var e={},r=ht,n=Nz(),i=Object.assign;function s(l){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+l,f=1;f<arguments.length;f++)u+="&args[]="+encodeURIComponent(arguments[f]);return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,a=Symbol.for("react.element"),h=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),y=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),x=Symbol.for("react.offscreen"),T=Symbol.iterator;function P(l){return l===null||typeof l!="object"?null:typeof(l=T&&l[T]||l["@@iterator"])=="function"?l:null}function M(l){if(l==null)return null;if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case c:return"Fragment";case h:return"Portal";case p:return"Profiler";case d:return"StrictMode";case S:return"Suspense";case A:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case y:return(l.displayName||"Context")+".Consumer";case m:return(l._context.displayName||"Context")+".Provider";case _:var u=l.render;return(l=l.displayName)||(l=(l=u.displayName||u.name||"")!==""?"ForwardRef("+l+")":"ForwardRef"),l;case E:return(u=l.displayName||null)!==null?u:M(l.type)||"Memo";case b:u=l._payload,l=l._init;try{return M(l(u))}catch{}}return null}function R(l){var u=l.type;switch(l.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return l=(l=u.render).displayName||l.name||"",u.displayName||(l!==""?"ForwardRef("+l+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return M(u);case 8:return u===d?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function D(l){var u=l,f=l;if(l.alternate)for(;u.return;)u=u.return;else{l=u;do 4098&(u=l).flags&&(f=u.return),l=u.return;while(l)}return u.tag===3?f:null}function W(l){if(D(l)!==l)throw Error(s(188))}function V(l){var u=l.alternate;if(!u){if((u=D(l))===null)throw Error(s(188));return u!==l?null:l}for(var f=l,g=u;;){var v=f.return;if(v===null)break;var w=v.alternate;if(w===null){if((g=v.return)!==null){f=g;continue}break}if(v.child===w.child){for(w=v.child;w;){if(w===f)return W(v),l;if(w===g)return W(v),u;w=w.sibling}throw Error(s(188))}if(f.return!==g.return)f=v,g=w;else{for(var C=!1,I=v.child;I;){if(I===f){C=!0,f=v,g=w;break}if(I===g){C=!0,g=v,f=w;break}I=I.sibling}if(!C){for(I=w.child;I;){if(I===f){C=!0,f=w,g=v;break}if(I===g){C=!0,g=w,f=v;break}I=I.sibling}if(!C)throw Error(s(189))}}if(f.alternate!==g)throw Error(s(190))}if(f.tag!==3)throw Error(s(188));return f.stateNode.current===f?l:u}function pe(l){return(l=V(l))!==null?J(l):null}function J(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){var u=J(l);if(u!==null)return u;l=l.sibling}return null}function B(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){if(l.tag!==4){var u=B(l);if(u!==null)return u}l=l.sibling}return null}var X,ie=Array.isArray,me=t.getPublicInstance,ae=t.getRootHostContext,O=t.getChildHostContext,$=t.prepareForCommit,N=t.resetAfterCommit,U=t.createInstance,Z=t.appendInitialChild,Ae=t.finalizeInitialChildren,we=t.prepareUpdate,Ne=t.shouldSetTextContent,Te=t.createTextInstance,ke=t.scheduleTimeout,st=t.cancelTimeout,et=t.noTimeout,Ke=t.isPrimaryRenderer,Pe=t.supportsMutation,Be=t.supportsPersistence,$e=t.supportsHydration,Yr=t.getInstanceFromNode,Kr=t.preparePortalMount,po=t.getCurrentEventPriority,Om=t.detachDeletedInstance,ma=t.supportsMicrotasks,Y2=t.scheduleMicrotask,nu=t.supportsTestSelectors,K2=t.findFiberRoot,Q2=t.getBoundingRect,q2=t.getTextContent,iu=t.isHiddenSubtree,Z2=t.matchAccessibilityRole,J2=t.setFocusIfFocusable,eO=t.setupIntersectionObserver,tO=t.appendChild,rO=t.appendChildToContainer,nO=t.commitTextUpdate,iO=t.commitMount,sO=t.commitUpdate,oO=t.insertBefore,aO=t.insertInContainerBefore,lO=t.removeChild,uO=t.removeChildFromContainer,gx=t.resetTextContent,hO=t.hideInstance,cO=t.hideTextInstance,dO=t.unhideInstance,fO=t.unhideTextInstance,pO=t.clearContainer,mO=t.cloneInstance,vx=t.createContainerChildSet,yx=t.appendChildToContainerChildSet,gO=t.finalizeContainerChildren,Mm=t.replaceContainerChildren,_x=t.cloneHiddenInstance,xx=t.cloneHiddenTextInstance,vO=t.canHydrateInstance,yO=t.canHydrateTextInstance,_O=t.canHydrateSuspenseInstance,wx=t.isSuspenseInstancePending,km=t.isSuspenseInstanceFallback,xO=t.getSuspenseInstanceFallbackErrorDetails,wO=t.registerSuspenseInstanceRetry,fc=t.getNextHydratableSibling,bO=t.getFirstHydratableChild,SO=t.getFirstHydratableChildWithinContainer,EO=t.getFirstHydratableChildWithinSuspenseInstance,TO=t.hydrateInstance,AO=t.hydrateTextInstance,CO=t.hydrateSuspenseInstance,PO=t.getNextHydratableInstanceAfterSuspenseInstance,IO=t.commitHydratedContainer,RO=t.commitHydratedSuspenseInstance,OO=t.clearSuspenseBoundary,MO=t.clearSuspenseBoundaryFromContainer,kO=t.shouldDeleteUnhydratedTailInstances,DO=t.didNotMatchHydratedContainerTextInstance,NO=t.didNotMatchHydratedTextInstance;function su(l){if(X===void 0)try{throw Error()}catch(f){var u=f.stack.trim().match(/\n( *(at )?)/);X=u&&u[1]||""}return`
`+X+l}var Dm=!1;function Nm(l,u){if(!l||Dm)return"";Dm=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(z){var g=z}Reflect.construct(l,[],u)}else{try{u.call()}catch(z){g=z}l.call(u.prototype)}else{try{throw Error()}catch(z){g=z}l()}}catch(z){if(z&&g&&typeof z.stack=="string"){for(var v=z.stack.split(`
`),w=g.stack.split(`
`),C=v.length-1,I=w.length-1;1<=C&&0<=I&&v[C]!==w[I];)I--;for(;1<=C&&0<=I;C--,I--)if(v[C]!==w[I]){if(C!==1||I!==1)do if(C--,0>--I||v[C]!==w[I]){var F=`
`+v[C].replace(" at new "," at ");return l.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",l.displayName)),F}while(1<=C&&0<=I);break}}}finally{Dm=!1,Error.prepareStackTrace=f}return(l=l?l.displayName||l.name:"")?su(l):""}var FO=Object.prototype.hasOwnProperty,Fm=[],ga=-1;function ps(l){return{current:l}}function ot(l){0>ga||(l.current=Fm[ga],Fm[ga]=null,ga--)}function Qe(l,u){ga++,Fm[ga]=l.current,l.current=u}var ms={},tr=ps(ms),xr=ps(!1),mo=ms;function va(l,u){var f=l.type.contextTypes;if(!f)return ms;var g=l.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===u)return g.__reactInternalMemoizedMaskedChildContext;var v,w={};for(v in f)w[v]=u[v];return g&&((l=l.stateNode).__reactInternalMemoizedUnmaskedChildContext=u,l.__reactInternalMemoizedMaskedChildContext=w),w}function Mr(l){return(l=l.childContextTypes)!=null}function Bm(){ot(xr),ot(tr)}function bx(l,u,f){if(tr.current!==ms)throw Error(s(168));Qe(tr,u),Qe(xr,f)}function Sx(l,u,f){var g=l.stateNode;if(u=u.childContextTypes,typeof g.getChildContext!="function")return f;for(var v in g=g.getChildContext())if(!(v in u))throw Error(s(108,R(l)||"Unknown",v));return i({},f,g)}function pc(l){return l=(l=l.stateNode)&&l.__reactInternalMemoizedMergedChildContext||ms,mo=tr.current,Qe(tr,l),Qe(xr,xr.current),!0}function Ex(l,u,f){var g=l.stateNode;if(!g)throw Error(s(169));f?(l=Sx(l,u,mo),g.__reactInternalMemoizedMergedChildContext=l,ot(xr),ot(tr),Qe(tr,l)):ot(xr),Qe(xr,f)}var bn=Math.clz32?Math.clz32:function(l){return(l>>>=0)===0?32:31-(BO(l)/LO|0)|0},BO=Math.log,LO=Math.LN2,Lm=64,Um=4194304;function ou(l){switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&l;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&l;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return l}}function mc(l,u){var f=l.pendingLanes;if(f===0)return 0;var g=0,v=l.suspendedLanes,w=l.pingedLanes,C=268435455&f;if(C!==0){var I=C&~v;I!==0?g=ou(I):(w&=C)!==0&&(g=ou(w))}else(C=f&~v)!==0?g=ou(C):w!==0&&(g=ou(w));if(g===0)return 0;if(u!==0&&u!==g&&!(u&v)&&((v=g&-g)>=(w=u&-u)||v===16&&4194240&w))return u;if(4&g&&(g|=16&f),(u=l.entangledLanes)!==0)for(l=l.entanglements,u&=g;0<u;)v=1<<(f=31-bn(u)),g|=l[f],u&=~v;return g}function UO(l,u){switch(l){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;default:return-1}}function zm(l){return(l=-1073741825&l.pendingLanes)!==0?l:1073741824&l?1073741824:0}function Tx(){var l=Lm;return!(4194240&(Lm<<=1))&&(Lm=64),l}function $m(l){for(var u=[],f=0;31>f;f++)u.push(l);return u}function au(l,u,f){l.pendingLanes|=u,u!==536870912&&(l.suspendedLanes=0,l.pingedLanes=0),(l=l.eventTimes)[u=31-bn(u)]=f}function Gm(l,u){var f=l.entangledLanes|=u;for(l=l.entanglements;f;){var g=31-bn(f),v=1<<g;v&u|l[g]&u&&(l[g]|=u),f&=~v}}var Ge=0;function Ax(l){return 1<(l&=-l)?4<l?268435455&l?16:536870912:4:1}var Hm=n.unstable_scheduleCallback,Cx=n.unstable_cancelCallback,zO=n.unstable_shouldYield,$O=n.unstable_requestPaint,Bt=n.unstable_now,jm=n.unstable_ImmediatePriority,GO=n.unstable_UserBlockingPriority,Px=n.unstable_NormalPriority,HO=n.unstable_IdlePriority,gc=null,qn=null,Sn=typeof Object.is=="function"?Object.is:function(l,u){return l===u&&(l!==0||1/l==1/u)||l!=l&&u!=u},Ni=null,vc=!1,Wm=!1;function Ix(l){Ni===null?Ni=[l]:Ni.push(l)}function Zn(){if(!Wm&&Ni!==null){Wm=!0;var l=0,u=Ge;try{var f=Ni;for(Ge=1;l<f.length;l++){var g=f[l];do g=g(!0);while(g!==null)}Ni=null,vc=!1}catch(v){throw Ni!==null&&(Ni=Ni.slice(l+1)),Hm(jm,Zn),v}finally{Ge=u,Wm=!1}}return null}var ya=[],_a=0,yc=null,_c=0,Qr=[],qr=0,go=null,Jn=1,Fi="";function vo(l,u){ya[_a++]=_c,ya[_a++]=yc,yc=l,_c=u}function Rx(l,u,f){Qr[qr++]=Jn,Qr[qr++]=Fi,Qr[qr++]=go,go=l;var g=Jn;l=Fi;var v=32-bn(g)-1;g&=~(1<<v),f+=1;var w=32-bn(u)+v;if(30<w){var C=v-v%5;w=(g&(1<<C)-1).toString(32),g>>=C,v-=C,Jn=1<<32-bn(u)+v|f<<v|g,Fi=w+l}else Jn=1<<w|f<<v|g,Fi=l}function Vm(l){l.return!==null&&(vo(l,1),Rx(l,1,0))}function Xm(l){for(;l===yc;)yc=ya[--_a],ya[_a]=null,_c=ya[--_a],ya[_a]=null;for(;l===go;)go=Qr[--qr],Qr[qr]=null,Fi=Qr[--qr],Qr[qr]=null,Jn=Qr[--qr],Qr[qr]=null}var kr=null,Zr=null,at=!1,lu=!1,En=null;function Ox(l,u){var f=nn(5,null,null,0);f.elementType="DELETED",f.stateNode=u,f.return=l,(u=l.deletions)===null?(l.deletions=[f],l.flags|=16):u.push(f)}function Mx(l,u){switch(l.tag){case 5:return(u=vO(u,l.type,l.pendingProps))!==null&&(l.stateNode=u,kr=l,Zr=bO(u),!0);case 6:return(u=yO(u,l.pendingProps))!==null&&(l.stateNode=u,kr=l,Zr=null,!0);case 13:if((u=_O(u))!==null){var f=go!==null?{id:Jn,overflow:Fi}:null;return l.memoizedState={dehydrated:u,treeContext:f,retryLane:1073741824},(f=nn(18,null,null,0)).stateNode=u,f.return=l,l.child=f,kr=l,Zr=null,!0}return!1;default:return!1}}function Ym(l){return(1&l.mode)!=0&&(128&l.flags)==0}function Km(l){if(at){var u=Zr;if(u){var f=u;if(!Mx(l,u)){if(Ym(l))throw Error(s(418));u=fc(f);var g=kr;u&&Mx(l,u)?Ox(g,f):(l.flags=-4097&l.flags|2,at=!1,kr=l)}}else{if(Ym(l))throw Error(s(418));l.flags=-4097&l.flags|2,at=!1,kr=l}}}function kx(l){for(l=l.return;l!==null&&l.tag!==5&&l.tag!==3&&l.tag!==13;)l=l.return;kr=l}function xc(l){if(!$e||l!==kr)return!1;if(!at)return kx(l),at=!0,!1;if(l.tag!==3&&(l.tag!==5||kO(l.type)&&!Ne(l.type,l.memoizedProps))){var u=Zr;if(u){if(Ym(l))throw Dx(),Error(s(418));for(;u;)Ox(l,u),u=fc(u)}}if(kx(l),l.tag===13){if(!$e)throw Error(s(316));if(!(l=(l=l.memoizedState)!==null?l.dehydrated:null))throw Error(s(317));Zr=PO(l)}else Zr=kr?fc(l.stateNode):null;return!0}function Dx(){for(var l=Zr;l;)l=fc(l)}function xa(){$e&&(Zr=kr=null,lu=at=!1)}function Qm(l){En===null?En=[l]:En.push(l)}var jO=o.ReactCurrentBatchConfig;function wc(l,u){if(Sn(l,u))return!0;if(typeof l!="object"||l===null||typeof u!="object"||u===null)return!1;var f=Object.keys(l),g=Object.keys(u);if(f.length!==g.length)return!1;for(g=0;g<f.length;g++){var v=f[g];if(!FO.call(u,v)||!Sn(l[v],u[v]))return!1}return!0}function WO(l){switch(l.tag){case 5:return su(l.type);case 16:return su("Lazy");case 13:return su("Suspense");case 19:return su("SuspenseList");case 0:case 2:case 15:return l=Nm(l.type,!1);case 11:return l=Nm(l.type.render,!1);case 1:return l=Nm(l.type,!0);default:return""}}function Tn(l,u){if(l&&l.defaultProps){for(var f in u=i({},u),l=l.defaultProps)u[f]===void 0&&(u[f]=l[f]);return u}return u}var bc=ps(null),Sc=null,wa=null,qm=null;function Zm(){qm=wa=Sc=null}function Nx(l,u,f){Ke?(Qe(bc,u._currentValue),u._currentValue=f):(Qe(bc,u._currentValue2),u._currentValue2=f)}function Jm(l){var u=bc.current;ot(bc),Ke?l._currentValue=u:l._currentValue2=u}function eg(l,u,f){for(;l!==null;){var g=l.alternate;if((l.childLanes&u)!==u?(l.childLanes|=u,g!==null&&(g.childLanes|=u)):g!==null&&(g.childLanes&u)!==u&&(g.childLanes|=u),l===f)break;l=l.return}}function ba(l,u){Sc=l,qm=wa=null,(l=l.dependencies)!==null&&l.firstContext!==null&&(l.lanes&u&&(wr=!0),l.firstContext=null)}function Jr(l){var u=Ke?l._currentValue:l._currentValue2;if(qm!==l)if(l={context:l,memoizedValue:u,next:null},wa===null){if(Sc===null)throw Error(s(308));wa=l,Sc.dependencies={lanes:0,firstContext:l}}else wa=wa.next=l;return u}var yo=null;function tg(l){yo===null?yo=[l]:yo.push(l)}function Fx(l,u,f,g){var v=u.interleaved;return v===null?(f.next=f,tg(u)):(f.next=v.next,v.next=f),u.interleaved=f,ei(l,g)}function ei(l,u){l.lanes|=u;var f=l.alternate;for(f!==null&&(f.lanes|=u),f=l,l=l.return;l!==null;)l.childLanes|=u,(f=l.alternate)!==null&&(f.childLanes|=u),f=l,l=l.return;return f.tag===3?f.stateNode:null}var gs=!1;function rg(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Bx(l,u){l=l.updateQueue,u.updateQueue===l&&(u.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,effects:l.effects})}function Bi(l,u){return{eventTime:l,lane:u,tag:0,payload:null,callback:null,next:null}}function vs(l,u,f){var g=l.updateQueue;if(g===null)return null;if(g=g.shared,(2&Fe)!=0){var v=g.pending;return v===null?u.next=u:(u.next=v.next,v.next=u),g.pending=u,ei(l,f)}return(v=g.interleaved)===null?(u.next=u,tg(g)):(u.next=v.next,v.next=u),g.interleaved=u,ei(l,f)}function Ec(l,u,f){if((u=u.updateQueue)!==null&&(u=u.shared,(4194240&f)!=0)){var g=u.lanes;f|=g&=l.pendingLanes,u.lanes=f,Gm(l,f)}}function Lx(l,u){var f=l.updateQueue,g=l.alternate;if(g!==null&&f===(g=g.updateQueue)){var v=null,w=null;if((f=f.firstBaseUpdate)!==null){do{var C={eventTime:f.eventTime,lane:f.lane,tag:f.tag,payload:f.payload,callback:f.callback,next:null};w===null?v=w=C:w=w.next=C,f=f.next}while(f!==null);w===null?v=w=u:w=w.next=u}else v=w=u;return f={baseState:g.baseState,firstBaseUpdate:v,lastBaseUpdate:w,shared:g.shared,effects:g.effects},void(l.updateQueue=f)}(l=f.lastBaseUpdate)===null?f.firstBaseUpdate=u:l.next=u,f.lastBaseUpdate=u}function Tc(l,u,f,g){var v=l.updateQueue;gs=!1;var w=v.firstBaseUpdate,C=v.lastBaseUpdate,I=v.shared.pending;if(I!==null){v.shared.pending=null;var F=I,z=F.next;F.next=null,C===null?w=z:C.next=z,C=F;var H=l.alternate;H!==null&&(I=(H=H.updateQueue).lastBaseUpdate)!==C&&(I===null?H.firstBaseUpdate=z:I.next=z,H.lastBaseUpdate=F)}if(w!==null){var te=v.baseState;for(C=0,H=z=F=null,I=w;;){var G=I.lane,Q=I.eventTime;if((g&G)===G){H!==null&&(H=H.next={eventTime:Q,lane:0,tag:I.tag,payload:I.payload,callback:I.callback,next:null});e:{var he=l,Ie=I;switch(G=u,Q=f,Ie.tag){case 1:if(typeof(he=Ie.payload)=="function"){te=he.call(Q,te,G);break e}te=he;break e;case 3:he.flags=-65537&he.flags|128;case 0:if((G=typeof(he=Ie.payload)=="function"?he.call(Q,te,G):he)==null)break e;te=i({},te,G);break e;case 2:gs=!0}}I.callback!==null&&I.lane!==0&&(l.flags|=64,(G=v.effects)===null?v.effects=[I]:G.push(I))}else Q={eventTime:Q,lane:G,tag:I.tag,payload:I.payload,callback:I.callback,next:null},H===null?(z=H=Q,F=te):H=H.next=Q,C|=G;if((I=I.next)===null){if((I=v.shared.pending)===null)break;I=(G=I).next,G.next=null,v.lastBaseUpdate=G,v.shared.pending=null}}if(H===null&&(F=te),v.baseState=F,v.firstBaseUpdate=z,v.lastBaseUpdate=H,(u=v.shared.interleaved)!==null){v=u;do C|=v.lane,v=v.next;while(v!==u)}else w===null&&(v.shared.lanes=0);xo|=C,l.lanes=C,l.memoizedState=te}}function Ux(l,u,f){if(l=u.effects,u.effects=null,l!==null)for(u=0;u<l.length;u++){var g=l[u],v=g.callback;if(v!==null){if(g.callback=null,g=f,typeof v!="function")throw Error(s(191,v));v.call(g)}}}var zx=new r.Component().refs;function ng(l,u,f,g){f=(f=f(g,u=l.memoizedState))==null?u:i({},u,f),l.memoizedState=f,l.lanes===0&&(l.updateQueue.baseState=f)}var Ac={isMounted:function(l){return!!(l=l._reactInternals)&&D(l)===l},enqueueSetState:function(l,u,f){l=l._reactInternals;var g=ir(),v=ws(l),w=Bi(g,v);w.payload=u,f!=null&&(w.callback=f),(u=vs(l,w,v))!==null&&(rn(u,l,v,g),Ec(u,l,v))},enqueueReplaceState:function(l,u,f){l=l._reactInternals;var g=ir(),v=ws(l),w=Bi(g,v);w.tag=1,w.payload=u,f!=null&&(w.callback=f),(u=vs(l,w,v))!==null&&(rn(u,l,v,g),Ec(u,l,v))},enqueueForceUpdate:function(l,u){l=l._reactInternals;var f=ir(),g=ws(l),v=Bi(f,g);v.tag=2,u!=null&&(v.callback=u),(u=vs(l,v,g))!==null&&(rn(u,l,g,f),Ec(u,l,g))}};function $x(l,u,f,g,v,w,C){return typeof(l=l.stateNode).shouldComponentUpdate=="function"?l.shouldComponentUpdate(g,w,C):!u.prototype||!u.prototype.isPureReactComponent||!wc(f,g)||!wc(v,w)}function Gx(l,u,f){var g=!1,v=ms,w=u.contextType;return typeof w=="object"&&w!==null?w=Jr(w):(v=Mr(u)?mo:tr.current,w=(g=(g=u.contextTypes)!=null)?va(l,v):ms),u=new u(f,w),l.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Ac,l.stateNode=u,u._reactInternals=l,g&&((l=l.stateNode).__reactInternalMemoizedUnmaskedChildContext=v,l.__reactInternalMemoizedMaskedChildContext=w),u}function Hx(l,u,f,g){l=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(f,g),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(f,g),u.state!==l&&Ac.enqueueReplaceState(u,u.state,null)}function ig(l,u,f,g){var v=l.stateNode;v.props=f,v.state=l.memoizedState,v.refs=zx,rg(l);var w=u.contextType;typeof w=="object"&&w!==null?v.context=Jr(w):(w=Mr(u)?mo:tr.current,v.context=va(l,w)),v.state=l.memoizedState,typeof(w=u.getDerivedStateFromProps)=="function"&&(ng(l,u,w,f),v.state=l.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(u=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),u!==v.state&&Ac.enqueueReplaceState(v,v.state,null),Tc(l,f,v,g),v.state=l.memoizedState),typeof v.componentDidMount=="function"&&(l.flags|=4194308)}function uu(l,u,f){if((l=f.ref)!==null&&typeof l!="function"&&typeof l!="object"){if(f._owner){if(f=f._owner){if(f.tag!==1)throw Error(s(309));var g=f.stateNode}if(!g)throw Error(s(147,l));var v=g,w=""+l;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===w?u.ref:(u=function(C){var I=v.refs;I===zx&&(I=v.refs={}),C===null?delete I[w]:I[w]=C},u._stringRef=w,u)}if(typeof l!="string")throw Error(s(284));if(!f._owner)throw Error(s(290,l))}return l}function Cc(l,u){throw l=Object.prototype.toString.call(u),Error(s(31,l==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":l))}function jx(l){return(0,l._init)(l._payload)}function Wx(l){function u(j,k){if(l){var L=j.deletions;L===null?(j.deletions=[k],j.flags|=16):L.push(k)}}function f(j,k){if(!l)return null;for(;k!==null;)u(j,k),k=k.sibling;return null}function g(j,k){for(j=new Map;k!==null;)k.key!==null?j.set(k.key,k):j.set(k.index,k),k=k.sibling;return j}function v(j,k){return(j=Ss(j,k)).index=0,j.sibling=null,j}function w(j,k,L){return j.index=L,l?(L=j.alternate)!==null?(L=L.index)<k?(j.flags|=2,k):L:(j.flags|=2,k):(j.flags|=1048576,k)}function C(j){return l&&j.alternate===null&&(j.flags|=2),j}function I(j,k,L,Y){return k===null||k.tag!==6?((k=jg(L,j.mode,Y)).return=j,k):((k=v(k,L)).return=j,k)}function F(j,k,L,Y){var ye=L.type;return ye===c?H(j,k,L.props.children,Y,L.key):k!==null&&(k.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===b&&jx(ye)===k.type)?((Y=v(k,L.props)).ref=uu(j,k,L),Y.return=j,Y):((Y=Jc(L.type,L.key,L.props,null,j.mode,Y)).ref=uu(j,k,L),Y.return=j,Y)}function z(j,k,L,Y){return k===null||k.tag!==4||k.stateNode.containerInfo!==L.containerInfo||k.stateNode.implementation!==L.implementation?((k=Wg(L,j.mode,Y)).return=j,k):((k=v(k,L.children||[])).return=j,k)}function H(j,k,L,Y,ye){return k===null||k.tag!==7?((k=So(L,j.mode,Y,ye)).return=j,k):((k=v(k,L)).return=j,k)}function te(j,k,L){if(typeof k=="string"&&k!==""||typeof k=="number")return(k=jg(""+k,j.mode,L)).return=j,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case a:return(L=Jc(k.type,k.key,k.props,null,j.mode,L)).ref=uu(j,null,k),L.return=j,L;case h:return(k=Wg(k,j.mode,L)).return=j,k;case b:return te(j,(0,k._init)(k._payload),L)}if(ie(k)||P(k))return(k=So(k,j.mode,L,null)).return=j,k;Cc(j,k)}return null}function G(j,k,L,Y){var ye=k!==null?k.key:null;if(typeof L=="string"&&L!==""||typeof L=="number")return ye!==null?null:I(j,k,""+L,Y);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case a:return L.key===ye?F(j,k,L,Y):null;case h:return L.key===ye?z(j,k,L,Y):null;case b:return G(j,k,(ye=L._init)(L._payload),Y)}if(ie(L)||P(L))return ye!==null?null:H(j,k,L,Y,null);Cc(j,L)}return null}function Q(j,k,L,Y,ye){if(typeof Y=="string"&&Y!==""||typeof Y=="number")return I(k,j=j.get(L)||null,""+Y,ye);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case a:return F(k,j=j.get(Y.key===null?L:Y.key)||null,Y,ye);case h:return z(k,j=j.get(Y.key===null?L:Y.key)||null,Y,ye);case b:return Q(j,k,L,(0,Y._init)(Y._payload),ye)}if(ie(Y)||P(Y))return H(k,j=j.get(L)||null,Y,ye,null);Cc(k,Y)}return null}function he(j,k,L,Y){for(var ye=null,We=null,de=k,He=k=0,Yt=null;de!==null&&He<L.length;He++){de.index>He?(Yt=de,de=null):Yt=de.sibling;var Ve=G(j,de,L[He],Y);if(Ve===null){de===null&&(de=Yt);break}l&&de&&Ve.alternate===null&&u(j,de),k=w(Ve,k,He),We===null?ye=Ve:We.sibling=Ve,We=Ve,de=Yt}if(He===L.length)return f(j,de),at&&vo(j,He),ye;if(de===null){for(;He<L.length;He++)(de=te(j,L[He],Y))!==null&&(k=w(de,k,He),We===null?ye=de:We.sibling=de,We=de);return at&&vo(j,He),ye}for(de=g(j,de);He<L.length;He++)(Yt=Q(de,j,He,L[He],Y))!==null&&(l&&Yt.alternate!==null&&de.delete(Yt.key===null?He:Yt.key),k=w(Yt,k,He),We===null?ye=Yt:We.sibling=Yt,We=Yt);return l&&de.forEach(function(Es){return u(j,Es)}),at&&vo(j,He),ye}function Ie(j,k,L,Y){var ye=P(L);if(typeof ye!="function")throw Error(s(150));if((L=ye.call(L))==null)throw Error(s(151));for(var We=ye=null,de=k,He=k=0,Yt=null,Ve=L.next();de!==null&&!Ve.done;He++,Ve=L.next()){de.index>He?(Yt=de,de=null):Yt=de.sibling;var Es=G(j,de,Ve.value,Y);if(Es===null){de===null&&(de=Yt);break}l&&de&&Es.alternate===null&&u(j,de),k=w(Es,k,He),We===null?ye=Es:We.sibling=Es,We=Es,de=Yt}if(Ve.done)return f(j,de),at&&vo(j,He),ye;if(de===null){for(;!Ve.done;He++,Ve=L.next())(Ve=te(j,Ve.value,Y))!==null&&(k=w(Ve,k,He),We===null?ye=Ve:We.sibling=Ve,We=Ve);return at&&vo(j,He),ye}for(de=g(j,de);!Ve.done;He++,Ve=L.next())(Ve=Q(de,j,He,Ve.value,Y))!==null&&(l&&Ve.alternate!==null&&de.delete(Ve.key===null?He:Ve.key),k=w(Ve,k,He),We===null?ye=Ve:We.sibling=Ve,We=Ve);return l&&de.forEach(function(mM){return u(j,mM)}),at&&vo(j,He),ye}return function j(k,L,Y,ye){if(typeof Y=="object"&&Y!==null&&Y.type===c&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case a:e:{for(var We=Y.key,de=L;de!==null;){if(de.key===We){if((We=Y.type)===c){if(de.tag===7){f(k,de.sibling),(L=v(de,Y.props.children)).return=k,k=L;break e}}else if(de.elementType===We||typeof We=="object"&&We!==null&&We.$$typeof===b&&jx(We)===de.type){f(k,de.sibling),(L=v(de,Y.props)).ref=uu(k,de,Y),L.return=k,k=L;break e}f(k,de);break}u(k,de),de=de.sibling}Y.type===c?((L=So(Y.props.children,k.mode,ye,Y.key)).return=k,k=L):((ye=Jc(Y.type,Y.key,Y.props,null,k.mode,ye)).ref=uu(k,L,Y),ye.return=k,k=ye)}return C(k);case h:e:{for(de=Y.key;L!==null;){if(L.key===de){if(L.tag===4&&L.stateNode.containerInfo===Y.containerInfo&&L.stateNode.implementation===Y.implementation){f(k,L.sibling),(L=v(L,Y.children||[])).return=k,k=L;break e}f(k,L);break}u(k,L),L=L.sibling}(L=Wg(Y,k.mode,ye)).return=k,k=L}return C(k);case b:return j(k,L,(de=Y._init)(Y._payload),ye)}if(ie(Y))return he(k,L,Y,ye);if(P(Y))return Ie(k,L,Y,ye);Cc(k,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"?(Y=""+Y,L!==null&&L.tag===6?(f(k,L.sibling),(L=v(L,Y)).return=k,k=L):(f(k,L),(L=jg(Y,k.mode,ye)).return=k,k=L),C(k)):f(k,L)}}var Sa=Wx(!0),Vx=Wx(!1),hu={},en=ps(hu),cu=ps(hu),Ea=ps(hu);function ti(l){if(l===hu)throw Error(s(174));return l}function sg(l,u){Qe(Ea,u),Qe(cu,l),Qe(en,hu),l=ae(u),ot(en),Qe(en,l)}function Ta(){ot(en),ot(cu),ot(Ea)}function Xx(l){var u=ti(Ea.current),f=ti(en.current);f!==(u=O(f,l.type,u))&&(Qe(cu,l),Qe(en,u))}function og(l){cu.current===l&&(ot(en),ot(cu))}var yt=ps(0);function Pc(l){for(var u=l;u!==null;){if(u.tag===13){var f=u.memoizedState;if(f!==null&&((f=f.dehydrated)===null||wx(f)||km(f)))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if(128&u.flags)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var ag=[];function lg(){for(var l=0;l<ag.length;l++){var u=ag[l];Ke?u._workInProgressVersionPrimary=null:u._workInProgressVersionSecondary=null}ag.length=0}var Ic=o.ReactCurrentDispatcher,ug=o.ReactCurrentBatchConfig,_o=0,dt=null,Lt=null,Ut=null,Rc=!1,du=!1,fu=0,VO=0;function rr(){throw Error(s(321))}function hg(l,u){if(u===null)return!1;for(var f=0;f<u.length&&f<l.length;f++)if(!Sn(l[f],u[f]))return!1;return!0}function cg(l,u,f,g,v,w){if(_o=w,dt=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,Ic.current=l===null||l.memoizedState===null?QO:qO,l=f(g,v),du){w=0;do{if(du=!1,fu=0,25<=w)throw Error(s(301));w+=1,Ut=Lt=null,u.updateQueue=null,Ic.current=ZO,l=f(g,v)}while(du)}if(Ic.current=kc,u=Lt!==null&&Lt.next!==null,_o=0,Ut=Lt=dt=null,Rc=!1,u)throw Error(s(300));return l}function dg(){var l=fu!==0;return fu=0,l}function ri(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ut===null?dt.memoizedState=Ut=l:Ut=Ut.next=l,Ut}function tn(){if(Lt===null){var l=dt.alternate;l=l!==null?l.memoizedState:null}else l=Lt.next;var u=Ut===null?dt.memoizedState:Ut.next;if(u!==null)Ut=u,Lt=l;else{if(l===null)throw Error(s(310));l={memoizedState:(Lt=l).memoizedState,baseState:Lt.baseState,baseQueue:Lt.baseQueue,queue:Lt.queue,next:null},Ut===null?dt.memoizedState=Ut=l:Ut=Ut.next=l}return Ut}function pu(l,u){return typeof u=="function"?u(l):u}function fg(l){var u=tn(),f=u.queue;if(f===null)throw Error(s(311));f.lastRenderedReducer=l;var g=Lt,v=g.baseQueue,w=f.pending;if(w!==null){if(v!==null){var C=v.next;v.next=w.next,w.next=C}g.baseQueue=v=w,f.pending=null}if(v!==null){w=v.next,g=g.baseState;var I=C=null,F=null,z=w;do{var H=z.lane;if((_o&H)===H)F!==null&&(F=F.next={lane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),g=z.hasEagerState?z.eagerState:l(g,z.action);else{var te={lane:H,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null};F===null?(I=F=te,C=g):F=F.next=te,dt.lanes|=H,xo|=H}z=z.next}while(z!==null&&z!==w);F===null?C=g:F.next=I,Sn(g,u.memoizedState)||(wr=!0),u.memoizedState=g,u.baseState=C,u.baseQueue=F,f.lastRenderedState=g}if((l=f.interleaved)!==null){v=l;do w=v.lane,dt.lanes|=w,xo|=w,v=v.next;while(v!==l)}else v===null&&(f.lanes=0);return[u.memoizedState,f.dispatch]}function pg(l){var u=tn(),f=u.queue;if(f===null)throw Error(s(311));f.lastRenderedReducer=l;var g=f.dispatch,v=f.pending,w=u.memoizedState;if(v!==null){f.pending=null;var C=v=v.next;do w=l(w,C.action),C=C.next;while(C!==v);Sn(w,u.memoizedState)||(wr=!0),u.memoizedState=w,u.baseQueue===null&&(u.baseState=w),f.lastRenderedState=w}return[w,g]}function Yx(){}function Kx(l,u){var f=dt,g=tn(),v=u(),w=!Sn(g.memoizedState,v);if(w&&(g.memoizedState=v,wr=!0),g=g.queue,mg(Zx.bind(null,f,g,l),[l]),g.getSnapshot!==u||w||Ut!==null&&1&Ut.memoizedState.tag){if(f.flags|=2048,mu(9,qx.bind(null,f,g,v,u),void 0,null),zt===null)throw Error(s(349));30&_o||Qx(f,u,v)}return v}function Qx(l,u,f){l.flags|=16384,l={getSnapshot:u,value:f},(u=dt.updateQueue)===null?(u={lastEffect:null,stores:null},dt.updateQueue=u,u.stores=[l]):(f=u.stores)===null?u.stores=[l]:f.push(l)}function qx(l,u,f,g){u.value=f,u.getSnapshot=g,Jx(u)&&ew(l)}function Zx(l,u,f){return f(function(){Jx(u)&&ew(l)})}function Jx(l){var u=l.getSnapshot;l=l.value;try{var f=u();return!Sn(l,f)}catch{return!0}}function ew(l){var u=ei(l,1);u!==null&&rn(u,l,1,-1)}function tw(l){var u=ri();return typeof l=="function"&&(l=l()),u.memoizedState=u.baseState=l,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:pu,lastRenderedState:l},u.queue=l,l=l.dispatch=KO.bind(null,dt,l),[u.memoizedState,l]}function mu(l,u,f,g){return l={tag:l,create:u,destroy:f,deps:g,next:null},(u=dt.updateQueue)===null?(u={lastEffect:null,stores:null},dt.updateQueue=u,u.lastEffect=l.next=l):(f=u.lastEffect)===null?u.lastEffect=l.next=l:(g=f.next,f.next=l,l.next=g,u.lastEffect=l),l}function rw(){return tn().memoizedState}function Oc(l,u,f,g){var v=ri();dt.flags|=l,v.memoizedState=mu(1|u,f,void 0,g===void 0?null:g)}function Mc(l,u,f,g){var v=tn();g=g===void 0?null:g;var w=void 0;if(Lt!==null){var C=Lt.memoizedState;if(w=C.destroy,g!==null&&hg(g,C.deps))return void(v.memoizedState=mu(u,f,w,g))}dt.flags|=l,v.memoizedState=mu(1|u,f,w,g)}function nw(l,u){return Oc(8390656,8,l,u)}function mg(l,u){return Mc(2048,8,l,u)}function iw(l,u){return Mc(4,2,l,u)}function sw(l,u){return Mc(4,4,l,u)}function ow(l,u){return typeof u=="function"?(l=l(),u(l),function(){u(null)}):u!=null?(l=l(),u.current=l,function(){u.current=null}):void 0}function aw(l,u,f){return f=f!=null?f.concat([l]):null,Mc(4,4,ow.bind(null,u,l),f)}function gg(){}function lw(l,u){var f=tn();u=u===void 0?null:u;var g=f.memoizedState;return g!==null&&u!==null&&hg(u,g[1])?g[0]:(f.memoizedState=[l,u],l)}function uw(l,u){var f=tn();u=u===void 0?null:u;var g=f.memoizedState;return g!==null&&u!==null&&hg(u,g[1])?g[0]:(l=l(),f.memoizedState=[l,u],l)}function hw(l,u,f){return 21&_o?(Sn(f,u)||(f=Tx(),dt.lanes|=f,xo|=f,l.baseState=!0),u):(l.baseState&&(l.baseState=!1,wr=!0),l.memoizedState=f)}function XO(l,u){var f=Ge;Ge=f!==0&&4>f?f:4,l(!0);var g=ug.transition;ug.transition={};try{l(!1),u()}finally{Ge=f,ug.transition=g}}function cw(){return tn().memoizedState}function YO(l,u,f){var g=ws(l);f={lane:g,action:f,hasEagerState:!1,eagerState:null,next:null},dw(l)?fw(u,f):(f=Fx(l,u,f,g))!==null&&(rn(f,l,g,ir()),pw(f,u,g))}function KO(l,u,f){var g=ws(l),v={lane:g,action:f,hasEagerState:!1,eagerState:null,next:null};if(dw(l))fw(u,v);else{var w=l.alternate;if(l.lanes===0&&(w===null||w.lanes===0)&&(w=u.lastRenderedReducer)!==null)try{var C=u.lastRenderedState,I=w(C,f);if(v.hasEagerState=!0,v.eagerState=I,Sn(I,C)){var F=u.interleaved;return F===null?(v.next=v,tg(u)):(v.next=F.next,F.next=v),void(u.interleaved=v)}}catch{}(f=Fx(l,u,v,g))!==null&&(rn(f,l,g,v=ir()),pw(f,u,g))}}function dw(l){var u=l.alternate;return l===dt||u!==null&&u===dt}function fw(l,u){du=Rc=!0;var f=l.pending;f===null?u.next=u:(u.next=f.next,f.next=u),l.pending=u}function pw(l,u,f){if(4194240&f){var g=u.lanes;f|=g&=l.pendingLanes,u.lanes=f,Gm(l,f)}}var kc={readContext:Jr,useCallback:rr,useContext:rr,useEffect:rr,useImperativeHandle:rr,useInsertionEffect:rr,useLayoutEffect:rr,useMemo:rr,useReducer:rr,useRef:rr,useState:rr,useDebugValue:rr,useDeferredValue:rr,useTransition:rr,useMutableSource:rr,useSyncExternalStore:rr,useId:rr,unstable_isNewReconciler:!1},QO={readContext:Jr,useCallback:function(l,u){return ri().memoizedState=[l,u===void 0?null:u],l},useContext:Jr,useEffect:nw,useImperativeHandle:function(l,u,f){return f=f!=null?f.concat([l]):null,Oc(4194308,4,ow.bind(null,u,l),f)},useLayoutEffect:function(l,u){return Oc(4194308,4,l,u)},useInsertionEffect:function(l,u){return Oc(4,2,l,u)},useMemo:function(l,u){var f=ri();return u=u===void 0?null:u,l=l(),f.memoizedState=[l,u],l},useReducer:function(l,u,f){var g=ri();return u=f!==void 0?f(u):u,g.memoizedState=g.baseState=u,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:u},g.queue=l,l=l.dispatch=YO.bind(null,dt,l),[g.memoizedState,l]},useRef:function(l){return l={current:l},ri().memoizedState=l},useState:tw,useDebugValue:gg,useDeferredValue:function(l){return ri().memoizedState=l},useTransition:function(){var l=tw(!1),u=l[0];return l=XO.bind(null,l[1]),ri().memoizedState=l,[u,l]},useMutableSource:function(){},useSyncExternalStore:function(l,u,f){var g=dt,v=ri();if(at){if(f===void 0)throw Error(s(407));f=f()}else{if(f=u(),zt===null)throw Error(s(349));30&_o||Qx(g,u,f)}v.memoizedState=f;var w={value:f,getSnapshot:u};return v.queue=w,nw(Zx.bind(null,g,w,l),[l]),g.flags|=2048,mu(9,qx.bind(null,g,w,f,u),void 0,null),f},useId:function(){var l=ri(),u=zt.identifierPrefix;if(at){var f=Fi;u=":"+u+"R"+(f=(Jn&~(1<<32-bn(Jn)-1)).toString(32)+f),0<(f=fu++)&&(u+="H"+f.toString(32)),u+=":"}else u=":"+u+"r"+(f=VO++).toString(32)+":";return l.memoizedState=u},unstable_isNewReconciler:!1},qO={readContext:Jr,useCallback:lw,useContext:Jr,useEffect:mg,useImperativeHandle:aw,useInsertionEffect:iw,useLayoutEffect:sw,useMemo:uw,useReducer:fg,useRef:rw,useState:function(){return fg(pu)},useDebugValue:gg,useDeferredValue:function(l){return hw(tn(),Lt.memoizedState,l)},useTransition:function(){return[fg(pu)[0],tn().memoizedState]},useMutableSource:Yx,useSyncExternalStore:Kx,useId:cw,unstable_isNewReconciler:!1},ZO={readContext:Jr,useCallback:lw,useContext:Jr,useEffect:mg,useImperativeHandle:aw,useInsertionEffect:iw,useLayoutEffect:sw,useMemo:uw,useReducer:pg,useRef:rw,useState:function(){return pg(pu)},useDebugValue:gg,useDeferredValue:function(l){var u=tn();return Lt===null?u.memoizedState=l:hw(u,Lt.memoizedState,l)},useTransition:function(){return[pg(pu)[0],tn().memoizedState]},useMutableSource:Yx,useSyncExternalStore:Kx,useId:cw,unstable_isNewReconciler:!1};function Aa(l,u){try{var f="",g=u;do f+=WO(g),g=g.return;while(g);var v=f}catch(w){v=`
Error generating stack: `+w.message+`
`+w.stack}return{value:l,source:u,stack:v,digest:null}}function vg(l,u,f){return{value:l,source:null,stack:f??null,digest:u??null}}function yg(l,u){try{console.error(u.value)}catch(f){setTimeout(function(){throw f})}}var JO=typeof WeakMap=="function"?WeakMap:Map;function mw(l,u,f){(f=Bi(-1,f)).tag=3,f.payload={element:null};var g=u.value;return f.callback=function(){Xc||(Xc=!0,Bg=g),yg(0,u)},f}function gw(l,u,f){(f=Bi(-1,f)).tag=3;var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var v=u.value;f.payload=function(){return g(v)},f.callback=function(){yg(0,u)}}var w=l.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(f.callback=function(){yg(0,u),typeof g!="function"&&(_s===null?_s=new Set([this]):_s.add(this));var C=u.stack;this.componentDidCatch(u.value,{componentStack:C!==null?C:""})}),f}function vw(l,u,f){var g=l.pingCache;if(g===null){g=l.pingCache=new JO;var v=new Set;g.set(u,v)}else(v=g.get(u))===void 0&&(v=new Set,g.set(u,v));v.has(f)||(v.add(f),l=lM.bind(null,l,u,f),u.then(l,l))}function yw(l){do{var u;if((u=l.tag===13)&&(u=(u=l.memoizedState)===null||u.dehydrated!==null),u)return l;l=l.return}while(l!==null);return null}function _w(l,u,f,g,v){return 1&l.mode?(l.flags|=65536,l.lanes=v,l):(l===u?l.flags|=65536:(l.flags|=128,f.flags|=131072,f.flags&=-52805,f.tag===1&&(f.alternate===null?f.tag=17:((u=Bi(-1,1)).tag=2,vs(f,u,1))),f.lanes|=1),l)}var eM=o.ReactCurrentOwner,wr=!1;function br(l,u,f,g){u.child=l===null?Vx(u,null,f,g):Sa(u,l.child,f,g)}function xw(l,u,f,g,v){f=f.render;var w=u.ref;return ba(u,v),g=cg(l,u,f,g,w,v),f=dg(),l===null||wr?(at&&f&&Vm(u),u.flags|=1,br(l,u,g,v),u.child):(u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~v,Li(l,u,v))}function ww(l,u,f,g,v){if(l===null){var w=f.type;return typeof w!="function"||Hg(w)||w.defaultProps!==void 0||f.compare!==null||f.defaultProps!==void 0?((l=Jc(f.type,null,g,u,u.mode,v)).ref=u.ref,l.return=u,u.child=l):(u.tag=15,u.type=w,bw(l,u,w,g,v))}if(w=l.child,(l.lanes&v)==0){var C=w.memoizedProps;if((f=(f=f.compare)!==null?f:wc)(C,g)&&l.ref===u.ref)return Li(l,u,v)}return u.flags|=1,(l=Ss(w,g)).ref=u.ref,l.return=u,u.child=l}function bw(l,u,f,g,v){if(l!==null){var w=l.memoizedProps;if(wc(w,g)&&l.ref===u.ref){if(wr=!1,u.pendingProps=g=w,(l.lanes&v)==0)return u.lanes=l.lanes,Li(l,u,v);131072&l.flags&&(wr=!0)}}return _g(l,u,f,g,v)}function Sw(l,u,f){var g=u.pendingProps,v=g.children,w=l!==null?l.memoizedState:null;if(g.mode==="hidden")if(!(1&u.mode))u.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qe(Pa,Dr),Dr|=f;else{if(!(1073741824&f))return l=w!==null?w.baseLanes|f:f,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:l,cachePool:null,transitions:null},u.updateQueue=null,Qe(Pa,Dr),Dr|=l,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=w!==null?w.baseLanes:f,Qe(Pa,Dr),Dr|=g}else w!==null?(g=w.baseLanes|f,u.memoizedState=null):g=f,Qe(Pa,Dr),Dr|=g;return br(l,u,v,f),u.child}function Ew(l,u){var f=u.ref;(l===null&&f!==null||l!==null&&l.ref!==f)&&(u.flags|=512,u.flags|=2097152)}function _g(l,u,f,g,v){var w=Mr(f)?mo:tr.current;return w=va(u,w),ba(u,v),f=cg(l,u,f,g,w,v),g=dg(),l===null||wr?(at&&g&&Vm(u),u.flags|=1,br(l,u,f,v),u.child):(u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~v,Li(l,u,v))}function Tw(l,u,f,g,v){if(Mr(f)){var w=!0;pc(u)}else w=!1;if(ba(u,v),u.stateNode===null)Bc(l,u),Gx(u,f,g),ig(u,f,g,v),g=!0;else if(l===null){var C=u.stateNode,I=u.memoizedProps;C.props=I;var F=C.context,z=f.contextType;typeof z=="object"&&z!==null?z=Jr(z):z=va(u,z=Mr(f)?mo:tr.current);var H=f.getDerivedStateFromProps,te=typeof H=="function"||typeof C.getSnapshotBeforeUpdate=="function";te||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(I!==g||F!==z)&&Hx(u,C,g,z),gs=!1;var G=u.memoizedState;C.state=G,Tc(u,g,C,v),F=u.memoizedState,I!==g||G!==F||xr.current||gs?(typeof H=="function"&&(ng(u,f,H,g),F=u.memoizedState),(I=gs||$x(u,f,I,g,G,F,z))?(te||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(u.flags|=4194308)):(typeof C.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=g,u.memoizedState=F),C.props=g,C.state=F,C.context=z,g=I):(typeof C.componentDidMount=="function"&&(u.flags|=4194308),g=!1)}else{C=u.stateNode,Bx(l,u),I=u.memoizedProps,z=u.type===u.elementType?I:Tn(u.type,I),C.props=z,te=u.pendingProps,G=C.context,typeof(F=f.contextType)=="object"&&F!==null?F=Jr(F):F=va(u,F=Mr(f)?mo:tr.current);var Q=f.getDerivedStateFromProps;(H=typeof Q=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(I!==te||G!==F)&&Hx(u,C,g,F),gs=!1,G=u.memoizedState,C.state=G,Tc(u,g,C,v);var he=u.memoizedState;I!==te||G!==he||xr.current||gs?(typeof Q=="function"&&(ng(u,f,Q,g),he=u.memoizedState),(z=gs||$x(u,f,z,g,G,he,F)||!1)?(H||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(g,he,F),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(g,he,F)),typeof C.componentDidUpdate=="function"&&(u.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof C.componentDidUpdate!="function"||I===l.memoizedProps&&G===l.memoizedState||(u.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||I===l.memoizedProps&&G===l.memoizedState||(u.flags|=1024),u.memoizedProps=g,u.memoizedState=he),C.props=g,C.state=he,C.context=F,g=z):(typeof C.componentDidUpdate!="function"||I===l.memoizedProps&&G===l.memoizedState||(u.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||I===l.memoizedProps&&G===l.memoizedState||(u.flags|=1024),g=!1)}return xg(l,u,f,g,w,v)}function xg(l,u,f,g,v,w){Ew(l,u);var C=(128&u.flags)!=0;if(!g&&!C)return v&&Ex(u,f,!1),Li(l,u,w);g=u.stateNode,eM.current=u;var I=C&&typeof f.getDerivedStateFromError!="function"?null:g.render();return u.flags|=1,l!==null&&C?(u.child=Sa(u,l.child,null,w),u.child=Sa(u,null,I,w)):br(l,u,I,w),u.memoizedState=g.state,v&&Ex(u,f,!0),u.child}function Aw(l){var u=l.stateNode;u.pendingContext?bx(0,u.pendingContext,u.pendingContext!==u.context):u.context&&bx(0,u.context,!1),sg(l,u.containerInfo)}function Cw(l,u,f,g,v){return xa(),Qm(v),u.flags|=256,br(l,u,f,g),u.child}var gu,vu,Dc,Nc,wg={dehydrated:null,treeContext:null,retryLane:0};function bg(l){return{baseLanes:l,cachePool:null,transitions:null}}function Pw(l,u,f){var g,v=u.pendingProps,w=yt.current,C=!1,I=(128&u.flags)!=0;if((g=I)||(g=(l===null||l.memoizedState!==null)&&(2&w)!=0),g?(C=!0,u.flags&=-129):l!==null&&l.memoizedState===null||(w|=1),Qe(yt,1&w),l===null)return Km(u),(l=u.memoizedState)!==null&&(l=l.dehydrated)!==null?(1&u.mode?km(l)?u.lanes=8:u.lanes=1073741824:u.lanes=1,null):(I=v.children,l=v.fallback,C?(v=u.mode,C=u.child,I={mode:"hidden",children:I},!(1&v)&&C!==null?(C.childLanes=0,C.pendingProps=I):C=ed(I,v,0,null),l=So(l,v,f,null),C.return=u,l.return=u,C.sibling=l,u.child=C,u.child.memoizedState=bg(f),u.memoizedState=wg,l):Sg(u,I));if((w=l.memoizedState)!==null&&(g=w.dehydrated)!==null)return function(z,H,te,G,Q,he,Ie){if(te)return 256&H.flags?(H.flags&=-257,Fc(z,H,Ie,G=vg(Error(s(422))))):H.memoizedState!==null?(H.child=z.child,H.flags|=128,null):(he=G.fallback,Q=H.mode,G=ed({mode:"visible",children:G.children},Q,0,null),(he=So(he,Q,Ie,null)).flags|=2,G.return=H,he.return=H,G.sibling=he,H.child=G,1&H.mode&&Sa(H,z.child,null,Ie),H.child.memoizedState=bg(Ie),H.memoizedState=wg,he);if(!(1&H.mode))return Fc(z,H,Ie,null);if(km(Q))return G=xO(Q).digest,he=Error(s(419)),G=vg(he,G,void 0),Fc(z,H,Ie,G);if(te=(Ie&z.childLanes)!=0,wr||te){if((G=zt)!==null){switch(Ie&-Ie){case 4:Q=2;break;case 16:Q=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:Q=32;break;case 536870912:Q=268435456;break;default:Q=0}(Q=Q&(G.suspendedLanes|Ie)?0:Q)!==0&&Q!==he.retryLane&&(he.retryLane=Q,ei(z,Q),rn(G,z,Q,-1))}return Gg(),Fc(z,H,Ie,G=vg(Error(s(421))))}return wx(Q)?(H.flags|=128,H.child=z.child,H=uM.bind(null,z),wO(Q,H),null):(z=he.treeContext,$e&&(Zr=EO(Q),kr=H,at=!0,En=null,lu=!1,z!==null&&(Qr[qr++]=Jn,Qr[qr++]=Fi,Qr[qr++]=go,Jn=z.id,Fi=z.overflow,go=H)),H=Sg(H,G.children),H.flags|=4096,H)}(l,u,I,v,g,w,f);if(C){C=v.fallback,I=u.mode,g=(w=l.child).sibling;var F={mode:"hidden",children:v.children};return!(1&I)&&u.child!==w?((v=u.child).childLanes=0,v.pendingProps=F,u.deletions=null):(v=Ss(w,F)).subtreeFlags=14680064&w.subtreeFlags,g!==null?C=Ss(g,C):(C=So(C,I,f,null)).flags|=2,C.return=u,v.return=u,v.sibling=C,u.child=v,v=C,C=u.child,I=(I=l.child.memoizedState)===null?bg(f):{baseLanes:I.baseLanes|f,cachePool:null,transitions:I.transitions},C.memoizedState=I,C.childLanes=l.childLanes&~f,u.memoizedState=wg,v}return l=(C=l.child).sibling,v=Ss(C,{mode:"visible",children:v.children}),!(1&u.mode)&&(v.lanes=f),v.return=u,v.sibling=null,l!==null&&((f=u.deletions)===null?(u.deletions=[l],u.flags|=16):f.push(l)),u.child=v,u.memoizedState=null,v}function Sg(l,u){return(u=ed({mode:"visible",children:u},l.mode,0,null)).return=l,l.child=u}function Fc(l,u,f,g){return g!==null&&Qm(g),Sa(u,l.child,null,f),(l=Sg(u,u.pendingProps.children)).flags|=2,u.memoizedState=null,l}function Iw(l,u,f){l.lanes|=u;var g=l.alternate;g!==null&&(g.lanes|=u),eg(l.return,u,f)}function Eg(l,u,f,g,v){var w=l.memoizedState;w===null?l.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:g,tail:f,tailMode:v}:(w.isBackwards=u,w.rendering=null,w.renderingStartTime=0,w.last=g,w.tail=f,w.tailMode=v)}function Rw(l,u,f){var g=u.pendingProps,v=g.revealOrder,w=g.tail;if(br(l,u,g.children,f),(2&(g=yt.current))!=0)g=1&g|2,u.flags|=128;else{if(l!==null&&128&l.flags)e:for(l=u.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&Iw(l,f,u);else if(l.tag===19)Iw(l,f,u);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===u)break e;for(;l.sibling===null;){if(l.return===null||l.return===u)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}g&=1}if(Qe(yt,g),(1&u.mode)==0)u.memoizedState=null;else switch(v){case"forwards":for(f=u.child,v=null;f!==null;)(l=f.alternate)!==null&&Pc(l)===null&&(v=f),f=f.sibling;(f=v)===null?(v=u.child,u.child=null):(v=f.sibling,f.sibling=null),Eg(u,!1,v,f,w);break;case"backwards":for(f=null,v=u.child,u.child=null;v!==null;){if((l=v.alternate)!==null&&Pc(l)===null){u.child=v;break}l=v.sibling,v.sibling=f,f=v,v=l}Eg(u,!0,f,null,w);break;case"together":Eg(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function Bc(l,u){!(1&u.mode)&&l!==null&&(l.alternate=null,u.alternate=null,u.flags|=2)}function Li(l,u,f){if(l!==null&&(u.dependencies=l.dependencies),xo|=u.lanes,(f&u.childLanes)==0)return null;if(l!==null&&u.child!==l.child)throw Error(s(153));if(u.child!==null){for(f=Ss(l=u.child,l.pendingProps),u.child=f,f.return=u;l.sibling!==null;)l=l.sibling,(f=f.sibling=Ss(l,l.pendingProps)).return=u;f.sibling=null}return u.child}function ni(l){l.flags|=4}function Ow(l,u){if(l!==null&&l.child===u.child)return!0;if(16&u.flags)return!1;for(l=u.child;l!==null;){if(12854&l.flags||12854&l.subtreeFlags)return!1;l=l.sibling}return!0}if(Pe)gu=function(l,u){for(var f=u.child;f!==null;){if(f.tag===5||f.tag===6)Z(l,f.stateNode);else if(f.tag!==4&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===u)break;for(;f.sibling===null;){if(f.return===null||f.return===u)return;f=f.return}f.sibling.return=f.return,f=f.sibling}},vu=function(){},Dc=function(l,u,f,g,v){if((l=l.memoizedProps)!==g){var w=u.stateNode,C=ti(en.current);f=we(w,f,l,g,v,C),(u.updateQueue=f)&&ni(u)}},Nc=function(l,u,f,g){f!==g&&ni(u)};else if(Be){gu=function(l,u,f,g){for(var v=u.child;v!==null;){if(v.tag===5){var w=v.stateNode;f&&g&&(w=_x(w,v.type,v.memoizedProps,v)),Z(l,w)}else if(v.tag===6)w=v.stateNode,f&&g&&(w=xx(w,v.memoizedProps,v)),Z(l,w);else if(v.tag!==4){if(v.tag===22&&v.memoizedState!==null)(w=v.child)!==null&&(w.return=v),gu(l,v,!0,!0);else if(v.child!==null){v.child.return=v,v=v.child;continue}}if(v===u)break;for(;v.sibling===null;){if(v.return===null||v.return===u)return;v=v.return}v.sibling.return=v.return,v=v.sibling}};var Mw=function(l,u,f,g){for(var v=u.child;v!==null;){if(v.tag===5){var w=v.stateNode;f&&g&&(w=_x(w,v.type,v.memoizedProps,v)),yx(l,w)}else if(v.tag===6)w=v.stateNode,f&&g&&(w=xx(w,v.memoizedProps,v)),yx(l,w);else if(v.tag!==4){if(v.tag===22&&v.memoizedState!==null)(w=v.child)!==null&&(w.return=v),Mw(l,v,!0,!0);else if(v.child!==null){v.child.return=v,v=v.child;continue}}if(v===u)break;for(;v.sibling===null;){if(v.return===null||v.return===u)return;v=v.return}v.sibling.return=v.return,v=v.sibling}};vu=function(l,u){var f=u.stateNode;if(!Ow(l,u)){l=f.containerInfo;var g=vx(l);Mw(g,u,!1,!1),f.pendingChildren=g,ni(u),gO(l,g)}},Dc=function(l,u,f,g,v){var w=l.stateNode,C=l.memoizedProps;if((l=Ow(l,u))&&C===g)u.stateNode=w;else{var I=u.stateNode,F=ti(en.current),z=null;C!==g&&(z=we(I,f,C,g,v,F)),l&&z===null?u.stateNode=w:(w=mO(w,z,f,C,g,u,l,I),Ae(w,f,g,v,F)&&ni(u),u.stateNode=w,l?ni(u):gu(w,u,!1,!1))}},Nc=function(l,u,f,g){f!==g?(l=ti(Ea.current),f=ti(en.current),u.stateNode=Te(g,l,f,u),ni(u)):u.stateNode=l.stateNode}}else vu=function(){},Dc=function(){},Nc=function(){};function yu(l,u){if(!at)switch(l.tailMode){case"hidden":u=l.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?l.tail=null:f.sibling=null;break;case"collapsed":f=l.tail;for(var g=null;f!==null;)f.alternate!==null&&(g=f),f=f.sibling;g===null?u||l.tail===null?l.tail=null:l.tail.sibling=null:g.sibling=null}}function dr(l){var u=l.alternate!==null&&l.alternate.child===l.child,f=0,g=0;if(u)for(var v=l.child;v!==null;)f|=v.lanes|v.childLanes,g|=14680064&v.subtreeFlags,g|=14680064&v.flags,v.return=l,v=v.sibling;else for(v=l.child;v!==null;)f|=v.lanes|v.childLanes,g|=v.subtreeFlags,g|=v.flags,v.return=l,v=v.sibling;return l.subtreeFlags|=g,l.childLanes=f,u}function tM(l,u,f){var g=u.pendingProps;switch(Xm(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dr(u),null;case 1:case 17:return Mr(u.type)&&Bm(),dr(u),null;case 3:return f=u.stateNode,Ta(),ot(xr),ot(tr),lg(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),l!==null&&l.child!==null||(xc(u)?ni(u):l===null||l.memoizedState.isDehydrated&&!(256&u.flags)||(u.flags|=1024,En!==null&&(zg(En),En=null))),vu(l,u),dr(u),null;case 5:og(u),f=ti(Ea.current);var v=u.type;if(l!==null&&u.stateNode!=null)Dc(l,u,v,g,f),l.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!g){if(u.stateNode===null)throw Error(s(166));return dr(u),null}if(l=ti(en.current),xc(u)){if(!$e)throw Error(s(175));l=TO(u.stateNode,u.type,u.memoizedProps,f,l,u,!lu),u.updateQueue=l,l!==null&&ni(u)}else{var w=U(v,g,f,l,u);gu(w,u,!1,!1),u.stateNode=w,Ae(w,v,g,f,l)&&ni(u)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return dr(u),null;case 6:if(l&&u.stateNode!=null)Nc(l,u,l.memoizedProps,g);else{if(typeof g!="string"&&u.stateNode===null)throw Error(s(166));if(l=ti(Ea.current),f=ti(en.current),xc(u)){if(!$e)throw Error(s(176));if(l=u.stateNode,f=u.memoizedProps,(g=AO(l,f,u,!lu))&&(v=kr)!==null)switch(v.tag){case 3:DO(v.stateNode.containerInfo,l,f,(1&v.mode)!=0);break;case 5:NO(v.type,v.memoizedProps,v.stateNode,l,f,(1&v.mode)!=0)}g&&ni(u)}else u.stateNode=Te(g,l,f,u)}return dr(u),null;case 13:if(ot(yt),g=u.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(at&&Zr!==null&&1&u.mode&&!(128&u.flags))Dx(),xa(),u.flags|=98560,v=!1;else if(v=xc(u),g!==null&&g.dehydrated!==null){if(l===null){if(!v)throw Error(s(318));if(!$e)throw Error(s(344));if(!(v=(v=u.memoizedState)!==null?v.dehydrated:null))throw Error(s(317));CO(v,u)}else xa(),!(128&u.flags)&&(u.memoizedState=null),u.flags|=4;dr(u),v=!1}else En!==null&&(zg(En),En=null),v=!0;if(!v)return 65536&u.flags?u:null}return 128&u.flags?(u.lanes=f,u):((f=g!==null)!=(l!==null&&l.memoizedState!==null)&&f&&(u.child.flags|=8192,1&u.mode&&(l===null||1&yt.current?Ot===0&&(Ot=3):Gg())),u.updateQueue!==null&&(u.flags|=4),dr(u),null);case 4:return Ta(),vu(l,u),l===null&&Kr(u.stateNode.containerInfo),dr(u),null;case 10:return Jm(u.type._context),dr(u),null;case 19:if(ot(yt),(v=u.memoizedState)===null)return dr(u),null;if(g=(128&u.flags)!=0,(w=v.rendering)===null)if(g)yu(v,!1);else{if(Ot!==0||l!==null&&128&l.flags)for(l=u.child;l!==null;){if((w=Pc(l))!==null){for(u.flags|=128,yu(v,!1),(l=w.updateQueue)!==null&&(u.updateQueue=l,u.flags|=4),u.subtreeFlags=0,l=f,f=u.child;f!==null;)v=l,(g=f).flags&=14680066,(w=g.alternate)===null?(g.childLanes=0,g.lanes=v,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=w.childLanes,g.lanes=w.lanes,g.child=w.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=w.memoizedProps,g.memoizedState=w.memoizedState,g.updateQueue=w.updateQueue,g.type=w.type,v=w.dependencies,g.dependencies=v===null?null:{lanes:v.lanes,firstContext:v.firstContext}),f=f.sibling;return Qe(yt,1&yt.current|2),u.child}l=l.sibling}v.tail!==null&&Bt()>Fg&&(u.flags|=128,g=!0,yu(v,!1),u.lanes=4194304)}else{if(!g)if((l=Pc(w))!==null){if(u.flags|=128,g=!0,(l=l.updateQueue)!==null&&(u.updateQueue=l,u.flags|=4),yu(v,!0),v.tail===null&&v.tailMode==="hidden"&&!w.alternate&&!at)return dr(u),null}else 2*Bt()-v.renderingStartTime>Fg&&f!==1073741824&&(u.flags|=128,g=!0,yu(v,!1),u.lanes=4194304);v.isBackwards?(w.sibling=u.child,u.child=w):((l=v.last)!==null?l.sibling=w:u.child=w,v.last=w)}return v.tail!==null?(u=v.tail,v.rendering=u,v.tail=u.sibling,v.renderingStartTime=Bt(),u.sibling=null,l=yt.current,Qe(yt,g?1&l|2:1&l),u):(dr(u),null);case 22:case 23:return $g(),f=u.memoizedState!==null,l!==null&&l.memoizedState!==null!==f&&(u.flags|=8192),f&&1&u.mode?1073741824&Dr&&(dr(u),Pe&&6&u.subtreeFlags&&(u.flags|=8192)):dr(u),null;case 24:case 25:return null}throw Error(s(156,u.tag))}function rM(l,u){switch(Xm(u),u.tag){case 1:return Mr(u.type)&&Bm(),65536&(l=u.flags)?(u.flags=-65537&l|128,u):null;case 3:return Ta(),ot(xr),ot(tr),lg(),65536&(l=u.flags)&&!(128&l)?(u.flags=-65537&l|128,u):null;case 5:return og(u),null;case 13:if(ot(yt),(l=u.memoizedState)!==null&&l.dehydrated!==null){if(u.alternate===null)throw Error(s(340));xa()}return 65536&(l=u.flags)?(u.flags=-65537&l|128,u):null;case 19:return ot(yt),null;case 4:return Ta(),null;case 10:return Jm(u.type._context),null;case 22:case 23:return $g(),null;default:return null}}var Lc=!1,nr=!1,nM=typeof WeakSet=="function"?WeakSet:Set,le=null;function Ca(l,u){var f=l.ref;if(f!==null)if(typeof f=="function")try{f(null)}catch(g){lt(l,u,g)}else f.current=null}function kw(l,u,f){try{f()}catch(g){lt(l,u,g)}}var Dw=!1;function _u(l,u,f){var g=u.updateQueue;if((g=g!==null?g.lastEffect:null)!==null){var v=g=g.next;do{if((v.tag&l)===l){var w=v.destroy;v.destroy=void 0,w!==void 0&&kw(u,f,w)}v=v.next}while(v!==g)}}function Uc(l,u){if((u=(u=u.updateQueue)!==null?u.lastEffect:null)!==null){var f=u=u.next;do{if((f.tag&l)===l){var g=f.create;f.destroy=g()}f=f.next}while(f!==u)}}function Tg(l){var u=l.ref;if(u!==null){var f=l.stateNode;l.tag===5?l=me(f):l=f,typeof u=="function"?u(l):u.current=l}}function Nw(l){var u=l.alternate;u!==null&&(l.alternate=null,Nw(u)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(u=l.stateNode)!==null&&Om(u),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}function Fw(l){return l.tag===5||l.tag===3||l.tag===4}function Bw(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||Fw(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(2&l.flags||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(2&l.flags))return l.stateNode}}function Ag(l,u,f){var g=l.tag;if(g===5||g===6)l=l.stateNode,u?aO(f,l,u):rO(f,l);else if(g!==4&&(l=l.child)!==null)for(Ag(l,u,f),l=l.sibling;l!==null;)Ag(l,u,f),l=l.sibling}function Cg(l,u,f){var g=l.tag;if(g===5||g===6)l=l.stateNode,u?oO(f,l,u):tO(f,l);else if(g!==4&&(l=l.child)!==null)for(Cg(l,u,f),l=l.sibling;l!==null;)Cg(l,u,f),l=l.sibling}var fr=null,ii=!1;function si(l,u,f){for(f=f.child;f!==null;)Pg(l,u,f),f=f.sibling}function Pg(l,u,f){if(qn&&typeof qn.onCommitFiberUnmount=="function")try{qn.onCommitFiberUnmount(gc,f)}catch{}switch(f.tag){case 5:nr||Ca(f,u);case 6:if(Pe){var g=fr,v=ii;fr=null,si(l,u,f),ii=v,(fr=g)!==null&&(ii?uO(fr,f.stateNode):lO(fr,f.stateNode))}else si(l,u,f);break;case 18:Pe&&fr!==null&&(ii?MO(fr,f.stateNode):OO(fr,f.stateNode));break;case 4:Pe?(g=fr,v=ii,fr=f.stateNode.containerInfo,ii=!0,si(l,u,f),fr=g,ii=v):(Be&&(g=f.stateNode.containerInfo,v=vx(g),Mm(g,v)),si(l,u,f));break;case 0:case 11:case 14:case 15:if(!nr&&(g=f.updateQueue)!==null&&(g=g.lastEffect)!==null){v=g=g.next;do{var w=v,C=w.destroy;w=w.tag,C!==void 0&&(2&w||4&w)&&kw(f,u,C),v=v.next}while(v!==g)}si(l,u,f);break;case 1:if(!nr&&(Ca(f,u),typeof(g=f.stateNode).componentWillUnmount=="function"))try{g.props=f.memoizedProps,g.state=f.memoizedState,g.componentWillUnmount()}catch(I){lt(f,u,I)}si(l,u,f);break;case 21:si(l,u,f);break;case 22:1&f.mode?(nr=(g=nr)||f.memoizedState!==null,si(l,u,f),nr=g):si(l,u,f);break;default:si(l,u,f)}}function Lw(l){var u=l.updateQueue;if(u!==null){l.updateQueue=null;var f=l.stateNode;f===null&&(f=l.stateNode=new nM),u.forEach(function(g){var v=hM.bind(null,l,g);f.has(g)||(f.add(g),g.then(v,v))})}}function An(l,u){var f=u.deletions;if(f!==null)for(var g=0;g<f.length;g++){var v=f[g];try{var w=l,C=u;if(Pe){var I=C;e:for(;I!==null;){switch(I.tag){case 5:fr=I.stateNode,ii=!1;break e;case 3:case 4:fr=I.stateNode.containerInfo,ii=!0;break e}I=I.return}if(fr===null)throw Error(s(160));Pg(w,C,v),fr=null,ii=!1}else Pg(w,C,v);var F=v.alternate;F!==null&&(F.return=null),v.return=null}catch(z){lt(v,u,z)}}if(12854&u.subtreeFlags)for(u=u.child;u!==null;)Uw(u,l),u=u.sibling}function Uw(l,u){var f=l.alternate,g=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:if(An(u,l),oi(l),4&g){try{_u(3,l,l.return),Uc(3,l)}catch(G){lt(l,l.return,G)}try{_u(5,l,l.return)}catch(G){lt(l,l.return,G)}}break;case 1:An(u,l),oi(l),512&g&&f!==null&&Ca(f,f.return);break;case 5:if(An(u,l),oi(l),512&g&&f!==null&&Ca(f,f.return),Pe){if(32&l.flags){var v=l.stateNode;try{gx(v)}catch(G){lt(l,l.return,G)}}if(4&g&&(v=l.stateNode)!=null){var w=l.memoizedProps;if(f=f!==null?f.memoizedProps:w,g=l.type,u=l.updateQueue,l.updateQueue=null,u!==null)try{sO(v,u,g,f,w,l)}catch(G){lt(l,l.return,G)}}}break;case 6:if(An(u,l),oi(l),4&g&&Pe){if(l.stateNode===null)throw Error(s(162));v=l.stateNode,w=l.memoizedProps,f=f!==null?f.memoizedProps:w;try{nO(v,f,w)}catch(G){lt(l,l.return,G)}}break;case 3:if(An(u,l),oi(l),4&g){if(Pe&&$e&&f!==null&&f.memoizedState.isDehydrated)try{IO(u.containerInfo)}catch(G){lt(l,l.return,G)}if(Be){v=u.containerInfo,w=u.pendingChildren;try{Mm(v,w)}catch(G){lt(l,l.return,G)}}}break;case 4:if(An(u,l),oi(l),4&g&&Be){v=(w=l.stateNode).containerInfo,w=w.pendingChildren;try{Mm(v,w)}catch(G){lt(l,l.return,G)}}break;case 13:An(u,l),oi(l),8192&(v=l.child).flags&&(w=v.memoizedState!==null,v.stateNode.isHidden=w,!w||v.alternate!==null&&v.alternate.memoizedState!==null||(Ng=Bt())),4&g&&Lw(l);break;case 22:var C=f!==null&&f.memoizedState!==null;if(1&l.mode?(nr=(f=nr)||C,An(u,l),nr=f):An(u,l),oi(l),8192&g){if(f=l.memoizedState!==null,(l.stateNode.isHidden=f)&&!C&&(1&l.mode)!=0)for(le=l,g=l.child;g!==null;){for(u=le=g;le!==null;){var I=(C=le).child;switch(C.tag){case 0:case 11:case 14:case 15:_u(4,C,C.return);break;case 1:Ca(C,C.return);var F=C.stateNode;if(typeof F.componentWillUnmount=="function"){var z=C,H=C.return;try{var te=z;F.props=te.memoizedProps,F.state=te.memoizedState,F.componentWillUnmount()}catch(G){lt(z,H,G)}}break;case 5:Ca(C,C.return);break;case 22:if(C.memoizedState!==null){Gw(u);continue}}I!==null?(I.return=C,le=I):Gw(u)}g=g.sibling}if(Pe){e:if(g=null,Pe)for(u=l;;){if(u.tag===5){if(g===null){g=u;try{v=u.stateNode,f?hO(v):dO(u.stateNode,u.memoizedProps)}catch(G){lt(l,l.return,G)}}}else if(u.tag===6){if(g===null)try{w=u.stateNode,f?cO(w):fO(w,u.memoizedProps)}catch(G){lt(l,l.return,G)}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===l)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break e;for(;u.sibling===null;){if(u.return===null||u.return===l)break e;g===u&&(g=null),u=u.return}g===u&&(g=null),u.sibling.return=u.return,u=u.sibling}}}break;case 19:An(u,l),oi(l),4&g&&Lw(l);break;case 21:break;default:An(u,l),oi(l)}}function oi(l){var u=l.flags;if(2&u){try{if(Pe){e:{for(var f=l.return;f!==null;){if(Fw(f)){var g=f;break e}f=f.return}throw Error(s(160))}switch(g.tag){case 5:var v=g.stateNode;32&g.flags&&(gx(v),g.flags&=-33),Cg(l,Bw(l),v);break;case 3:case 4:var w=g.stateNode.containerInfo;Ag(l,Bw(l),w);break;default:throw Error(s(161))}}}catch(C){lt(l,l.return,C)}l.flags&=-3}4096&u&&(l.flags&=-4097)}function iM(l,u,f){le=l,zw(l)}function zw(l,u,f){for(var g=(1&l.mode)!=0;le!==null;){var v=le,w=v.child;if(v.tag===22&&g){var C=v.memoizedState!==null||Lc;if(!C){var I=v.alternate,F=I!==null&&I.memoizedState!==null||nr;I=Lc;var z=nr;if(Lc=C,(nr=F)&&!z)for(le=v;le!==null;)F=(C=le).child,C.tag===22&&C.memoizedState!==null?Hw(v):F!==null?(F.return=C,le=F):Hw(v);for(;w!==null;)le=w,zw(w),w=w.sibling;le=v,Lc=I,nr=z}$w(l)}else 8772&v.subtreeFlags&&w!==null?(w.return=v,le=w):$w(l)}}function $w(l){for(;le!==null;){var u=le;if(8772&u.flags){var f=u.alternate;try{if(8772&u.flags)switch(u.tag){case 0:case 11:case 15:nr||Uc(5,u);break;case 1:var g=u.stateNode;if(4&u.flags&&!nr)if(f===null)g.componentDidMount();else{var v=u.elementType===u.type?f.memoizedProps:Tn(u.type,f.memoizedProps);g.componentDidUpdate(v,f.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var w=u.updateQueue;w!==null&&Ux(u,w,g);break;case 3:var C=u.updateQueue;if(C!==null){if(f=null,u.child!==null)switch(u.child.tag){case 5:f=me(u.child.stateNode);break;case 1:f=u.child.stateNode}Ux(u,C,f)}break;case 5:var I=u.stateNode;f===null&&4&u.flags&&iO(I,u.type,u.memoizedProps,u);break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if($e&&u.memoizedState===null){var F=u.alternate;if(F!==null){var z=F.memoizedState;if(z!==null){var H=z.dehydrated;H!==null&&RO(H)}}}break;default:throw Error(s(163))}nr||512&u.flags&&Tg(u)}catch(te){lt(u,u.return,te)}}if(u===l){le=null;break}if((f=u.sibling)!==null){f.return=u.return,le=f;break}le=u.return}}function Gw(l){for(;le!==null;){var u=le;if(u===l){le=null;break}var f=u.sibling;if(f!==null){f.return=u.return,le=f;break}le=u.return}}function Hw(l){for(;le!==null;){var u=le;try{switch(u.tag){case 0:case 11:case 15:var f=u.return;try{Uc(4,u)}catch(F){lt(u,f,F)}break;case 1:var g=u.stateNode;if(typeof g.componentDidMount=="function"){var v=u.return;try{g.componentDidMount()}catch(F){lt(u,v,F)}}var w=u.return;try{Tg(u)}catch(F){lt(u,w,F)}break;case 5:var C=u.return;try{Tg(u)}catch(F){lt(u,C,F)}}}catch(F){lt(u,u.return,F)}if(u===l){le=null;break}var I=u.sibling;if(I!==null){I.return=u.return,le=I;break}le=u.return}}var zc=0,$c=1,Gc=2,Hc=3,jc=4;if(typeof Symbol=="function"&&Symbol.for){var xu=Symbol.for;zc=xu("selector.component"),$c=xu("selector.has_pseudo_class"),Gc=xu("selector.role"),Hc=xu("selector.test_id"),jc=xu("selector.text")}function Ig(l){var u=Yr(l);if(u!=null){if(typeof u.memoizedProps["data-testname"]!="string")throw Error(s(364));return u}if((l=K2(l))===null)throw Error(s(362));return l.stateNode.current}function Rg(l,u){switch(u.$$typeof){case zc:if(l.type===u.value)return!0;break;case $c:e:{u=u.value,l=[l,0];for(var f=0;f<l.length;){var g=l[f++],v=l[f++],w=u[v];if(g.tag!==5||!iu(g)){for(;w!=null&&Rg(g,w);)w=u[++v];if(v===u.length){u=!0;break e}for(g=g.child;g!==null;)l.push(g,v),g=g.sibling}}u=!1}return u;case Gc:if(l.tag===5&&Z2(l.stateNode,u.value))return!0;break;case jc:if((l.tag===5||l.tag===6)&&(l=q2(l))!==null&&0<=l.indexOf(u.value))return!0;break;case Hc:if(l.tag===5&&typeof(l=l.memoizedProps["data-testname"])=="string"&&l.toLowerCase()===u.value.toLowerCase())return!0;break;default:throw Error(s(365))}return!1}function Og(l){switch(l.$$typeof){case zc:return"<"+(M(l.value)||"Unknown")+">";case $c:return":has("+(Og(l)||"")+")";case Gc:return'[role="'+l.value+'"]';case jc:return'"'+l.value+'"';case Hc:return'[data-testname="'+l.value+'"]';default:throw Error(s(365))}}function jw(l,u){var f=[];l=[l,0];for(var g=0;g<l.length;){var v=l[g++],w=l[g++],C=u[w];if(v.tag!==5||!iu(v)){for(;C!=null&&Rg(v,C);)C=u[++w];if(w===u.length)f.push(v);else for(v=v.child;v!==null;)l.push(v,w),v=v.sibling}}return f}function Mg(l,u){if(!nu)throw Error(s(363));l=jw(l=Ig(l),u),u=[],l=Array.from(l);for(var f=0;f<l.length;){var g=l[f++];if(g.tag===5)iu(g)||u.push(g.stateNode);else for(g=g.child;g!==null;)l.push(g),g=g.sibling}return u}var sM=Math.ceil,Wc=o.ReactCurrentDispatcher,kg=o.ReactCurrentOwner,bt=o.ReactCurrentBatchConfig,Fe=0,zt=null,Ct=null,Xt=0,Dr=0,Pa=ps(0),Ot=0,wu=null,xo=0,Vc=0,Dg=0,bu=null,Nr=null,Ng=0,Fg=1/0,ys=null;function Ia(){Fg=Bt()+500}var Ww,Xc=!1,Bg=null,_s=null,Yc=!1,xs=null,Kc=0,Su=0,Lg=null,Qc=-1,qc=0;function ir(){return 6&Fe?Bt():Qc!==-1?Qc:Qc=Bt()}function ws(l){return 1&l.mode?2&Fe&&Xt!==0?Xt&-Xt:jO.transition!==null?(qc===0&&(qc=Tx()),qc):(l=Ge)!==0?l:po():1}function rn(l,u,f,g){if(50<Su)throw Su=0,Lg=null,Error(s(185));au(l,f,g),2&Fe&&l===zt||(l===zt&&(!(2&Fe)&&(Vc|=f),Ot===4&&bs(l,Xt)),Sr(l,g),f===1&&Fe===0&&!(1&u.mode)&&(Ia(),vc&&Zn()))}function Sr(l,u){var f=l.callbackNode;(function(v,w){for(var C=v.suspendedLanes,I=v.pingedLanes,F=v.expirationTimes,z=v.pendingLanes;0<z;){var H=31-bn(z),te=1<<H,G=F[H];G===-1?te&C&&!(te&I)||(F[H]=UO(te,w)):G<=w&&(v.expiredLanes|=te),z&=~te}})(l,u);var g=mc(l,l===zt?Xt:0);if(g===0)f!==null&&Cx(f),l.callbackNode=null,l.callbackPriority=0;else if(u=g&-g,l.callbackPriority!==u){if(f!=null&&Cx(f),u===1)l.tag===0?function(v){vc=!0,Ix(v)}(Xw.bind(null,l)):Ix(Xw.bind(null,l)),ma?Y2(function(){!(6&Fe)&&Zn()}):Hm(jm,Zn),f=null;else{switch(Ax(g)){case 1:f=jm;break;case 4:f=GO;break;case 16:default:f=Px;break;case 536870912:f=HO}f=tb(f,Vw.bind(null,l))}l.callbackPriority=u,l.callbackNode=f}}function Vw(l,u){if(Qc=-1,qc=0,(6&Fe)!=0)throw Error(s(327));var f=l.callbackNode;if(bo()&&l.callbackNode!==f)return null;var g=mc(l,l===zt?Xt:0);if(g===0)return null;if(30&g||g&l.expiredLanes||u)u=Zc(l,g);else{u=g;var v=Fe;Fe|=2;var w=Qw();for(zt===l&&Xt===u||(ys=null,Ia(),wo(l,u));;)try{aM();break}catch(I){Kw(l,I)}Zm(),Wc.current=w,Fe=v,Ct!==null?u=0:(zt=null,Xt=0,u=Ot)}if(u!==0){if(u===2&&(v=zm(l))!==0&&(g=v,u=Ug(l,v)),u===1)throw f=wu,wo(l,0),bs(l,g),Sr(l,Bt()),f;if(u===6)bs(l,g);else{if(v=l.current.alternate,(30&g)==0&&!function(I){for(var F=I;;){if(16384&F.flags){var z=F.updateQueue;if(z!==null&&(z=z.stores)!==null)for(var H=0;H<z.length;H++){var te=z[H],G=te.getSnapshot;te=te.value;try{if(!Sn(G(),te))return!1}catch{return!1}}}if(z=F.child,16384&F.subtreeFlags&&z!==null)z.return=F,F=z;else{if(F===I)break;for(;F.sibling===null;){if(F.return===null||F.return===I)return!0;F=F.return}F.sibling.return=F.return,F=F.sibling}}return!0}(v)&&((u=Zc(l,g))===2&&(w=zm(l))!==0&&(g=w,u=Ug(l,w)),u===1))throw f=wu,wo(l,0),bs(l,g),Sr(l,Bt()),f;switch(l.finishedWork=v,l.finishedLanes=g,u){case 0:case 1:throw Error(s(345));case 2:case 5:Ra(l,Nr,ys);break;case 3:if(bs(l,g),(130023424&g)===g&&10<(u=Ng+500-Bt())){if(mc(l,0)!==0)break;if(((v=l.suspendedLanes)&g)!==g){ir(),l.pingedLanes|=l.suspendedLanes&v;break}l.timeoutHandle=ke(Ra.bind(null,l,Nr,ys),u);break}Ra(l,Nr,ys);break;case 4:if(bs(l,g),(4194240&g)===g)break;for(u=l.eventTimes,v=-1;0<g;){var C=31-bn(g);w=1<<C,(C=u[C])>v&&(v=C),g&=~w}if(g=v,10<(g=(120>(g=Bt()-g)?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*sM(g/1960))-g)){l.timeoutHandle=ke(Ra.bind(null,l,Nr,ys),g);break}Ra(l,Nr,ys);break;default:throw Error(s(329))}}}return Sr(l,Bt()),l.callbackNode===f?Vw.bind(null,l):null}function Ug(l,u){var f=bu;return l.current.memoizedState.isDehydrated&&(wo(l,u).flags|=256),(l=Zc(l,u))!==2&&(u=Nr,Nr=f,u!==null&&zg(u)),l}function zg(l){Nr===null?Nr=l:Nr.push.apply(Nr,l)}function bs(l,u){for(u&=~Dg,u&=~Vc,l.suspendedLanes|=u,l.pingedLanes&=~u,l=l.expirationTimes;0<u;){var f=31-bn(u),g=1<<f;l[f]=-1,u&=~g}}function Xw(l){if(6&Fe)throw Error(s(327));bo();var u=mc(l,0);if(!(1&u))return Sr(l,Bt()),null;var f=Zc(l,u);if(l.tag!==0&&f===2){var g=zm(l);g!==0&&(u=g,f=Ug(l,g))}if(f===1)throw f=wu,wo(l,0),bs(l,u),Sr(l,Bt()),f;if(f===6)throw Error(s(345));return l.finishedWork=l.current.alternate,l.finishedLanes=u,Ra(l,Nr,ys),Sr(l,Bt()),null}function Yw(l){xs!==null&&xs.tag===0&&!(6&Fe)&&bo();var u=Fe;Fe|=1;var f=bt.transition,g=Ge;try{if(bt.transition=null,Ge=1,l)return l()}finally{Ge=g,bt.transition=f,!(6&(Fe=u))&&Zn()}}function $g(){Dr=Pa.current,ot(Pa)}function wo(l,u){l.finishedWork=null,l.finishedLanes=0;var f=l.timeoutHandle;if(f!==et&&(l.timeoutHandle=et,st(f)),Ct!==null)for(f=Ct.return;f!==null;){var g=f;switch(Xm(g),g.tag){case 1:(g=g.type.childContextTypes)!=null&&Bm();break;case 3:Ta(),ot(xr),ot(tr),lg();break;case 5:og(g);break;case 4:Ta();break;case 13:case 19:ot(yt);break;case 10:Jm(g.type._context);break;case 22:case 23:$g()}f=f.return}if(zt=l,Ct=l=Ss(l.current,null),Xt=Dr=u,Ot=0,wu=null,Dg=Vc=xo=0,Nr=bu=null,yo!==null){for(u=0;u<yo.length;u++)if((g=(f=yo[u]).interleaved)!==null){f.interleaved=null;var v=g.next,w=f.pending;if(w!==null){var C=w.next;w.next=v,g.next=C}f.pending=g}yo=null}return l}function Kw(l,u){for(;;){var f=Ct;try{if(Zm(),Ic.current=kc,Rc){for(var g=dt.memoizedState;g!==null;){var v=g.queue;v!==null&&(v.pending=null),g=g.next}Rc=!1}if(_o=0,Ut=Lt=dt=null,du=!1,fu=0,kg.current=null,f===null||f.return===null){Ot=1,wu=u,Ct=null;break}e:{var w=l,C=f.return,I=f,F=u;if(u=Xt,I.flags|=32768,F!==null&&typeof F=="object"&&typeof F.then=="function"){var z=F,H=I,te=H.tag;if(!(1&H.mode)&&(te===0||te===11||te===15)){var G=H.alternate;G?(H.updateQueue=G.updateQueue,H.memoizedState=G.memoizedState,H.lanes=G.lanes):(H.updateQueue=null,H.memoizedState=null)}var Q=yw(C);if(Q!==null){Q.flags&=-257,_w(Q,C,I,0,u),1&Q.mode&&vw(w,z,u),F=z;var he=(u=Q).updateQueue;if(he===null){var Ie=new Set;Ie.add(F),u.updateQueue=Ie}else he.add(F);break e}if(!(1&u)){vw(w,z,u),Gg();break e}F=Error(s(426))}else if(at&&1&I.mode){var j=yw(C);if(j!==null){!(65536&j.flags)&&(j.flags|=256),_w(j,C,I,0,u),Qm(Aa(F,I));break e}}w=F=Aa(F,I),Ot!==4&&(Ot=2),bu===null?bu=[w]:bu.push(w),w=C;do{switch(w.tag){case 3:w.flags|=65536,u&=-u,w.lanes|=u,Lx(w,mw(0,F,u));break e;case 1:I=F;var k=w.type,L=w.stateNode;if(!(128&w.flags)&&(typeof k.getDerivedStateFromError=="function"||L!==null&&typeof L.componentDidCatch=="function"&&(_s===null||!_s.has(L)))){w.flags|=65536,u&=-u,w.lanes|=u,Lx(w,gw(w,I,u));break e}}w=w.return}while(w!==null)}Zw(f)}catch(Y){u=Y,Ct===f&&f!==null&&(Ct=f=f.return);continue}break}}function Qw(){var l=Wc.current;return Wc.current=kc,l===null?kc:l}function Gg(){Ot!==0&&Ot!==3&&Ot!==2||(Ot=4),zt===null||!(268435455&xo)&&!(268435455&Vc)||bs(zt,Xt)}function Zc(l,u){var f=Fe;Fe|=2;var g=Qw();for(zt===l&&Xt===u||(ys=null,wo(l,u));;)try{oM();break}catch(v){Kw(l,v)}if(Zm(),Fe=f,Wc.current=g,Ct!==null)throw Error(s(261));return zt=null,Xt=0,Ot}function oM(){for(;Ct!==null;)qw(Ct)}function aM(){for(;Ct!==null&&!zO();)qw(Ct)}function qw(l){var u=Ww(l.alternate,l,Dr);l.memoizedProps=l.pendingProps,u===null?Zw(l):Ct=u,kg.current=null}function Zw(l){var u=l;do{var f=u.alternate;if(l=u.return,(32768&u.flags)==0){if((f=tM(f,u,Dr))!==null)return void(Ct=f)}else{if((f=rM(f,u))!==null)return f.flags&=32767,void(Ct=f);if(l===null)return Ot=6,void(Ct=null);l.flags|=32768,l.subtreeFlags=0,l.deletions=null}if((u=u.sibling)!==null)return void(Ct=u);Ct=u=l}while(u!==null);Ot===0&&(Ot=5)}function Ra(l,u,f){var g=Ge,v=bt.transition;try{bt.transition=null,Ge=1,function(w,C,I,F){do bo();while(xs!==null);if(6&Fe)throw Error(s(327));I=w.finishedWork;var z=w.finishedLanes;if(I===null)return null;if(w.finishedWork=null,w.finishedLanes=0,I===w.current)throw Error(s(177));w.callbackNode=null,w.callbackPriority=0;var H=I.lanes|I.childLanes;if(function(Q,he){var Ie=Q.pendingLanes&~he;Q.pendingLanes=he,Q.suspendedLanes=0,Q.pingedLanes=0,Q.expiredLanes&=he,Q.mutableReadLanes&=he,Q.entangledLanes&=he,he=Q.entanglements;var j=Q.eventTimes;for(Q=Q.expirationTimes;0<Ie;){var k=31-bn(Ie),L=1<<k;he[k]=0,j[k]=-1,Q[k]=-1,Ie&=~L}}(w,H),w===zt&&(Ct=zt=null,Xt=0),!(2064&I.subtreeFlags)&&!(2064&I.flags)||Yc||(Yc=!0,tb(Px,function(){return bo(),null})),H=(15990&I.flags)!=0,(15990&I.subtreeFlags)!=0||H){H=bt.transition,bt.transition=null;var te=Ge;Ge=1;var G=Fe;Fe|=4,kg.current=null,function(Q,he){for($(Q.containerInfo),le=he;le!==null;)if(he=(Q=le).child,(1028&Q.subtreeFlags)!=0&&he!==null)he.return=Q,le=he;else for(;le!==null;){Q=le;try{var Ie=Q.alternate;if(1024&Q.flags)switch(Q.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(Ie!==null){var j=Ie.memoizedProps,k=Ie.memoizedState,L=Q.stateNode,Y=L.getSnapshotBeforeUpdate(Q.elementType===Q.type?j:Tn(Q.type,j),k);L.__reactInternalSnapshotBeforeUpdate=Y}break;case 3:Pe&&pO(Q.stateNode.containerInfo);break;default:throw Error(s(163))}}catch(ye){lt(Q,Q.return,ye)}if((he=Q.sibling)!==null){he.return=Q.return,le=he;break}le=Q.return}Ie=Dw,Dw=!1}(w,I),Uw(I,w),N(w.containerInfo),w.current=I,iM(I),$O(),Fe=G,Ge=te,bt.transition=H}else w.current=I;if(Yc&&(Yc=!1,xs=w,Kc=z),H=w.pendingLanes,H===0&&(_s=null),function(Q){if(qn&&typeof qn.onCommitFiberRoot=="function")try{qn.onCommitFiberRoot(gc,Q,void 0,(128&Q.current.flags)==128)}catch{}}(I.stateNode),Sr(w,Bt()),C!==null)for(F=w.onRecoverableError,I=0;I<C.length;I++)z=C[I],F(z.value,{componentStack:z.stack,digest:z.digest});if(Xc)throw Xc=!1,w=Bg,Bg=null,w;1&Kc&&w.tag!==0&&bo(),H=w.pendingLanes,1&H?w===Lg?Su++:(Su=0,Lg=w):Su=0,Zn()}(l,u,f,g)}finally{bt.transition=v,Ge=g}return null}function bo(){if(xs!==null){var l=Ax(Kc),u=bt.transition,f=Ge;try{if(bt.transition=null,Ge=16>l?16:l,xs===null)var g=!1;else{if(l=xs,xs=null,Kc=0,(6&Fe)!=0)throw Error(s(331));var v=Fe;for(Fe|=4,le=l.current;le!==null;){var w=le,C=w.child;if(16&le.flags){var I=w.deletions;if(I!==null){for(var F=0;F<I.length;F++){var z=I[F];for(le=z;le!==null;){var H=le;switch(H.tag){case 0:case 11:case 15:_u(8,H,w)}var te=H.child;if(te!==null)te.return=H,le=te;else for(;le!==null;){var G=(H=le).sibling,Q=H.return;if(Nw(H),H===z){le=null;break}if(G!==null){G.return=Q,le=G;break}le=Q}}}var he=w.alternate;if(he!==null){var Ie=he.child;if(Ie!==null){he.child=null;do{var j=Ie.sibling;Ie.sibling=null,Ie=j}while(Ie!==null)}}le=w}}if(2064&w.subtreeFlags&&C!==null)C.return=w,le=C;else e:for(;le!==null;){if(2048&(w=le).flags)switch(w.tag){case 0:case 11:case 15:_u(9,w,w.return)}var k=w.sibling;if(k!==null){k.return=w.return,le=k;break e}le=w.return}}var L=l.current;for(le=L;le!==null;){var Y=(C=le).child;if(2064&C.subtreeFlags&&Y!==null)Y.return=C,le=Y;else e:for(C=L;le!==null;){if(2048&(I=le).flags)try{switch(I.tag){case 0:case 11:case 15:Uc(9,I)}}catch(We){lt(I,I.return,We)}if(I===C){le=null;break e}var ye=I.sibling;if(ye!==null){ye.return=I.return,le=ye;break e}le=I.return}}if(Fe=v,Zn(),qn&&typeof qn.onPostCommitFiberRoot=="function")try{qn.onPostCommitFiberRoot(gc,l)}catch{}g=!0}return g}finally{Ge=f,bt.transition=u}}return!1}function Jw(l,u,f){l=vs(l,u=mw(0,u=Aa(f,u),1),1),u=ir(),l!==null&&(au(l,1,u),Sr(l,u))}function lt(l,u,f){if(l.tag===3)Jw(l,l,f);else for(;u!==null;){if(u.tag===3){Jw(u,l,f);break}if(u.tag===1){var g=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(_s===null||!_s.has(g))){u=vs(u,l=gw(u,l=Aa(f,l),1),1),l=ir(),u!==null&&(au(u,1,l),Sr(u,l));break}}u=u.return}}function lM(l,u,f){var g=l.pingCache;g!==null&&g.delete(u),u=ir(),l.pingedLanes|=l.suspendedLanes&f,zt===l&&(Xt&f)===f&&(Ot===4||Ot===3&&(130023424&Xt)===Xt&&500>Bt()-Ng?wo(l,0):Dg|=f),Sr(l,u)}function eb(l,u){u===0&&(1&l.mode?(u=Um,!(130023424&(Um<<=1))&&(Um=4194304)):u=1);var f=ir();(l=ei(l,u))!==null&&(au(l,u,f),Sr(l,f))}function uM(l){var u=l.memoizedState,f=0;u!==null&&(f=u.retryLane),eb(l,f)}function hM(l,u){var f=0;switch(l.tag){case 13:var g=l.stateNode,v=l.memoizedState;v!==null&&(f=v.retryLane);break;case 19:g=l.stateNode;break;default:throw Error(s(314))}g!==null&&g.delete(u),eb(l,f)}function tb(l,u){return Hm(l,u)}function cM(l,u,f,g){this.tag=l,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nn(l,u,f,g){return new cM(l,u,f,g)}function Hg(l){return!(!(l=l.prototype)||!l.isReactComponent)}function Ss(l,u){var f=l.alternate;return f===null?((f=nn(l.tag,u,l.key,l.mode)).elementType=l.elementType,f.type=l.type,f.stateNode=l.stateNode,f.alternate=l,l.alternate=f):(f.pendingProps=u,f.type=l.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=14680064&l.flags,f.childLanes=l.childLanes,f.lanes=l.lanes,f.child=l.child,f.memoizedProps=l.memoizedProps,f.memoizedState=l.memoizedState,f.updateQueue=l.updateQueue,u=l.dependencies,f.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},f.sibling=l.sibling,f.index=l.index,f.ref=l.ref,f}function Jc(l,u,f,g,v,w){var C=2;if(g=l,typeof l=="function")Hg(l)&&(C=1);else if(typeof l=="string")C=5;else e:switch(l){case c:return So(f.children,v,w,u);case d:C=8,v|=8;break;case p:return(l=nn(12,f,u,2|v)).elementType=p,l.lanes=w,l;case S:return(l=nn(13,f,u,v)).elementType=S,l.lanes=w,l;case A:return(l=nn(19,f,u,v)).elementType=A,l.lanes=w,l;case x:return ed(f,v,w,u);default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case m:C=10;break e;case y:C=9;break e;case _:C=11;break e;case E:C=14;break e;case b:C=16,g=null;break e}throw Error(s(130,l==null?l:typeof l,""))}return(u=nn(C,f,u,v)).elementType=l,u.type=g,u.lanes=w,u}function So(l,u,f,g){return(l=nn(7,l,g,u)).lanes=f,l}function ed(l,u,f,g){return(l=nn(22,l,g,u)).elementType=x,l.lanes=f,l.stateNode={isHidden:!1},l}function jg(l,u,f){return(l=nn(6,l,null,u)).lanes=f,l}function Wg(l,u,f){return(u=nn(4,l.children!==null?l.children:[],l.key,u)).lanes=f,u.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},u}function dM(l,u,f,g,v){this.tag=u,this.containerInfo=l,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=et,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$m(0),this.expirationTimes=$m(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$m(0),this.identifierPrefix=g,this.onRecoverableError=v,$e&&(this.mutableSourceEagerHydrationData=null)}function rb(l,u,f,g,v,w,C,I,F){return l=new dM(l,u,f,I,F),u===1?(u=1,w===!0&&(u|=8)):u=0,w=nn(3,null,null,u),l.current=w,w.stateNode=l,w.memoizedState={element:g,isDehydrated:f,cache:null,transitions:null,pendingSuspenseBoundaries:null},rg(w),l}function nb(l){if(!l)return ms;e:{if(D(l=l._reactInternals)!==l||l.tag!==1)throw Error(s(170));var u=l;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(Mr(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(s(171))}if(l.tag===1){var f=l.type;if(Mr(f))return Sx(l,f,u)}return u}function ib(l){var u=l._reactInternals;if(u===void 0)throw typeof l.render=="function"?Error(s(188)):(l=Object.keys(l).join(","),Error(s(268,l)));return(l=pe(u))===null?null:l.stateNode}function sb(l,u){if((l=l.memoizedState)!==null&&l.dehydrated!==null){var f=l.retryLane;l.retryLane=f!==0&&f<u?f:u}}function td(l,u){sb(l,u),(l=l.alternate)&&sb(l,u)}function fM(l){return(l=pe(l))===null?null:l.stateNode}function pM(){return null}return Ww=function(l,u,f){if(l!==null)if(l.memoizedProps!==u.pendingProps||xr.current)wr=!0;else{if(!(l.lanes&f)&&!(128&u.flags))return wr=!1,function(te,G,Q){switch(G.tag){case 3:Aw(G),xa();break;case 5:Xx(G);break;case 1:Mr(G.type)&&pc(G);break;case 4:sg(G,G.stateNode.containerInfo);break;case 10:Nx(0,G.type._context,G.memoizedProps.value);break;case 13:var he=G.memoizedState;if(he!==null)return he.dehydrated!==null?(Qe(yt,1&yt.current),G.flags|=128,null):Q&G.child.childLanes?Pw(te,G,Q):(Qe(yt,1&yt.current),(te=Li(te,G,Q))!==null?te.sibling:null);Qe(yt,1&yt.current);break;case 19:if(he=(Q&G.childLanes)!=0,(128&te.flags)!=0){if(he)return Rw(te,G,Q);G.flags|=128}var Ie=G.memoizedState;if(Ie!==null&&(Ie.rendering=null,Ie.tail=null,Ie.lastEffect=null),Qe(yt,yt.current),he)break;return null;case 22:case 23:return G.lanes=0,Sw(te,G,Q)}return Li(te,G,Q)}(l,u,f);wr=(131072&l.flags)!=0}else wr=!1,at&&1048576&u.flags&&Rx(u,_c,u.index);switch(u.lanes=0,u.tag){case 2:var g=u.type;Bc(l,u),l=u.pendingProps;var v=va(u,tr.current);ba(u,f),v=cg(null,u,g,l,v,f);var w=dg();return u.flags|=1,typeof v=="object"&&v!==null&&typeof v.render=="function"&&v.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,Mr(g)?(w=!0,pc(u)):w=!1,u.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,rg(u),v.updater=Ac,u.stateNode=v,v._reactInternals=u,ig(u,g,l,f),u=xg(null,u,g,!0,w,f)):(u.tag=0,at&&w&&Vm(u),br(null,u,v,f),u=u.child),u;case 16:g=u.elementType;e:{switch(Bc(l,u),l=u.pendingProps,g=(v=g._init)(g._payload),u.type=g,v=u.tag=function(te){if(typeof te=="function")return Hg(te)?1:0;if(te!=null){if((te=te.$$typeof)===_)return 11;if(te===E)return 14}return 2}(g),l=Tn(g,l),v){case 0:u=_g(null,u,g,l,f);break e;case 1:u=Tw(null,u,g,l,f);break e;case 11:u=xw(null,u,g,l,f);break e;case 14:u=ww(null,u,g,Tn(g.type,l),f);break e}throw Error(s(306,g,""))}return u;case 0:return g=u.type,v=u.pendingProps,_g(l,u,g,v=u.elementType===g?v:Tn(g,v),f);case 1:return g=u.type,v=u.pendingProps,Tw(l,u,g,v=u.elementType===g?v:Tn(g,v),f);case 3:e:{if(Aw(u),l===null)throw Error(s(387));g=u.pendingProps,v=(w=u.memoizedState).element,Bx(l,u),Tc(u,g,null,f);var C=u.memoizedState;if(g=C.element,$e&&w.isDehydrated){if(w={element:g,isDehydrated:!1,cache:C.cache,pendingSuspenseBoundaries:C.pendingSuspenseBoundaries,transitions:C.transitions},u.updateQueue.baseState=w,u.memoizedState=w,256&u.flags){u=Cw(l,u,g,f,v=Aa(Error(s(423)),u));break e}if(g!==v){u=Cw(l,u,g,f,v=Aa(Error(s(424)),u));break e}for($e&&(Zr=SO(u.stateNode.containerInfo),kr=u,at=!0,En=null,lu=!1),f=Vx(u,null,g,f),u.child=f;f;)f.flags=-3&f.flags|4096,f=f.sibling}else{if(xa(),g===v){u=Li(l,u,f);break e}br(l,u,g,f)}u=u.child}return u;case 5:return Xx(u),l===null&&Km(u),g=u.type,v=u.pendingProps,w=l!==null?l.memoizedProps:null,C=v.children,Ne(g,v)?C=null:w!==null&&Ne(g,w)&&(u.flags|=32),Ew(l,u),br(l,u,C,f),u.child;case 6:return l===null&&Km(u),null;case 13:return Pw(l,u,f);case 4:return sg(u,u.stateNode.containerInfo),g=u.pendingProps,l===null?u.child=Sa(u,null,g,f):br(l,u,g,f),u.child;case 11:return g=u.type,v=u.pendingProps,xw(l,u,g,v=u.elementType===g?v:Tn(g,v),f);case 7:return br(l,u,u.pendingProps,f),u.child;case 8:case 12:return br(l,u,u.pendingProps.children,f),u.child;case 10:e:{if(g=u.type._context,v=u.pendingProps,w=u.memoizedProps,Nx(0,g,C=v.value),w!==null)if(Sn(w.value,C)){if(w.children===v.children&&!xr.current){u=Li(l,u,f);break e}}else for((w=u.child)!==null&&(w.return=u);w!==null;){var I=w.dependencies;if(I!==null){C=w.child;for(var F=I.firstContext;F!==null;){if(F.context===g){if(w.tag===1){(F=Bi(-1,f&-f)).tag=2;var z=w.updateQueue;if(z!==null){var H=(z=z.shared).pending;H===null?F.next=F:(F.next=H.next,H.next=F),z.pending=F}}w.lanes|=f,(F=w.alternate)!==null&&(F.lanes|=f),eg(w.return,f,u),I.lanes|=f;break}F=F.next}}else if(w.tag===10)C=w.type===u.type?null:w.child;else if(w.tag===18){if((C=w.return)===null)throw Error(s(341));C.lanes|=f,(I=C.alternate)!==null&&(I.lanes|=f),eg(C,f,u),C=w.sibling}else C=w.child;if(C!==null)C.return=w;else for(C=w;C!==null;){if(C===u){C=null;break}if((w=C.sibling)!==null){w.return=C.return,C=w;break}C=C.return}w=C}br(l,u,v.children,f),u=u.child}return u;case 9:return v=u.type,g=u.pendingProps.children,ba(u,f),g=g(v=Jr(v)),u.flags|=1,br(l,u,g,f),u.child;case 14:return v=Tn(g=u.type,u.pendingProps),ww(l,u,g,v=Tn(g.type,v),f);case 15:return bw(l,u,u.type,u.pendingProps,f);case 17:return g=u.type,v=u.pendingProps,v=u.elementType===g?v:Tn(g,v),Bc(l,u),u.tag=1,Mr(g)?(l=!0,pc(u)):l=!1,ba(u,f),Gx(u,g,v),ig(u,g,v,f),xg(null,u,g,!0,l,f);case 19:return Rw(l,u,f);case 22:return Sw(l,u,f)}throw Error(s(156,u.tag))},e.attemptContinuousHydration=function(l){if(l.tag===13){var u=ei(l,134217728);u!==null&&rn(u,l,134217728,ir()),td(l,134217728)}},e.attemptDiscreteHydration=function(l){if(l.tag===13){var u=ei(l,1);u!==null&&rn(u,l,1,ir()),td(l,1)}},e.attemptHydrationAtCurrentPriority=function(l){if(l.tag===13){var u=ws(l),f=ei(l,u);f!==null&&rn(f,l,u,ir()),td(l,u)}},e.attemptSynchronousHydration=function(l){switch(l.tag){case 3:var u=l.stateNode;if(u.current.memoizedState.isDehydrated){var f=ou(u.pendingLanes);f!==0&&(Gm(u,1|f),Sr(u,Bt()),!(6&Fe)&&(Ia(),Zn()))}break;case 13:Yw(function(){var g=ei(l,1);if(g!==null){var v=ir();rn(g,l,1,v)}}),td(l,1)}},e.batchedUpdates=function(l,u){var f=Fe;Fe|=1;try{return l(u)}finally{(Fe=f)===0&&(Ia(),vc&&Zn())}},e.createComponentSelector=function(l){return{$$typeof:zc,value:l}},e.createContainer=function(l,u,f,g,v,w,C){return rb(l,u,!1,null,0,g,0,w,C)},e.createHasPseudoClassSelector=function(l){return{$$typeof:$c,value:l}},e.createHydrationContainer=function(l,u,f,g,v,w,C,I,F){return(l=rb(f,g,!0,l,0,w,0,I,F)).context=nb(null),f=l.current,(w=Bi(g=ir(),v=ws(f))).callback=u??null,vs(f,w,v),l.current.lanes=v,au(l,v,g),Sr(l,g),l},e.createPortal=function(l,u,f){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:h,key:g==null?null:""+g,children:l,containerInfo:u,implementation:f}},e.createRoleSelector=function(l){return{$$typeof:Gc,value:l}},e.createTestNameSelector=function(l){return{$$typeof:Hc,value:l}},e.createTextSelector=function(l){return{$$typeof:jc,value:l}},e.deferredUpdates=function(l){var u=Ge,f=bt.transition;try{return bt.transition=null,Ge=16,l()}finally{Ge=u,bt.transition=f}},e.discreteUpdates=function(l,u,f,g,v){var w=Ge,C=bt.transition;try{return bt.transition=null,Ge=1,l(u,f,g,v)}finally{Ge=w,bt.transition=C,Fe===0&&Ia()}},e.findAllNodes=Mg,e.findBoundingRects=function(l,u){if(!nu)throw Error(s(363));u=Mg(l,u),l=[];for(var f=0;f<u.length;f++)l.push(Q2(u[f]));for(u=l.length-1;0<u;u--)for(var g=(f=l[u]).x,v=g+f.width,w=f.y,C=w+f.height,I=u-1;0<=I;I--)if(u!==I){var F=l[I],z=F.x,H=z+F.width,te=F.y,G=te+F.height;if(g>=z&&w>=te&&v<=H&&C<=G){l.splice(u,1);break}if(!(g!==z||f.width!==F.width||G<w||te>C)){te>w&&(F.height+=te-w,F.y=w),G<C&&(F.height=C-te),l.splice(u,1);break}if(!(w!==te||f.height!==F.height||H<g||z>v)){z>g&&(F.width+=z-g,F.x=g),H<v&&(F.width=v-z),l.splice(u,1);break}}return l},e.findHostInstance=ib,e.findHostInstanceWithNoPortals=function(l){return(l=(l=V(l))!==null?B(l):null)===null?null:l.stateNode},e.findHostInstanceWithWarning=function(l){return ib(l)},e.flushControlled=function(l){var u=Fe;Fe|=1;var f=bt.transition,g=Ge;try{bt.transition=null,Ge=1,l()}finally{Ge=g,bt.transition=f,(Fe=u)===0&&(Ia(),Zn())}},e.flushPassiveEffects=bo,e.flushSync=Yw,e.focusWithin=function(l,u){if(!nu)throw Error(s(363));for(u=jw(l=Ig(l),u),u=Array.from(u),l=0;l<u.length;){var f=u[l++];if(!iu(f)){if(f.tag===5&&J2(f.stateNode))return!0;for(f=f.child;f!==null;)u.push(f),f=f.sibling}}return!1},e.getCurrentUpdatePriority=function(){return Ge},e.getFindAllNodesFailureDescription=function(l,u){if(!nu)throw Error(s(363));var f=0,g=[];l=[Ig(l),0];for(var v=0;v<l.length;){var w=l[v++],C=l[v++],I=u[C];if((w.tag!==5||!iu(w))&&(Rg(w,I)&&(g.push(Og(I)),++C>f&&(f=C)),C<u.length))for(w=w.child;w!==null;)l.push(w,C),w=w.sibling}if(f<u.length){for(l=[];f<u.length;f++)l.push(Og(u[f]));return`findAllNodes was able to match part of the selector:
  `+g.join(" > ")+`

No matching component was found for:
  `+l.join(" > ")}return null},e.getPublicRootInstance=function(l){return(l=l.current).child?l.child.tag===5?me(l.child.stateNode):l.child.stateNode:null},e.injectIntoDevTools=function(l){if(l={bundleType:l.bundleType,version:l.version,rendererPackageName:l.rendererPackageName,rendererConfig:l.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:o.ReactCurrentDispatcher,findHostInstanceByFiber:fM,findFiberByHostInstance:l.findFiberByHostInstance||pM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")l=!1;else{var u=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(u.isDisabled||!u.supportsFiber)l=!0;else{try{gc=u.inject(l),qn=u}catch{}l=!!u.checkDCE}}return l},e.isAlreadyRendering=function(){return!1},e.observeVisibleRects=function(l,u,f,g){if(!nu)throw Error(s(363));l=Mg(l,u);var v=eO(l,f,g).disconnect;return{disconnect:function(){v()}}},e.registerMutableSourceForHydration=function(l,u){var f=u._getVersion;f=f(u._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[u,f]:l.mutableSourceEagerHydrationData.push(u,f)},e.runWithPriority=function(l,u){var f=Ge;try{return Ge=l,u()}finally{Ge=f}},e.shouldError=function(){return null},e.shouldSuspend=function(){return!1},e.updateContainer=function(l,u,f,g){var v=u.current,w=ir(),C=ws(v);return f=nb(f),u.context===null?u.context=f:u.pendingContext=f,(u=Bi(w,C)).payload={element:l},(g=g===void 0?null:g)!==null&&(u.callback=g),(l=vs(v,u,C))!==null&&(rn(l,v,C,w),Ec(l,v,C)),C},e}),AT}({get exports(){return C_},set exports(t){C_=t}}).exports=Fz();var Bz=uz(C_),S2={name:"root",private:!0,workspaces:["packages/*"],scripts:{build:"nx run-many --target=build --all --parallel","build:force":"nx run-many --target=build --all --parallel --skip-nx-cache","build:docs":"nx run @pixi/react-docs:deploy",clean:"rimraf packages/*/dist packages/*/build",lint:"eslint .",prepare:"husky install",prerelease:"./scripts/checkReleaseBranch.mjs && npm run lint && npm run test:force && npm run build:force",release:"lerna publish --no-private",test:"nx run-many --target=test --all --parallel","test:force":"nx run-many --target=test --all --parallel --skip-nx-cache","test:ci":"nx run-many --target=test:ci --all --parallel","test:ci:force":"nx run-many --target=test:ci --all --parallel --skip-nx-cache","test:types":"nx run-many --target=test:types --all --parallel","test:types:force":"nx run-many --target=test:types --all --parallel --skip-nx-cache"},husky:{hooks:{"pre-commit":"lint-staged"}},"lint-staged":{"*.{ts,js,mjs}":["eslint --cache --fix"]},resolutions:{"get-pkg-repo":"4.1.1","hosted-git-info":"^2.1.4"},dependencies:{"@babel/runtime":"^7.14.8","@pixi/app":"^7.1.1","@pixi/constants":"^7.1.1","@pixi/core":"^7.1.1","@pixi/display":"^7.1.1","@pixi/extensions":"^7.1.1","@pixi/graphics":"^7.1.1","@pixi/math":"^7.1.1","@pixi/mesh":"^7.1.1","@pixi/mesh-extras":"^7.1.1","@pixi/particle-container":"^7.1.1","@pixi/sprite":"^7.1.1","@pixi/sprite-animated":"^7.1.1","@pixi/sprite-tiling":"^7.1.1","@pixi/text":"^7.1.1","@pixi/text-bitmap":"^7.1.1","@pixi/ticker":"^7.1.1","@react-spring/animated":"^9.6.1","@react-spring/types":"^9.6.1",react:"^18.0.0","react-dom":"^18.0.0","react-reconciler":"0.29.0","react-spring":"^9.6.1"},devDependencies:{"@babel/cli":"^7.20.7","@babel/core":"^7.20.7","@babel/eslint-parser":"^7.19.1","@babel/plugin-transform-runtime":"^7.19.6","@babel/preset-env":"^7.20.2","@babel/preset-react":"^7.18.6","@nrwl/nx-cloud":"latest","@pixi/eslint-config":"^4.0.1","@rollup/plugin-alias":"^4.0.2","@rollup/plugin-babel":"^6.0.3","@rollup/plugin-commonjs":"^24.0.0","@rollup/plugin-json":"^6.0.0","@rollup/plugin-node-resolve":"^15.0.1","@rollup/plugin-replace":"^5.0.2","@rollup/plugin-terser":"^0.2.1","@rollup/plugin-typescript":"^10.0.1","@types/jest":"^29.2.4","@types/react":"17.0.15","@types/react-dom":"17.0.9","@types/react-reconciler":"0.28.2","babel-jest":"^29.3.1","babel-plugin-module-resolver":"4.1.0","cross-env":"^7.0.3",eslint:"^8.29.0","eslint-plugin-react":"^7.31.11",husky:"^8.0.2",jest:"^29.3.1","jest-environment-jsdom":"^29.3.1","jest-extended":"^3.2.0","jest-watch-typeahead":"^2.2.1",lerna:"^6.0.3","lint-staged":"^13.1.0",nx:"15.3.0",rimraf:"^3.0.2",rollup:"^3.7.0","rollup-plugin-filesize":"^9.1.2","rollup-plugin-visualizer":"^5.9.0","ts-jest":"^29.0.3","ts-node":"^10.9.1",typescript:"^4.9.4"}},I_={},Vd={get exports(){return I_},set exports(t){I_=t}};(function(){var t,e,r,n,i,s;typeof performance<"u"&&performance!==null&&performance.now?Vd.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(Vd.exports=function(){return(t()-i)/1e6},e=process.hrtime,n=(t=function(){var o;return 1e9*(o=e())[0]+o[1]})(),s=1e9*process.uptime(),i=n-s):Date.now?(Vd.exports=function(){return Date.now()-r},r=Date.now()):(Vd.exports=function(){return new Date().getTime()-r},r=new Date().getTime())}).call(lz);var IT,cl={},Ao={};({get exports(){return cl},set exports(t){cl=t}}).exports=(IT||(IT=1,Ao.ConcurrentRoot=1,Ao.ContinuousEventPriority=4,Ao.DefaultEventPriority=16,Ao.DiscreteEventPriority=1,Ao.IdleEventPriority=536870912,Ao.LegacyRoot=0),Ao);var Lz={};function fy(t,e){t.addChild&&(t.addChild(e),typeof e.didMount=="function"&&e.didMount(e,t))}function E2(t,e){var r,n,i;(r=t.willUnmount)===null||r===void 0||r.call(t,t,e),((n=t.config)===null||n===void 0?void 0:n.destroyChildren)!==!1&&(i=t.children)!==null&&i!==void 0&&i.length&&ds(t.children).forEach(function(s){E2(s,t)})}function RT(t,e){var r;E2(e,t),t.removeChild(e);var n=(r=e.config)!==null&&r!==void 0?r:{},i=n.destroy,s=i===void 0||i,o=n.destroyChildren,a=o===void 0||o,h=n.destroyTexture,c=h!==void 0&&h,d=n.destroyBaseTexture,p=d!==void 0&&d;s&&e.destroy({children:a,texture:c,baseTexture:p})}function OT(t,e,r){var n,i;wt(e!==r,"Cannot insert node before itself"),t.children.indexOf(e)!==-1&&t.removeChild(e);var s=t.getChildIndex(r);t.addChildAt(e,s),(n=t.__reactpixi)===null||n===void 0||(i=n.root)===null||i===void 0||i.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"insertBefore"})}var MT=null,Ln=Bz({getRootHostContext:function(){return Lz},getChildHostContext:function(t){return t},getChildHostContextForEventComponent:function(t){return t},getPublicInstance:function(t){return t},getCurrentEventPriority:function(){return function(){var t,e;if(typeof window>"u")return cl.DefaultEventPriority;switch((t=window)===null||t===void 0||(e=t.event)===null||e===void 0?void 0:e.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return cl.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return cl.ContinuousEventPriority;default:return cl.DefaultEventPriority}}()},prepareForCommit:function(){return null},resetAfterCommit:function(){},createInstance:function(t){var e,r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,s=Mz[t];if(typeof s=="function"&&(e=s(i,n)),!e){var o=b2[t];o&&((e=o.create(n,{root:i})).didMount=o.didMount?o.didMount.bind(e):void 0,e.willUnmount=o.willUnmount?o.willUnmount.bind(e):void 0,e.applyProps=o.applyProps?o.applyProps.bind(e):void 0,e.config=o.config)}return e&&(e.__reactpixi={root:i},(typeof((r=e)===null||r===void 0?void 0:r.applyProps)=="function"?e.applyProps:Mi)(e,{},n)),e},hideInstance:function(t){t.visible=!1},unhideInstance:function(t,e){var r=e==null||!e.hasOwnProperty("visible")||e.visible;t.visible=r},finalizeInitialChildren:function(t,e,r){return!1},prepareUpdate:function(t,e,r,n,i,s){return MT=function(o,a,h,c){var d=null;for(var p in h)!c.hasOwnProperty(p)&&h.hasOwnProperty(p)&&h[p]!==null&&(p===T_||(d||(d=[]),d.push(p,null)));for(var m in c){var y=c[m],_=h!==null?h[m]:void 0;!c.hasOwnProperty(m)||y===_||y===null&&_===null||m===T_||(d||(d=[]),d.push(m,y))}return d}(0,0,r,n)},shouldSetTextContent:function(t,e){return!1},shouldDeprioritizeSubtree:function(t,e){var r=e.alpha===void 0||e.alpha>0,n=e.renderable===void 0||e.renderable===!0,i=e.visible===void 0||e.visible===!0;return!(r&&n&&i)},createTextInstance:function(t,e,r){wt(!1,'Error trying to add text node "'.concat(t,'"'),"text strings as children of a Pixi component is not supported. To add some text, use &lt;Text text={string} /&gt;")},unhideTextInstance:function(t,e){},mountEventComponent:function(){},updateEventComponent:function(){},handleEventTarget:function(){},scheduleTimeout:setTimeout,cancelTimeout:clearTimeout,noTimeout:-1,warnsIfNotActing:!1,now:I_,isPrimaryRenderer:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,supportsMicrotasks:!0,scheduleMicrotask:queueMicrotask,appendInitialChild:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=fy.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendInitialChild"}),s},appendChild:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=fy.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendChild"}),s},appendChildToContainer:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=fy.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendChildToContainer"}),s},removeChild:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=RT.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"removeChild"}),s},removeChildFromContainer:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=RT.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"removeChildFromContainer"}),s},insertBefore:OT,insertInContainerBefore:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=OT.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"insertInContainerBefore"}),s},commitUpdate:function(t,e,r,n,i){var s,o,a=t&&t.applyProps;typeof a!="function"&&(a=Mi),(a(t,n,i)||MT)&&((s=t.__reactpixi)===null||s===void 0||(o=s.root)===null||o===void 0||o.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"commitUpdate"}))},commitMount:function(t,e,r,n,i){},commitTextUpdate:function(t,e,r){},resetTextContent:function(t){},clearContainer:function(t){},getFundamentalComponentInstance:function(t){throw new Error("Not yet implemented.")},mountFundamentalComponent:function(t){throw new Error("Not yet implemented.")},shouldUpdateFundamentalComponent:function(t){throw new Error("Not yet implemented.")},unmountFundamentalComponent:function(t){throw new Error("Not yet implemented.")},getInstanceFromNode:function(t){throw new Error("Not yet implemented.")},isOpaqueHydratingObject:function(t){throw new Error("Not yet implemented")},makeOpaqueHydratingObject:function(t){throw new Error("Not yet implemented.")},makeClientIdInDEV:function(t){throw new Error("Not yet implemented")},beforeActiveInstanceBlur:function(t){},afterActiveInstanceBlur:function(){},detachDeletedInstance:function(){},preparePortalMount:function(t){}}),Uz=S2.dependencies["react-dom"].replace(/[^0-9.]/g,""),zz=S2.name;Ln.injectIntoDevTools({bundleType:0,version:Uz,rendererPackageName:zz,findHostInstanceByFiber:Ln.findHostInstance});var Js=new Map;function T2(t){if(wt(cr.prototype.isPrototypeOf(t),"Invalid argument `container`, expected instance of `Container`."),Js.has(t)){var e=Js.get(t).pixiFiberContainer;Ln.updateContainer(null,e,void 0,function(){Js.delete(t)})}}function A2(t){wt(cr.prototype.isPrototypeOf(t),"Invalid argument `container`, expected instance of `Container`.");var e=Js.get(t);if(wt(!e,"createRoot should only be called once"),!e){var r=Ln.createContainer(t);e={pixiFiberContainer:r,reactRoot:{render:function(n){return Ln.updateContainer(n,r,void 0),Ln.getPublicRootInstance(r)},unmount:function(){T2(t),Js.delete(t)}}},Js.set(t,e)}return e.reactRoot}function $z(t,e,r){var n;return console.warn("Pixi React Deprecation Warning: render is deprecated, use createRoot instead"),r!==void 0&&console.warn("Pixi React Deprecation Warning: render callback no longer exists in React 18"),Js.has(e)?n=Js.get(e).reactRoot:n=A2(e),n.render(t)}function Gz(t){T2(t)}function Qh(){return Qh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Qh.apply(this,arguments)}function Hz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jz(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_2(n.key),n)}}function Hi(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Mp(t,e){return Mp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Mp(t,e)}function Wz(t,e){if(e&&(Hr(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hi(t)}function kp(t){return kp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},kp(t)}var Im=ht.createContext(null),C2=Im.Provider,P2=Im.Consumer,Vz=function(t){var e=ht.forwardRef(function(r,n){return ht.createElement(P2,null,function(i){return ht.createElement(t,Qh({},r,{ref:n,app:i}))})});return e.displayName="withPIXIApp(".concat(t.displayName||t.name,")"),e};function Xz(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,n=kp(t);if(e){var i=kp(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Wz(this,r)}}function kT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Xd(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kT(Object(r),!0).forEach(function(n){St(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var DT=function(){},I2={width:ve.number,height:ve.number,onMount:ve.func,onUnmount:ve.func,raf:ve.bool,renderOnComponentChange:ve.bool,children:ve.node,options:ve.shape({autoStart:ve.bool,width:ve.number,height:ve.number,useContextAlpha:ve.bool,backgroundAlpha:ve.number,autoDensity:ve.bool,antialias:ve.bool,preserveDrawingBuffer:ve.bool,resolution:ve.number,forceCanvas:ve.bool,backgroundColor:ve.number,clearBeforeRender:ve.bool,powerPreference:ve.string,sharedTicker:ve.bool,sharedLoader:ve.bool,resizeTo:function(t,e){var r=t[e];r&&wt(r===window||r instanceof HTMLElement,"Invalid prop `resizeTo` of type ".concat(Hr(r),", expect `window` or an `HTMLElement`."))},view:function(t,e,r){var n=t[e];n&&wt(n instanceof HTMLCanvasElement,"Invalid prop `view` of type ".concat(Hr(n),", supplied to ").concat(r,", expected `<canvas> Element`"))}})},Yz={width:800,height:600,onMount:DT,onUnmount:DT,raf:!0,renderOnComponentChange:!0},R_=function(t){(function(s,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(o&&o.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),o&&Mp(s,o)})(i,ht.Component);var e,r,n=Xz(i);function i(){var s;Hz(this,i);for(var o=arguments.length,a=new Array(o),h=0;h<o;h++)a[h]=arguments[h];return St(Hi(s=n.call.apply(n,[this].concat(a))),"_canvas",null),St(Hi(s),"_mediaQuery",null),St(Hi(s),"_ticker",null),St(Hi(s),"_needsUpdate",!0),St(Hi(s),"app",null),St(Hi(s),"updateSize",function(){var c=s.props,d=c.width,p=c.height,m=c.options;m!=null&&m.resolution||(s.app.renderer.resolution=window.devicePixelRatio,s.resetInteractionManager()),s.app.renderer.resize(d,p)}),St(Hi(s),"needsRenderUpdate",function(){s._needsUpdate=!0}),St(Hi(s),"renderStage",function(){var c=s.props,d=c.renderOnComponentChange;!c.raf&&d&&s._needsUpdate&&(s._needsUpdate=!1,s.app.renderer.render(s.app.stage))}),s}return e=i,(r=[{key:"componentDidMount",value:function(){var s=this.props,o=s.onMount,a=s.width,h=s.height,c=s.options,d=s.raf,p=s.renderOnComponentChange;this.app=new Pm(Xd(Xd({width:a,height:h,view:this._canvas},c),{},{autoDensity:(c==null?void 0:c.autoDensity)!==!1})),this.app.ticker.autoStart=!1,this.app.ticker[d?"start":"stop"](),this.app.stage.__reactpixi={root:this.app.stage},this.mountNode=Ln.createContainer(this.app.stage),Ln.updateContainer(this.getChildren(),this.mountNode,this),o(this.app),c!=null&&c.autoDensity&&window.matchMedia&&(c==null?void 0:c.resolution)===void 0&&(this._mediaQuery=window.matchMedia("(-webkit-min-device-pixel-ratio: 1.3), (min-resolution: 120dpi)"),this._mediaQuery.addListener(this.updateSize)),p&&!d&&(this._ticker=new Ft,this._ticker.autoStart=!0,this._ticker.add(this.renderStage),this.app.stage.on("__REACT_PIXI_REQUEST_RENDER__",this.needsRenderUpdate)),this.updateSize(),this.renderStage()}},{key:"componentDidUpdate",value:function(s,o,a){var h,c=this.props,d=c.width,p=c.height,m=c.raf,y=c.renderOnComponentChange,_=c.options;(_==null?void 0:_.resolution)!==void 0&&(s==null?void 0:s.options.resolution)!==(_==null?void 0:_.resolution)&&(this.app.renderer.resolution=_.resolution,this.resetInteractionManager()),s.height===p&&s.width===d&&((h=s.options)===null||h===void 0?void 0:h.resolution)===(_==null?void 0:_.resolution)||this.updateSize(),s.raf!==m&&this.app.ticker[m?"start":"stop"](),Ln.updateContainer(this.getChildren(),this.mountNode,this),s.width===d&&s.height===p&&s.raf===m&&s.renderOnComponentChange===y&&s.options===_||(this._needsUpdate=!0,this.renderStage())}},{key:"resetInteractionManager",value:function(){var s=this.app.renderer.plugins.interaction;s!=null&&s.resolution&&(s.resolution=this.app.renderer.resolution)}},{key:"getChildren",value:function(){var s=this.props.children;return ht.createElement(C2,{value:this.app},s)}},{key:"componentDidCatch",value:function(s,o){console.error("Error occurred in `Stage`."),console.error(s),console.error(o)}},{key:"componentWillUnmount",value:function(){this.props.onUnmount(this.app),this._ticker&&(this._ticker.remove(this.renderStage),this._ticker.destroy()),this.app.stage.off("__REACT_PIXI_REQUEST_RENDER__",this.needsRenderUpdate),Ln.updateContainer(null,this.mountNode,this),this._mediaQuery&&(this._mediaQuery.removeListener(this.updateSize),this._mediaQuery=null),this.app.destroy()}},{key:"render",value:function(){var s,o,a=this,h=this.props.options;return h&&h.view?(wt(h.view instanceof HTMLCanvasElement,"options.view needs to be a `HTMLCanvasElement`"),null):ht.createElement("canvas",Qh({},(s=this.props,o=[].concat(ds(Object.keys(I2)),ds(Object.keys(A_))),Object.keys(s).filter(function(c){return!o.includes(c)}).reduce(function(c,d){return Xd(Xd({},c),{},St({},d,s[d]))},{})),{ref:function(c){return a._canvas=c}}))}}])&&jz(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),i}();R_.propTypes=I2,R_.defaultProps=Yz;var Kz=R_;function R2(){var t=Ee.useContext(Im);return wt(t instanceof Pm,"No Context found with `%s`. Make sure to wrap component with `%s`","Application","AppProvider"),t}function Qz(t){var e=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=R2();wt(typeof t=="function","`useTick` needs a callback function."),wt(r instanceof Pm,"No Context found with `%s`. Make sure to wrap component with `%s`","Application","AppProvider");var n=Ee.useRef(null);Ee.useEffect(function(){n.current=t},[t]),Ee.useEffect(function(){if(e){var i=function(s){return n.current.apply(r.ticker,[s,r.ticker])};return r.ticker.add(i),function(){r.ticker&&r.ticker.remove(i)}}},[e])}function qz(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function O_(t,e,r){return O_=qz()?Reflect.construct.bind():function(n,i,s){var o=[null];o.push.apply(o,i);var a=new(Function.bind.apply(n,o));return s&&Mp(a,s.prototype),a},O_.apply(null,arguments)}var Zz=["children","apply"];function NT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Yd(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?NT(Object(r),!0).forEach(function(n){St(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):NT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Jz=function(t,e){wt(Hr(e)==="object","Second argument needs to be an indexed object with { prop: Filter }");var r=Object.keys(e),n=function(i){var s=i.children,o=i.apply,a=fo(i,Zz),h=Ee.useRef(Ee.useMemo(function(){return r.map(function(p){var m,y=(a==null||(m=a[p])===null||m===void 0?void 0:m.construct)||[];return O_(e[p],ds(y))})},[r])),c=Ee.useMemo(function(){return r.reduce(function(p,m,y){return Yd(Yd({},p),{},St({},m,h.current[y]))},{})},[r]),d=Ee.useMemo(function(){return Object.keys(a).filter(w2(x2(r))).reduce(function(p,m){return Yd(Yd({},p),{},St({},m,a[m]))},{})},[a,r]);return r.forEach(function(p,m){return Object.assign(h.current[m],a[p])}),o&&function(){for(var p=arguments.length,m=new Array(p),y=0;y<p;y++)m[y]=arguments[y];return m.every(function(_){return typeof _=="function"})}(o)&&o.call(t,c),ht.createElement(t,Qh({},d,{filters:h.current}),s)};return n.displayName="FilterWrapper",n.propTypes={children:ve.node,apply:ve.func},n},e8=Or.BitmapText,t8=Or.Container,r8=Or.Graphics,n8=Or.NineSlicePlane,i8=Or.ParticleContainer,s8=Or.Sprite,o8=Or.AnimatedSprite,a8=Or.Text,l8=Or.TilingSprite,u8=Or.SimpleMesh,h8=Or.SimpleRope;const c8=Object.freeze(Object.defineProperty({__proto__:null,AnimatedSprite:o8,AppConsumer:P2,AppContext:Im,AppProvider:C2,BitmapText:e8,Container:t8,Graphics:r8,NineSlicePlane:n8,ParticleContainer:i8,PixiComponent:kz,PixiFiber:Ln,SimpleMesh:u8,SimpleRope:h8,Sprite:s8,Stage:Kz,TYPES:Or,Text:a8,TilingSprite:l8,applyDefaultProps:Mi,createRoot:A2,eventHandlers:Op,render:$z,unmountComponentAtNode:Gz,useApp:R2,useTick:Qz,withFilters:Jz,withPixiApp:Vz},Symbol.toStringTag,{value:"Module"})),d8=cA(c8);mm.exports=d8;var Hl=mm.exports,px={};px.match=y8;px.parse=O2;var f8=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,p8=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,m8=/^(?:(min|max)-)?(.+)/,g8=/(em|rem|px|cm|mm|in|pt|pc)?$/,v8=/(dpi|dpcm|dppx)?$/;function y8(t,e){return O2(t).some(function(r){var n=r.inverse,i=r.type==="all"||e.type===r.type;if(i&&n||!(i||n))return!1;var s=r.expressions.every(function(o){var a=o.feature,h=o.modifier,c=o.value,d=e[a];if(!d)return!1;switch(a){case"orientation":case"scan":return d.toLowerCase()===c.toLowerCase();case"width":case"height":case"device-width":case"device-height":c=LT(c),d=LT(d);break;case"resolution":c=BT(c),d=BT(d);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":c=FT(c),d=FT(d);break;case"grid":case"color":case"color-index":case"monochrome":c=parseInt(c,10)||1,d=parseInt(d,10)||0;break}switch(h){case"min":return d>=c;case"max":return d<=c;default:return d===c}});return s&&!n||!s&&n})}function O2(t){return t.split(",").map(function(e){e=e.trim();var r=e.match(f8),n=r[1],i=r[2],s=r[3]||"",o={};return o.inverse=!!n&&n.toLowerCase()==="not",o.type=i?i.toLowerCase():"all",s=s.match(/\([^\)]+\)/g)||[],o.expressions=s.map(function(a){var h=a.match(p8),c=h[1].toLowerCase().match(m8);return{modifier:c[1],feature:c[2],value:h[2]}}),o})}function FT(t){var e=Number(t),r;return e||(r=t.match(/^(\d+)\s*\/\s*(\d+)$/),e=r[1]/r[2]),e}function BT(t){var e=parseFloat(t),r=String(t).match(v8)[1];switch(r){case"dpcm":return e/2.54;case"dppx":return e*96;default:return e}}function LT(t){var e=parseFloat(t),r=String(t).match(g8)[1];switch(r){case"em":return e*16;case"rem":return e*16;case"cm":return e*96/2.54;case"mm":return e*96/2.54/10;case"in":return e*96;case"pt":return e*72;case"pc":return e*72/12;default:return e}}var _8=px.match,UT=typeof window<"u"?window.matchMedia:null;function x8(t,e,r){var n=this,i;UT&&!r&&(i=UT.call(window,t)),i?(this.matches=i.matches,this.media=i.media,i.addListener(a)):(this.matches=_8(t,e),this.media=t),this.addListener=s,this.removeListener=o,this.dispose=h;function s(c){i&&i.addListener(c)}function o(c){i&&i.removeListener(c)}function a(c){n.matches=c.matches,n.media=c.media}function h(){i&&i.removeListener(a)}}function w8(t,e,r){return new x8(t,e,r)}var b8=w8;const S8=qh(b8);var E8=/[A-Z]/g,T8=/^ms-/,py={};function A8(t){return"-"+t.toLowerCase()}function M2(t){if(py.hasOwnProperty(t))return py[t];var e=t.replace(E8,A8);return py[t]=T8.test(e)?"-"+e:e}function C8(t,e){if(t===e)return!0;if(!t||!e)return!1;const r=Object.keys(t),n=Object.keys(e),i=r.length;if(n.length!==i)return!1;for(let s=0;s<i;s++){const o=r[s];if(t[o]!==e[o]||!Object.prototype.hasOwnProperty.call(e,o))return!1}return!0}const pr=ve.oneOfType([ve.string,ve.number]),mx={all:ve.bool,grid:ve.bool,aural:ve.bool,braille:ve.bool,handheld:ve.bool,print:ve.bool,projection:ve.bool,screen:ve.bool,tty:ve.bool,tv:ve.bool,embossed:ve.bool},k2={orientation:ve.oneOf(["portrait","landscape"]),scan:ve.oneOf(["progressive","interlace"]),aspectRatio:ve.string,deviceAspectRatio:ve.string,height:pr,deviceHeight:pr,width:pr,deviceWidth:pr,color:ve.bool,colorIndex:ve.bool,monochrome:ve.bool,resolution:pr,type:Object.keys(mx)},{type:CH,...P8}=k2,D2={minAspectRatio:ve.string,maxAspectRatio:ve.string,minDeviceAspectRatio:ve.string,maxDeviceAspectRatio:ve.string,minHeight:pr,maxHeight:pr,minDeviceHeight:pr,maxDeviceHeight:pr,minWidth:pr,maxWidth:pr,minDeviceWidth:pr,maxDeviceWidth:pr,minColor:ve.number,maxColor:ve.number,minColorIndex:ve.number,maxColorIndex:ve.number,minMonochrome:ve.number,maxMonochrome:ve.number,minResolution:pr,maxResolution:pr,...P8},I8={...mx,...D2};var R8={all:I8,types:mx,matchers:k2,features:D2};const O8=t=>`not ${t}`,M8=(t,e)=>{const r=M2(t);return typeof e=="number"&&(e=`${e}px`),e===!0?r:e===!1?O8(r):`(${r}: ${e})`},k8=t=>t.join(" and "),D8=t=>{const e=[];return Object.keys(R8.all).forEach(r=>{const n=t[r];n!=null&&e.push(M8(r,n))}),k8(e)},N8=Ee.createContext(void 0),F8=t=>t.query||D8(t),zT=t=>t?Object.keys(t).reduce((r,n)=>(r[M2(n)]=t[n],r),{}):void 0,N2=()=>{const t=Ee.useRef(!1);return Ee.useEffect(()=>{t.current=!0},[]),t.current},B8=t=>{const e=Ee.useContext(N8),r=()=>zT(t)||zT(e),[n,i]=Ee.useState(r);return Ee.useEffect(()=>{const s=r();C8(n,s)||i(s)},[t,e]),n},L8=t=>{const e=()=>F8(t),[r,n]=Ee.useState(e);return Ee.useEffect(()=>{const i=e();r!==i&&n(i)},[t]),r},U8=(t,e)=>{const r=()=>S8(t,e||{},!!e),[n,i]=Ee.useState(r),s=N2();return Ee.useEffect(()=>{if(s){const o=r();return i(o),()=>{o&&o.dispose()}}},[t,e]),n},z8=t=>{const[e,r]=Ee.useState(t.matches);return Ee.useEffect(()=>{const n=i=>{r(i.matches)};return t.addListener(n),r(t.matches),()=>{t.removeListener(n)}},[t]),e},$8=(t,e,r)=>{const n=B8(e),i=L8(t);if(!i)throw new Error("Invalid or missing MediaQuery!");const s=U8(i,n),o=z8(s),a=N2();return Ee.useEffect(()=>{a&&r&&r(o)},[o]),Ee.useEffect(()=>()=>{s&&s.dispose()},[]),o},F2=new it;ct.prototype._cacheAsBitmap=!1;ct.prototype._cacheData=null;ct.prototype._cacheAsBitmapResolution=null;ct.prototype._cacheAsBitmapMultisample=null;class G8{constructor(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}}Object.defineProperties(ct.prototype,{cacheAsBitmapResolution:{get(){return this._cacheAsBitmapResolution},set(t){t!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get(){return this._cacheAsBitmapMultisample},set(t){t!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get(){return this._cacheAsBitmap},set(t){if(this._cacheAsBitmap===t)return;this._cacheAsBitmap=t;let e;t?(this._cacheData||(this._cacheData=new G8),e=this._cacheData,e.originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(e=this._cacheData,e.sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}});ct.prototype._renderCached=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(t))};ct.prototype._initCachedDisplayObject=function(t){var m,y;if((m=this._cacheData)!=null&&m.sprite)return;const e=this.alpha;this.alpha=1,t.batch.flush();const r=this.getLocalBounds(new be,!0);if((y=this.filters)!=null&&y.length){const _=this.filters[0].padding;r.pad(_)}const n=this.cacheAsBitmapResolution||t.resolution;r.ceil(n),r.width=Math.max(r.width,1/n),r.height=Math.max(r.height,1/n);const i=t.renderTexture.current,s=t.renderTexture.sourceFrame.clone(),o=t.renderTexture.destinationFrame.clone(),a=t.projection.transform,h=pa.create({width:r.width,height:r.height,resolution:n,multisample:this.cacheAsBitmapMultisample??t.multisample}),c=`cacheAsBitmap_${sa()}`;this._cacheData.textureCacheId=c,Ce.addToCache(h.baseTexture,c),re.addToCache(h,c);const d=this.transform.localTransform.copyTo(F2).invert().translate(-r.x,-r.y);this.render=this._cacheData.originalRender,t.render(this,{renderTexture:h,clear:!0,transform:d,skipUpdateTransform:!1}),t.framebuffer.blit(),t.projection.transform=a,t.renderTexture.bind(i,s,o),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=e;const p=new Di(h);p.transform.worldTransform=this.transform.worldTransform,p.anchor.x=-(r.x/r.width),p.anchor.y=-(r.y/r.height),p.alpha=e,p._bounds=this._bounds,this._cacheData.sprite=p,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=p.containsPoint.bind(p)};ct.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(t))};ct.prototype._initCachedDisplayObjectCanvas=function(t){var d;if((d=this._cacheData)!=null&&d.sprite)return;const e=this.getLocalBounds(new be,!0),r=this.alpha;this.alpha=1;const n=t.canvasContext.activeContext,i=t._projTransform,s=this.cacheAsBitmapResolution||t.resolution;e.ceil(s),e.width=Math.max(e.width,1/s),e.height=Math.max(e.height,1/s);const o=pa.create({width:e.width,height:e.height,resolution:s}),a=`cacheAsBitmap_${sa()}`;this._cacheData.textureCacheId=a,Ce.addToCache(o.baseTexture,a),re.addToCache(o,a);const h=F2;this.transform.localTransform.copyTo(h),h.invert(),h.tx-=e.x,h.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,t.render(this,{renderTexture:o,clear:!0,transform:h,skipUpdateTransform:!1}),t.canvasContext.activeContext=n,t._projTransform=i,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=r;const c=new Di(o);c.transform.worldTransform=this.transform.worldTransform,c.anchor.x=-(e.x/e.width),c.anchor.y=-(e.y/e.height),c.alpha=r,c._bounds=this._bounds,this._cacheData.sprite=c,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=c.containsPoint.bind(c)};ct.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};ct.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};ct.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,Ce.removeFromCache(this._cacheData.textureCacheId),re.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};ct.prototype._cacheAsBitmapDestroy=function(t){this.cacheAsBitmap=!1,this.destroy(t)};ct.prototype.name=null;cr.prototype.getChildByName=function(t,e){for(let r=0,n=this.children.length;r<n;r++)if(this.children[r].name===t)return this.children[r];if(e)for(let r=0,n=this.children.length;r<n;r++){const i=this.children[r];if(!i.getChildByName)continue;const s=i.getChildByName(t,!0);if(s)return s}return null};ct.prototype.getGlobalPosition=function(t=new _e,e=!1){return this.parent?this.parent.toGlobal(this.position,t,e):(t.x=this.position.x,t.y=this.position.y),t};var H8=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`;class j8 extends gr{constructor(e=1){super(A5,H8,{uAlpha:1}),this.alpha=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}const W8={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},V8=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function X8(t){const e=W8[t],r=e.length;let n=V8,i="";const s="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;";let o;for(let a=0;a<t;a++){let h=s.replace("%index%",a.toString());o=a,a>=r&&(o=t-a-1),h=h.replace("%value%",e[o].toString()),i+=h,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",t.toString()),n}const Y8=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function K8(t,e){const r=Math.ceil(t/2);let n=Y8,i="",s;e?s="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":s="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(let o=0;o<t;o++){let a=s.replace("%index%",o.toString());a=a.replace("%sampleIndex%",`${o-(r-1)}.0`),i+=a,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",t.toString()),n}class M_ extends gr{constructor(e,r=8,n=4,i=gr.defaultResolution,s=5){const o=K8(s,e),a=X8(s);super(o,a),this.horizontal=e,this.resolution=i,this._quality=0,this.quality=n,this.blur=r}apply(e,r,n,i){if(n?this.horizontal?this.uniforms.strength=1/n.width*(n.width/r.width):this.uniforms.strength=1/n.height*(n.height/r.height):this.horizontal?this.uniforms.strength=1/e.renderer.width*(e.renderer.width/r.width):this.uniforms.strength=1/e.renderer.height*(e.renderer.height/r.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)e.applyFilter(this,r,n,i);else{const s=e.getFilterTexture(),o=e.renderer;let a=r,h=s;this.state.blend=!1,e.applyFilter(this,a,h,yi.CLEAR);for(let c=1;c<this.passes-1;c++){e.bindAndClear(a,yi.BLIT),this.uniforms.uSampler=h;const d=h;h=a,a=d,o.shader.bind(this),o.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,h,n,i),e.returnFilterTexture(s)}}get blur(){return this.strength}set blur(e){this.padding=1+Math.abs(e)*2,this.strength=e}get quality(){return this._quality}set quality(e){this._quality=e,this.passes=e}}class Q8 extends gr{constructor(e=8,r=4,n=gr.defaultResolution,i=5){super(),this._repeatEdgePixels=!1,this.blurXFilter=new M_(!0,e,r,n,i),this.blurYFilter=new M_(!1,e,r,n,i),this.resolution=n,this.quality=r,this.blur=e,this.repeatEdgePixels=!1}apply(e,r,n,i){const s=Math.abs(this.blurXFilter.strength),o=Math.abs(this.blurYFilter.strength);if(s&&o){const a=e.getFilterTexture();this.blurXFilter.apply(e,r,a,yi.CLEAR),this.blurYFilter.apply(e,a,n,i),e.returnFilterTexture(a)}else o?this.blurYFilter.apply(e,r,n,i):this.blurXFilter.apply(e,r,n,i)}updatePadding(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2}get blur(){return this.blurXFilter.blur}set blur(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()}get quality(){return this.blurXFilter.quality}set quality(e){this.blurXFilter.quality=this.blurYFilter.quality=e}get blurX(){return this.blurXFilter.blur}set blurX(e){this.blurXFilter.blur=e,this.updatePadding()}get blurY(){return this.blurYFilter.blur}set blurY(e){this.blurYFilter.blur=e,this.updatePadding()}get blendMode(){return this.blurYFilter.blendMode}set blendMode(e){this.blurYFilter.blendMode=e}get repeatEdgePixels(){return this._repeatEdgePixels}set repeatEdgePixels(e){this._repeatEdgePixels=e,this.updatePadding()}}var q8=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`;class k_ extends gr{constructor(){const e={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};super(WR,q8,e),this.alpha=1}_loadMatrix(e,r=!1){let n=e;r&&(this._multiply(n,this.uniforms.m,e),n=this._colorMatrix(n)),this.uniforms.m=n}_multiply(e,r,n){return e[0]=r[0]*n[0]+r[1]*n[5]+r[2]*n[10]+r[3]*n[15],e[1]=r[0]*n[1]+r[1]*n[6]+r[2]*n[11]+r[3]*n[16],e[2]=r[0]*n[2]+r[1]*n[7]+r[2]*n[12]+r[3]*n[17],e[3]=r[0]*n[3]+r[1]*n[8]+r[2]*n[13]+r[3]*n[18],e[4]=r[0]*n[4]+r[1]*n[9]+r[2]*n[14]+r[3]*n[19]+r[4],e[5]=r[5]*n[0]+r[6]*n[5]+r[7]*n[10]+r[8]*n[15],e[6]=r[5]*n[1]+r[6]*n[6]+r[7]*n[11]+r[8]*n[16],e[7]=r[5]*n[2]+r[6]*n[7]+r[7]*n[12]+r[8]*n[17],e[8]=r[5]*n[3]+r[6]*n[8]+r[7]*n[13]+r[8]*n[18],e[9]=r[5]*n[4]+r[6]*n[9]+r[7]*n[14]+r[8]*n[19]+r[9],e[10]=r[10]*n[0]+r[11]*n[5]+r[12]*n[10]+r[13]*n[15],e[11]=r[10]*n[1]+r[11]*n[6]+r[12]*n[11]+r[13]*n[16],e[12]=r[10]*n[2]+r[11]*n[7]+r[12]*n[12]+r[13]*n[17],e[13]=r[10]*n[3]+r[11]*n[8]+r[12]*n[13]+r[13]*n[18],e[14]=r[10]*n[4]+r[11]*n[9]+r[12]*n[14]+r[13]*n[19]+r[14],e[15]=r[15]*n[0]+r[16]*n[5]+r[17]*n[10]+r[18]*n[15],e[16]=r[15]*n[1]+r[16]*n[6]+r[17]*n[11]+r[18]*n[16],e[17]=r[15]*n[2]+r[16]*n[7]+r[17]*n[12]+r[18]*n[17],e[18]=r[15]*n[3]+r[16]*n[8]+r[17]*n[13]+r[18]*n[18],e[19]=r[15]*n[4]+r[16]*n[9]+r[17]*n[14]+r[18]*n[19]+r[19],e}_colorMatrix(e){const r=new Float32Array(e);return r[4]/=255,r[9]/=255,r[14]/=255,r[19]/=255,r}brightness(e,r){const n=[e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0];this._loadMatrix(n,r)}tint(e,r){const[n,i,s]=Ze.shared.setValue(e).toArray(),o=[n,0,0,0,0,0,i,0,0,0,0,0,s,0,0,0,0,0,1,0];this._loadMatrix(o,r)}greyscale(e,r){const n=[e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0];this._loadMatrix(n,r)}blackAndWhite(e){const r=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(r,e)}hue(e,r){e=(e||0)/180*Math.PI;const n=Math.cos(e),i=Math.sin(e),s=Math.sqrt,o=1/3,a=s(o),h=n+(1-n)*o,c=o*(1-n)-a*i,d=o*(1-n)+a*i,p=o*(1-n)+a*i,m=n+o*(1-n),y=o*(1-n)-a*i,_=o*(1-n)-a*i,S=o*(1-n)+a*i,A=n+o*(1-n),E=[h,c,d,0,0,p,m,y,0,0,_,S,A,0,0,0,0,0,1,0];this._loadMatrix(E,r)}contrast(e,r){const n=(e||0)+1,i=-.5*(n-1),s=[n,0,0,0,i,0,n,0,0,i,0,0,n,0,i,0,0,0,1,0];this._loadMatrix(s,r)}saturate(e=0,r){const n=e*2/3+1,i=(n-1)*-.5,s=[n,i,i,0,0,i,n,i,0,0,i,i,n,0,0,0,0,0,1,0];this._loadMatrix(s,r)}desaturate(){this.saturate(-1)}negative(e){const r=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(r,e)}sepia(e){const r=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(r,e)}technicolor(e){const r=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(r,e)}polaroid(e){const r=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(r,e)}toBGR(e){const r=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(r,e)}kodachrome(e){const r=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(r,e)}browni(e){const r=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(r,e)}vintage(e){const r=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(r,e)}colorTone(e,r,n,i,s){e=e||.2,r=r||.15,n=n||16770432,i=i||3375104;const o=Ze.shared,[a,h,c]=o.setValue(n).toArray(),[d,p,m]=o.setValue(i).toArray(),y=[.3,.59,.11,0,0,a,h,c,e,0,d,p,m,r,0,a-d,h-p,c-m,0,0];this._loadMatrix(y,s)}night(e,r){e=e||.1;const n=[e*-2,-e,0,0,0,-e,0,e,0,0,0,e,e*2,0,0,0,0,0,1,0];this._loadMatrix(n,r)}predator(e,r){const n=[11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0];this._loadMatrix(n,r)}lsd(e){const r=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(r,e)}reset(){const e=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(e,!1)}get matrix(){return this.uniforms.m}set matrix(e){this.uniforms.m=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}k_.prototype.grayscale=k_.prototype.greyscale;var Z8=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,J8=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`;class e$ extends gr{constructor(e,r){const n=new it;e.renderable=!1,super(J8,Z8,{mapSampler:e._texture,filterMatrix:n,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])}),this.maskSprite=e,this.maskMatrix=n,r==null&&(r=20),this.scale=new _e(r,r)}apply(e,r,n,i){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;const s=this.maskSprite.worldTransform,o=Math.sqrt(s.a*s.a+s.b*s.b),a=Math.sqrt(s.c*s.c+s.d*s.d);o!==0&&a!==0&&(this.uniforms.rotation[0]=s.a/o,this.uniforms.rotation[1]=s.b/o,this.uniforms.rotation[2]=s.c/a,this.uniforms.rotation[3]=s.d/a),e.applyFilter(this,r,n,i)}get map(){return this.uniforms.mapSampler}set map(e){this.uniforms.mapSampler=e}}var t$=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`,r$=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`;class n$ extends gr{constructor(){super(r$,t$)}}var i$=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`;class s$ extends gr{constructor(e=.5,r=Math.random()){super(WR,i$,{uNoise:0,uSeed:0}),this.noise=e,this.seed=r}get noise(){return this.uniforms.uNoise}set noise(e){this.uniforms.uNoise=e}get seed(){return this.uniforms.uSeed}set seed(e){this.uniforms.uSeed=e}}const $T={AlphaFilter:j8,BlurFilter:Q8,BlurFilterPass:M_,ColorMatrixFilter:k_,DisplacementFilter:e$,FXAAFilter:n$,NoiseFilter:s$};Object.entries($T).forEach(([t,e])=>{Object.defineProperty($T,t,{get(){return Oe("7.1.0",`filters.${t} has moved to ${t}`),e}})});class o${constructor(){this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}init(e){this.removeTickerListener(),this.events=e,this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}get pauseUpdate(){return this._pauseUpdate}set pauseUpdate(e){this._pauseUpdate=e}addTickerListener(){this.tickerAdded||!this.domElement||(Ft.system.add(this.tickerUpdate,this,so.INTERACTION),this.tickerAdded=!0)}removeTickerListener(){this.tickerAdded&&(Ft.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)}pointerMoved(){this._didMove=!0}update(){if(!this.domElement||this._pauseUpdate)return;if(this._didMove){this._didMove=!1;return}const e=this.events.rootPointerEvent;this.events.supportsTouchEvents&&e.pointerType==="touch"||globalThis.document.dispatchEvent(new PointerEvent("pointermove",{clientX:e.clientX,clientY:e.clientY}))}tickerUpdate(e){this._deltaTime+=e,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())}}const Bs=new o$;class dc{constructor(e){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=dc.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new _e,this.page=new _e,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=e}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){return this.manager&&(!this.path||this.path[this.path.length-1]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}initEvent(e,r,n){throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(e,r,n,i,s){throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}class Dp extends dc{constructor(){super(...arguments),this.client=new _e,this.movement=new _e,this.offset=new _e,this.global=new _e,this.screen=new _e}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getLocalPosition(e,r,n){return e.worldTransform.applyInverse(n||this.global,r)}getModifierState(e){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(e)}initMouseEvent(e,r,n,i,s,o,a,h,c,d,p,m,y,_,S){throw new Error("Method not implemented.")}}class Mn extends Dp{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]}getPredictedEvents(){throw new Error("getPredictedEvents is not supported!")}}class Tl extends Dp{constructor(){super(...arguments),this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}}Tl.DOM_DELTA_PIXEL=0,Tl.DOM_DELTA_LINE=1,Tl.DOM_DELTA_PAGE=2;const a$=2048,l$=new _e,my=new _e;class u${constructor(e){this.dispatch=new lc,this.moveOnAll=!1,this.enableGlobalMoveEvents=!0,this.mappingState={trackingData:{}},this.eventPool=new Map,this._allInteractiveElements=[],this._hitElements=[],this._isPointerMoveEvent=!1,this.rootTarget=e,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}addEventMapping(e,r){this.mappingTable[e]||(this.mappingTable[e]=[]),this.mappingTable[e].push({fn:r,priority:0}),this.mappingTable[e].sort((n,i)=>n.priority-i.priority)}dispatchEvent(e,r){e.propagationStopped=!1,e.propagationImmediatelyStopped=!1,this.propagate(e,r),this.dispatch.emit(r||e.type,e)}mapEvent(e){if(!this.rootTarget)return;const r=this.mappingTable[e.type];if(r)for(let n=0,i=r.length;n<i;n++)r[n].fn(e);else console.warn(`[EventBoundary]: Event mapping not defined for ${e.type}`)}hitTest(e,r){Bs.pauseUpdate=!0;const n=this._isPointerMoveEvent&&this.enableGlobalMoveEvents?"hitTestMoveRecursive":"hitTestRecursive",i=this[n](this.rootTarget,this.rootTarget.eventMode,l$.set(e,r),this.hitTestFn,this.hitPruneFn);return i&&i[0]}propagate(e,r){if(!e.target)return;const n=e.composedPath();e.eventPhase=e.CAPTURING_PHASE;for(let i=0,s=n.length-1;i<s;i++)if(e.currentTarget=n[i],this.notifyTarget(e,r),e.propagationStopped||e.propagationImmediatelyStopped)return;if(e.eventPhase=e.AT_TARGET,e.currentTarget=e.target,this.notifyTarget(e,r),!(e.propagationStopped||e.propagationImmediatelyStopped)){e.eventPhase=e.BUBBLING_PHASE;for(let i=n.length-2;i>=0;i--)if(e.currentTarget=n[i],this.notifyTarget(e,r),e.propagationStopped||e.propagationImmediatelyStopped)return}}all(e,r,n=this._allInteractiveElements){if(n.length===0)return;e.eventPhase=e.BUBBLING_PHASE;const i=Array.isArray(r)?r:[r];for(let s=n.length-1;s>=0;s--)i.forEach(o=>{e.currentTarget=n[s],this.notifyTarget(e,o)})}propagationPath(e){const r=[e];for(let n=0;n<a$&&e!==this.rootTarget;n++){if(!e.parent)throw new Error("Cannot find propagation path to disconnected target");r.push(e.parent),e=e.parent}return r.reverse(),r}hitTestMoveRecursive(e,r,n,i,s,o=!1){let a=!1;if(this._interactivePrune(e))return null;if((e.eventMode==="dynamic"||r==="dynamic")&&(Bs.pauseUpdate=!1),e.interactiveChildren&&e.children){const d=e.children;for(let p=d.length-1;p>=0;p--){const m=d[p],y=this.hitTestMoveRecursive(m,this._isInteractive(r)?r:m.eventMode,n,i,s,o||s(e,n));if(y){if(y.length>0&&!y[y.length-1].parent)continue;const _=e.isInteractive();(y.length>0||_)&&(_&&this._allInteractiveElements.push(e),y.push(e)),this._hitElements.length===0&&(this._hitElements=y),a=!0}}}const h=this._isInteractive(r),c=e.isInteractive();return h&&c&&this._allInteractiveElements.push(e),o||this._hitElements.length>0?null:a?this._hitElements:h&&!s(e,n)&&i(e,n)?c?[e]:[]:null}hitTestRecursive(e,r,n,i,s){if(this._interactivePrune(e)||s(e,n))return null;if((e.eventMode==="dynamic"||r==="dynamic")&&(Bs.pauseUpdate=!1),e.interactiveChildren&&e.children){const h=e.children;for(let c=h.length-1;c>=0;c--){const d=h[c],p=this.hitTestRecursive(d,this._isInteractive(r)?r:d.eventMode,n,i,s);if(p){if(p.length>0&&!p[p.length-1].parent)continue;const m=e.isInteractive();return(p.length>0||m)&&p.push(e),p}}}const o=this._isInteractive(r),a=e.isInteractive();return o&&i(e,n)?a?[e]:[]:null}_isInteractive(e){return e==="static"||e==="dynamic"}_interactivePrune(e){return!!(!e||e.isMask||!e.visible||!e.renderable||e.eventMode==="none"||e.eventMode==="passive"&&!e.interactiveChildren||e.isMask)}hitPruneFn(e,r){var n;if(e.hitArea&&(e.worldTransform.applyInverse(r,my),!e.hitArea.contains(my.x,my.y)))return!0;if(e._mask){const i=e._mask.isMaskData?e._mask.maskObject:e._mask;if(i&&!((n=i.containsPoint)!=null&&n.call(i,r)))return!0}return!1}hitTestFn(e,r){return e.eventMode==="passive"?!1:e.hitArea?!0:e.containsPoint?e.containsPoint(r):!1}notifyTarget(e,r){var s,o;r=r??e.type;const n=`on${r}`;(o=(s=e.currentTarget)[n])==null||o.call(s,e);const i=e.eventPhase===e.CAPTURING_PHASE||e.eventPhase===e.AT_TARGET?`${r}capture`:r;this.notifyListeners(e,i),e.eventPhase===e.AT_TARGET&&this.notifyListeners(e,r)}mapPointerDown(e){if(!(e instanceof Mn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.createPointerEvent(e);if(this.dispatchEvent(r,"pointerdown"),r.pointerType==="touch")this.dispatchEvent(r,"touchstart");else if(r.pointerType==="mouse"||r.pointerType==="pen"){const i=r.button===2;this.dispatchEvent(r,i?"rightdown":"mousedown")}const n=this.trackingData(e.pointerId);n.pressTargetsByButton[e.button]=r.composedPath(),this.freeEvent(r)}mapPointerMove(e){var h,c;if(!(e instanceof Mn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}this._allInteractiveElements.length=0,this._hitElements.length=0,this._isPointerMoveEvent=!0;const r=this.createPointerEvent(e);this._isPointerMoveEvent=!1;const n=r.pointerType==="mouse"||r.pointerType==="pen",i=this.trackingData(e.pointerId),s=this.findMountedTarget(i.overTargets);if(((h=i.overTargets)==null?void 0:h.length)>0&&s!==r.target){const d=e.type==="mousemove"?"mouseout":"pointerout",p=this.createPointerEvent(e,d,s);if(this.dispatchEvent(p,"pointerout"),n&&this.dispatchEvent(p,"mouseout"),!r.composedPath().includes(s)){const m=this.createPointerEvent(e,"pointerleave",s);for(m.eventPhase=m.AT_TARGET;m.target&&!r.composedPath().includes(m.target);)m.currentTarget=m.target,this.notifyTarget(m),n&&this.notifyTarget(m,"mouseleave"),m.target=m.target.parent;this.freeEvent(m)}this.freeEvent(p)}if(s!==r.target){const d=e.type==="mousemove"?"mouseover":"pointerover",p=this.clonePointerEvent(r,d);this.dispatchEvent(p,"pointerover"),n&&this.dispatchEvent(p,"mouseover");let m=s==null?void 0:s.parent;for(;m&&m!==this.rootTarget.parent&&m!==r.target;)m=m.parent;if(!m||m===this.rootTarget.parent){const y=this.clonePointerEvent(r,"pointerenter");for(y.eventPhase=y.AT_TARGET;y.target&&y.target!==s&&y.target!==this.rootTarget.parent;)y.currentTarget=y.target,this.notifyTarget(y),n&&this.notifyTarget(y,"mouseenter"),y.target=y.target.parent;this.freeEvent(y)}this.freeEvent(p)}const o=[],a=this.enableGlobalMoveEvents??!0;this.moveOnAll?o.push("pointermove"):this.dispatchEvent(r,"pointermove"),a&&o.push("globalpointermove"),r.pointerType==="touch"&&(this.moveOnAll?o.splice(1,0,"touchmove"):this.dispatchEvent(r,"touchmove"),a&&o.push("globaltouchmove")),n&&(this.moveOnAll?o.splice(1,0,"mousemove"):this.dispatchEvent(r,"mousemove"),a&&o.push("globalmousemove"),this.cursor=(c=r.target)==null?void 0:c.cursor),o.length>0&&this.all(r,o),this._allInteractiveElements.length=0,this._hitElements.length=0,i.overTargets=r.composedPath(),this.freeEvent(r)}mapPointerOver(e){var o;if(!(e instanceof Mn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId),n=this.createPointerEvent(e),i=n.pointerType==="mouse"||n.pointerType==="pen";this.dispatchEvent(n,"pointerover"),i&&this.dispatchEvent(n,"mouseover"),n.pointerType==="mouse"&&(this.cursor=(o=n.target)==null?void 0:o.cursor);const s=this.clonePointerEvent(n,"pointerenter");for(s.eventPhase=s.AT_TARGET;s.target&&s.target!==this.rootTarget.parent;)s.currentTarget=s.target,this.notifyTarget(s),i&&this.notifyTarget(s,"mouseenter"),s.target=s.target.parent;r.overTargets=n.composedPath(),this.freeEvent(n),this.freeEvent(s)}mapPointerOut(e){if(!(e instanceof Mn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId);if(r.overTargets){const n=e.pointerType==="mouse"||e.pointerType==="pen",i=this.findMountedTarget(r.overTargets),s=this.createPointerEvent(e,"pointerout",i);this.dispatchEvent(s),n&&this.dispatchEvent(s,"mouseout");const o=this.createPointerEvent(e,"pointerleave",i);for(o.eventPhase=o.AT_TARGET;o.target&&o.target!==this.rootTarget.parent;)o.currentTarget=o.target,this.notifyTarget(o),n&&this.notifyTarget(o,"mouseleave"),o.target=o.target.parent;r.overTargets=null,this.freeEvent(s),this.freeEvent(o)}this.cursor=null}mapPointerUp(e){if(!(e instanceof Mn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=performance.now(),n=this.createPointerEvent(e);if(this.dispatchEvent(n,"pointerup"),n.pointerType==="touch")this.dispatchEvent(n,"touchend");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const a=n.button===2;this.dispatchEvent(n,a?"rightup":"mouseup")}const i=this.trackingData(e.pointerId),s=this.findMountedTarget(i.pressTargetsByButton[e.button]);let o=s;if(s&&!n.composedPath().includes(s)){let a=s;for(;a&&!n.composedPath().includes(a);){if(n.currentTarget=a,this.notifyTarget(n,"pointerupoutside"),n.pointerType==="touch")this.notifyTarget(n,"touchendoutside");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const h=n.button===2;this.notifyTarget(n,h?"rightupoutside":"mouseupoutside")}a=a.parent}delete i.pressTargetsByButton[e.button],o=a}if(o){const a=this.clonePointerEvent(n,"click");a.target=o,a.path=null,i.clicksByButton[e.button]||(i.clicksByButton[e.button]={clickCount:0,target:a.target,timeStamp:r});const h=i.clicksByButton[e.button];if(h.target===a.target&&r-h.timeStamp<200?++h.clickCount:h.clickCount=1,h.target=a.target,h.timeStamp=r,a.detail=h.clickCount,a.pointerType==="mouse"){const c=a.button===2;this.dispatchEvent(a,c?"rightclick":"click")}else a.pointerType==="touch"&&this.dispatchEvent(a,"tap");this.dispatchEvent(a,"pointertap"),this.freeEvent(a)}this.freeEvent(n)}mapPointerUpOutside(e){if(!(e instanceof Mn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId),n=this.findMountedTarget(r.pressTargetsByButton[e.button]),i=this.createPointerEvent(e);if(n){let s=n;for(;s;)i.currentTarget=s,this.notifyTarget(i,"pointerupoutside"),i.pointerType==="touch"?this.notifyTarget(i,"touchendoutside"):(i.pointerType==="mouse"||i.pointerType==="pen")&&this.notifyTarget(i,i.button===2?"rightupoutside":"mouseupoutside"),s=s.parent;delete r.pressTargetsByButton[e.button]}this.freeEvent(i)}mapWheel(e){if(!(e instanceof Tl)){console.warn("EventBoundary cannot map a non-wheel event as a wheel event");return}const r=this.createWheelEvent(e);this.dispatchEvent(r),this.freeEvent(r)}findMountedTarget(e){if(!e)return null;let r=e[0];for(let n=1;n<e.length&&e[n].parent===r;n++)r=e[n];return r}createPointerEvent(e,r,n){const i=this.allocateEvent(Mn);return this.copyPointerData(e,i),this.copyMouseData(e,i),this.copyData(e,i),i.nativeEvent=e.nativeEvent,i.originalEvent=e,i.target=n??this.hitTest(i.global.x,i.global.y)??this._hitElements[0],typeof r=="string"&&(i.type=r),i}createWheelEvent(e){const r=this.allocateEvent(Tl);return this.copyWheelData(e,r),this.copyMouseData(e,r),this.copyData(e,r),r.nativeEvent=e.nativeEvent,r.originalEvent=e,r.target=this.hitTest(r.global.x,r.global.y),r}clonePointerEvent(e,r){const n=this.allocateEvent(Mn);return n.nativeEvent=e.nativeEvent,n.originalEvent=e.originalEvent,this.copyPointerData(e,n),this.copyMouseData(e,n),this.copyData(e,n),n.target=e.target,n.path=e.composedPath().slice(),n.type=r??n.type,n}copyWheelData(e,r){r.deltaMode=e.deltaMode,r.deltaX=e.deltaX,r.deltaY=e.deltaY,r.deltaZ=e.deltaZ}copyPointerData(e,r){e instanceof Mn&&r instanceof Mn&&(r.pointerId=e.pointerId,r.width=e.width,r.height=e.height,r.isPrimary=e.isPrimary,r.pointerType=e.pointerType,r.pressure=e.pressure,r.tangentialPressure=e.tangentialPressure,r.tiltX=e.tiltX,r.tiltY=e.tiltY,r.twist=e.twist)}copyMouseData(e,r){e instanceof Dp&&r instanceof Dp&&(r.altKey=e.altKey,r.button=e.button,r.buttons=e.buttons,r.client.copyFrom(e.client),r.ctrlKey=e.ctrlKey,r.metaKey=e.metaKey,r.movement.copyFrom(e.movement),r.screen.copyFrom(e.screen),r.shiftKey=e.shiftKey,r.global.copyFrom(e.global))}copyData(e,r){r.isTrusted=e.isTrusted,r.srcElement=e.srcElement,r.timeStamp=performance.now(),r.type=e.type,r.detail=e.detail,r.view=e.view,r.which=e.which,r.layer.copyFrom(e.layer),r.page.copyFrom(e.page)}trackingData(e){return this.mappingState.trackingData[e]||(this.mappingState.trackingData[e]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[e]}allocateEvent(e){this.eventPool.has(e)||this.eventPool.set(e,[]);const r=this.eventPool.get(e).pop()||new e(this);return r.eventPhase=r.NONE,r.currentTarget=null,r.path=null,r.target=null,r}freeEvent(e){if(e.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");const r=e.constructor;this.eventPool.has(r)||this.eventPool.set(r,[]),this.eventPool.get(r).push(e)}notifyListeners(e,r){const n=e.currentTarget._events[r];if(n&&e.currentTarget.isInteractive())if("fn"in n)n.once&&e.currentTarget.removeListener(r,n.fn,void 0,!0),n.fn.call(n.context,e);else for(let i=0,s=n.length;i<s&&!e.propagationImmediatelyStopped;i++)n[i].once&&e.currentTarget.removeListener(r,n[i].fn,void 0,!0),n[i].fn.call(n[i].context,e)}}const h$=1,c$={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},D_=class N_{constructor(e){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=e,this.rootBoundary=new u$(null),Bs.init(this),this.autoPreventDefault=!0,this.eventsAdded=!1,this.rootPointerEvent=new Mn(null),this.rootWheelEvent=new Tl(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.features=new Proxy({...N_.defaultEventFeatures},{set:(r,n,i)=>(n==="globalMove"&&(this.rootBoundary.enableGlobalMoveEvents=i),r[n]=i,!0)}),this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerOverOut=this.onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}static get defaultEventMode(){return this._defaultEventMode}init(e){const{view:r,resolution:n}=this.renderer;this.setTargetElement(r),this.resolution=n,N_._defaultEventMode=e.eventMode??"auto",Object.assign(this.features,e.eventFeatures??{}),this.rootBoundary.enableGlobalMoveEvents=this.features.globalMove}resolutionChange(e){this.resolution=e}destroy(){this.setTargetElement(null),this.renderer=null}setCursor(e){e=e||"default";let r=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(r=!1),this.currentCursor===e)return;this.currentCursor=e;const n=this.cursorStyles[e];if(n)switch(typeof n){case"string":r&&(this.domElement.style.cursor=n);break;case"function":n(e);break;case"object":r&&Object.assign(this.domElement.style,n);break}else r&&typeof e=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,e)&&(this.domElement.style.cursor=e)}get pointer(){return this.rootPointerEvent}onPointerDown(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const r=this.normalizeToPointerData(e);this.autoPreventDefault&&r[0].isNormalized&&(e.cancelable||!("cancelable"in e))&&e.preventDefault();for(let n=0,i=r.length;n<i;n++){const s=r[n],o=this.bootstrapEvent(this.rootPointerEvent,s);this.rootBoundary.mapEvent(o)}this.setCursor(this.rootBoundary.cursor)}onPointerMove(e){if(!this.features.move)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,Bs.pointerMoved();const r=this.normalizeToPointerData(e);for(let n=0,i=r.length;n<i;n++){const s=this.bootstrapEvent(this.rootPointerEvent,r[n]);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}onPointerUp(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;let r=e.target;e.composedPath&&e.composedPath().length>0&&(r=e.composedPath()[0]);const n=r!==this.domElement?"outside":"",i=this.normalizeToPointerData(e);for(let s=0,o=i.length;s<o;s++){const a=this.bootstrapEvent(this.rootPointerEvent,i[s]);a.type+=n,this.rootBoundary.mapEvent(a)}this.setCursor(this.rootBoundary.cursor)}onPointerOverOut(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const r=this.normalizeToPointerData(e);for(let n=0,i=r.length;n<i;n++){const s=this.bootstrapEvent(this.rootPointerEvent,r[n]);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}onWheel(e){if(!this.features.wheel)return;const r=this.normalizeWheelEvent(e);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(r)}setTargetElement(e){this.removeEvents(),this.domElement=e,Bs.domElement=e,this.addEvents()}addEvents(){if(this.eventsAdded||!this.domElement)return;Bs.addTickerListener();const e=this.domElement.style;e&&(globalThis.navigator.msPointerEnabled?(e.msContentZooming="none",e.msTouchAction="none"):this.supportsPointerEvents&&(e.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,!0),this.domElement.addEventListener("pointerdown",this.onPointerDown,!0),this.domElement.addEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this.onPointerOverOut,!0),globalThis.addEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,!0),this.domElement.addEventListener("mousedown",this.onPointerDown,!0),this.domElement.addEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this.onPointerOverOut,!0),globalThis.addEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this.onPointerDown,!0),this.domElement.addEventListener("touchend",this.onPointerUp,!0),this.domElement.addEventListener("touchmove",this.onPointerMove,!0))),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this.eventsAdded=!0}removeEvents(){if(!this.eventsAdded||!this.domElement)return;Bs.removeTickerListener();const e=this.domElement.style;globalThis.navigator.msPointerEnabled?(e.msContentZooming="",e.msTouchAction=""):this.supportsPointerEvents&&(e.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this.onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,!0),this.domElement.removeEventListener("mousedown",this.onPointerDown,!0),this.domElement.removeEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this.onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this.onPointerDown,!0),this.domElement.removeEventListener("touchend",this.onPointerUp,!0),this.domElement.removeEventListener("touchmove",this.onPointerMove,!0))),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this.eventsAdded=!1}mapPositionToPoint(e,r,n){const i=this.domElement.isConnected?this.domElement.getBoundingClientRect():{x:0,y:0,width:this.domElement.width,height:this.domElement.height,left:0,top:0},s=1/this.resolution;e.x=(r-i.left)*(this.domElement.width/i.width)*s,e.y=(n-i.top)*(this.domElement.height/i.height)*s}normalizeToPointerData(e){const r=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(let n=0,i=e.changedTouches.length;n<i;n++){const s=e.changedTouches[n];typeof s.button>"u"&&(s.button=0),typeof s.buttons>"u"&&(s.buttons=1),typeof s.isPrimary>"u"&&(s.isPrimary=e.touches.length===1&&e.type==="touchstart"),typeof s.width>"u"&&(s.width=s.radiusX||1),typeof s.height>"u"&&(s.height=s.radiusY||1),typeof s.tiltX>"u"&&(s.tiltX=0),typeof s.tiltY>"u"&&(s.tiltY=0),typeof s.pointerType>"u"&&(s.pointerType="touch"),typeof s.pointerId>"u"&&(s.pointerId=s.identifier||0),typeof s.pressure>"u"&&(s.pressure=s.force||.5),typeof s.twist>"u"&&(s.twist=0),typeof s.tangentialPressure>"u"&&(s.tangentialPressure=0),typeof s.layerX>"u"&&(s.layerX=s.offsetX=s.clientX),typeof s.layerY>"u"&&(s.layerY=s.offsetY=s.clientY),s.isNormalized=!0,s.type=e.type,r.push(s)}else if(!globalThis.MouseEvent||e instanceof MouseEvent&&(!this.supportsPointerEvents||!(e instanceof globalThis.PointerEvent))){const n=e;typeof n.isPrimary>"u"&&(n.isPrimary=!0),typeof n.width>"u"&&(n.width=1),typeof n.height>"u"&&(n.height=1),typeof n.tiltX>"u"&&(n.tiltX=0),typeof n.tiltY>"u"&&(n.tiltY=0),typeof n.pointerType>"u"&&(n.pointerType="mouse"),typeof n.pointerId>"u"&&(n.pointerId=h$),typeof n.pressure>"u"&&(n.pressure=.5),typeof n.twist>"u"&&(n.twist=0),typeof n.tangentialPressure>"u"&&(n.tangentialPressure=0),n.isNormalized=!0,r.push(n)}else r.push(e);return r}normalizeWheelEvent(e){const r=this.rootWheelEvent;return this.transferMouseData(r,e),r.deltaX=e.deltaX,r.deltaY=e.deltaY,r.deltaZ=e.deltaZ,r.deltaMode=e.deltaMode,this.mapPositionToPoint(r.screen,e.clientX,e.clientY),r.global.copyFrom(r.screen),r.offset.copyFrom(r.screen),r.nativeEvent=e,r.type=e.type,r}bootstrapEvent(e,r){return e.originalEvent=null,e.nativeEvent=r,e.pointerId=r.pointerId,e.width=r.width,e.height=r.height,e.isPrimary=r.isPrimary,e.pointerType=r.pointerType,e.pressure=r.pressure,e.tangentialPressure=r.tangentialPressure,e.tiltX=r.tiltX,e.tiltY=r.tiltY,e.twist=r.twist,this.transferMouseData(e,r),this.mapPositionToPoint(e.screen,r.clientX,r.clientY),e.global.copyFrom(e.screen),e.offset.copyFrom(e.screen),e.isTrusted=r.isTrusted,e.type==="pointerleave"&&(e.type="pointerout"),e.type.startsWith("mouse")&&(e.type=e.type.replace("mouse","pointer")),e.type.startsWith("touch")&&(e.type=c$[e.type]||e.type),e}transferMouseData(e,r){e.isTrusted=r.isTrusted,e.srcElement=r.srcElement,e.timeStamp=performance.now(),e.type=r.type,e.altKey=r.altKey,e.button=r.button,e.buttons=r.buttons,e.client.x=r.clientX,e.client.y=r.clientY,e.ctrlKey=r.ctrlKey,e.metaKey=r.metaKey,e.movement.x=r.movementX,e.movement.y=r.movementY,e.page.x=r.pageX,e.page.y=r.pageY,e.relatedTarget=null,e.shiftKey=r.shiftKey}};D_.extension={name:"events",type:[ne.RendererSystem,ne.CanvasRendererSystem]},D_.defaultEventFeatures={move:!0,globalMove:!0,click:!0,wheel:!0};let F_=D_;ce.add(F_);function GT(t){return t==="dynamic"||t==="static"}const d$={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,_internalInteractive:void 0,get interactive(){return this._internalInteractive??GT(F_.defaultEventMode)},set interactive(t){Oe("7.2.0","Setting interactive is deprecated, use eventMode = 'none'/'passive'/'auto'/'static'/'dynamic' instead."),this._internalInteractive=t,this.eventMode=t?"static":"auto"},_internalEventMode:void 0,get eventMode(){return this._internalEventMode??F_.defaultEventMode},set eventMode(t){this._internalInteractive=GT(t),this._internalEventMode=t},isInteractive(){return this.eventMode==="static"||this.eventMode==="dynamic"},interactiveChildren:!0,hitArea:null,addEventListener(t,e,r){const n=typeof r=="boolean"&&r||typeof r=="object"&&r.capture,i=typeof r=="object"?r.signal:void 0,s=typeof r=="object"?r.once===!0:!1,o=typeof e=="function"?void 0:e;t=n?`${t}capture`:t;const a=typeof e=="function"?e:e.handleEvent,h=this;i&&i.addEventListener("abort",()=>{h.off(t,a,o)}),s?h.once(t,a,o):h.on(t,a,o)},removeEventListener(t,e,r){const n=typeof r=="boolean"&&r||typeof r=="object"&&r.capture,i=typeof e=="function"?void 0:e;t=n?`${t}capture`:t,e=typeof e=="function"?e:e.handleEvent,this.off(t,e,i)},dispatchEvent(t){if(!(t instanceof dc))throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");return t.defaultPrevented=!1,t.path=null,t.target=this,t.manager.dispatchEvent(t),!t.defaultPrevented}};ct.mixin(d$);const f$={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};ct.mixin(f$);const p$=9,Kd=100,m$=0,g$=0,HT=2,jT=1,v$=-1e3,y$=-1e3,_$=2;class B2{constructor(e){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(Zi.tablet||Zi.phone)&&this.createTouchHook();const r=document.createElement("div");r.style.width=`${Kd}px`,r.style.height=`${Kd}px`,r.style.position="absolute",r.style.top=`${m$}px`,r.style.left=`${g$}px`,r.style.zIndex=HT.toString(),this.div=r,this.renderer=e,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}get isActive(){return this._isActive}get isMobileAccessibility(){return this._isMobileAccessibility}createTouchHook(){const e=document.createElement("button");e.style.width=`${jT}px`,e.style.height=`${jT}px`,e.style.position="absolute",e.style.top=`${v$}px`,e.style.left=`${y$}px`,e.style.zIndex=_$.toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessibility for this content",e.addEventListener("focus",()=>{this._isMobileAccessibility=!0,this.activate(),this.destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e}destroyTouchHook(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)}activate(){var e;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),(e=this.renderer.view.parentNode)==null||e.appendChild(this.div))}deactivate(){var e;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),(e=this.div.parentNode)==null||e.removeChild(this.div))}updateAccessibleObjects(e){if(!e.visible||!e.accessibleChildren)return;e.accessible&&e.isInteractive()&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);const r=e.children;if(r)for(let n=0;n<r.length;n++)this.updateAccessibleObjects(r[n])}update(){const e=performance.now();if(Zi.android.device&&e<this.androidUpdateCount||(this.androidUpdateCount=e+this.androidUpdateFrequency,!this.renderer.renderingToScreen))return;this.renderer.lastObjectRendered&&this.updateAccessibleObjects(this.renderer.lastObjectRendered);const{x:r,y:n,width:i,height:s}=this.renderer.view.getBoundingClientRect(),{width:o,height:a,resolution:h}=this.renderer,c=i/o*h,d=s/a*h;let p=this.div;p.style.left=`${r}px`,p.style.top=`${n}px`,p.style.width=`${o}px`,p.style.height=`${a}px`;for(let m=0;m<this.children.length;m++){const y=this.children[m];if(y.renderId!==this.renderId)y._accessibleActive=!1,wl(this.children,m,1),this.div.removeChild(y._accessibleDiv),this.pool.push(y._accessibleDiv),y._accessibleDiv=null,m--;else{p=y._accessibleDiv;let _=y.hitArea;const S=y.worldTransform;y.hitArea?(p.style.left=`${(S.tx+_.x*S.a)*c}px`,p.style.top=`${(S.ty+_.y*S.d)*d}px`,p.style.width=`${_.width*S.a*c}px`,p.style.height=`${_.height*S.d*d}px`):(_=y.getBounds(),this.capHitArea(_),p.style.left=`${_.x*c}px`,p.style.top=`${_.y*d}px`,p.style.width=`${_.width*c}px`,p.style.height=`${_.height*d}px`,p.title!==y.accessibleTitle&&y.accessibleTitle!==null&&(p.title=y.accessibleTitle),p.getAttribute("aria-label")!==y.accessibleHint&&y.accessibleHint!==null&&p.setAttribute("aria-label",y.accessibleHint)),(y.accessibleTitle!==p.title||y.tabIndex!==p.tabIndex)&&(p.title=y.accessibleTitle,p.tabIndex=y.tabIndex,this.debug&&this.updateDebugHTML(p))}}this.renderId++}updateDebugHTML(e){e.innerHTML=`type: ${e.type}</br> title : ${e.title}</br> tabIndex: ${e.tabIndex}`}capHitArea(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);const{width:r,height:n}=this.renderer;e.x+e.width>r&&(e.width=r-e.x),e.y+e.height>n&&(e.height=n-e.y)}addChild(e){let r=this.pool.pop();r||(r=document.createElement("button"),r.style.width=`${Kd}px`,r.style.height=`${Kd}px`,r.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",r.style.position="absolute",r.style.zIndex=HT.toString(),r.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome")?r.setAttribute("aria-live","off"):r.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?r.setAttribute("aria-relevant","additions"):r.setAttribute("aria-relevant","text"),r.addEventListener("click",this._onClick.bind(this)),r.addEventListener("focus",this._onFocus.bind(this)),r.addEventListener("focusout",this._onFocusOut.bind(this))),r.style.pointerEvents=e.accessiblePointerEvents,r.type=e.accessibleType,e.accessibleTitle&&e.accessibleTitle!==null?r.title=e.accessibleTitle:(!e.accessibleHint||e.accessibleHint===null)&&(r.title=`displayObject ${e.tabIndex}`),e.accessibleHint&&e.accessibleHint!==null&&r.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(r),e._accessibleActive=!0,e._accessibleDiv=r,r.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex}_dispatchEvent(e,r){const{displayObject:n}=e.target,i=this.renderer.events.rootBoundary,s=Object.assign(new dc(i),{target:n});i.rootTarget=this.renderer.lastObjectRendered,r.forEach(o=>i.dispatchEvent(s,o))}_onClick(e){this._dispatchEvent(e,["click","pointertap","tap"])}_onFocus(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive"),this._dispatchEvent(e,["mouseover"])}_onFocusOut(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite"),this._dispatchEvent(e,["mouseout"])}_onKeyDown(e){e.keyCode===p$&&this.activate()}_onMouseMove(e){e.movementX===0&&e.movementY===0||this.deactivate()}destroy(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null}}B2.extension={name:"accessibility",type:[ne.RendererPlugin,ne.CanvasRendererPlugin]};ce.add(B2);var Kt=(t=>(t[t.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",t[t.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",t[t.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",t[t.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",t[t.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",t[t.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",t[t.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",t[t.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",t[t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",t[t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",t[t.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",t[t.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35987]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",t[t.COMPRESSED_RGBA_BPTC_UNORM_EXT=36492]="COMPRESSED_RGBA_BPTC_UNORM_EXT",t[t.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT=36493]="COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT",t[t.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT=36494]="COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT",t[t.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT=36495]="COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT",t))(Kt||{});const Np={33776:.5,33777:.5,33778:1,33779:1,35916:.5,35917:.5,35918:1,35919:1,37488:.5,37489:.5,37490:1,37491:1,37492:.5,37496:1,37493:.5,37497:1,37494:.5,37495:.5,35840:.5,35842:.5,35841:.25,35843:.25,36196:.5,35986:.5,35987:1,34798:1,37808:1,36492:1,36493:1,36494:1,36495:1};let pi,ja;function WT(){ja={bptc:pi.getExtension("EXT_texture_compression_bptc"),astc:pi.getExtension("WEBGL_compressed_texture_astc"),etc:pi.getExtension("WEBGL_compressed_texture_etc"),s3tc:pi.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:pi.getExtension("WEBGL_compressed_texture_s3tc_srgb"),pvrtc:pi.getExtension("WEBGL_compressed_texture_pvrtc")||pi.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),etc1:pi.getExtension("WEBGL_compressed_texture_etc1"),atc:pi.getExtension("WEBGL_compressed_texture_atc")}}const x$={extension:{type:ne.DetectionParser,priority:2},test:async()=>{const t=oe.ADAPTER.createCanvas().getContext("webgl");return t?(pi=t,!0):(console.warn("WebGL not available for compressed textures."),!1)},add:async t=>{ja||WT();const e=[];for(const r in ja)ja[r]&&e.push(r);return[...e,...t]},remove:async t=>(ja||WT(),t.filter(e=>!(e in ja)))};ce.add(x$);class w$ extends ym{constructor(e,r={width:1,height:1,autoLoad:!0}){let n,i;typeof e=="string"?(n=e,i=new Uint8Array):(n=null,i=e),super(i,r),this.origin=n,this.buffer=i?new t_(i):null,this._load=null,this.loaded=!1,this.origin!==null&&r.autoLoad!==!1&&this.load(),this.origin===null&&this.buffer&&(this._load=Promise.resolve(this),this.loaded=!0,this.onBlobLoaded(this.buffer.rawBinaryData))}onBlobLoaded(e){}load(){return this._load?this._load:(this._load=fetch(this.origin).then(e=>e.blob()).then(e=>e.arrayBuffer()).then(e=>(this.data=new Uint32Array(e),this.buffer=new t_(e),this.loaded=!0,this.onBlobLoaded(e),this.update(),this)),this._load)}}class Yo extends w${constructor(e,r){super(e,r),this.format=r.format,this.levels=r.levels||1,this._width=r.width,this._height=r.height,this._extension=Yo._formatToExtension(this.format),(r.levelBuffers||this.buffer)&&(this._levelBuffers=r.levelBuffers||Yo._createLevelBuffers(e instanceof Uint8Array?e:this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height))}upload(e,r,n){const i=e.gl;if(!e.context.extensions[this._extension])throw new Error(`${this._extension} textures are not supported on the current machine`);if(!this._levelBuffers)return!1;i.pixelStorei(i.UNPACK_ALIGNMENT,4);for(let s=0,o=this.levels;s<o;s++){const{levelID:a,levelWidth:h,levelHeight:c,levelBuffer:d}=this._levelBuffers[s];i.compressedTexImage2D(i.TEXTURE_2D,a,this.format,h,c,0,d)}return!0}onBlobLoaded(){this._levelBuffers=Yo._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)}static _formatToExtension(e){if(e>=33776&&e<=33779)return"s3tc";if(e>=35916&&e<=35919)return"s3tc_sRGB";if(e>=37488&&e<=37497)return"etc";if(e>=35840&&e<=35843)return"pvrtc";if(e===36196)return"etc1";if(e===35986||e===35987||e===34798)return"atc";if(e>=36492&&e<=36495)return"bptc";if(e===37808)return"astc";throw new Error(`Invalid (compressed) texture format given: ${e}`)}static _createLevelBuffers(e,r,n,i,s,o,a){const h=new Array(n);let c=e.byteOffset,d=o,p=a,m=d+i-1&~(i-1),y=p+s-1&~(s-1),_=m*y*Np[r];for(let S=0;S<n;S++)h[S]={levelID:S,levelWidth:n>1?d:m,levelHeight:n>1?p:y,levelBuffer:new Uint8Array(e.buffer,c,_)},c+=_,d=d>>1||1,p=p>>1||1,m=d+i-1&~(i-1),y=p+s-1&~(s-1),_=m*y*Np[r];return h}}const gy=4,Qd=124,b$=32,VT=20,S$=542327876,qd={SIZE:1,FLAGS:2,HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},E$={SIZE:0,FLAGS:1,FOURCC:2,RGB_BITCOUNT:3,R_BIT_MASK:4,G_BIT_MASK:5,B_BIT_MASK:6,A_BIT_MASK:7},Zd={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3,MISC_FLAGS2:4},T$=1,A$=2,C$=4,P$=64,I$=512,R$=131072,O$=827611204,M$=861165636,k$=894720068,D$=808540228,N$=4,F$={[O$]:Kt.COMPRESSED_RGBA_S3TC_DXT1_EXT,[M$]:Kt.COMPRESSED_RGBA_S3TC_DXT3_EXT,[k$]:Kt.COMPRESSED_RGBA_S3TC_DXT5_EXT},B$={70:Kt.COMPRESSED_RGBA_S3TC_DXT1_EXT,71:Kt.COMPRESSED_RGBA_S3TC_DXT1_EXT,73:Kt.COMPRESSED_RGBA_S3TC_DXT3_EXT,74:Kt.COMPRESSED_RGBA_S3TC_DXT3_EXT,76:Kt.COMPRESSED_RGBA_S3TC_DXT5_EXT,77:Kt.COMPRESSED_RGBA_S3TC_DXT5_EXT,72:Kt.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,75:Kt.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,78:Kt.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,96:Kt.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT,95:Kt.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT,98:Kt.COMPRESSED_RGBA_BPTC_UNORM_EXT,99:Kt.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT};function L$(t){const e=new Uint32Array(t);if(e[0]!==S$)throw new Error("Invalid DDS file magic word");const r=new Uint32Array(t,0,Qd/Uint32Array.BYTES_PER_ELEMENT),n=r[qd.HEIGHT],i=r[qd.WIDTH],s=r[qd.MIPMAP_COUNT],o=new Uint32Array(t,qd.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,b$/Uint32Array.BYTES_PER_ELEMENT),a=o[T$];if(a&C$){const h=o[E$.FOURCC];if(h!==D$){const b=F$[h],x=gy+Qd,T=new Uint8Array(t,x);return[new Yo(T,{format:b,width:i,height:n,levels:s})]}const c=gy+Qd,d=new Uint32Array(e.buffer,c,VT/Uint32Array.BYTES_PER_ELEMENT),p=d[Zd.DXGI_FORMAT],m=d[Zd.RESOURCE_DIMENSION],y=d[Zd.MISC_FLAG],_=d[Zd.ARRAY_SIZE],S=B$[p];if(S===void 0)throw new Error(`DDSParser cannot parse texture data with DXGI format ${p}`);if(y===N$)throw new Error("DDSParser does not support cubemap textures");if(m===6)throw new Error("DDSParser does not supported 3D texture data");const A=new Array,E=gy+Qd+VT;if(_===1)A.push(new Uint8Array(t,E));else{const b=Np[S];let x=0,T=i,P=n;for(let R=0;R<s;R++){const D=Math.max(1,T+3&-4),W=Math.max(1,P+3&-4),V=D*W*b;x+=V,T=T>>>1,P=P>>>1}let M=E;for(let R=0;R<_;R++)A.push(new Uint8Array(t,M,x)),M+=x}return A.map(b=>new Yo(b,{format:S,width:i,height:n,levels:s}))}throw a&P$?new Error("DDSParser does not support uncompressed texture data."):a&I$?new Error("DDSParser does not supported YUV uncompressed texture data."):a&R$?new Error("DDSParser does not support single-channel (lumninance) texture data!"):a&A$?new Error("DDSParser does not support single-channel (alpha) texture data!"):new Error("DDSParser failed to load a texture file due to an unknown reason!")}const XT=[171,75,84,88,32,49,49,187,13,10,26,10],U$=67305985,In={FILE_IDENTIFIER:0,ENDIANNESS:12,GL_TYPE:16,GL_TYPE_SIZE:20,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,GL_BASE_INTERNAL_FORMAT:32,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},B_=64,YT={[ge.UNSIGNED_BYTE]:1,[ge.UNSIGNED_SHORT]:2,[ge.INT]:4,[ge.UNSIGNED_INT]:4,[ge.FLOAT]:4,[ge.HALF_FLOAT]:8},z$={[q.RGBA]:4,[q.RGB]:3,[q.RG]:2,[q.RED]:1,[q.LUMINANCE]:1,[q.LUMINANCE_ALPHA]:2,[q.ALPHA]:1},$$={[ge.UNSIGNED_SHORT_4_4_4_4]:2,[ge.UNSIGNED_SHORT_5_5_5_1]:2,[ge.UNSIGNED_SHORT_5_6_5]:2};function G$(t,e,r=!1){const n=new DataView(e);if(!H$(t,n))return null;const i=n.getUint32(In.ENDIANNESS,!0)===U$,s=n.getUint32(In.GL_TYPE,i),o=n.getUint32(In.GL_FORMAT,i),a=n.getUint32(In.GL_INTERNAL_FORMAT,i),h=n.getUint32(In.PIXEL_WIDTH,i),c=n.getUint32(In.PIXEL_HEIGHT,i)||1,d=n.getUint32(In.PIXEL_DEPTH,i)||1,p=n.getUint32(In.NUMBER_OF_ARRAY_ELEMENTS,i)||1,m=n.getUint32(In.NUMBER_OF_FACES,i),y=n.getUint32(In.NUMBER_OF_MIPMAP_LEVELS,i),_=n.getUint32(In.BYTES_OF_KEY_VALUE_DATA,i);if(c===0||d!==1)throw new Error("Only 2D textures are supported");if(m!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(p!==1)throw new Error("WebGL does not support array textures");const S=4,A=4,E=h+3&-4,b=c+3&-4,x=new Array(p);let T=h*c;s===0&&(T=E*b);let P;if(s!==0?YT[s]?P=YT[s]*z$[o]:P=$$[s]:P=Np[a],P===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");const M=r?W$(n,_,i):null;let R=T*P,D=h,W=c,V=E,pe=b,J=B_+_;for(let B=0;B<y;B++){const X=n.getUint32(J,i);let ie=J+4;for(let me=0;me<p;me++){let ae=x[me];ae||(ae=x[me]=new Array(y)),ae[B]={levelID:B,levelWidth:y>1||s!==0?D:V,levelHeight:y>1||s!==0?W:pe,levelBuffer:new Uint8Array(e,ie,R)},ie+=R}J+=X+4,J=J%4!==0?J+4-J%4:J,D=D>>1||1,W=W>>1||1,V=D+S-1&~(S-1),pe=W+A-1&~(A-1),R=V*pe*P}return s!==0?{uncompressed:x.map(B=>{let X=B[0].levelBuffer,ie=!1;return s===ge.FLOAT?X=new Float32Array(B[0].levelBuffer.buffer,B[0].levelBuffer.byteOffset,B[0].levelBuffer.byteLength/4):s===ge.UNSIGNED_INT?(ie=!0,X=new Uint32Array(B[0].levelBuffer.buffer,B[0].levelBuffer.byteOffset,B[0].levelBuffer.byteLength/4)):s===ge.INT&&(ie=!0,X=new Int32Array(B[0].levelBuffer.buffer,B[0].levelBuffer.byteOffset,B[0].levelBuffer.byteLength/4)),{resource:new ym(X,{width:B[0].levelWidth,height:B[0].levelHeight}),type:s,format:ie?j$(o):o}}),kvData:M}:{compressed:x.map(B=>new Yo(null,{format:a,width:h,height:c,levels:y,levelBuffers:B})),kvData:M}}function H$(t,e){for(let r=0;r<XT.length;r++)if(e.getUint8(r)!==XT[r])return console.error(`${t} is not a valid *.ktx file!`),!1;return!0}function j$(t){switch(t){case q.RGBA:return q.RGBA_INTEGER;case q.RGB:return q.RGB_INTEGER;case q.RG:return q.RG_INTEGER;case q.RED:return q.RED_INTEGER;default:return t}}function W$(t,e,r){const n=new Map;let i=0;for(;i<e;){const s=t.getUint32(B_+i,r),o=B_+i+4,a=3-(s+3)%4;if(s===0||s>e-i){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}let h=0;for(;h<s&&t.getUint8(o+h)!==0;h++);if(h===-1){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}const c=new TextDecoder().decode(new Uint8Array(t.buffer,o,h)),d=new DataView(t.buffer,o+h+1,s-h-1);n.set(c,d),i+=4+s+a}return n}const V$={extension:{type:ne.LoadParser,priority:Qn.High},name:"loadDDS",test(t){return co(t,".dds")},async load(t,e,r){const n=await(await oe.ADAPTER.fetch(t)).arrayBuffer(),i=L$(n).map(s=>{const o=new Ce(s,{mipmap:Ri.OFF,alphaMode:Cr.NO_PREMULTIPLIED_ALPHA,resolution:us(t),...e.data});return cc(o,r,t)});return i.length===1?i[0]:i},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}};ce.add(V$);const X$={extension:{type:ne.LoadParser,priority:Qn.High},name:"loadKTX",test(t){return co(t,".ktx")},async load(t,e,r){const n=await(await oe.ADAPTER.fetch(t)).arrayBuffer(),{compressed:i,uncompressed:s,kvData:o}=G$(t,n),a=i??s,h={mipmap:Ri.OFF,alphaMode:Cr.NO_PREMULTIPLIED_ALPHA,resolution:us(t),...e.data},c=a.map(d=>{a===s&&Object.assign(h,{type:d.type,format:d.format});const p=d.resource??d,m=new Ce(p,h);return m.ktxKeyValueData=o,cc(m,r,t)});return c.length===1?c[0]:c},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}};ce.add(X$);const Y$=["s3tc","s3tc_sRGB","etc","etc1","pvrtc","atc","astc","bptc"],K$={extension:ne.ResolveParser,test:t=>{const e=Vt.extname(t).slice(1);return["basis","ktx","dds"].includes(e)},parse:t=>{var n,i;const e=t.split("."),r=e.pop();if(["ktx","dds"].includes(r)){const s=e.pop();if(Y$.includes(s))return{resolution:parseFloat(((n=oe.RETINA_PREFIX.exec(t))==null?void 0:n[1])??"1"),format:s,src:t}}return{resolution:parseFloat(((i=oe.RETINA_PREFIX.exec(t))==null?void 0:i[1])??"1"),format:r,src:t}}};ce.add(K$);const Jd=new be,Q$=4,L2=class Ju{constructor(e){this.renderer=e,this._rendererPremultipliedAlpha=!1}contextChange(){var r;const e=(r=this.renderer)==null?void 0:r.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(e&&e.alpha&&e.premultipliedAlpha)}async image(e,r,n,i){const s=new Image;return s.src=await this.base64(e,r,n,i),s}async base64(e,r,n,i){const s=this.canvas(e,i);if(s.toBlob!==void 0)return new Promise((o,a)=>{s.toBlob(h=>{if(!h){a(new Error("ICanvas.toBlob failed!"));return}const c=new FileReader;c.onload=()=>o(c.result),c.onerror=a,c.readAsDataURL(h)},r,n)});if(s.toDataURL!==void 0)return s.toDataURL(r,n);if(s.convertToBlob!==void 0){const o=await s.convertToBlob({type:r,quality:n});return new Promise((a,h)=>{const c=new FileReader;c.onload=()=>a(c.result),c.onerror=h,c.readAsDataURL(o)})}throw new Error("Extract.base64() requires ICanvas.toDataURL, ICanvas.toBlob, or ICanvas.convertToBlob to be implemented")}canvas(e,r){const{pixels:n,width:i,height:s,flipY:o,premultipliedAlpha:a}=this._rawPixels(e,r);o&&Ju._flipY(n,i,s),a&&Ju._unpremultiplyAlpha(n);const h=new cU(i,s,1),c=new ImageData(new Uint8ClampedArray(n.buffer),i,s);return h.context.putImageData(c,0,0),h.canvas}pixels(e,r){const{pixels:n,width:i,height:s,flipY:o,premultipliedAlpha:a}=this._rawPixels(e,r);return o&&Ju._flipY(n,i,s),a&&Ju._unpremultiplyAlpha(n),n}_rawPixels(e,r){const n=this.renderer;if(!n)throw new Error("The Extract has already been destroyed");let i,s=!1,o=!1,a,h=!1;e&&(e instanceof pa?a=e:(a=n.generateTexture(e,{region:r,resolution:n.resolution,multisample:n.multisample}),h=!0,r&&(Jd.width=r.width,Jd.height=r.height,r=Jd)));const c=n.gl;if(a){if(i=a.baseTexture.resolution,r=r??a.frame,s=!1,o=a.baseTexture.alphaMode>0&&a.baseTexture.format===q.RGBA,!h){n.renderTexture.bind(a);const y=a.framebuffer.glFramebuffers[n.CONTEXT_UID];y.blitFramebuffer&&n.framebuffer.bind(y.blitFramebuffer)}}else i=n.resolution,r||(r=Jd,r.width=n.width/i,r.height=n.height/i),s=!0,o=this._rendererPremultipliedAlpha,n.renderTexture.bind();const d=Math.max(Math.round(r.width*i),1),p=Math.max(Math.round(r.height*i),1),m=new Uint8Array(Q$*d*p);return c.readPixels(Math.round(r.x*i),Math.round(r.y*i),d,p,c.RGBA,c.UNSIGNED_BYTE,m),h&&(a==null||a.destroy(!0)),{pixels:m,width:d,height:p,flipY:s,premultipliedAlpha:o}}destroy(){this.renderer=null}static _flipY(e,r,n){const i=r<<2,s=n>>1,o=new Uint8Array(i);for(let a=0;a<s;a++){const h=a*i,c=(n-a-1)*i;o.set(e.subarray(h,h+i)),e.copyWithin(h,c,c+i),e.set(o,c)}}static _unpremultiplyAlpha(e){e instanceof Uint8ClampedArray&&(e=new Uint8Array(e.buffer));const r=e.length;for(let n=0;n<r;n+=4){const i=e[n+3];if(i!==0){const s=255.001/i;e[n]=e[n]*s+.5,e[n+1]=e[n+1]*s+.5,e[n+2]=e[n+2]*s+.5}}}};L2.extension={name:"extract",type:ne.RendererSystem};let q$=L2;ce.add(q$);class Z${constructor(e){this.maxItemsPerFrame=e,this.itemsLeft=0}beginFrame(){this.itemsLeft=this.maxItemsPerFrame}allowedToUpload(){return this.itemsLeft-- >0}}function J$(t,e){var n;let r=!1;if((n=t==null?void 0:t._textures)!=null&&n.length){for(let i=0;i<t._textures.length;i++)if(t._textures[i]instanceof re){const s=t._textures[i].baseTexture;e.includes(s)||(e.push(s),r=!0)}}return r}function eG(t,e){if(t.baseTexture instanceof Ce){const r=t.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function tG(t,e){if(t._texture&&t._texture instanceof re){const r=t._texture.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function rG(t,e){return e instanceof lx?(e.updateText(!0),!0):!1}function nG(t,e){if(e instanceof cs){const r=e.toFontString();return Ds.measureFont(r),!0}return!1}function iG(t,e){if(t instanceof lx){e.includes(t.style)||e.push(t.style),e.includes(t)||e.push(t);const r=t._texture.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function sG(t,e){return t instanceof cs?(e.includes(t)||e.push(t),!0):!1}const U2=class z2{constructor(e){this.limiter=new Z$(z2.uploadsPerFrame),this.renderer=e,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=()=>{this.queue&&this.prepareItems()},this.registerFindHook(iG),this.registerFindHook(sG),this.registerFindHook(J$),this.registerFindHook(eG),this.registerFindHook(tG),this.registerUploadHook(rG),this.registerUploadHook(nG)}upload(e){return new Promise(r=>{e&&this.add(e),this.queue.length?(this.completes.push(r),this.ticking||(this.ticking=!0,Ft.system.addOnce(this.tick,this,so.UTILITY))):r()})}tick(){setTimeout(this.delayedTick,0)}prepareItems(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){const e=this.queue[0];let r=!1;if(e&&!e._destroyed){for(let n=0,i=this.uploadHooks.length;n<i;n++)if(this.uploadHooks[n](this.uploadHookHelper,e)){this.queue.shift(),r=!0;break}}r||this.queue.shift()}if(this.queue.length)Ft.system.addOnce(this.tick,this,so.UTILITY);else{this.ticking=!1;const e=this.completes.slice(0);this.completes.length=0;for(let r=0,n=e.length;r<n;r++)e[r]()}}registerFindHook(e){return e&&this.addHooks.push(e),this}registerUploadHook(e){return e&&this.uploadHooks.push(e),this}add(e){for(let r=0,n=this.addHooks.length;r<n&&!this.addHooks[r](e,this.queue);r++);if(e instanceof cr)for(let r=e.children.length-1;r>=0;r--)this.add(e.children[r]);return this}destroy(){this.ticking&&Ft.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null}};U2.uploadsPerFrame=4;let L_=U2;Object.defineProperties(oe,{UPLOADS_PER_FRAME:{get(){return L_.uploadsPerFrame},set(t){Oe("7.1.0","settings.UPLOADS_PER_FRAME is deprecated, use prepare.BasePrepare.uploadsPerFrame"),L_.uploadsPerFrame=t}}});function $2(t,e){return e instanceof Ce?(e._glTextures[t.CONTEXT_UID]||t.texture.bind(e),!0):!1}function oG(t,e){if(!(e instanceof yh))return!1;const{geometry:r}=e;e.finishPoly(),r.updateBatches();const{batches:n}=r;for(let i=0;i<n.length;i++){const{texture:s}=n[i].style;s&&$2(t,s.baseTexture)}return r.batchable||t.geometry.bind(r,e._resolveDirectShader(t)),!0}function aG(t,e){return t instanceof yh?(e.push(t),!0):!1}class G2 extends L_{constructor(e){super(e),this.uploadHookHelper=this.renderer,this.registerFindHook(aG),this.registerUploadHook($2),this.registerUploadHook(oG)}}G2.extension={name:"prepare",type:ne.RendererSystem};ce.add(G2);const H2=class eh{constructor(e,r,n){this.linkedSheets=[],(e instanceof Ce||e instanceof re)&&(e={texture:e,data:r,resolutionFilename:n});const{texture:i,data:s,resolutionFilename:o=null,cachePrefix:a=""}=e;this.cachePrefix=a,this._texture=i instanceof re?i:null,this.baseTexture=i instanceof Ce?i:this._texture.baseTexture,this.textures={},this.animations={},this.data=s;const h=this.baseTexture.resource;this.resolution=this._updateResolution(o||(h?h.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}_updateResolution(e=null){const{scale:r}=this.data.meta;let n=us(e,null);return n===null&&(n=typeof r=="number"?r:parseFloat(r??"1")),n!==1&&this.baseTexture.setResolution(n),n}parse(){return new Promise(e=>{this._callback=e,this._batchIndex=0,this._frameKeys.length<=eh.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(e){let r=e;const n=eh.BATCH_SIZE;for(;r-e<n&&r<this._frameKeys.length;){const i=this._frameKeys[r],s=this._frames[i],o=s.frame;if(o){let a=null,h=null;const c=s.trimmed!==!1&&s.sourceSize?s.sourceSize:s.frame,d=new be(0,0,Math.floor(c.w)/this.resolution,Math.floor(c.h)/this.resolution);s.rotated?a=new be(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.h)/this.resolution,Math.floor(o.w)/this.resolution):a=new be(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution),s.trimmed!==!1&&s.spriteSourceSize&&(h=new be(Math.floor(s.spriteSourceSize.x)/this.resolution,Math.floor(s.spriteSourceSize.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution)),this.textures[i]=new re(this.baseTexture,a,d,h,s.rotated?2:0,s.anchor,s.borders),re.addToCache(this.textures[i],this.cachePrefix+i.toString())}r++}}_processAnimations(){const e=this.data.animations||{};for(const r in e){this.animations[r]=[];for(let n=0;n<e[r].length;n++){const i=e[r][n];this.animations[r].push(this.textures[i])}}}_parseComplete(){const e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*eh.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*eh.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(e=!1){var r;for(const n in this.textures)this.textures[n].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&((r=this._texture)==null||r.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]}};H2.BATCH_SIZE=1e3;let KT=H2;const lG=["jpg","png","jpeg","avif","webp","s3tc","s3tc_sRGB","etc","etc1","pvrtc","atc","astc","bptc"];function j2(t,e,r){const n={};if(t.forEach(i=>{n[i]=e}),Object.keys(e.textures).forEach(i=>{n[`${e.cachePrefix}${i}`]=e.textures[i]}),!r){const i=Vt.dirname(t[0]);e.linkedSheets.forEach((s,o)=>{Object.assign(n,j2([`${i}/${e.data.meta.related_multi_packs[o]}`],s,!0))})}return n}const uG={extension:ne.Asset,cache:{test:t=>t instanceof KT,getCacheableAssets:(t,e)=>j2(t,e,!1)},resolver:{test:t=>{const e=t.split("?")[0].split("."),r=e.pop(),n=e.pop();return r==="json"&&lG.includes(n)},parse:t=>{var r;const e=t.split(".");return{resolution:parseFloat(((r=oe.RETINA_PREFIX.exec(t))==null?void 0:r[1])??"1"),format:e[e.length-2],src:t}}},loader:{name:"spritesheetLoader",extension:{type:ne.LoadParser,priority:Qn.Normal},async testParse(t,e){return Vt.extname(e.src).toLowerCase()===".json"&&!!t.frames},async parse(t,e,r){var d,p;const{texture:n,imageFilename:i,cachePrefix:s}=(e==null?void 0:e.data)??{};let o=Vt.dirname(e.src);o&&o.lastIndexOf("/")!==o.length-1&&(o+="/");let a;if(n&&n.baseTexture)a=n;else{const m=w_(o+(i??t.meta.image),e.src);a=(await r.load([m]))[m]}const h=new KT({texture:a.baseTexture,data:t,resolutionFilename:e.src,cachePrefix:s});await h.parse();const c=(d=t==null?void 0:t.meta)==null?void 0:d.related_multi_packs;if(Array.isArray(c)){const m=[];for(const _ of c){if(typeof _!="string")continue;let S=o+_;(p=e.data)!=null&&p.ignoreMultiPack||(S=w_(S,e.src),m.push(r.load({src:S,data:{ignoreMultiPack:!0}})))}const y=await Promise.all(m);h.linkedSheets=y,y.forEach(_=>{_.linkedSheets=[h].concat(h.linkedSheets.filter(S=>S!==_))})}return h},unload(t){t.destroy(!0)}}};ce.add(uG);const U_=class Wa extends cs{constructor(){super(...arguments),this._fonts=[],this._overrides=[],this._stylesheet="",this.fontsDirty=!1}static from(e){return new Wa(Object.keys(Wa.defaultOptions).reduce((r,n)=>({...r,[n]:e[n]}),{}))}cleanFonts(){this._fonts.length>0&&(this._fonts.forEach(e=>{URL.revokeObjectURL(e.src),e.refs--,e.refs===0&&(e.fontFace&&document.fonts.delete(e.fontFace),delete Wa.availableFonts[e.originalUrl])}),this.fontFamily="Arial",this._fonts.length=0,this.styleID++,this.fontsDirty=!0)}loadFont(e,r={}){const{availableFonts:n}=Wa;if(n[e]){const i=n[e];return this._fonts.push(i),i.refs++,this.styleID++,this.fontsDirty=!0,Promise.resolve()}return oe.ADAPTER.fetch(e).then(i=>i.blob()).then(async i=>new Promise((s,o)=>{const a=URL.createObjectURL(i),h=new FileReader;h.onload=()=>s([a,h.result]),h.onerror=o,h.readAsDataURL(i)})).then(async([i,s])=>{const o=Object.assign({family:Vt.basename(e,Vt.extname(e)),weight:"normal",style:"normal",display:"auto",src:i,dataSrc:s,refs:1,originalUrl:e,fontFace:null},r);n[e]=o,this._fonts.push(o),this.styleID++;const a=new FontFace(o.family,`url(${o.src})`,{weight:o.weight,style:o.style,display:o.display});o.fontFace=a,await a.load(),document.fonts.add(a),await document.fonts.ready,this.styleID++,this.fontsDirty=!0})}addOverride(...e){const r=e.filter(n=>!this._overrides.includes(n));r.length>0&&(this._overrides.push(...r),this.styleID++)}removeOverride(...e){const r=e.filter(n=>this._overrides.includes(n));r.length>0&&(this._overrides=this._overrides.filter(n=>!r.includes(n)),this.styleID++)}toCSS(e){return[`transform: scale(${e})`,"transform-origin: top left","display: inline-block",`color: ${this.normalizeColor(this.fill)}`,`font-size: ${this.fontSize}px`,`font-family: ${this.fontFamily}`,`font-weight: ${this.fontWeight}`,`font-style: ${this.fontStyle}`,`font-variant: ${this.fontVariant}`,`letter-spacing: ${this.letterSpacing}px`,`text-align: ${this.align}`,`padding: ${this.padding}px`,`white-space: ${this.whiteSpace}`,...this.lineHeight?[`line-height: ${this.lineHeight}px`]:[],...this.wordWrap?[`word-wrap: ${this.breakWords?"break-all":"break-word"}`,`max-width: ${this.wordWrapWidth}px`]:[],...this.strokeThickness?[`-webkit-text-stroke-width: ${this.strokeThickness}px`,`-webkit-text-stroke-color: ${this.normalizeColor(this.stroke)}`,`text-stroke-width: ${this.strokeThickness}px`,`text-stroke-color: ${this.normalizeColor(this.stroke)}`,"paint-order: stroke"]:[],...this.dropShadow?[this.dropShadowToCSS()]:[],...this._overrides].join(";")}toGlobalCSS(){return this._fonts.reduce((e,r)=>`${e}
            @font-face {
                font-family: "${r.family}";
                src: url('${r.dataSrc}');
                font-weight: ${r.weight};
                font-style: ${r.style};
                font-display: ${r.display};
            }`,this._stylesheet)}get stylesheet(){return this._stylesheet}set stylesheet(e){this._stylesheet!==e&&(this._stylesheet=e,this.styleID++)}normalizeColor(e){return Array.isArray(e)&&(e=aU(e)),typeof e=="number"?oU(e):e}dropShadowToCSS(){let e=this.normalizeColor(this.dropShadowColor);const r=this.dropShadowAlpha,n=Math.round(Math.cos(this.dropShadowAngle)*this.dropShadowDistance),i=Math.round(Math.sin(this.dropShadowAngle)*this.dropShadowDistance);e.startsWith("#")&&r<1&&(e+=(r*255|0).toString(16).padStart(2,"0"));const s=`${n}px ${i}px`;return this.dropShadowBlur>0?`text-shadow: ${s} ${this.dropShadowBlur}px ${e}`:`text-shadow: ${s} ${e}`}reset(){Object.assign(this,Wa.defaultOptions)}onBeforeDraw(){const{fontsDirty:e}=this;return this.fontsDirty=!1,this.isSafari&&this._fonts.length>0&&e?new Promise(r=>setTimeout(r,100)):Promise.resolve()}get isSafari(){const{userAgent:e}=oe.ADAPTER.getNavigator();return/^((?!chrome|android).)*safari/i.test(e)}set fillGradientStops(e){console.warn("[HTMLTextStyle] fillGradientStops is not supported by HTMLText")}get fillGradientStops(){return super.fillGradientStops}set fillGradientType(e){console.warn("[HTMLTextStyle] fillGradientType is not supported by HTMLText")}get fillGradientType(){return super.fillGradientType}set miterLimit(e){console.warn("[HTMLTextStyle] miterLimit is not supported by HTMLText")}get miterLimit(){return super.miterLimit}set trim(e){console.warn("[HTMLTextStyle] trim is not supported by HTMLText")}get trim(){return super.trim}set textBaseline(e){console.warn("[HTMLTextStyle] textBaseline is not supported by HTMLText")}get textBaseline(){return super.textBaseline}set leading(e){console.warn("[HTMLTextStyle] leading is not supported by HTMLText")}get leading(){return super.leading}set lineJoin(e){console.warn("[HTMLTextStyle] lineJoin is not supported by HTMLText")}get lineJoin(){return super.lineJoin}};U_.availableFonts={},U_.defaultOptions={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,padding:0,stroke:"black",strokeThickness:0,whiteSpace:"normal",wordWrap:!1,wordWrapWidth:100};let vy=U_;const ef=class Va extends Di{constructor(e="",r={}){super(re.EMPTY),this._text=null,this._style=null,this._autoResolution=!0,this.localStyleID=-1,this.dirty=!1,this._updateID=0,this.ownsStyle=!1;const n=new Image,i=re.from(n,{scaleMode:oe.SCALE_MODE,resourceOptions:{autoLoad:!1}});i.orig=new be,i.trim=new be,this.texture=i;const s="http://www.w3.org/2000/svg",o="http://www.w3.org/1999/xhtml",a=document.createElementNS(s,"svg"),h=document.createElementNS(s,"foreignObject"),c=document.createElementNS(o,"div"),d=document.createElementNS(o,"style");h.setAttribute("width","10000"),h.setAttribute("height","10000"),h.style.overflow="hidden",a.appendChild(h),this.maxWidth=Va.defaultMaxWidth,this.maxHeight=Va.defaultMaxHeight,this._domElement=c,this._styleElement=d,this._svgRoot=a,this._foreignObject=h,this._foreignObject.appendChild(d),this._foreignObject.appendChild(c),this._image=n,this._loadImage=new Image,this._autoResolution=Va.defaultAutoResolution,this._resolution=Va.defaultResolution??oe.RESOLUTION,this.text=e,this.style=r}measureText(e){var d,p;const{text:r,style:n,resolution:i}=Object.assign({text:this._text,style:this._style,resolution:this._resolution},e);Object.assign(this._domElement,{innerHTML:r,style:n.toCSS(i)}),this._styleElement.textContent=n.toGlobalCSS(),document.body.appendChild(this._svgRoot);const s=this._domElement.getBoundingClientRect();this._svgRoot.remove();const{width:o,height:a}=s;(o>this.maxWidth||a>this.maxHeight)&&console.warn("[HTMLText] Large expanse of text, increase HTMLText.maxWidth or HTMLText.maxHeight property.");const h=Math.min(this.maxWidth,Math.ceil(o)),c=Math.min(this.maxHeight,Math.ceil(a));return this._svgRoot.setAttribute("width",h.toString()),this._svgRoot.setAttribute("height",c.toString()),r!==this._text&&(this._domElement.innerHTML=this._text),n!==this._style&&(Object.assign(this._domElement,{style:(d=this._style)==null?void 0:d.toCSS(i)}),this._styleElement.textContent=(p=this._style)==null?void 0:p.toGlobalCSS()),{width:h+n.padding*2,height:c+n.padding*2}}async updateText(e=!0){const{style:r,_image:n,_loadImage:i}=this;if(this.localStyleID!==r.styleID&&(this.dirty=!0,this.localStyleID=r.styleID),!this.dirty&&e)return;const{width:s,height:o}=this.measureText();n.width=i.width=Math.ceil(Math.max(1,s)),n.height=i.height=Math.ceil(Math.max(1,o)),this._updateID++;const a=this._updateID;await new Promise(h=>{i.onload=async()=>{if(a<this._updateID){h();return}await r.onBeforeDraw(),n.src=i.src,i.onload=null,i.src="",this.updateTexture(),h()};const c=new XMLSerializer().serializeToString(this._svgRoot);i.src=`data:image/svg+xml;charset=utf8,${encodeURIComponent(c)}`})}get source(){return this._image}updateTexture(){const{style:e,texture:r,_image:n,resolution:i}=this,{padding:s}=e,{baseTexture:o}=r;r.trim.width=r._frame.width=n.width/i,r.trim.height=r._frame.height=n.height/i,r.trim.x=-s,r.trim.y=-s,r.orig.width=r._frame.width-s*2,r.orig.height=r._frame.height-s*2,this._onTextureUpdate(),o.setRealSize(n.width,n.height,i),this.dirty=!1}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._render(e)}_renderCanvas(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._renderCanvas(e)}getLocalBounds(e){return this.updateText(!0),super.getLocalBounds(e)}_calculateBounds(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_onStyleChange(){this.dirty=!0}destroy(e){var n,i,s,o,a;typeof e=="boolean"&&(e={children:e}),e=Object.assign({},Va.defaultDestroyOptions,e),super.destroy(e);const r=null;this.ownsStyle&&((n=this._style)==null||n.cleanFonts()),this._style=r,(i=this._svgRoot)==null||i.remove(),this._svgRoot=r,(s=this._domElement)==null||s.remove(),this._domElement=r,(o=this._foreignObject)==null||o.remove(),this._foreignObject=r,(a=this._styleElement)==null||a.remove(),this._styleElement=r,this._loadImage.src="",this._loadImage.onload=null,this._loadImage=r,this._image.src="",this._image=r}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._image.width/this.resolution}set width(e){this.updateText(!0);const r=Gs(this.scale.x)||1;this.scale.x=r*e/this._image.width/this.resolution,this._width=e}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._image.height/this.resolution}set height(e){this.updateText(!0);const r=Gs(this.scale.y)||1;this.scale.y=r*e/this._image.height/this.resolution,this._height=e}get style(){return this._style}set style(e){this._style!==e&&(e=e||{},e instanceof vy?(this.ownsStyle=!1,this._style=e):e instanceof cs?(console.warn("[HTMLText] Cloning TextStyle, if this is not what you want, use HTMLTextStyle"),this.ownsStyle=!0,this._style=vy.from(e)):(this.ownsStyle=!0,this._style=new vy(e)),this.localStyleID=-1,this.dirty=!0)}get text(){return this._text}set text(e){e=String(e===""||e===null||e===void 0?" ":e),e=this.sanitiseText(e),this._text!==e&&(this._text=e,this.dirty=!0)}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}sanitiseText(e){return e.replace(/<br>/gi,"<br/>").replace(/<hr>/gi,"<hr/>").replace(/&nbsp;/gi,"&#160;")}};ef.defaultDestroyOptions={texture:!0,children:!1,baseTexture:!0},ef.defaultMaxWidth=2024,ef.defaultMaxHeight=2024,ef.defaultAutoResolution=!0;const hG=Ee.memo(t=>{const e="#fff",[r,n]=Ee.useState(t.fill&&(!t.indexColor||t.isFilling)?t.fill:e),[i,s]=Ee.useState(t.isFilling&&!t.indexColor?.5:1),o=()=>{if(t.handleFilling)return t.handleFilling({setFill:n,initialFill:e,indexRect:t.index});if(t.handleColoring)return t.handleColoring({setFill:n,setAlpha:s,initialFill:e,someFill:t.fill?t.fill:e,indexRect:t.index})},a=Ee.useCallback(h=>{h.clear(),h.beginFill(r),h.lineStyle(1,"#e5e5e5",.5),h.drawRect(t.x,t.y,t.cellSize,t.cellSize),h.endFill()},[t,r]);return Le.jsxs(Le.Fragment,{children:[Le.jsx(Hl.Graphics,{draw:a,interactive:!0,alpha:i,onpointerdown:o}),(t.indexColor&&r===e||t.indexColor&&i<1)&&Le.jsx(cG,{x:t.x+t.cellSize/2,y:t.y+t.cellSize/2,text:t.indexColor.toString()})]})}),cG=Ee.memo(t=>Le.jsx(Hl.Text,{text:t.text,x:t.x,y:t.y,anchor:.5,style:new cs({fill:"#333",fontSize:18,fontFamily:"pixel"})}));var aA,lA,uA,hA,ui;hA=[At],uA=[At],lA=[Tr],aA=[Tr];class Xa{constructor(){Ui(ui,5,this);Au(this,"selectedColor",Ui(ui,8,this,"")),Ui(ui,11,this);Au(this,"isClear",Ui(ui,12,this,!1)),Ui(ui,15,this)}setSelectedColor(e){this.isClear&&(this.isClear=!1),this.selectedColor=e}clearColor(){this.isClear||(this.isClear=!0)}}ui=Xg(null),sn(ui,1,"setSelectedColor",lA,Xa),sn(ui,1,"clearColor",aA,Xa),sn(ui,5,"selectedColor",hA,Xa),sn(ui,5,"isClear",uA,Xa),rd(ui,Xa);const cn=new Xa;function dG(t,e){const r=e.find(n=>n.indexRect===t);return r?r.color:void 0}function fG(t,e){const r=e.find(n=>n.indexRect===t);return r&&r.indexColor!==void 0?r.indexColor+1:void 0}function pG(t,e){const r=e.find(n=>n.indexRect===t);return r&&r.filling?r.filling:void 0}function mG(t,e){const r=[];for(let n=0;n<t;n++)for(let i=0;i<t;i++)r.push({x:n*e,y:i*e});return r}let wn=class{constructor(e){this.parent=e,this.paused=!1}destroy(){}down(e){return!1}move(e){return!1}up(e){return!1}wheel(e){return!1}update(e){}resize(){}reset(){}pause(){this.paused=!0}resume(){this.paused=!1}};var gG=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vG(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var W2={exports:{}};(function(t,e){(function(){var r,n;n=function(i){return t.exports=i},r={linear:function(i,s,o,a){return o*i/a+s},easeInQuad:function(i,s,o,a){return o*(i/=a)*i+s},easeOutQuad:function(i,s,o,a){return-o*(i/=a)*(i-2)+s},easeInOutQuad:function(i,s,o,a){return(i/=a/2)<1?o/2*i*i+s:-o/2*(--i*(i-2)-1)+s},easeInCubic:function(i,s,o,a){return o*(i/=a)*i*i+s},easeOutCubic:function(i,s,o,a){return o*((i=i/a-1)*i*i+1)+s},easeInOutCubic:function(i,s,o,a){return(i/=a/2)<1?o/2*i*i*i+s:o/2*((i-=2)*i*i+2)+s},easeInQuart:function(i,s,o,a){return o*(i/=a)*i*i*i+s},easeOutQuart:function(i,s,o,a){return-o*((i=i/a-1)*i*i*i-1)+s},easeInOutQuart:function(i,s,o,a){return(i/=a/2)<1?o/2*i*i*i*i+s:-o/2*((i-=2)*i*i*i-2)+s},easeInQuint:function(i,s,o,a){return o*(i/=a)*i*i*i*i+s},easeOutQuint:function(i,s,o,a){return o*((i=i/a-1)*i*i*i*i+1)+s},easeInOutQuint:function(i,s,o,a){return(i/=a/2)<1?o/2*i*i*i*i*i+s:o/2*((i-=2)*i*i*i*i+2)+s},easeInSine:function(i,s,o,a){return-o*Math.cos(i/a*(Math.PI/2))+o+s},easeOutSine:function(i,s,o,a){return o*Math.sin(i/a*(Math.PI/2))+s},easeInOutSine:function(i,s,o,a){return-o/2*(Math.cos(Math.PI*i/a)-1)+s},easeInExpo:function(i,s,o,a){return i===0?s:o*Math.pow(2,10*(i/a-1))+s},easeOutExpo:function(i,s,o,a){return i===a?s+o:o*(-Math.pow(2,-10*i/a)+1)+s},easeInOutExpo:function(i,s,o,a){return(i/=a/2)<1?o/2*Math.pow(2,10*(i-1))+s:o/2*(-Math.pow(2,-10*--i)+2)+s},easeInCirc:function(i,s,o,a){return-o*(Math.sqrt(1-(i/=a)*i)-1)+s},easeOutCirc:function(i,s,o,a){return o*Math.sqrt(1-(i=i/a-1)*i)+s},easeInOutCirc:function(i,s,o,a){return(i/=a/2)<1?-o/2*(Math.sqrt(1-i*i)-1)+s:o/2*(Math.sqrt(1-(i-=2)*i)+1)+s},easeInElastic:function(i,s,o,a){var h,c,d;return d=1.70158,c=0,h=o,i===0||(i/=a),c||(c=a*.3),h<Math.abs(o)?(h=o,d=c/4):d=c/(2*Math.PI)*Math.asin(o/h),-(h*Math.pow(2,10*(i-=1))*Math.sin((i*a-d)*(2*Math.PI)/c))+s},easeOutElastic:function(i,s,o,a){var h,c,d;return d=1.70158,c=0,h=o,i===0||(i/=a),c||(c=a*.3),h<Math.abs(o)?(h=o,d=c/4):d=c/(2*Math.PI)*Math.asin(o/h),h*Math.pow(2,-10*i)*Math.sin((i*a-d)*(2*Math.PI)/c)+o+s},easeInOutElastic:function(i,s,o,a){var h,c,d;return d=1.70158,c=0,h=o,i===0||(i/=a/2),c||(c=a*(.3*1.5)),h<Math.abs(o)?(h=o,d=c/4):d=c/(2*Math.PI)*Math.asin(o/h),i<1?-.5*(h*Math.pow(2,10*(i-=1))*Math.sin((i*a-d)*(2*Math.PI)/c))+s:h*Math.pow(2,-10*(i-=1))*Math.sin((i*a-d)*(2*Math.PI)/c)*.5+o+s},easeInBack:function(i,s,o,a,h){return h===void 0&&(h=1.70158),o*(i/=a)*i*((h+1)*i-h)+s},easeOutBack:function(i,s,o,a,h){return h===void 0&&(h=1.70158),o*((i=i/a-1)*i*((h+1)*i+h)+1)+s},easeInOutBack:function(i,s,o,a,h){return h===void 0&&(h=1.70158),(i/=a/2)<1?o/2*(i*i*(((h*=1.525)+1)*i-h))+s:o/2*((i-=2)*i*(((h*=1.525)+1)*i+h)+2)+s},easeInBounce:function(i,s,o,a){var h;return h=r.easeOutBounce(a-i,0,o,a),o-h+s},easeOutBounce:function(i,s,o,a){return(i/=a)<1/2.75?o*(7.5625*i*i)+s:i<2/2.75?o*(7.5625*(i-=1.5/2.75)*i+.75)+s:i<2.5/2.75?o*(7.5625*(i-=2.25/2.75)*i+.9375)+s:o*(7.5625*(i-=2.625/2.75)*i+.984375)+s},easeInOutBounce:function(i,s,o,a){var h;return i<a/2?(h=r.easeInBounce(i*2,0,o,a),h*.5+s):(h=r.easeOutBounce(i*2-a,0,o,a),h*.5+o*.5+s)}},n(r)}).call(gG)})(W2);var yG=W2.exports;const QT=vG(yG);function Rm(t,e){if(t){if(typeof t=="function")return t;if(typeof t=="string")return QT[t]}else return QT[e]}const _G={removeOnInterrupt:!1,ease:"linear",time:1e3};class xG extends wn{constructor(e,r={}){super(e),this.startWidth=null,this.startHeight=null,this.deltaWidth=null,this.deltaHeight=null,this.width=null,this.height=null,this.time=0,this.options=Object.assign({},_G,r),this.options.ease=Rm(this.options.ease),this.setupPosition(),this.setupZoom(),this.time=0}setupPosition(){typeof this.options.position<"u"?(this.startX=this.parent.center.x,this.startY=this.parent.center.y,this.deltaX=this.options.position.x-this.parent.center.x,this.deltaY=this.options.position.y-this.parent.center.y,this.keepCenter=!1):this.keepCenter=!0}setupZoom(){this.width=null,this.height=null,typeof this.options.scale<"u"?this.width=this.parent.screenWidth/this.options.scale:typeof this.options.scaleX<"u"||typeof this.options.scaleY<"u"?(typeof this.options.scaleX<"u"&&(this.width=this.parent.screenWidth/this.options.scaleX),typeof this.options.scaleY<"u"&&(this.height=this.parent.screenHeight/this.options.scaleY)):(typeof this.options.width<"u"&&(this.width=this.options.width),typeof this.options.height<"u"&&(this.height=this.options.height)),this.width!==null&&(this.startWidth=this.parent.screenWidthInWorldPixels,this.deltaWidth=this.width-this.startWidth),this.height!==null&&(this.startHeight=this.parent.screenHeightInWorldPixels,this.deltaHeight=this.height-this.startHeight)}down(){return this.options.removeOnInterrupt&&this.parent.plugins.remove("animate"),!1}complete(){this.parent.plugins.remove("animate"),this.width!==null&&this.parent.fitWidth(this.width,this.keepCenter,this.height===null),this.height!==null&&this.parent.fitHeight(this.height,this.keepCenter,this.width===null),!this.keepCenter&&this.options.position&&this.parent.moveCenter(this.options.position),this.parent.emit("animate-end",this.parent),this.options.callbackOnComplete&&this.options.callbackOnComplete(this.parent)}update(e){if(this.paused)return;this.time+=e;const r=new _e(this.parent.scale.x,this.parent.scale.y);if(this.time>=this.options.time){const n=this.parent.width,i=this.parent.height;this.complete(),(n!==this.parent.width||i!==this.parent.height)&&this.parent.emit("zoomed",{viewport:this.parent,original:r,type:"animate"})}else{const n=this.options.ease(this.time,0,1,this.options.time);if(this.width!==null){const i=this.startWidth,s=this.deltaWidth;this.parent.fitWidth(i+s*n,this.keepCenter,this.height===null)}if(this.height!==null){const i=this.startHeight,s=this.deltaHeight;this.parent.fitHeight(i+s*n,this.keepCenter,this.width===null)}if(this.width===null?this.parent.scale.x=this.parent.scale.y:this.height===null&&(this.parent.scale.y=this.parent.scale.x),!this.keepCenter){const i=this.startX,s=this.startY,o=this.deltaX,a=this.deltaY,h=new _e(this.parent.x,this.parent.y);this.parent.moveCenter(i+o*n,s+a*n),this.parent.emit("moved",{viewport:this.parent,original:h,type:"animate"})}(this.width||this.height)&&this.parent.emit("zoomed",{viewport:this.parent,original:r,type:"animate"})}}}const wG={sides:"all",friction:.5,time:150,ease:"easeInOutSine",underflow:"center",bounceBox:null};let bG=class extends wn{constructor(e,r={}){super(e),this.options=Object.assign({},wG,r),this.ease=Rm(this.options.ease,"easeInOutSine"),this.options.sides?this.options.sides==="all"?this.top=this.bottom=this.left=this.right=!0:this.options.sides==="horizontal"?(this.right=this.left=!0,this.top=this.bottom=!1):this.options.sides==="vertical"?(this.left=this.right=!1,this.top=this.bottom=!0):(this.top=this.options.sides.indexOf("top")!==-1,this.bottom=this.options.sides.indexOf("bottom")!==-1,this.left=this.options.sides.indexOf("left")!==-1,this.right=this.options.sides.indexOf("right")!==-1):this.left=this.top=this.right=this.bottom=!1;const n=this.options.underflow.toLowerCase();n==="center"?(this.underflowX=0,this.underflowY=0):(this.underflowX=n.indexOf("left")!==-1?-1:n.indexOf("right")!==-1?1:0,this.underflowY=n.indexOf("top")!==-1?-1:n.indexOf("bottom")!==-1?1:0),this.reset()}isActive(){return this.toX!==null||this.toY!==null}down(){return this.toX=this.toY=null,!1}up(){return this.bounce(),!1}update(e){if(!this.paused){if(this.bounce(),this.toX){const r=this.toX;r.time+=e,this.parent.emit("moved",{viewport:this.parent,type:"bounce-x"}),r.time>=this.options.time?(this.parent.x=r.end,this.toX=null,this.parent.emit("bounce-x-end",this.parent)):this.parent.x=this.ease(r.time,r.start,r.delta,this.options.time)}if(this.toY){const r=this.toY;r.time+=e,this.parent.emit("moved",{viewport:this.parent,type:"bounce-y"}),r.time>=this.options.time?(this.parent.y=r.end,this.toY=null,this.parent.emit("bounce-y-end",this.parent)):this.parent.y=this.ease(r.time,r.start,r.delta,this.options.time)}}}calcUnderflowX(){let e;switch(this.underflowX){case-1:e=0;break;case 1:e=this.parent.screenWidth-this.parent.screenWorldWidth;break;default:e=(this.parent.screenWidth-this.parent.screenWorldWidth)/2}return e}calcUnderflowY(){let e;switch(this.underflowY){case-1:e=0;break;case 1:e=this.parent.screenHeight-this.parent.screenWorldHeight;break;default:e=(this.parent.screenHeight-this.parent.screenWorldHeight)/2}return e}oob(){const e=this.options.bounceBox;if(e){const r=typeof e.x>"u"?0:e.x,n=typeof e.y>"u"?0:e.y,i=typeof e.width>"u"?this.parent.worldWidth:e.width,s=typeof e.height>"u"?this.parent.worldHeight:e.height;return{left:this.parent.left<r,right:this.parent.right>i,top:this.parent.top<n,bottom:this.parent.bottom>s,topLeft:new _e(r*this.parent.scale.x,n*this.parent.scale.y),bottomRight:new _e(i*this.parent.scale.x-this.parent.screenWidth,s*this.parent.scale.y-this.parent.screenHeight)}}return{left:this.parent.left<0,right:this.parent.right>this.parent.worldWidth,top:this.parent.top<0,bottom:this.parent.bottom>this.parent.worldHeight,topLeft:new _e(0,0),bottomRight:new _e(this.parent.worldWidth*this.parent.scale.x-this.parent.screenWidth,this.parent.worldHeight*this.parent.scale.y-this.parent.screenHeight)}}bounce(){var e,r;if(this.paused)return;let n,i=this.parent.plugins.get("decelerate",!0);i&&(i.x||i.y)&&(i.x&&i.percentChangeX===((e=i.options)==null?void 0:e.friction)||i.y&&i.percentChangeY===((r=i.options)==null?void 0:r.friction))&&(n=this.oob(),(n.left&&this.left||n.right&&this.right)&&(i.percentChangeX=this.options.friction),(n.top&&this.top||n.bottom&&this.bottom)&&(i.percentChangeY=this.options.friction));const s=this.parent.plugins.get("drag",!0)||{},o=this.parent.plugins.get("pinch",!0)||{};if(i=i||{},!(s!=null&&s.active)&&!(o!=null&&o.active)&&(!this.toX||!this.toY)&&(!i.x||!i.y)){n=n||this.oob();const a=n.topLeft,h=n.bottomRight;if(!this.toX&&!i.x){let c=null;n.left&&this.left?c=this.parent.screenWorldWidth<this.parent.screenWidth?this.calcUnderflowX():-a.x:n.right&&this.right&&(c=this.parent.screenWorldWidth<this.parent.screenWidth?this.calcUnderflowX():-h.x),c!==null&&this.parent.x!==c&&(this.toX={time:0,start:this.parent.x,delta:c-this.parent.x,end:c},this.parent.emit("bounce-x-start",this.parent))}if(!this.toY&&!i.y){let c=null;n.top&&this.top?c=this.parent.screenWorldHeight<this.parent.screenHeight?this.calcUnderflowY():-a.y:n.bottom&&this.bottom&&(c=this.parent.screenWorldHeight<this.parent.screenHeight?this.calcUnderflowY():-h.y),c!==null&&this.parent.y!==c&&(this.toY={time:0,start:this.parent.y,delta:c-this.parent.y,end:c},this.parent.emit("bounce-y-start",this.parent))}}}reset(){this.toX=this.toY=null,this.bounce()}};const SG={left:!1,right:!1,top:!1,bottom:!1,direction:null,underflow:"center"};class EG extends wn{constructor(e,r={}){super(e),this.options=Object.assign({},SG,r),this.options.direction&&(this.options.left=this.options.direction==="x"||this.options.direction==="all"?!0:null,this.options.right=this.options.direction==="x"||this.options.direction==="all"?!0:null,this.options.top=this.options.direction==="y"||this.options.direction==="all"?!0:null,this.options.bottom=this.options.direction==="y"||this.options.direction==="all"?!0:null),this.parseUnderflow(),this.last={x:null,y:null,scaleX:null,scaleY:null},this.update()}parseUnderflow(){const e=this.options.underflow.toLowerCase();e==="none"?this.noUnderflow=!0:e==="center"?(this.underflowX=this.underflowY=0,this.noUnderflow=!1):(this.underflowX=e.indexOf("left")!==-1?-1:e.indexOf("right")!==-1?1:0,this.underflowY=e.indexOf("top")!==-1?-1:e.indexOf("bottom")!==-1?1:0,this.noUnderflow=!1)}move(){return this.update(),!1}update(){if(this.paused||this.parent.x===this.last.x&&this.parent.y===this.last.y&&this.parent.scale.x===this.last.scaleX&&this.parent.scale.y===this.last.scaleY)return;const e=new _e(this.parent.x,this.parent.y),r=this.parent.plugins.decelerate||{};if(this.options.left!==null||this.options.right!==null){let n=!1;if(!this.noUnderflow&&this.parent.screenWorldWidth<this.parent.screenWidth)switch(this.underflowX){case-1:this.parent.x!==0&&(this.parent.x=0,n=!0);break;case 1:this.parent.x!==this.parent.screenWidth-this.parent.screenWorldWidth&&(this.parent.x=this.parent.screenWidth-this.parent.screenWorldWidth,n=!0);break;default:this.parent.x!==(this.parent.screenWidth-this.parent.screenWorldWidth)/2&&(this.parent.x=(this.parent.screenWidth-this.parent.screenWorldWidth)/2,n=!0)}else this.options.left!==null&&this.parent.left<(this.options.left===!0?0:this.options.left)&&(this.parent.x=-(this.options.left===!0?0:this.options.left)*this.parent.scale.x,r.x=0,n=!0),this.options.right!==null&&this.parent.right>(this.options.right===!0?this.parent.worldWidth:this.options.right)&&(this.parent.x=-(this.options.right===!0?this.parent.worldWidth:this.options.right)*this.parent.scale.x+this.parent.screenWidth,r.x=0,n=!0);n&&this.parent.emit("moved",{viewport:this.parent,original:e,type:"clamp-x"})}if(this.options.top!==null||this.options.bottom!==null){let n=!1;if(!this.noUnderflow&&this.parent.screenWorldHeight<this.parent.screenHeight)switch(this.underflowY){case-1:this.parent.y!==0&&(this.parent.y=0,n=!0);break;case 1:this.parent.y!==this.parent.screenHeight-this.parent.screenWorldHeight&&(this.parent.y=this.parent.screenHeight-this.parent.screenWorldHeight,n=!0);break;default:this.parent.y!==(this.parent.screenHeight-this.parent.screenWorldHeight)/2&&(this.parent.y=(this.parent.screenHeight-this.parent.screenWorldHeight)/2,n=!0)}else this.options.top!==null&&this.parent.top<(this.options.top===!0?0:this.options.top)&&(this.parent.y=-(this.options.top===!0?0:this.options.top)*this.parent.scale.y,r.y=0,n=!0),this.options.bottom!==null&&this.parent.bottom>(this.options.bottom===!0?this.parent.worldHeight:this.options.bottom)&&(this.parent.y=-(this.options.bottom===!0?this.parent.worldHeight:this.options.bottom)*this.parent.scale.y+this.parent.screenHeight,r.y=0,n=!0);n&&this.parent.emit("moved",{viewport:this.parent,original:e,type:"clamp-y"})}this.last.x=this.parent.x,this.last.y=this.parent.y,this.last.scaleX=this.parent.scale.x,this.last.scaleY=this.parent.scale.y}reset(){this.update()}}const TG={minWidth:null,minHeight:null,maxWidth:null,maxHeight:null,minScale:null,maxScale:null};class AG extends wn{constructor(e,r={}){super(e),this.options=Object.assign({},TG,r),this.clamp()}resize(){this.clamp()}clamp(){if(!this.paused){if(this.options.minWidth||this.options.minHeight||this.options.maxWidth||this.options.maxHeight){let e=this.parent.worldScreenWidth,r=this.parent.worldScreenHeight;if(this.options.minWidth!==null&&e<this.options.minWidth){const n=this.parent.scale.x;this.parent.fitWidth(this.options.minWidth,!1,!1,!0),this.parent.scale.y*=this.parent.scale.x/n,e=this.parent.worldScreenWidth,r=this.parent.worldScreenHeight,this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"})}if(this.options.maxWidth!==null&&e>this.options.maxWidth){const n=this.parent.scale.x;this.parent.fitWidth(this.options.maxWidth,!1,!1,!0),this.parent.scale.y*=this.parent.scale.x/n,e=this.parent.worldScreenWidth,r=this.parent.worldScreenHeight,this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"})}if(this.options.minHeight!==null&&r<this.options.minHeight){const n=this.parent.scale.y;this.parent.fitHeight(this.options.minHeight,!1,!1,!0),this.parent.scale.x*=this.parent.scale.y/n,e=this.parent.worldScreenWidth,r=this.parent.worldScreenHeight,this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"})}if(this.options.maxHeight!==null&&r>this.options.maxHeight){const n=this.parent.scale.y;this.parent.fitHeight(this.options.maxHeight,!1,!1,!0),this.parent.scale.x*=this.parent.scale.y/n,this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"})}}else if(this.options.minScale||this.options.maxScale){const e={x:null,y:null},r={x:null,y:null};if(typeof this.options.minScale=="number")e.x=this.options.minScale,e.y=this.options.minScale;else if(this.options.minScale!==null){const s=this.options.minScale;e.x=typeof s.x>"u"?null:s.x,e.y=typeof s.y>"u"?null:s.y}if(typeof this.options.maxScale=="number")r.x=this.options.maxScale,r.y=this.options.maxScale;else if(this.options.maxScale!==null){const s=this.options.maxScale;r.x=typeof s.x>"u"?null:s.x,r.y=typeof s.y>"u"?null:s.y}let n=this.parent.scale.x,i=this.parent.scale.y;e.x!==null&&n<e.x&&(n=e.x),r.x!==null&&n>r.x&&(n=r.x),e.y!==null&&i<e.y&&(i=e.y),r.y!==null&&i>r.y&&(i=r.y),(n!==this.parent.scale.x||i!==this.parent.scale.y)&&(this.parent.scale.set(n,i),this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"}))}}}reset(){this.clamp()}}const CG={friction:.98,bounce:.8,minSpeed:.01},Cs=16;class PG extends wn{constructor(e,r={}){super(e),this.options=Object.assign({},CG,r),this.saved=[],this.timeSinceRelease=0,this.reset(),this.parent.on("moved",n=>this.handleMoved(n))}down(){return this.saved=[],this.x=this.y=null,!1}isActive(){return!!(this.x||this.y)}move(){if(this.paused)return!1;const e=this.parent.input.count();return(e===1||e>1&&!this.parent.plugins.get("pinch",!0))&&(this.saved.push({x:this.parent.x,y:this.parent.y,time:performance.now()}),this.saved.length>60&&this.saved.splice(0,30)),!1}handleMoved(e){if(this.saved.length){const r=this.saved[this.saved.length-1];e.type==="clamp-x"&&e.original?r.x===e.original.x&&(r.x=this.parent.x):e.type==="clamp-y"&&e.original&&r.y===e.original.y&&(r.y=this.parent.y)}}up(){if(this.parent.input.count()===0&&this.saved.length){const e=performance.now();for(const r of this.saved)if(r.time>=e-100){const n=e-r.time;this.x=(this.parent.x-r.x)/n,this.y=(this.parent.y-r.y)/n,this.percentChangeX=this.percentChangeY=this.options.friction,this.timeSinceRelease=0;break}}return!1}activate(e){e=e||{},typeof e.x<"u"&&(this.x=e.x,this.percentChangeX=this.options.friction),typeof e.y<"u"&&(this.y=e.y,this.percentChangeY=this.options.friction)}update(e){if(this.paused)return;const r=this.x||this.y,n=this.timeSinceRelease,i=this.timeSinceRelease+e;if(this.x){const s=this.percentChangeX,o=Math.log(s);this.parent.x+=this.x*Cs/o*(Math.pow(s,i/Cs)-Math.pow(s,n/Cs)),this.x*=Math.pow(this.percentChangeX,e/Cs)}if(this.y){const s=this.percentChangeY,o=Math.log(s);this.parent.y+=this.y*Cs/o*(Math.pow(s,i/Cs)-Math.pow(s,n/Cs)),this.y*=Math.pow(this.percentChangeY,e/Cs)}this.timeSinceRelease+=e,this.x&&this.y?Math.abs(this.x)<this.options.minSpeed&&Math.abs(this.y)<this.options.minSpeed&&(this.x=0,this.y=0):(Math.abs(this.x||0)<this.options.minSpeed&&(this.x=0),Math.abs(this.y||0)<this.options.minSpeed&&(this.y=0)),r&&this.parent.emit("moved",{viewport:this.parent,type:"decelerate"})}reset(){this.x=this.y=null}}const IG={direction:"all",pressDrag:!0,wheel:!0,wheelScroll:1,reverse:!1,clampWheel:!1,underflow:"center",factor:1,mouseButtons:"all",keyToPress:null,ignoreKeyToPressOnTouch:!1,lineHeight:20,wheelSwapAxes:!1};class RG extends wn{constructor(e,r={}){super(e),this.windowEventHandlers=[],this.options=Object.assign({},IG,r),this.moved=!1,this.reverse=this.options.reverse?1:-1,this.xDirection=!this.options.direction||this.options.direction==="all"||this.options.direction==="x",this.yDirection=!this.options.direction||this.options.direction==="all"||this.options.direction==="y",this.keyIsPressed=!1,this.parseUnderflow(),this.mouseButtons(this.options.mouseButtons),this.options.keyToPress&&this.handleKeyPresses(this.options.keyToPress)}handleKeyPresses(e){const r=i=>{e.includes(i.code)&&(this.keyIsPressed=!0)},n=i=>{e.includes(i.code)&&(this.keyIsPressed=!1)};this.addWindowEventHandler("keyup",n),this.addWindowEventHandler("keydown",r)}addWindowEventHandler(e,r){typeof window>"u"||(window.addEventListener(e,r),this.windowEventHandlers.push({event:e,handler:r}))}destroy(){typeof window>"u"||this.windowEventHandlers.forEach(({event:e,handler:r})=>{window.removeEventListener(e,r)})}mouseButtons(e){!e||e==="all"?this.mouse=[!0,!0,!0]:this.mouse=[e.indexOf("left")!==-1,e.indexOf("middle")!==-1,e.indexOf("right")!==-1]}parseUnderflow(){const e=this.options.underflow.toLowerCase();e==="center"?(this.underflowX=0,this.underflowY=0):(e.includes("left")?this.underflowX=-1:e.includes("right")?this.underflowX=1:this.underflowX=0,e.includes("top")?this.underflowY=-1:e.includes("bottom")?this.underflowY=1:this.underflowY=0)}checkButtons(e){const r=e.pointerType==="mouse",n=this.parent.input.count();return!!((n===1||n>1&&!this.parent.plugins.get("pinch",!0))&&(!r||this.mouse[e.button]))}checkKeyPress(e){return!this.options.keyToPress||this.keyIsPressed||this.options.ignoreKeyToPressOnTouch&&e.data.pointerType==="touch"}down(e){return this.paused||!this.options.pressDrag?!1:this.checkButtons(e)&&this.checkKeyPress(e)?(this.last={x:e.global.x,y:e.global.y},this.current=e.pointerId,!0):(this.last=null,!1)}get active(){return this.moved}move(e){if(this.paused||!this.options.pressDrag)return!1;if(this.last&&this.current===e.data.pointerId){const r=e.global.x,n=e.global.y,i=this.parent.input.count();if(i===1||i>1&&!this.parent.plugins.get("pinch",!0)){const s=r-this.last.x,o=n-this.last.y;if(this.moved||this.xDirection&&this.parent.input.checkThreshold(s)||this.yDirection&&this.parent.input.checkThreshold(o)){const a={x:r,y:n};return this.xDirection&&(this.parent.x+=(a.x-this.last.x)*this.options.factor),this.yDirection&&(this.parent.y+=(a.y-this.last.y)*this.options.factor),this.last=a,this.moved||this.parent.emit("drag-start",{event:e,screen:new _e(this.last.x,this.last.y),world:this.parent.toWorld(new _e(this.last.x,this.last.y)),viewport:this.parent}),this.moved=!0,this.parent.emit("moved",{viewport:this.parent,type:"drag"}),!0}}else this.moved=!1}return!1}up(e){if(this.paused)return!1;const r=this.parent.input.touches;if(r.length===1){const n=r[0];return n.last&&(this.last={x:n.last.x,y:n.last.y},this.current=n.id),this.moved=!1,!0}else if(this.last&&this.moved){const n=new _e(this.last.x,this.last.y);return this.parent.emit("drag-end",{event:e,screen:n,world:this.parent.toWorld(n),viewport:this.parent}),this.last=null,this.moved=!1,!0}return!1}wheel(e){if(this.paused)return!1;if(this.options.wheel){const r=this.parent.plugins.get("wheel",!0);if(!r||!r.options.wheelZoom&&!e.ctrlKey){const n=e.deltaMode?this.options.lineHeight:1,i=[e.deltaX,e.deltaY],[s,o]=this.options.wheelSwapAxes?i.reverse():i;return this.xDirection&&(this.parent.x+=s*n*this.options.wheelScroll*this.reverse),this.yDirection&&(this.parent.y+=o*n*this.options.wheelScroll*this.reverse),this.options.clampWheel&&this.clamp(),this.parent.emit("wheel-scroll",this.parent),this.parent.emit("moved",{viewport:this.parent,type:"wheel"}),this.parent.options.passiveWheel||e.preventDefault(),this.parent.options.stopPropagation&&e.stopPropagation(),!0}}return!1}resume(){this.last=null,this.paused=!1}clamp(){const e=this.parent.plugins.get("decelerate",!0)||{};if(this.options.clampWheel!=="y")if(this.parent.screenWorldWidth<this.parent.screenWidth)switch(this.underflowX){case-1:this.parent.x=0;break;case 1:this.parent.x=this.parent.screenWidth-this.parent.screenWorldWidth;break;default:this.parent.x=(this.parent.screenWidth-this.parent.screenWorldWidth)/2}else this.parent.left<0?(this.parent.x=0,e.x=0):this.parent.right>this.parent.worldWidth&&(this.parent.x=-this.parent.worldWidth*this.parent.scale.x+this.parent.screenWidth,e.x=0);if(this.options.clampWheel!=="x")if(this.parent.screenWorldHeight<this.parent.screenHeight)switch(this.underflowY){case-1:this.parent.y=0;break;case 1:this.parent.y=this.parent.screenHeight-this.parent.screenWorldHeight;break;default:this.parent.y=(this.parent.screenHeight-this.parent.screenWorldHeight)/2}else this.parent.top<0&&(this.parent.y=0,e.y=0),this.parent.bottom>this.parent.worldHeight&&(this.parent.y=-this.parent.worldHeight*this.parent.scale.y+this.parent.screenHeight,e.y=0)}}const OG={speed:0,acceleration:null,radius:null};class MG extends wn{constructor(e,r,n={}){super(e),this.target=r,this.options=Object.assign({},OG,n),this.velocity={x:0,y:0}}update(e){if(this.paused)return;const r=this.parent.center;let n=this.target.x,i=this.target.y;if(this.options.radius)if(Math.sqrt(Math.pow(this.target.y-r.y,2)+Math.pow(this.target.x-r.x,2))>this.options.radius){const a=Math.atan2(this.target.y-r.y,this.target.x-r.x);n=this.target.x-Math.cos(a)*this.options.radius,i=this.target.y-Math.sin(a)*this.options.radius}else return;const s=n-r.x,o=i-r.y;if(s||o)if(this.options.speed)if(this.options.acceleration){const a=Math.atan2(i-r.y,n-r.x),h=Math.sqrt(Math.pow(s,2)+Math.pow(o,2));if(h){const c=(Math.pow(this.velocity.x,2)+Math.pow(this.velocity.y,2))/(2*this.options.acceleration);h>c?this.velocity={x:Math.min(this.velocity.x+(this.options.acceleration*e,this.options.speed)),y:Math.min(this.velocity.y+(this.options.acceleration*e,this.options.speed))}:this.velocity={x:Math.max(this.velocity.x-this.options.acceleration*this.options.speed,0),y:Math.max(this.velocity.y-this.options.acceleration*this.options.speed,0)};const d=Math.cos(a)*this.velocity.x,p=Math.sin(a)*this.velocity.y,m=Math.abs(d)>Math.abs(s)?n:r.x+d,y=Math.abs(p)>Math.abs(o)?i:r.y+p;this.parent.moveCenter(m,y),this.parent.emit("moved",{viewport:this.parent,type:"follow"})}}else{const a=Math.atan2(i-r.y,n-r.x),h=Math.cos(a)*this.options.speed,c=Math.sin(a)*this.options.speed,d=Math.abs(h)>Math.abs(s)?n:r.x+h,p=Math.abs(c)>Math.abs(o)?i:r.y+c;this.parent.moveCenter(d,p),this.parent.emit("moved",{viewport:this.parent,type:"follow"})}else this.parent.moveCenter(n,i),this.parent.emit("moved",{viewport:this.parent,type:"follow"})}}const kG={radius:null,distance:null,top:null,bottom:null,left:null,right:null,speed:8,reverse:!1,noDecelerate:!1,linear:!1,allowButtons:!1};class DG extends wn{constructor(e,r={}){super(e),this.options=Object.assign({},kG,r),this.reverse=this.options.reverse?1:-1,this.radiusSquared=typeof this.options.radius=="number"?Math.pow(this.options.radius,2):null,this.resize()}resize(){const e=this.options.distance;e!==null?(this.left=e,this.top=e,this.right=this.parent.screenWidth-e,this.bottom=this.parent.screenHeight-e):this.options.radius||(this.left=this.options.left,this.top=this.options.top,this.right=this.options.right===null?null:this.parent.screenWidth-this.options.right,this.bottom=this.options.bottom===null?null:this.parent.screenHeight-this.options.bottom)}down(){return this.paused||this.options.allowButtons||(this.horizontal=this.vertical=null),!1}move(e){if(this.paused||e.pointerType!=="mouse"&&e.pointerId!==1||!this.options.allowButtons&&e.buttons!==0)return!1;const r=e.global.x,n=e.global.y;if(this.radiusSquared){const i=this.parent.toScreen(this.parent.center);if(Math.pow(i.x-r,2)+Math.pow(i.y-n,2)>=this.radiusSquared){const s=Math.atan2(i.y-n,i.x-r);this.options.linear?(this.horizontal=Math.round(Math.cos(s))*this.options.speed*this.reverse*(60/1e3),this.vertical=Math.round(Math.sin(s))*this.options.speed*this.reverse*(60/1e3)):(this.horizontal=Math.cos(s)*this.options.speed*this.reverse*(60/1e3),this.vertical=Math.sin(s)*this.options.speed*this.reverse*(60/1e3))}else this.horizontal&&this.decelerateHorizontal(),this.vertical&&this.decelerateVertical(),this.horizontal=this.vertical=0}else this.left!==null&&r<this.left?this.horizontal=Number(this.reverse)*this.options.speed*(60/1e3):this.right!==null&&r>this.right?this.horizontal=-1*this.reverse*this.options.speed*(60/1e3):(this.decelerateHorizontal(),this.horizontal=0),this.top!==null&&n<this.top?this.vertical=Number(this.reverse)*this.options.speed*(60/1e3):this.bottom!==null&&n>this.bottom?this.vertical=-1*this.reverse*this.options.speed*(60/1e3):(this.decelerateVertical(),this.vertical=0);return!1}decelerateHorizontal(){const e=this.parent.plugins.get("decelerate",!0);this.horizontal&&e&&!this.options.noDecelerate&&e.activate({x:this.horizontal*this.options.speed*this.reverse/(1e3/60)})}decelerateVertical(){const e=this.parent.plugins.get("decelerate",!0);this.vertical&&e&&!this.options.noDecelerate&&e.activate({y:this.vertical*this.options.speed*this.reverse/(1e3/60)})}up(){return this.paused||(this.horizontal&&this.decelerateHorizontal(),this.vertical&&this.decelerateVertical(),this.horizontal=this.vertical=null),!1}update(){if(!this.paused&&(this.horizontal||this.vertical)){const e=this.parent.center;this.horizontal&&(e.x+=this.horizontal*this.options.speed),this.vertical&&(e.y+=this.vertical*this.options.speed),this.parent.moveCenter(e),this.parent.emit("moved",{viewport:this.parent,type:"mouse-edges"})}}}const NG={noDrag:!1,percent:1,center:null,factor:1,axis:"all"};class FG extends wn{constructor(e,r={}){super(e),this.active=!1,this.pinching=!1,this.moved=!1,this.options=Object.assign({},NG,r)}down(){return this.parent.input.count()>=2?(this.active=!0,!0):!1}isAxisX(){return["all","x"].includes(this.options.axis)}isAxisY(){return["all","y"].includes(this.options.axis)}move(e){if(this.paused||!this.active)return!1;const r=e.global.x,n=e.global.y,i=this.parent.input.touches;if(i.length>=2){const s=i[0],o=i[1],a=s.last&&o.last?Math.sqrt(Math.pow(o.last.x-s.last.x,2)+Math.pow(o.last.y-s.last.y,2)):null;if(s.id===e.pointerId?s.last={x:r,y:n,data:e}:o.id===e.pointerId&&(o.last={x:r,y:n,data:e}),a){let h;const c=new _e(s.last.x+(o.last.x-s.last.x)/2,s.last.y+(o.last.y-s.last.y)/2);this.options.center||(h=this.parent.toLocal(c));let d=Math.sqrt(Math.pow(o.last.x-s.last.x,2)+Math.pow(o.last.y-s.last.y,2));d=d===0?d=1e-10:d;const p=(1-a/d)*this.options.percent*(this.isAxisX()?this.parent.scale.x:this.parent.scale.y);this.isAxisX()&&(this.parent.scale.x+=p),this.isAxisY()&&(this.parent.scale.y+=p),this.parent.emit("zoomed",{viewport:this.parent,type:"pinch",center:c});const m=this.parent.plugins.get("clamp-zoom",!0);if(m&&m.clamp(),this.options.center)this.parent.moveCenter(this.options.center);else{const y=this.parent.toGlobal(h);this.parent.x+=(c.x-y.x)*this.options.factor,this.parent.y+=(c.y-y.y)*this.options.factor,this.parent.emit("moved",{viewport:this.parent,type:"pinch"})}!this.options.noDrag&&this.lastCenter&&(this.parent.x+=(c.x-this.lastCenter.x)*this.options.factor,this.parent.y+=(c.y-this.lastCenter.y)*this.options.factor,this.parent.emit("moved",{viewport:this.parent,type:"pinch"})),this.lastCenter=c,this.moved=!0}else this.pinching||(this.parent.emit("pinch-start",this.parent),this.pinching=!0);return!0}return!1}up(){return this.pinching&&this.parent.input.touches.length<=1?(this.active=!1,this.lastCenter=null,this.pinching=!1,this.moved=!1,this.parent.emit("pinch-end",this.parent),!0):!1}}const BG={topLeft:!1,friction:.8,time:1e3,ease:"easeInOutSine",interrupt:!0,removeOnComplete:!1,removeOnInterrupt:!1,forceStart:!1};class LG extends wn{constructor(e,r,n,i={}){super(e),this.options=Object.assign({},BG,i),this.ease=Rm(i.ease,"easeInOutSine"),this.x=r,this.y=n,this.options.forceStart&&this.snapStart()}snapStart(){this.percent=0,this.snapping={time:0};const e=this.options.topLeft?this.parent.corner:this.parent.center;this.deltaX=this.x-e.x,this.deltaY=this.y-e.y,this.startX=e.x,this.startY=e.y,this.parent.emit("snap-start",this.parent)}wheel(){return this.options.removeOnInterrupt&&this.parent.plugins.remove("snap"),!1}down(){return this.options.removeOnInterrupt?this.parent.plugins.remove("snap"):this.options.interrupt&&(this.snapping=null),!1}up(){if(this.parent.input.count()===0){const e=this.parent.plugins.get("decelerate",!0);e&&(e.x||e.y)&&(e.percentChangeX=e.percentChangeY=this.options.friction)}return!1}update(e){if(!this.paused&&!(this.options.interrupt&&this.parent.input.count()!==0))if(this.snapping){const r=this.snapping;r.time+=e;let n,i,s;const o=this.startX,a=this.startY,h=this.deltaX,c=this.deltaY;if(r.time>this.options.time)n=!0,i=o+h,s=a+c;else{const d=this.ease(r.time,0,1,this.options.time);i=o+h*d,s=a+c*d}this.options.topLeft?this.parent.moveCorner(i,s):this.parent.moveCenter(i,s),this.parent.emit("moved",{viewport:this.parent,type:"snap"}),n&&(this.options.removeOnComplete&&this.parent.plugins.remove("snap"),this.parent.emit("snap-end",this.parent),this.snapping=null)}else{const r=this.options.topLeft?this.parent.corner:this.parent.center;(r.x!==this.x||r.y!==this.y)&&this.snapStart()}}}const UG={width:0,height:0,time:1e3,ease:"easeInOutSine",center:null,interrupt:!0,removeOnComplete:!1,removeOnInterrupt:!1,forceStart:!1,noMove:!1};class zG extends wn{constructor(e,r={}){super(e),this.options=Object.assign({},UG,r),this.ease=Rm(this.options.ease),this.xIndependent=!1,this.yIndependent=!1,this.xScale=0,this.yScale=0,this.options.width>0&&(this.xScale=e.screenWidth/this.options.width,this.xIndependent=!0),this.options.height>0&&(this.yScale=e.screenHeight/this.options.height,this.yIndependent=!0),this.xScale=this.xIndependent?this.xScale:this.yScale,this.yScale=this.yIndependent?this.yScale:this.xScale,this.options.time===0?(e.container.scale.x=this.xScale,e.container.scale.y=this.yScale,this.options.removeOnComplete&&this.parent.plugins.remove("snap-zoom")):r.forceStart&&this.createSnapping()}createSnapping(){const e=this.parent.worldScreenWidth,r=this.parent.worldScreenHeight,n=this.parent.screenWidth/this.xScale,i=this.parent.screenHeight/this.yScale;this.snapping={time:0,startX:e,startY:r,deltaX:n-e,deltaY:i-r},this.parent.emit("snap-zoom-start",this.parent)}resize(){this.snapping=null,this.options.width>0&&(this.xScale=this.parent.screenWidth/this.options.width),this.options.height>0&&(this.yScale=this.parent.screenHeight/this.options.height),this.xScale=this.xIndependent?this.xScale:this.yScale,this.yScale=this.yIndependent?this.yScale:this.xScale}wheel(){return this.options.removeOnInterrupt&&this.parent.plugins.remove("snap-zoom"),!1}down(){return this.options.removeOnInterrupt?this.parent.plugins.remove("snap-zoom"):this.options.interrupt&&(this.snapping=null),!1}update(e){if(this.paused||this.options.interrupt&&this.parent.input.count()!==0)return;let r;if(!this.options.center&&!this.options.noMove&&(r=this.parent.center),!this.snapping)(this.parent.scale.x!==this.xScale||this.parent.scale.y!==this.yScale)&&this.createSnapping();else if(this.snapping){const n=this.snapping;if(n.time+=e,n.time>=this.options.time)this.parent.scale.set(this.xScale,this.yScale),this.options.removeOnComplete&&this.parent.plugins.remove("snap-zoom"),this.parent.emit("snap-zoom-end",this.parent),this.snapping=null;else{const s=this.snapping,o=this.ease(s.time,s.startX,s.deltaX,this.options.time),a=this.ease(s.time,s.startY,s.deltaY,this.options.time);this.parent.scale.x=this.parent.screenWidth/o,this.parent.scale.y=this.parent.screenHeight/a}const i=this.parent.plugins.get("clamp-zoom",!0);i&&i.clamp(),this.options.noMove||(this.options.center?this.parent.moveCenter(this.options.center):this.parent.moveCenter(r))}}resume(){this.snapping=null,super.resume()}}const $G={percent:.1,smooth:!1,interrupt:!0,reverse:!1,center:null,lineHeight:20,axis:"all",keyToPress:null,trackpadPinch:!1,wheelZoom:!0};class GG extends wn{constructor(e,r={}){super(e),this.options=Object.assign({},$G,r),this.keyIsPressed=!1,this.options.keyToPress&&this.handleKeyPresses(this.options.keyToPress)}handleKeyPresses(e){typeof window>"u"||(window.addEventListener("keydown",r=>{e.includes(r.code)&&(this.keyIsPressed=!0)}),window.addEventListener("keyup",r=>{e.includes(r.code)&&(this.keyIsPressed=!1)}))}checkKeyPress(){return!this.options.keyToPress||this.keyIsPressed}down(){return this.options.interrupt&&(this.smoothing=null),!1}isAxisX(){return["all","x"].includes(this.options.axis)}isAxisY(){return["all","y"].includes(this.options.axis)}update(){if(this.smoothing){const e=this.smoothingCenter,r=this.smoothing;let n;this.options.center||(n=this.parent.toLocal(e)),this.isAxisX()&&(this.parent.scale.x+=r.x),this.isAxisY()&&(this.parent.scale.y+=r.y),this.parent.emit("zoomed",{viewport:this.parent,type:"wheel"});const i=this.parent.plugins.get("clamp-zoom",!0);if(i&&i.clamp(),this.options.center)this.parent.moveCenter(this.options.center);else{const s=this.parent.toGlobal(n);this.parent.x+=e.x-s.x,this.parent.y+=e.y-s.y}this.parent.emit("moved",{viewport:this.parent,type:"wheel"}),this.smoothingCount++,this.smoothingCount>=this.options.smooth&&(this.smoothing=null)}}pinch(e){if(this.paused)return;const r=this.parent.input.getPointerPosition(e),n=-e.deltaY*(e.deltaMode?this.options.lineHeight:1)/200,i=Math.pow(2,(1+this.options.percent)*n);let s;this.options.center||(s=this.parent.toLocal(r)),this.isAxisX()&&(this.parent.scale.x*=i),this.isAxisY()&&(this.parent.scale.y*=i),this.parent.emit("zoomed",{viewport:this.parent,type:"wheel"});const o=this.parent.plugins.get("clamp-zoom",!0);if(o&&o.clamp(),this.options.center)this.parent.moveCenter(this.options.center);else{const a=this.parent.toGlobal(s);this.parent.x+=r.x-a.x,this.parent.y+=r.y-a.y}this.parent.emit("moved",{viewport:this.parent,type:"wheel"}),this.parent.emit("wheel-start",{event:e,viewport:this.parent})}wheel(e){if(this.paused||!this.checkKeyPress())return!1;if(e.ctrlKey&&this.options.trackpadPinch)this.pinch(e);else if(this.options.wheelZoom){const r=this.parent.input.getPointerPosition(e),n=(this.options.reverse?-1:1)*-e.deltaY*(e.deltaMode?this.options.lineHeight:1)/500,i=Math.pow(2,(1+this.options.percent)*n);if(this.options.smooth){const s={x:this.smoothing?this.smoothing.x*(this.options.smooth-this.smoothingCount):0,y:this.smoothing?this.smoothing.y*(this.options.smooth-this.smoothingCount):0};this.smoothing={x:((this.parent.scale.x+s.x)*i-this.parent.scale.x)/this.options.smooth,y:((this.parent.scale.y+s.y)*i-this.parent.scale.y)/this.options.smooth},this.smoothingCount=0,this.smoothingCenter=r}else{let s;this.options.center||(s=this.parent.toLocal(r)),this.isAxisX()&&(this.parent.scale.x*=i),this.isAxisY()&&(this.parent.scale.y*=i),this.parent.emit("zoomed",{viewport:this.parent,type:"wheel"});const o=this.parent.plugins.get("clamp-zoom",!0);if(o&&o.clamp(),this.options.center)this.parent.moveCenter(this.options.center);else{const a=this.parent.toGlobal(s);this.parent.x+=r.x-a.x,this.parent.y+=r.y-a.y}}this.parent.emit("moved",{viewport:this.parent,type:"wheel"}),this.parent.emit("wheel-start",{event:e,viewport:this.parent})}return!this.parent.options.passiveWheel}}class HG{constructor(e){this.viewport=e,this.touches=[],this.addListeners()}addListeners(){this.viewport.eventMode="static",this.viewport.forceHitArea||(this.viewport.hitArea=new be(0,0,this.viewport.worldWidth,this.viewport.worldHeight)),this.viewport.on("pointerdown",this.down,this),this.viewport.options.allowPreserveDragOutside?this.viewport.on("globalpointermove",this.move,this):this.viewport.on("pointermove",this.move,this),this.viewport.on("pointerup",this.up,this),this.viewport.on("pointerupoutside",this.up,this),this.viewport.on("pointercancel",this.up,this),this.viewport.options.allowPreserveDragOutside||this.viewport.on("pointerleave",this.up,this),this.wheelFunction=e=>this.handleWheel(e),this.viewport.options.events.domElement.addEventListener("wheel",this.wheelFunction,{passive:this.viewport.options.passiveWheel}),this.isMouseDown=!1}destroy(){var e;(e=this.viewport.options.events.domElement)==null||e.removeEventListener("wheel",this.wheelFunction)}down(e){if(!(this.viewport.pause||!this.viewport.visible)){if(e.pointerType==="mouse"?this.isMouseDown=!0:this.get(e.pointerId)||this.touches.push({id:e.pointerId,last:null}),this.count()===1){this.last=e.global.clone();const r=this.viewport.plugins.get("decelerate",!0),n=this.viewport.plugins.get("bounce",!0);(!r||!r.isActive())&&(!n||!n.isActive())?this.clickedAvailable=!0:this.clickedAvailable=!1}else this.clickedAvailable=!1;this.viewport.plugins.down(e)&&this.viewport.options.stopPropagation&&e.stopPropagation()}}clear(){this.isMouseDown=!1,this.touches=[],this.last=null}checkThreshold(e){return Math.abs(e)>=this.viewport.threshold}move(e){if(this.viewport.pause||!this.viewport.visible)return;const r=this.viewport.plugins.move(e);if(this.clickedAvailable&&this.last){const n=e.global.x-this.last.x,i=e.global.y-this.last.y;(this.checkThreshold(n)||this.checkThreshold(i))&&(this.clickedAvailable=!1)}r&&this.viewport.options.stopPropagation&&e.stopPropagation()}up(e){if(this.viewport.pause||!this.viewport.visible)return;e.pointerType==="mouse"&&(this.isMouseDown=!1),e.pointerType!=="mouse"&&this.remove(e.pointerId);const r=this.viewport.plugins.up(e);this.clickedAvailable&&this.count()===0&&this.last&&(this.viewport.emit("clicked",{event:e,screen:this.last,world:this.viewport.toWorld(this.last),viewport:this.viewport}),this.clickedAvailable=!1),r&&this.viewport.options.stopPropagation&&e.stopPropagation()}getPointerPosition(e){const r=new _e;return this.viewport.options.events.mapPositionToPoint(r,e.clientX,e.clientY),r}handleWheel(e){if(this.viewport.pause||!this.viewport.visible)return;const r=this.viewport.toLocal(this.getPointerPosition(e));this.viewport.left<=r.x&&r.x<=this.viewport.right&&this.viewport.top<=r.y&&r.y<=this.viewport.bottom&&this.viewport.plugins.wheel(e)&&!this.viewport.options.passiveWheel&&e.preventDefault()}pause(){this.touches=[],this.isMouseDown=!1}get(e){for(const r of this.touches)if(r.id===e)return r;return null}remove(e){for(let r=0;r<this.touches.length;r++)if(this.touches[r].id===e){this.touches.splice(r,1);return}}count(){return(this.isMouseDown?1:0)+this.touches.length}}const $u=["drag","pinch","wheel","follow","mouse-edges","decelerate","animate","bounce","snap-zoom","clamp-zoom","snap","clamp"];class jG{constructor(e){this.viewport=e,this.list=[],this.plugins={}}add(e,r,n=$u.length){const i=this.plugins[e];i&&i.destroy(),this.plugins[e]=r;const s=$u.indexOf(e);s!==-1&&$u.splice(s,1),$u.splice(n,0,e),this.sort()}get(e,r){var n;return r&&(n=this.plugins[e])!=null&&n.paused?null:this.plugins[e]}update(e){for(const r of this.list)r.update(e)}resize(){for(const e of this.list)e.resize()}reset(){for(const e of this.list)e.reset()}removeAll(){this.list.forEach(e=>{e.destroy()}),this.plugins={},this.sort()}remove(e){var r;this.plugins[e]&&((r=this.plugins[e])==null||r.destroy(),delete this.plugins[e],this.viewport.emit("plugin-remove",e),this.sort())}pause(e){var r;(r=this.plugins[e])==null||r.pause()}resume(e){var r;(r=this.plugins[e])==null||r.resume()}sort(){this.list=[];for(const e of $u)this.plugins[e]&&this.list.push(this.plugins[e])}down(e){let r=!1;for(const n of this.list)n.down(e)&&(r=!0);return r}move(e){let r=!1;for(const n of this.viewport.plugins.list)n.move(e)&&(r=!0);return r}up(e){let r=!1;for(const n of this.list)n.up(e)&&(r=!0);return r}wheel(e){let r=!1;for(const n of this.list)n.wheel(e)&&(r=!0);return r}}const WG={screenWidth:typeof window>"u"?0:window.innerWidth,screenHeight:typeof window>"u"?0:window.innerHeight,worldWidth:null,worldHeight:null,threshold:5,passiveWheel:!0,stopPropagation:!1,forceHitArea:null,noTicker:!1,disableOnContextMenu:!1,ticker:Ft.shared,allowPreserveDragOutside:!1};class VG extends cr{constructor(e){super(),this._disableOnContextMenu=r=>r.preventDefault(),this.options={...WG,...e},this.screenWidth=this.options.screenWidth,this.screenHeight=this.options.screenHeight,this._worldWidth=this.options.worldWidth,this._worldHeight=this.options.worldHeight,this.forceHitArea=this.options.forceHitArea,this.threshold=this.options.threshold,this.options.disableOnContextMenu&&this.options.events.domElement.addEventListener("contextmenu",this._disableOnContextMenu),this.options.noTicker||(this.tickerFunction=()=>this.update(this.options.ticker.elapsedMS),this.options.ticker.add(this.tickerFunction)),this.input=new HG(this),this.plugins=new jG(this)}destroy(e){var r;!this.options.noTicker&&this.tickerFunction&&this.options.ticker.remove(this.tickerFunction),this.options.disableOnContextMenu&&((r=this.options.events.domElement)==null||r.removeEventListener("contextmenu",this._disableOnContextMenu)),this.input.destroy(),super.destroy(e)}update(e){this.pause||(this.plugins.update(e),this.lastViewport&&(this.lastViewport.x!==this.x||this.lastViewport.y!==this.y?this.moving=!0:this.moving&&(this.emit("moved-end",this),this.moving=!1),this.lastViewport.scaleX!==this.scale.x||this.lastViewport.scaleY!==this.scale.y?this.zooming=!0:this.zooming&&(this.emit("zoomed-end",this),this.zooming=!1)),this.forceHitArea||(this._hitAreaDefault=new be(this.left,this.top,this.worldScreenWidth,this.worldScreenHeight),this.hitArea=this._hitAreaDefault),this._dirty=this._dirty||!this.lastViewport||this.lastViewport.x!==this.x||this.lastViewport.y!==this.y||this.lastViewport.scaleX!==this.scale.x||this.lastViewport.scaleY!==this.scale.y,this.lastViewport={x:this.x,y:this.y,scaleX:this.scale.x,scaleY:this.scale.y},this.emit("frame-end",this))}resize(e=typeof window>"u"?0:window.innerWidth,r=typeof window>"u"?0:window.innerHeight,n,i){this.screenWidth=e,this.screenHeight=r,typeof n<"u"&&(this._worldWidth=n),typeof i<"u"&&(this._worldHeight=i),this.plugins.resize(),this.dirty=!0}get worldWidth(){return this._worldWidth?this._worldWidth:this.width/this.scale.x}set worldWidth(e){this._worldWidth=e,this.plugins.resize()}get worldHeight(){return this._worldHeight?this._worldHeight:this.height/this.scale.y}set worldHeight(e){this._worldHeight=e,this.plugins.resize()}getVisibleBounds(){return new be(this.left,this.top,this.worldScreenWidth,this.worldScreenHeight)}toWorld(e,r){return arguments.length===2?this.toLocal(new _e(e,r)):this.toLocal(e)}toScreen(e,r){return arguments.length===2?this.toGlobal(new _e(e,r)):this.toGlobal(e)}get worldScreenWidth(){return this.screenWidth/this.scale.x}get worldScreenHeight(){return this.screenHeight/this.scale.y}get screenWorldWidth(){return this.worldWidth*this.scale.x}get screenWorldHeight(){return this.worldHeight*this.scale.y}get center(){return new _e(this.worldScreenWidth/2-this.x/this.scale.x,this.worldScreenHeight/2-this.y/this.scale.y)}set center(e){this.moveCenter(e)}moveCenter(...e){let r,n;typeof e[0]=="number"?(r=e[0],n=e[1]):(r=e[0].x,n=e[0].y);const i=(this.worldScreenWidth/2-r)*this.scale.x,s=(this.worldScreenHeight/2-n)*this.scale.y;return(this.x!==i||this.y!==s)&&(this.position.set(i,s),this.plugins.reset(),this.dirty=!0),this}get corner(){return new _e(-this.x/this.scale.x,-this.y/this.scale.y)}set corner(e){this.moveCorner(e)}moveCorner(...e){let r,n;return e.length===1?(r=-e[0].x*this.scale.x,n=-e[0].y*this.scale.y):(r=-e[0]*this.scale.x,n=-e[1]*this.scale.y),(r!==this.x||n!==this.y)&&(this.position.set(r,n),this.plugins.reset(),this.dirty=!0),this}get screenWidthInWorldPixels(){return this.screenWidth/this.scale.x}get screenHeightInWorldPixels(){return this.screenHeight/this.scale.y}findFitWidth(e){return this.screenWidth/e}findFitHeight(e){return this.screenHeight/e}findFit(e,r){const n=this.screenWidth/e,i=this.screenHeight/r;return Math.min(n,i)}findCover(e,r){const n=this.screenWidth/e,i=this.screenHeight/r;return Math.max(n,i)}fitWidth(e=this.worldWidth,r,n=!0,i){let s;r&&(s=this.center),this.scale.x=this.screenWidth/e,n&&(this.scale.y=this.scale.x);const o=this.plugins.get("clamp-zoom",!0);return!i&&o&&o.clamp(),r&&s&&this.moveCenter(s),this}fitHeight(e=this.worldHeight,r,n=!0,i){let s;r&&(s=this.center),this.scale.y=this.screenHeight/e,n&&(this.scale.x=this.scale.y);const o=this.plugins.get("clamp-zoom",!0);return!i&&o&&o.clamp(),r&&s&&this.moveCenter(s),this}fitWorld(e){let r;e&&(r=this.center),this.scale.x=this.screenWidth/this.worldWidth,this.scale.y=this.screenHeight/this.worldHeight,this.scale.x<this.scale.y?this.scale.y=this.scale.x:this.scale.x=this.scale.y;const n=this.plugins.get("clamp-zoom",!0);return n&&n.clamp(),e&&r&&this.moveCenter(r),this}fit(e,r=this.worldWidth,n=this.worldHeight){let i;e&&(i=this.center),this.scale.x=this.screenWidth/r,this.scale.y=this.screenHeight/n,this.scale.x<this.scale.y?this.scale.y=this.scale.x:this.scale.x=this.scale.y;const s=this.plugins.get("clamp-zoom",!0);return s&&s.clamp(),e&&i&&this.moveCenter(i),this}setZoom(e,r){let n;r&&(n=this.center),this.scale.set(e);const i=this.plugins.get("clamp-zoom",!0);return i&&i.clamp(),r&&n&&this.moveCenter(n),this}zoomPercent(e,r){return this.setZoom(this.scale.x+this.scale.x*e,r)}zoom(e,r){return this.fitWidth(e+this.worldScreenWidth,r),this}get scaled(){return this.scale.x}set scaled(e){this.setZoom(e,!0)}snapZoom(e){return this.plugins.add("snap-zoom",new zG(this,e)),this}OOB(){return{left:this.left<0,right:this.right>this.worldWidth,top:this.top<0,bottom:this.bottom>this.worldHeight,cornerPoint:new _e(this.worldWidth*this.scale.x-this.screenWidth,this.worldHeight*this.scale.y-this.screenHeight)}}get right(){return-this.x/this.scale.x+this.worldScreenWidth}set right(e){this.x=-e*this.scale.x+this.screenWidth,this.plugins.reset()}get left(){return-this.x/this.scale.x}set left(e){this.x=-e*this.scale.x,this.plugins.reset()}get top(){return-this.y/this.scale.y}set top(e){this.y=-e*this.scale.y,this.plugins.reset()}get bottom(){return-this.y/this.scale.y+this.worldScreenHeight}set bottom(e){this.y=-e*this.scale.y+this.screenHeight,this.plugins.reset()}get dirty(){return!!this._dirty}set dirty(e){this._dirty=e}get forceHitArea(){return this._forceHitArea}set forceHitArea(e){e?(this._forceHitArea=e,this.hitArea=e):(this._forceHitArea=null,this.hitArea=new be(0,0,this.worldWidth,this.worldHeight))}drag(e){return this.plugins.add("drag",new RG(this,e)),this}clamp(e){return this.plugins.add("clamp",new EG(this,e)),this}decelerate(e){return this.plugins.add("decelerate",new PG(this,e)),this}bounce(e){return this.plugins.add("bounce",new bG(this,e)),this}pinch(e){return this.plugins.add("pinch",new FG(this,e)),this}snap(e,r,n){return this.plugins.add("snap",new LG(this,e,r,n)),this}follow(e,r){return this.plugins.add("follow",new MG(this,e,r)),this}wheel(e){return this.plugins.add("wheel",new GG(this,e)),this}animate(e){return this.plugins.add("animate",new xG(this,e)),this}clampZoom(e){return this.plugins.add("clamp-zoom",new AG(this,e)),this}mouseEdges(e){return this.plugins.add("mouse-edges",new DG(this,e)),this}get pause(){return!!this._pause}set pause(e){this._pause=e,this.lastViewport=null,this.moving=!1,this.zooming=!1,e&&this.input.pause()}ensureVisible(e,r,n,i,s){s&&(n>this.worldScreenWidth||i>this.worldScreenHeight)&&(this.fit(!0,n,i),this.emit("zoomed",{viewport:this,type:"ensureVisible"}));let o=!1;e<this.left?(this.left=e,o=!0):e+n>this.right&&(this.right=e+n,o=!0),r<this.top?(this.top=r,o=!0):r+i>this.bottom&&(this.bottom=r+i,o=!0),o&&this.emit("moved",{viewport:this,type:"ensureVisible"})}}class XG extends VG{constructor(r){super(r);Au(this,"renderedDOMElement");this.lockDOMElement()}lockDOMElement(){return this.renderedDOMElement=this.options.events.domElement,this}patchEvents(){this.renderedDOMElement&&(this.options.events.domElement=this.renderedDOMElement)}releaseDOMElement(){this.renderedDOMElement=void 0}}const YG=Hl.PixiComponent("Viewport",{create:t=>{const{events:e}=t.app.renderer,r=new XG({worldWidth:window.innerWidth,worldHeight:window.innerHeight,ticker:t.app.ticker,allowPreserveDragOutside:!0,passiveWheel:!1,events:e});return r.drag({clampWheel:!1,factor:1}).wheel({percent:.1,trackpadPinch:!0}).pinch({noDrag:!0}).clampZoom({minScale:1,maxScale:2}).clamp({direction:"all"}),r},willUnmount:t=>{t.options.noTicker=!0,t.patchEvents(),t.destroy({children:!0,texture:!0,baseTexture:!0}),t.releaseDOMElement()}}),KG=Ee.forwardRef(function(e,r){const n=Hl.useApp();return Le.jsx(YG,{ref:r,app:n,...e})}),QG=({setFill:t,initialFill:e,indexRect:r})=>{cn.isClear?(t(e),qt.clearRect(r)):cn.selectedColor!==""&&(t(cn.selectedColor),qt.addRect({index:r,color:cn.selectedColor}))},qG=({setFill:t,setAlpha:e,initialFill:r,someFill:n,indexRect:i})=>{cn.isClear?(t(r),e(1),qt.clearRect(i)):cn.selectedColor!==""&&(cn.selectedColor!==n?e(.5):e(1),t(cn.selectedColor),qt.addRect({index:i,color:cn.selectedColor,isColoring:!0}))},yy=t=>{const e=Ee.useRef(null),[r,n]=Ee.useState({width:0,height:0}),[i,s]=Ee.useState(0),o=$8({query:"(orientation: landscape)"});return Ee.useEffect(()=>{n({width:e.current.clientWidth,height:e.current.clientHeight})},[o]),Ee.useEffect(()=>{s(e.current.clientWidth/t.grid<50?e.current.clientWidth/t.grid:50)},[t.grid]),Le.jsx(VF,{ref:e,children:Le.jsx(Hl.Stage,{width:r.width,height:r.height,options:{backgroundColor:15066597},children:Le.jsx(KG,{children:Le.jsx(Hl.Container,{interactive:!0,pivot:i*t.grid/2,position:[r.width/2,r.height/2],children:mG(t.grid,i).map((a,h)=>Le.jsx(hG,{index:h,x:a.x,y:a.y,cellSize:i,isFilling:t.rects&&pG(h,[...t.rects]),fill:t.rects&&dG(h,[...t.rects]),indexColor:t.rects&&t.isColoring?fG(h,[...t.rects]):void 0,handleFilling:t.isColoring?void 0:QG,handleColoring:t.isColoring?qG:void 0},h))})})})})},ZG=da.div`
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  display: flex;
  align-items: center;
  padding: 15px;
  background-color: #fff;
  border: 1px solid #b3b0b0;
  box-shadow: 0px -3px 0px 0px rgba(179, 176, 176, 0.5);

  & ul {
    display: flex;
    gap: 15px;
    margin: 0;
    padding: 0;
    font-size: 1em;
    list-style: none;
    overflow-x: auto;
  }
`;da.button`

`;const JG=t=>{cn.setSelectedColor(t)},eH=()=>{cn.clearColor()},qT=Ee.memo(t=>Le.jsx(ZG,{children:Le.jsxs("ul",{children:[Le.jsx(XS,{onClick:()=>eH()}),t.colors.map((e,r)=>Le.jsx("li",{children:Le.jsx(XS,{$color:e,onClick:()=>JG(e),children:r+1})},r+1))]})}));var _h=(t=>(t[t.NEW_EDIT=0]="NEW_EDIT",t[t.EDIT=1]="EDIT",t[t.COLORING=2]="COLORING",t))(_h||{});const ZT=["#FF0000","#00FF00","#0000FF"],tH=({state:t})=>{let e,r=Le.jsx(qT,{colors:ZT});switch(t){case _h.NEW_EDIT:qt.createCanvas(),e=Le.jsx(yy,{grid:100});break;case _h.EDIT:kS($3),e=Le.jsx(yy,{grid:qt.data.grid,rects:qt.data.rects});break;case _h.COLORING:kS(G3),e=Le.jsx(yy,{grid:qt.data.grid,rects:qt.data.rects,isColoring:qt.data.isColoring}),r=Le.jsx(qT,{colors:qt.data.pallete&&qt.data.pallete.length>0?qt.data.pallete:ZT});break}return Le.jsx(KF,{editor:e,pallete:r})},rH=HF`
  * {
    box-sizing: border-box;
  }

  body {
    position: relative;
    min-width: 375px;
    color: #333;
    font-family: 'pixel', sans-serif;
    font-size: 14px;
    line-height: 100%;
    background-color: #e5e5e5;
  }

  img {
    width: 100%;
  }

  a {
    text-decoration: none;
    color: inherit;
  }

  @media (min-width: 768px) {
    body {
      font-size: 16px;
    }
  }
`,nH=()=>Le.jsxs(Le.Fragment,{children:[Le.jsx(rH,{}),Le.jsx(tH,{state:_h.NEW_EDIT})]});if(!Ee.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!T3)throw new Error("mobx-react-lite@3 requires mobx at least version 6 to be available");function iH(t){t()}function sH(t){t||(t=iH),y3({reactionScheduler:t})}var oH=1e4,aH=1e4,lH=function(){function t(e){var r=this;Object.defineProperty(this,"finalize",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"registrations",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"sweepTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sweep",{enumerable:!0,configurable:!0,writable:!0,value:function(n){n===void 0&&(n=oH),clearTimeout(r.sweepTimeout),r.sweepTimeout=void 0;var i=Date.now();r.registrations.forEach(function(s,o){i-s.registeredAt>=n&&(r.finalize(s.value),r.registrations.delete(o))}),r.registrations.size>0&&r.scheduleSweep()}}),Object.defineProperty(this,"finalizeAllImmediately",{enumerable:!0,configurable:!0,writable:!0,value:function(){r.sweep(0)}})}return Object.defineProperty(t.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(e,r,n){this.registrations.set(n,{value:r,registeredAt:Date.now()}),this.scheduleSweep()}}),Object.defineProperty(t.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.registrations.delete(e)}}),Object.defineProperty(t.prototype,"scheduleSweep",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.sweepTimeout===void 0&&(this.sweepTimeout=setTimeout(this.sweep,aH))}}),t}(),uH=typeof FinalizationRegistry<"u"?FinalizationRegistry:lH,hH=new uH(function(t){var e;(e=t.reaction)===null||e===void 0||e.dispose(),t.reaction=null}),cH={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jl=Ee;function dH(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var fH=typeof Object.is=="function"?Object.is:dH,pH=jl.useState,mH=jl.useEffect,gH=jl.useLayoutEffect,vH=jl.useDebugValue;function yH(t,e){var r=e(),n=pH({inst:{value:r,getSnapshot:e}}),i=n[0].inst,s=n[1];return gH(function(){i.value=r,i.getSnapshot=e,_y(i)&&s({inst:i})},[t,r,e]),mH(function(){return _y(i)&&s({inst:i}),t(function(){_y(i)&&s({inst:i})})},[t]),vH(r),r}function _y(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!fH(t,r)}catch{return!0}}function _H(t,e){return e()}var xH=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?_H:yH;cH.useSyncExternalStore=jl.useSyncExternalStore!==void 0?jl.useSyncExternalStore:xH;var xy,wy,V2=typeof Symbol=="function"&&Symbol.for;wy=(xy=Object.getOwnPropertyDescriptor(function(){},"name"))===null||xy===void 0?void 0:xy.configurable;V2?Symbol.for("react.forward_ref"):typeof Ee.forwardRef=="function"&&Ee.forwardRef(function(t){return null}).$$typeof;V2?Symbol.for("react.memo"):typeof Ee.memo=="function"&&Ee.memo(function(t){return null}).$$typeof;var by;sH(EP.unstable_batchedUpdates);by=hH.finalizeAllImmediately;function z_(){return z_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},z_.apply(this,arguments)}function wH(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}var bH=["children"],JT=ht.createContext({});function X2(t){var e=t.children,r=wH(t,bH),n=ht.useContext(JT),i=ht.useRef(z_({},n,r)),s=i.current;return ht.createElement(JT.Provider,{value:s},e)}X2.displayName="MobXProvider";ht.version.split(".")[0];if(!Ee.Component)throw new Error("mobx-react requires React to be available");if(!At)throw new Error("mobx-react requires mobx to be available");const SH={colorStore:cn,coloringStore:qt};Sy.createRoot(document.getElementById("root")).render(Le.jsx(ht.StrictMode,{children:Le.jsx(X2,{...SH,children:Le.jsx(nH,{})})}))});export default EH();
