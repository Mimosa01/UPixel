var ik=Object.create;var iv=Object.defineProperty;var sk=Object.getOwnPropertyDescriptor;var Ew=(t,e)=>(e=Symbol[t])?e:Symbol.for("Symbol."+t),Ou=t=>{throw TypeError(t)};var Tw=(t,e,r)=>e in t?iv(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var bw=(t,e)=>iv(t,"name",{value:e,configurable:!0});var ok=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var ka=t=>[,,,ik((t==null?void 0:t[Ew("metadata")])??null)],Aw=["class","method","getter","setter","accessor","field","value","get","set"],Ru=t=>t!==void 0&&typeof t!="function"?Ou("Function expected"):t,ak=(t,e,r,n,i)=>({kind:Aw[t],name:e,metadata:n,addInitializer:s=>r._?Ou("Already initialized"):i.push(Ru(s||null))}),To=(t,e)=>Tw(e,Ew("metadata"),t[3]),ur=(t,e,r,n)=>{for(var i=0,s=t[e>>1],o=s&&s.length;i<o;i++)e&1?s[i].call(r):n=s[i].call(r,n);return n},nt=(t,e,r,n,i,s)=>{var o,a,c,h,f,p=e&7,m=!!(e&8),y=!!(e&16),_=p>3?t.length+1:p?m?1:2:0,S=Aw[p+5],A=p>3&&(t[_-1]=[]),E=t[_]||(t[_]=[]),w=p&&(!y&&!m&&(i=i.prototype),p<5&&(p>3||!y)&&sk(p<4?i:{get[r](){return ww(this,s)},set[r](T){return Sw(this,s,T)}},r));p?y&&p<4&&bw(s,(p>2?"set ":p>1?"get ":"")+r):bw(i,r);for(var x=n.length-1;x>=0;x--)h=ak(p,r,c={},t[3],E),p&&(h.static=m,h.private=y,f=h.access={has:y?T=>lk(i,T):T=>r in T},p^3&&(f.get=y?T=>(p^1?ww:uk)(T,i,p^4?s:w.get):T=>T[r]),p>2&&(f.set=y?(T,P)=>Sw(T,i,P,p^4?s:w.set):(T,P)=>T[r]=P)),a=(0,n[x])(p?p<4?y?s:w[S]:p>4?void 0:{get:w.get,set:w.set}:i,h),c._=1,p^4||a===void 0?Ru(a)&&(p>4?A.unshift(a):p?y?s=a:w[S]=a:i=a):typeof a!="object"||a===null?Ou("Object expected"):(Ru(o=a.get)&&(w.get=o),Ru(o=a.set)&&(w.set=o),Ru(o=a.init)&&A.unshift(o));return p||To(t,i),w&&iv(i,r,w),y?p^4?s:w:i},Ht=(t,e,r)=>Tw(t,typeof e!="symbol"?e+"":e,r),sv=(t,e,r)=>e.has(t)||Ou("Cannot "+r),lk=(t,e)=>Object(e)!==e?Ou('Cannot use the "in" operator on this value'):t.has(e),ww=(t,e,r)=>(sv(t,e,"read from private field"),r?r.call(t):e.get(t));var Sw=(t,e,r,n)=>(sv(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),uk=(t,e,r)=>(sv(t,e,"access private method"),r);var Gj=ok((Wj,Pm)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var lc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ah(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function YA(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var KA={exports:{}},Kp={},QA={exports:{}},Me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lh=Symbol.for("react.element"),ck=Symbol.for("react.portal"),hk=Symbol.for("react.fragment"),dk=Symbol.for("react.strict_mode"),fk=Symbol.for("react.profiler"),pk=Symbol.for("react.provider"),mk=Symbol.for("react.context"),gk=Symbol.for("react.forward_ref"),vk=Symbol.for("react.suspense"),yk=Symbol.for("react.memo"),_k=Symbol.for("react.lazy"),Cw=Symbol.iterator;function xk(t){return t===null||typeof t!="object"?null:(t=Cw&&t[Cw]||t["@@iterator"],typeof t=="function"?t:null)}var qA={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ZA=Object.assign,JA={};function ql(t,e,r){this.props=t,this.context=e,this.refs=JA,this.updater=r||qA}ql.prototype.isReactComponent={};ql.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ql.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function eC(){}eC.prototype=ql.prototype;function r1(t,e,r){this.props=t,this.context=e,this.refs=JA,this.updater=r||qA}var n1=r1.prototype=new eC;n1.constructor=r1;ZA(n1,ql.prototype);n1.isPureReactComponent=!0;var Pw=Array.isArray,tC=Object.prototype.hasOwnProperty,i1={current:null},rC={key:!0,ref:!0,__self:!0,__source:!0};function nC(t,e,r){var n,i={},s=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)tC.call(e,n)&&!rC.hasOwnProperty(n)&&(i[n]=e[n]);var a=arguments.length-2;if(a===1)i.children=r;else if(1<a){for(var c=Array(a),h=0;h<a;h++)c[h]=arguments[h+2];i.children=c}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:lh,type:t,key:s,ref:o,props:i,_owner:i1.current}}function bk(t,e){return{$$typeof:lh,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function s1(t){return typeof t=="object"&&t!==null&&t.$$typeof===lh}function wk(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Iw=/\/+/g;function ov(t,e){return typeof t=="object"&&t!==null&&t.key!=null?wk(""+t.key):e.toString(36)}function ff(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case lh:case ck:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+ov(o,0):n,Pw(i)?(r="",t!=null&&(r=t.replace(Iw,"$&/")+"/"),ff(i,e,r,"",function(h){return h})):i!=null&&(s1(i)&&(i=bk(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Iw,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",Pw(t))for(var a=0;a<t.length;a++){s=t[a];var c=n+ov(s,a);o+=ff(s,e,r,c,i)}else if(c=xk(t),typeof c=="function")for(t=c.call(t),a=0;!(s=t.next()).done;)s=s.value,c=n+ov(s,a++),o+=ff(s,e,r,c,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function pd(t,e,r){if(t==null)return t;var n=[],i=0;return ff(t,n,"","",function(s){return e.call(r,s,i++)}),n}function Sk(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Sr={current:null},pf={transition:null},Ek={ReactCurrentDispatcher:Sr,ReactCurrentBatchConfig:pf,ReactCurrentOwner:i1};function iC(){throw Error("act(...) is not supported in production builds of React.")}Me.Children={map:pd,forEach:function(t,e,r){pd(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return pd(t,function(){e++}),e},toArray:function(t){return pd(t,function(e){return e})||[]},only:function(t){if(!s1(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Me.Component=ql;Me.Fragment=hk;Me.Profiler=fk;Me.PureComponent=r1;Me.StrictMode=dk;Me.Suspense=vk;Me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ek;Me.act=iC;Me.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=ZA({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=i1.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(c in e)tC.call(e,c)&&!rC.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){a=Array(c);for(var h=0;h<c;h++)a[h]=arguments[h+2];n.children=a}return{$$typeof:lh,type:t.type,key:i,ref:s,props:n,_owner:o}};Me.createContext=function(t){return t={$$typeof:mk,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:pk,_context:t},t.Consumer=t};Me.createElement=nC;Me.createFactory=function(t){var e=nC.bind(null,t);return e.type=t,e};Me.createRef=function(){return{current:null}};Me.forwardRef=function(t){return{$$typeof:gk,render:t}};Me.isValidElement=s1;Me.lazy=function(t){return{$$typeof:_k,_payload:{_status:-1,_result:t},_init:Sk}};Me.memo=function(t,e){return{$$typeof:yk,type:t,compare:e===void 0?null:e}};Me.startTransition=function(t){var e=pf.transition;pf.transition={};try{t()}finally{pf.transition=e}};Me.unstable_act=iC;Me.useCallback=function(t,e){return Sr.current.useCallback(t,e)};Me.useContext=function(t){return Sr.current.useContext(t)};Me.useDebugValue=function(){};Me.useDeferredValue=function(t){return Sr.current.useDeferredValue(t)};Me.useEffect=function(t,e){return Sr.current.useEffect(t,e)};Me.useId=function(){return Sr.current.useId()};Me.useImperativeHandle=function(t,e,r){return Sr.current.useImperativeHandle(t,e,r)};Me.useInsertionEffect=function(t,e){return Sr.current.useInsertionEffect(t,e)};Me.useLayoutEffect=function(t,e){return Sr.current.useLayoutEffect(t,e)};Me.useMemo=function(t,e){return Sr.current.useMemo(t,e)};Me.useReducer=function(t,e,r){return Sr.current.useReducer(t,e,r)};Me.useRef=function(t){return Sr.current.useRef(t)};Me.useState=function(t){return Sr.current.useState(t)};Me.useSyncExternalStore=function(t,e,r){return Sr.current.useSyncExternalStore(t,e,r)};Me.useTransition=function(){return Sr.current.useTransition()};Me.version="18.3.1";QA.exports=Me;var xe=QA.exports;const et=ah(xe);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tk=xe,Ak=Symbol.for("react.element"),Ck=Symbol.for("react.fragment"),Pk=Object.prototype.hasOwnProperty,Ik=Tk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Rk={key:!0,ref:!0,__self:!0,__source:!0};function sC(t,e,r){var n,i={},s=null,o=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)Pk.call(e,n)&&!Rk.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:Ak,type:t,key:s,ref:o,props:i,_owner:Ik.current}}Kp.Fragment=Ck;Kp.jsx=sC;Kp.jsxs=sC;KA.exports=Kp;var Ue=KA.exports,By={},oC={exports:{}},Qr={},aC={exports:{}},lC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,$){var N=O.length;O.push($);e:for(;0<N;){var U=N-1>>>1,Z=O[U];if(0<i(Z,$))O[U]=$,O[N]=Z,N=U;else break e}}function r(O){return O.length===0?null:O[0]}function n(O){if(O.length===0)return null;var $=O[0],N=O.pop();if(N!==$){O[0]=N;e:for(var U=0,Z=O.length,Ee=Z>>>1;U<Ee;){var be=2*(U+1)-1,Fe=O[be],Se=be+1,ke=O[Se];if(0>i(Fe,N))Se<Z&&0>i(ke,Fe)?(O[U]=ke,O[Se]=N,U=Se):(O[U]=Fe,O[be]=N,U=be);else if(Se<Z&&0>i(ke,N))O[U]=ke,O[Se]=N,U=Se;else break e}}return $}function i(O,$){var N=O.sortIndex-$.sortIndex;return N!==0?N:O.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var c=[],h=[],f=1,p=null,m=3,y=!1,_=!1,S=!1,A=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(O){for(var $=r(h);$!==null;){if($.callback===null)n(h);else if($.startTime<=O)n(h),$.sortIndex=$.expirationTime,e(c,$);else break;$=r(h)}}function T(O){if(S=!1,x(O),!_)if(r(c)!==null)_=!0,me(P);else{var $=r(h);$!==null&&ae(T,$.startTime-O)}}function P(O,$){_=!1,S&&(S=!1,E(D),D=-1),y=!0;var N=m;try{for(x($),p=r(c);p!==null&&(!(p.expirationTime>$)||O&&!pe());){var U=p.callback;if(typeof U=="function"){p.callback=null,m=p.priorityLevel;var Z=U(p.expirationTime<=$);$=t.unstable_now(),typeof Z=="function"?p.callback=Z:p===r(c)&&n(c),x($)}else n(c);p=r(c)}if(p!==null)var Ee=!0;else{var be=r(h);be!==null&&ae(T,be.startTime-$),Ee=!1}return Ee}finally{p=null,m=N,y=!1}}var M=!1,R=null,D=-1,V=5,W=-1;function pe(){return!(t.unstable_now()-W<V)}function J(){if(R!==null){var O=t.unstable_now();W=O;var $=!0;try{$=R(!0,O)}finally{$?B():(M=!1,R=null)}}else M=!1}var B;if(typeof w=="function")B=function(){w(J)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,ie=X.port2;X.port1.onmessage=J,B=function(){ie.postMessage(null)}}else B=function(){A(J,0)};function me(O){R=O,M||(M=!0,B())}function ae(O,$){D=A(function(){O(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){_||y||(_=!0,me(P))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(O){switch(m){case 1:case 2:case 3:var $=3;break;default:$=m}var N=m;m=$;try{return O()}finally{m=N}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,$){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var N=m;m=O;try{return $()}finally{m=N}},t.unstable_scheduleCallback=function(O,$,N){var U=t.unstable_now();switch(typeof N=="object"&&N!==null?(N=N.delay,N=typeof N=="number"&&0<N?U+N:U):N=U,O){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=N+Z,O={id:f++,callback:$,priorityLevel:O,startTime:N,expirationTime:Z,sortIndex:-1},N>U?(O.sortIndex=N,e(h,O),r(c)===null&&O===r(h)&&(S?(E(D),D=-1):S=!0,ae(T,N-U))):(O.sortIndex=Z,e(c,O),_||y||(_=!0,me(P))),O},t.unstable_shouldYield=pe,t.unstable_wrapCallback=function(O){var $=m;return function(){var N=m;m=$;try{return O.apply(this,arguments)}finally{m=N}}}})(lC);aC.exports=lC;var Ok=aC.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mk=xe,Kr=Ok;function K(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var uC=new Set,Cc={};function ua(t,e){Ml(t,e),Ml(t+"Capture",e)}function Ml(t,e){for(Cc[t]=e,t=0;t<e.length;t++)uC.add(e[t])}var as=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ly=Object.prototype.hasOwnProperty,kk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Rw={},Ow={};function Dk(t){return Ly.call(Ow,t)?!0:Ly.call(Rw,t)?!1:kk.test(t)?Ow[t]=!0:(Rw[t]=!0,!1)}function Nk(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Fk(t,e,r,n){if(e===null||typeof e>"u"||Nk(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Er(t,e,r,n,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var ir={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ir[t]=new Er(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ir[e]=new Er(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ir[t]=new Er(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ir[t]=new Er(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ir[t]=new Er(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ir[t]=new Er(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ir[t]=new Er(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ir[t]=new Er(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ir[t]=new Er(t,5,!1,t.toLowerCase(),null,!1,!1)});var o1=/[\-:]([a-z])/g;function a1(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(o1,a1);ir[e]=new Er(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(o1,a1);ir[e]=new Er(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(o1,a1);ir[e]=new Er(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ir[t]=new Er(t,1,!1,t.toLowerCase(),null,!1,!1)});ir.xlinkHref=new Er("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ir[t]=new Er(t,1,!1,t.toLowerCase(),null,!0,!0)});function l1(t,e,r,n){var i=ir.hasOwnProperty(e)?ir[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Fk(e,r,i,n)&&(r=null),n||i===null?Dk(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var gs=Mk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,md=Symbol.for("react.element"),el=Symbol.for("react.portal"),tl=Symbol.for("react.fragment"),u1=Symbol.for("react.strict_mode"),Uy=Symbol.for("react.profiler"),cC=Symbol.for("react.provider"),hC=Symbol.for("react.context"),c1=Symbol.for("react.forward_ref"),zy=Symbol.for("react.suspense"),$y=Symbol.for("react.suspense_list"),h1=Symbol.for("react.memo"),ks=Symbol.for("react.lazy"),dC=Symbol.for("react.offscreen"),Mw=Symbol.iterator;function Mu(t){return t===null||typeof t!="object"?null:(t=Mw&&t[Mw]||t["@@iterator"],typeof t=="function"?t:null)}var wt=Object.assign,av;function Xu(t){if(av===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);av=e&&e[1]||""}return`
`+av+t}var lv=!1;function uv(t,e){if(!t||lv)return"";lv=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var n=h}Reflect.construct(t,[],e)}else{try{e.call()}catch(h){n=h}t.call(e.prototype)}else{try{throw Error()}catch(h){n=h}t()}}catch(h){if(h&&n&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),s=n.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var c=`
`+i[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=a);break}}}finally{lv=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Xu(t):""}function Bk(t){switch(t.tag){case 5:return Xu(t.type);case 16:return Xu("Lazy");case 13:return Xu("Suspense");case 19:return Xu("SuspenseList");case 0:case 2:case 15:return t=uv(t.type,!1),t;case 11:return t=uv(t.type.render,!1),t;case 1:return t=uv(t.type,!0),t;default:return""}}function Gy(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case tl:return"Fragment";case el:return"Portal";case Uy:return"Profiler";case u1:return"StrictMode";case zy:return"Suspense";case $y:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case hC:return(t.displayName||"Context")+".Consumer";case cC:return(t._context.displayName||"Context")+".Provider";case c1:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case h1:return e=t.displayName||null,e!==null?e:Gy(t.type)||"Memo";case ks:e=t._payload,t=t._init;try{return Gy(t(e))}catch{}}return null}function Lk(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Gy(e);case 8:return e===u1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ro(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function fC(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Uk(t){var e=fC(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function gd(t){t._valueTracker||(t._valueTracker=Uk(t))}function pC(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=fC(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Hf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function jy(t,e){var r=e.checked;return wt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function kw(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=ro(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function mC(t,e){e=e.checked,e!=null&&l1(t,"checked",e,!1)}function Hy(t,e){mC(t,e);var r=ro(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Vy(t,e.type,r):e.hasOwnProperty("defaultValue")&&Vy(t,e.type,ro(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Dw(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Vy(t,e,r){(e!=="number"||Hf(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Yu=Array.isArray;function yl(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+ro(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Wy(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(K(91));return wt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Nw(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(K(92));if(Yu(r)){if(1<r.length)throw Error(K(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:ro(r)}}function gC(t,e){var r=ro(e.value),n=ro(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Fw(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function vC(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xy(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?vC(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var vd,yC=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(vd=vd||document.createElement("div"),vd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=vd.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Pc(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var uc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zk=["Webkit","ms","Moz","O"];Object.keys(uc).forEach(function(t){zk.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),uc[e]=uc[t]})});function _C(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||uc.hasOwnProperty(t)&&uc[t]?(""+e).trim():e+"px"}function xC(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=_C(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var $k=wt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Yy(t,e){if(e){if($k[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(K(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(K(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(K(61))}if(e.style!=null&&typeof e.style!="object")throw Error(K(62))}}function Ky(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qy=null;function d1(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var qy=null,_l=null,xl=null;function Bw(t){if(t=hh(t)){if(typeof qy!="function")throw Error(K(280));var e=t.stateNode;e&&(e=em(e),qy(t.stateNode,t.type,e))}}function bC(t){_l?xl?xl.push(t):xl=[t]:_l=t}function wC(){if(_l){var t=_l,e=xl;if(xl=_l=null,Bw(t),e)for(t=0;t<e.length;t++)Bw(e[t])}}function SC(t,e){return t(e)}function EC(){}var cv=!1;function TC(t,e,r){if(cv)return t(e,r);cv=!0;try{return SC(t,e,r)}finally{cv=!1,(_l!==null||xl!==null)&&(EC(),wC())}}function Ic(t,e){var r=t.stateNode;if(r===null)return null;var n=em(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(K(231,e,typeof r));return r}var Zy=!1;if(as)try{var ku={};Object.defineProperty(ku,"passive",{get:function(){Zy=!0}}),window.addEventListener("test",ku,ku),window.removeEventListener("test",ku,ku)}catch{Zy=!1}function Gk(t,e,r,n,i,s,o,a,c){var h=Array.prototype.slice.call(arguments,3);try{e.apply(r,h)}catch(f){this.onError(f)}}var cc=!1,Vf=null,Wf=!1,Jy=null,jk={onError:function(t){cc=!0,Vf=t}};function Hk(t,e,r,n,i,s,o,a,c){cc=!1,Vf=null,Gk.apply(jk,arguments)}function Vk(t,e,r,n,i,s,o,a,c){if(Hk.apply(this,arguments),cc){if(cc){var h=Vf;cc=!1,Vf=null}else throw Error(K(198));Wf||(Wf=!0,Jy=h)}}function ca(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function AC(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Lw(t){if(ca(t)!==t)throw Error(K(188))}function Wk(t){var e=t.alternate;if(!e){if(e=ca(t),e===null)throw Error(K(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return Lw(i),t;if(s===n)return Lw(i),e;s=s.sibling}throw Error(K(188))}if(r.return!==n.return)r=i,n=s;else{for(var o=!1,a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o)throw Error(K(189))}}if(r.alternate!==n)throw Error(K(190))}if(r.tag!==3)throw Error(K(188));return r.stateNode.current===r?t:e}function CC(t){return t=Wk(t),t!==null?PC(t):null}function PC(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=PC(t);if(e!==null)return e;t=t.sibling}return null}var IC=Kr.unstable_scheduleCallback,Uw=Kr.unstable_cancelCallback,Xk=Kr.unstable_shouldYield,Yk=Kr.unstable_requestPaint,Rt=Kr.unstable_now,Kk=Kr.unstable_getCurrentPriorityLevel,f1=Kr.unstable_ImmediatePriority,RC=Kr.unstable_UserBlockingPriority,Xf=Kr.unstable_NormalPriority,Qk=Kr.unstable_LowPriority,OC=Kr.unstable_IdlePriority,Qp=null,Ai=null;function qk(t){if(Ai&&typeof Ai.onCommitFiberRoot=="function")try{Ai.onCommitFiberRoot(Qp,t,void 0,(t.current.flags&128)===128)}catch{}}var $n=Math.clz32?Math.clz32:eD,Zk=Math.log,Jk=Math.LN2;function eD(t){return t>>>=0,t===0?32:31-(Zk(t)/Jk|0)|0}var yd=64,_d=4194304;function Ku(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Yf(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,o=r&268435455;if(o!==0){var a=o&~i;a!==0?n=Ku(a):(s&=o,s!==0&&(n=Ku(s)))}else o=r&~i,o!==0?n=Ku(o):s!==0&&(n=Ku(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-$n(e),i=1<<r,n|=t[r],e&=~i;return n}function tD(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rD(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-$n(s),a=1<<o,c=i[o];c===-1?(!(a&r)||a&n)&&(i[o]=tD(a,e)):c<=e&&(t.expiredLanes|=a),s&=~a}}function e0(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function MC(){var t=yd;return yd<<=1,!(yd&4194240)&&(yd=64),t}function hv(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function uh(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-$n(e),t[e]=r}function nD(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-$n(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function p1(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-$n(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var Ke=0;function kC(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var DC,m1,NC,FC,BC,t0=!1,xd=[],Ws=null,Xs=null,Ys=null,Rc=new Map,Oc=new Map,Bs=[],iD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function zw(t,e){switch(t){case"focusin":case"focusout":Ws=null;break;case"dragenter":case"dragleave":Xs=null;break;case"mouseover":case"mouseout":Ys=null;break;case"pointerover":case"pointerout":Rc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Oc.delete(e.pointerId)}}function Du(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=hh(e),e!==null&&m1(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function sD(t,e,r,n,i){switch(e){case"focusin":return Ws=Du(Ws,t,e,r,n,i),!0;case"dragenter":return Xs=Du(Xs,t,e,r,n,i),!0;case"mouseover":return Ys=Du(Ys,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return Rc.set(s,Du(Rc.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,Oc.set(s,Du(Oc.get(s)||null,t,e,r,n,i)),!0}return!1}function LC(t){var e=Uo(t.target);if(e!==null){var r=ca(e);if(r!==null){if(e=r.tag,e===13){if(e=AC(r),e!==null){t.blockedOn=e,BC(t.priority,function(){NC(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function mf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=r0(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Qy=n,r.target.dispatchEvent(n),Qy=null}else return e=hh(r),e!==null&&m1(e),t.blockedOn=r,!1;e.shift()}return!0}function $w(t,e,r){mf(t)&&r.delete(e)}function oD(){t0=!1,Ws!==null&&mf(Ws)&&(Ws=null),Xs!==null&&mf(Xs)&&(Xs=null),Ys!==null&&mf(Ys)&&(Ys=null),Rc.forEach($w),Oc.forEach($w)}function Nu(t,e){t.blockedOn===e&&(t.blockedOn=null,t0||(t0=!0,Kr.unstable_scheduleCallback(Kr.unstable_NormalPriority,oD)))}function Mc(t){function e(i){return Nu(i,t)}if(0<xd.length){Nu(xd[0],t);for(var r=1;r<xd.length;r++){var n=xd[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Ws!==null&&Nu(Ws,t),Xs!==null&&Nu(Xs,t),Ys!==null&&Nu(Ys,t),Rc.forEach(e),Oc.forEach(e),r=0;r<Bs.length;r++)n=Bs[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Bs.length&&(r=Bs[0],r.blockedOn===null);)LC(r),r.blockedOn===null&&Bs.shift()}var bl=gs.ReactCurrentBatchConfig,Kf=!0;function aD(t,e,r,n){var i=Ke,s=bl.transition;bl.transition=null;try{Ke=1,g1(t,e,r,n)}finally{Ke=i,bl.transition=s}}function lD(t,e,r,n){var i=Ke,s=bl.transition;bl.transition=null;try{Ke=4,g1(t,e,r,n)}finally{Ke=i,bl.transition=s}}function g1(t,e,r,n){if(Kf){var i=r0(t,e,r,n);if(i===null)bv(t,e,n,Qf,r),zw(t,n);else if(sD(i,t,e,r,n))n.stopPropagation();else if(zw(t,n),e&4&&-1<iD.indexOf(t)){for(;i!==null;){var s=hh(i);if(s!==null&&DC(s),s=r0(t,e,r,n),s===null&&bv(t,e,n,Qf,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else bv(t,e,n,null,r)}}var Qf=null;function r0(t,e,r,n){if(Qf=null,t=d1(n),t=Uo(t),t!==null)if(e=ca(t),e===null)t=null;else if(r=e.tag,r===13){if(t=AC(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Qf=t,null}function UC(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Kk()){case f1:return 1;case RC:return 4;case Xf:case Qk:return 16;case OC:return 536870912;default:return 16}default:return 16}}var zs=null,v1=null,gf=null;function zC(){if(gf)return gf;var t,e=v1,r=e.length,n,i="value"in zs?zs.value:zs.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[s-n];n++);return gf=i.slice(t,1<n?1-n:void 0)}function vf(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function bd(){return!0}function Gw(){return!1}function qr(t){function e(r,n,i,s,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?bd:Gw,this.isPropagationStopped=Gw,this}return wt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=bd)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=bd)},persist:function(){},isPersistent:bd}),e}var Zl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},y1=qr(Zl),ch=wt({},Zl,{view:0,detail:0}),uD=qr(ch),dv,fv,Fu,qp=wt({},ch,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_1,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Fu&&(Fu&&t.type==="mousemove"?(dv=t.screenX-Fu.screenX,fv=t.screenY-Fu.screenY):fv=dv=0,Fu=t),dv)},movementY:function(t){return"movementY"in t?t.movementY:fv}}),jw=qr(qp),cD=wt({},qp,{dataTransfer:0}),hD=qr(cD),dD=wt({},ch,{relatedTarget:0}),pv=qr(dD),fD=wt({},Zl,{animationName:0,elapsedTime:0,pseudoElement:0}),pD=qr(fD),mD=wt({},Zl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),gD=qr(mD),vD=wt({},Zl,{data:0}),Hw=qr(vD),yD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_D={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bD(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=xD[t])?!!e[t]:!1}function _1(){return bD}var wD=wt({},ch,{key:function(t){if(t.key){var e=yD[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=vf(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?_D[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_1,charCode:function(t){return t.type==="keypress"?vf(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?vf(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),SD=qr(wD),ED=wt({},qp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vw=qr(ED),TD=wt({},ch,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_1}),AD=qr(TD),CD=wt({},Zl,{propertyName:0,elapsedTime:0,pseudoElement:0}),PD=qr(CD),ID=wt({},qp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),RD=qr(ID),OD=[9,13,27,32],x1=as&&"CompositionEvent"in window,hc=null;as&&"documentMode"in document&&(hc=document.documentMode);var MD=as&&"TextEvent"in window&&!hc,$C=as&&(!x1||hc&&8<hc&&11>=hc),Ww=" ",Xw=!1;function GC(t,e){switch(t){case"keyup":return OD.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jC(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var rl=!1;function kD(t,e){switch(t){case"compositionend":return jC(e);case"keypress":return e.which!==32?null:(Xw=!0,Ww);case"textInput":return t=e.data,t===Ww&&Xw?null:t;default:return null}}function DD(t,e){if(rl)return t==="compositionend"||!x1&&GC(t,e)?(t=zC(),gf=v1=zs=null,rl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return $C&&e.locale!=="ko"?null:e.data;default:return null}}var ND={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!ND[t.type]:e==="textarea"}function HC(t,e,r,n){bC(n),e=qf(e,"onChange"),0<e.length&&(r=new y1("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var dc=null,kc=null;function FD(t){tP(t,0)}function Zp(t){var e=sl(t);if(pC(e))return t}function BD(t,e){if(t==="change")return e}var VC=!1;if(as){var mv;if(as){var gv="oninput"in document;if(!gv){var Kw=document.createElement("div");Kw.setAttribute("oninput","return;"),gv=typeof Kw.oninput=="function"}mv=gv}else mv=!1;VC=mv&&(!document.documentMode||9<document.documentMode)}function Qw(){dc&&(dc.detachEvent("onpropertychange",WC),kc=dc=null)}function WC(t){if(t.propertyName==="value"&&Zp(kc)){var e=[];HC(e,kc,t,d1(t)),TC(FD,e)}}function LD(t,e,r){t==="focusin"?(Qw(),dc=e,kc=r,dc.attachEvent("onpropertychange",WC)):t==="focusout"&&Qw()}function UD(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Zp(kc)}function zD(t,e){if(t==="click")return Zp(e)}function $D(t,e){if(t==="input"||t==="change")return Zp(e)}function GD(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Yn=typeof Object.is=="function"?Object.is:GD;function Dc(t,e){if(Yn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Ly.call(e,i)||!Yn(t[i],e[i]))return!1}return!0}function qw(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Zw(t,e){var r=qw(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=qw(r)}}function XC(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?XC(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function YC(){for(var t=window,e=Hf();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Hf(t.document)}return e}function b1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function jD(t){var e=YC(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&XC(r.ownerDocument.documentElement,r)){if(n!==null&&b1(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=Zw(r,s);var o=Zw(r,n);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var HD=as&&"documentMode"in document&&11>=document.documentMode,nl=null,n0=null,fc=null,i0=!1;function Jw(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;i0||nl==null||nl!==Hf(n)||(n=nl,"selectionStart"in n&&b1(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),fc&&Dc(fc,n)||(fc=n,n=qf(n0,"onSelect"),0<n.length&&(e=new y1("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=nl)))}function wd(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var il={animationend:wd("Animation","AnimationEnd"),animationiteration:wd("Animation","AnimationIteration"),animationstart:wd("Animation","AnimationStart"),transitionend:wd("Transition","TransitionEnd")},vv={},KC={};as&&(KC=document.createElement("div").style,"AnimationEvent"in window||(delete il.animationend.animation,delete il.animationiteration.animation,delete il.animationstart.animation),"TransitionEvent"in window||delete il.transitionend.transition);function Jp(t){if(vv[t])return vv[t];if(!il[t])return t;var e=il[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in KC)return vv[t]=e[r];return t}var QC=Jp("animationend"),qC=Jp("animationiteration"),ZC=Jp("animationstart"),JC=Jp("transitionend"),eP=new Map,eS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function oo(t,e){eP.set(t,e),ua(e,[t])}for(var yv=0;yv<eS.length;yv++){var _v=eS[yv],VD=_v.toLowerCase(),WD=_v[0].toUpperCase()+_v.slice(1);oo(VD,"on"+WD)}oo(QC,"onAnimationEnd");oo(qC,"onAnimationIteration");oo(ZC,"onAnimationStart");oo("dblclick","onDoubleClick");oo("focusin","onFocus");oo("focusout","onBlur");oo(JC,"onTransitionEnd");Ml("onMouseEnter",["mouseout","mouseover"]);Ml("onMouseLeave",["mouseout","mouseover"]);Ml("onPointerEnter",["pointerout","pointerover"]);Ml("onPointerLeave",["pointerout","pointerover"]);ua("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ua("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ua("onBeforeInput",["compositionend","keypress","textInput","paste"]);ua("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ua("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ua("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),XD=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qu));function tS(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,Vk(n,e,void 0,t),t.currentTarget=null}function tP(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var o=n.length-1;0<=o;o--){var a=n[o],c=a.instance,h=a.currentTarget;if(a=a.listener,c!==s&&i.isPropagationStopped())break e;tS(i,a,h),s=c}else for(o=0;o<n.length;o++){if(a=n[o],c=a.instance,h=a.currentTarget,a=a.listener,c!==s&&i.isPropagationStopped())break e;tS(i,a,h),s=c}}}if(Wf)throw t=Jy,Wf=!1,Jy=null,t}function it(t,e){var r=e[u0];r===void 0&&(r=e[u0]=new Set);var n=t+"__bubble";r.has(n)||(rP(e,t,2,!1),r.add(n))}function xv(t,e,r){var n=0;e&&(n|=4),rP(r,t,n,e)}var Sd="_reactListening"+Math.random().toString(36).slice(2);function Nc(t){if(!t[Sd]){t[Sd]=!0,uC.forEach(function(r){r!=="selectionchange"&&(XD.has(r)||xv(r,!1,t),xv(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Sd]||(e[Sd]=!0,xv("selectionchange",!1,e))}}function rP(t,e,r,n){switch(UC(e)){case 1:var i=aD;break;case 4:i=lD;break;default:i=g1}r=i.bind(null,e,r,t),i=void 0,!Zy||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function bv(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Uo(a),o===null)return;if(c=o.tag,c===5||c===6){n=s=o;continue e}a=a.parentNode}}n=n.return}TC(function(){var h=s,f=d1(r),p=[];e:{var m=eP.get(t);if(m!==void 0){var y=y1,_=t;switch(t){case"keypress":if(vf(r)===0)break e;case"keydown":case"keyup":y=SD;break;case"focusin":_="focus",y=pv;break;case"focusout":_="blur",y=pv;break;case"beforeblur":case"afterblur":y=pv;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=jw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=hD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=AD;break;case QC:case qC:case ZC:y=pD;break;case JC:y=PD;break;case"scroll":y=uD;break;case"wheel":y=RD;break;case"copy":case"cut":case"paste":y=gD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Vw}var S=(e&4)!==0,A=!S&&t==="scroll",E=S?m!==null?m+"Capture":null:m;S=[];for(var w=h,x;w!==null;){x=w;var T=x.stateNode;if(x.tag===5&&T!==null&&(x=T,E!==null&&(T=Ic(w,E),T!=null&&S.push(Fc(w,T,x)))),A)break;w=w.return}0<S.length&&(m=new y(m,_,null,r,f),p.push({event:m,listeners:S}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",m&&r!==Qy&&(_=r.relatedTarget||r.fromElement)&&(Uo(_)||_[ls]))break e;if((y||m)&&(m=f.window===f?f:(m=f.ownerDocument)?m.defaultView||m.parentWindow:window,y?(_=r.relatedTarget||r.toElement,y=h,_=_?Uo(_):null,_!==null&&(A=ca(_),_!==A||_.tag!==5&&_.tag!==6)&&(_=null)):(y=null,_=h),y!==_)){if(S=jw,T="onMouseLeave",E="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(S=Vw,T="onPointerLeave",E="onPointerEnter",w="pointer"),A=y==null?m:sl(y),x=_==null?m:sl(_),m=new S(T,w+"leave",y,r,f),m.target=A,m.relatedTarget=x,T=null,Uo(f)===h&&(S=new S(E,w+"enter",_,r,f),S.target=x,S.relatedTarget=A,T=S),A=T,y&&_)t:{for(S=y,E=_,w=0,x=S;x;x=Da(x))w++;for(x=0,T=E;T;T=Da(T))x++;for(;0<w-x;)S=Da(S),w--;for(;0<x-w;)E=Da(E),x--;for(;w--;){if(S===E||E!==null&&S===E.alternate)break t;S=Da(S),E=Da(E)}S=null}else S=null;y!==null&&rS(p,m,y,S,!1),_!==null&&A!==null&&rS(p,A,_,S,!0)}}e:{if(m=h?sl(h):window,y=m.nodeName&&m.nodeName.toLowerCase(),y==="select"||y==="input"&&m.type==="file")var P=BD;else if(Yw(m))if(VC)P=$D;else{P=UD;var M=LD}else(y=m.nodeName)&&y.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(P=zD);if(P&&(P=P(t,h))){HC(p,P,r,f);break e}M&&M(t,m,h),t==="focusout"&&(M=m._wrapperState)&&M.controlled&&m.type==="number"&&Vy(m,"number",m.value)}switch(M=h?sl(h):window,t){case"focusin":(Yw(M)||M.contentEditable==="true")&&(nl=M,n0=h,fc=null);break;case"focusout":fc=n0=nl=null;break;case"mousedown":i0=!0;break;case"contextmenu":case"mouseup":case"dragend":i0=!1,Jw(p,r,f);break;case"selectionchange":if(HD)break;case"keydown":case"keyup":Jw(p,r,f)}var R;if(x1)e:{switch(t){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else rl?GC(t,r)&&(D="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(D="onCompositionStart");D&&($C&&r.locale!=="ko"&&(rl||D!=="onCompositionStart"?D==="onCompositionEnd"&&rl&&(R=zC()):(zs=f,v1="value"in zs?zs.value:zs.textContent,rl=!0)),M=qf(h,D),0<M.length&&(D=new Hw(D,t,null,r,f),p.push({event:D,listeners:M}),R?D.data=R:(R=jC(r),R!==null&&(D.data=R)))),(R=MD?kD(t,r):DD(t,r))&&(h=qf(h,"onBeforeInput"),0<h.length&&(f=new Hw("onBeforeInput","beforeinput",null,r,f),p.push({event:f,listeners:h}),f.data=R))}tP(p,e)})}function Fc(t,e,r){return{instance:t,listener:e,currentTarget:r}}function qf(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Ic(t,r),s!=null&&n.unshift(Fc(t,s,i)),s=Ic(t,e),s!=null&&n.push(Fc(t,s,i))),t=t.return}return n}function Da(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function rS(t,e,r,n,i){for(var s=e._reactName,o=[];r!==null&&r!==n;){var a=r,c=a.alternate,h=a.stateNode;if(c!==null&&c===n)break;a.tag===5&&h!==null&&(a=h,i?(c=Ic(r,s),c!=null&&o.unshift(Fc(r,c,a))):i||(c=Ic(r,s),c!=null&&o.push(Fc(r,c,a)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var YD=/\r\n?/g,KD=/\u0000|\uFFFD/g;function nS(t){return(typeof t=="string"?t:""+t).replace(YD,`
`).replace(KD,"")}function Ed(t,e,r){if(e=nS(e),nS(t)!==e&&r)throw Error(K(425))}function Zf(){}var s0=null,o0=null;function a0(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var l0=typeof setTimeout=="function"?setTimeout:void 0,QD=typeof clearTimeout=="function"?clearTimeout:void 0,iS=typeof Promise=="function"?Promise:void 0,qD=typeof queueMicrotask=="function"?queueMicrotask:typeof iS<"u"?function(t){return iS.resolve(null).then(t).catch(ZD)}:l0;function ZD(t){setTimeout(function(){throw t})}function wv(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),Mc(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Mc(e)}function Ks(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function sS(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Jl=Math.random().toString(36).slice(2),Si="__reactFiber$"+Jl,Bc="__reactProps$"+Jl,ls="__reactContainer$"+Jl,u0="__reactEvents$"+Jl,JD="__reactListeners$"+Jl,eN="__reactHandles$"+Jl;function Uo(t){var e=t[Si];if(e)return e;for(var r=t.parentNode;r;){if(e=r[ls]||r[Si]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=sS(t);t!==null;){if(r=t[Si])return r;t=sS(t)}return e}t=r,r=t.parentNode}return null}function hh(t){return t=t[Si]||t[ls],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function sl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(K(33))}function em(t){return t[Bc]||null}var c0=[],ol=-1;function ao(t){return{current:t}}function lt(t){0>ol||(t.current=c0[ol],c0[ol]=null,ol--)}function Ze(t,e){ol++,c0[ol]=t.current,t.current=e}var no={},pr=ao(no),Mr=ao(!1),Zo=no;function kl(t,e){var r=t.type.contextTypes;if(!r)return no;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function kr(t){return t=t.childContextTypes,t!=null}function Jf(){lt(Mr),lt(pr)}function oS(t,e,r){if(pr.current!==no)throw Error(K(168));Ze(pr,e),Ze(Mr,r)}function nP(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(K(108,Lk(t)||"Unknown",i));return wt({},r,n)}function ep(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||no,Zo=pr.current,Ze(pr,t),Ze(Mr,Mr.current),!0}function aS(t,e,r){var n=t.stateNode;if(!n)throw Error(K(169));r?(t=nP(t,e,Zo),n.__reactInternalMemoizedMergedChildContext=t,lt(Mr),lt(pr),Ze(pr,t)):lt(Mr),Ze(Mr,r)}var Yi=null,tm=!1,Sv=!1;function iP(t){Yi===null?Yi=[t]:Yi.push(t)}function tN(t){tm=!0,iP(t)}function lo(){if(!Sv&&Yi!==null){Sv=!0;var t=0,e=Ke;try{var r=Yi;for(Ke=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Yi=null,tm=!1}catch(i){throw Yi!==null&&(Yi=Yi.slice(t+1)),IC(f1,lo),i}finally{Ke=e,Sv=!1}}return null}var al=[],ll=0,tp=null,rp=0,hn=[],dn=0,Jo=null,qi=1,Zi="";function Io(t,e){al[ll++]=rp,al[ll++]=tp,tp=t,rp=e}function sP(t,e,r){hn[dn++]=qi,hn[dn++]=Zi,hn[dn++]=Jo,Jo=t;var n=qi;t=Zi;var i=32-$n(n)-1;n&=~(1<<i),r+=1;var s=32-$n(e)+i;if(30<s){var o=i-i%5;s=(n&(1<<o)-1).toString(32),n>>=o,i-=o,qi=1<<32-$n(e)+i|r<<i|n,Zi=s+t}else qi=1<<s|r<<i|n,Zi=t}function w1(t){t.return!==null&&(Io(t,1),sP(t,1,0))}function S1(t){for(;t===tp;)tp=al[--ll],al[ll]=null,rp=al[--ll],al[ll]=null;for(;t===Jo;)Jo=hn[--dn],hn[dn]=null,Zi=hn[--dn],hn[dn]=null,qi=hn[--dn],hn[dn]=null}var Xr=null,Wr=null,pt=!1,Bn=null;function oP(t,e){var r=mn(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function lS(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Xr=t,Wr=Ks(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Xr=t,Wr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Jo!==null?{id:qi,overflow:Zi}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=mn(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Xr=t,Wr=null,!0):!1;default:return!1}}function h0(t){return(t.mode&1)!==0&&(t.flags&128)===0}function d0(t){if(pt){var e=Wr;if(e){var r=e;if(!lS(t,e)){if(h0(t))throw Error(K(418));e=Ks(r.nextSibling);var n=Xr;e&&lS(t,e)?oP(n,r):(t.flags=t.flags&-4097|2,pt=!1,Xr=t)}}else{if(h0(t))throw Error(K(418));t.flags=t.flags&-4097|2,pt=!1,Xr=t}}}function uS(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Xr=t}function Td(t){if(t!==Xr)return!1;if(!pt)return uS(t),pt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!a0(t.type,t.memoizedProps)),e&&(e=Wr)){if(h0(t))throw aP(),Error(K(418));for(;e;)oP(t,e),e=Ks(e.nextSibling)}if(uS(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(K(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Wr=Ks(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Wr=null}}else Wr=Xr?Ks(t.stateNode.nextSibling):null;return!0}function aP(){for(var t=Wr;t;)t=Ks(t.nextSibling)}function Dl(){Wr=Xr=null,pt=!1}function E1(t){Bn===null?Bn=[t]:Bn.push(t)}var rN=gs.ReactCurrentBatchConfig;function Bu(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(K(309));var n=r.stateNode}if(!n)throw Error(K(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(K(284));if(!r._owner)throw Error(K(290,t))}return t}function Ad(t,e){throw t=Object.prototype.toString.call(e),Error(K(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function cS(t){var e=t._init;return e(t._payload)}function lP(t){function e(E,w){if(t){var x=E.deletions;x===null?(E.deletions=[w],E.flags|=16):x.push(w)}}function r(E,w){if(!t)return null;for(;w!==null;)e(E,w),w=w.sibling;return null}function n(E,w){for(E=new Map;w!==null;)w.key!==null?E.set(w.key,w):E.set(w.index,w),w=w.sibling;return E}function i(E,w){return E=Js(E,w),E.index=0,E.sibling=null,E}function s(E,w,x){return E.index=x,t?(x=E.alternate,x!==null?(x=x.index,x<w?(E.flags|=2,w):x):(E.flags|=2,w)):(E.flags|=1048576,w)}function o(E){return t&&E.alternate===null&&(E.flags|=2),E}function a(E,w,x,T){return w===null||w.tag!==6?(w=Rv(x,E.mode,T),w.return=E,w):(w=i(w,x),w.return=E,w)}function c(E,w,x,T){var P=x.type;return P===tl?f(E,w,x.props.children,T,x.key):w!==null&&(w.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===ks&&cS(P)===w.type)?(T=i(w,x.props),T.ref=Bu(E,w,x),T.return=E,T):(T=Ef(x.type,x.key,x.props,null,E.mode,T),T.ref=Bu(E,w,x),T.return=E,T)}function h(E,w,x,T){return w===null||w.tag!==4||w.stateNode.containerInfo!==x.containerInfo||w.stateNode.implementation!==x.implementation?(w=Ov(x,E.mode,T),w.return=E,w):(w=i(w,x.children||[]),w.return=E,w)}function f(E,w,x,T,P){return w===null||w.tag!==7?(w=Ho(x,E.mode,T,P),w.return=E,w):(w=i(w,x),w.return=E,w)}function p(E,w,x){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Rv(""+w,E.mode,x),w.return=E,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case md:return x=Ef(w.type,w.key,w.props,null,E.mode,x),x.ref=Bu(E,null,w),x.return=E,x;case el:return w=Ov(w,E.mode,x),w.return=E,w;case ks:var T=w._init;return p(E,T(w._payload),x)}if(Yu(w)||Mu(w))return w=Ho(w,E.mode,x,null),w.return=E,w;Ad(E,w)}return null}function m(E,w,x,T){var P=w!==null?w.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return P!==null?null:a(E,w,""+x,T);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case md:return x.key===P?c(E,w,x,T):null;case el:return x.key===P?h(E,w,x,T):null;case ks:return P=x._init,m(E,w,P(x._payload),T)}if(Yu(x)||Mu(x))return P!==null?null:f(E,w,x,T,null);Ad(E,x)}return null}function y(E,w,x,T,P){if(typeof T=="string"&&T!==""||typeof T=="number")return E=E.get(x)||null,a(w,E,""+T,P);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case md:return E=E.get(T.key===null?x:T.key)||null,c(w,E,T,P);case el:return E=E.get(T.key===null?x:T.key)||null,h(w,E,T,P);case ks:var M=T._init;return y(E,w,x,M(T._payload),P)}if(Yu(T)||Mu(T))return E=E.get(x)||null,f(w,E,T,P,null);Ad(w,T)}return null}function _(E,w,x,T){for(var P=null,M=null,R=w,D=w=0,V=null;R!==null&&D<x.length;D++){R.index>D?(V=R,R=null):V=R.sibling;var W=m(E,R,x[D],T);if(W===null){R===null&&(R=V);break}t&&R&&W.alternate===null&&e(E,R),w=s(W,w,D),M===null?P=W:M.sibling=W,M=W,R=V}if(D===x.length)return r(E,R),pt&&Io(E,D),P;if(R===null){for(;D<x.length;D++)R=p(E,x[D],T),R!==null&&(w=s(R,w,D),M===null?P=R:M.sibling=R,M=R);return pt&&Io(E,D),P}for(R=n(E,R);D<x.length;D++)V=y(R,E,D,x[D],T),V!==null&&(t&&V.alternate!==null&&R.delete(V.key===null?D:V.key),w=s(V,w,D),M===null?P=V:M.sibling=V,M=V);return t&&R.forEach(function(pe){return e(E,pe)}),pt&&Io(E,D),P}function S(E,w,x,T){var P=Mu(x);if(typeof P!="function")throw Error(K(150));if(x=P.call(x),x==null)throw Error(K(151));for(var M=P=null,R=w,D=w=0,V=null,W=x.next();R!==null&&!W.done;D++,W=x.next()){R.index>D?(V=R,R=null):V=R.sibling;var pe=m(E,R,W.value,T);if(pe===null){R===null&&(R=V);break}t&&R&&pe.alternate===null&&e(E,R),w=s(pe,w,D),M===null?P=pe:M.sibling=pe,M=pe,R=V}if(W.done)return r(E,R),pt&&Io(E,D),P;if(R===null){for(;!W.done;D++,W=x.next())W=p(E,W.value,T),W!==null&&(w=s(W,w,D),M===null?P=W:M.sibling=W,M=W);return pt&&Io(E,D),P}for(R=n(E,R);!W.done;D++,W=x.next())W=y(R,E,D,W.value,T),W!==null&&(t&&W.alternate!==null&&R.delete(W.key===null?D:W.key),w=s(W,w,D),M===null?P=W:M.sibling=W,M=W);return t&&R.forEach(function(J){return e(E,J)}),pt&&Io(E,D),P}function A(E,w,x,T){if(typeof x=="object"&&x!==null&&x.type===tl&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case md:e:{for(var P=x.key,M=w;M!==null;){if(M.key===P){if(P=x.type,P===tl){if(M.tag===7){r(E,M.sibling),w=i(M,x.props.children),w.return=E,E=w;break e}}else if(M.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===ks&&cS(P)===M.type){r(E,M.sibling),w=i(M,x.props),w.ref=Bu(E,M,x),w.return=E,E=w;break e}r(E,M);break}else e(E,M);M=M.sibling}x.type===tl?(w=Ho(x.props.children,E.mode,T,x.key),w.return=E,E=w):(T=Ef(x.type,x.key,x.props,null,E.mode,T),T.ref=Bu(E,w,x),T.return=E,E=T)}return o(E);case el:e:{for(M=x.key;w!==null;){if(w.key===M)if(w.tag===4&&w.stateNode.containerInfo===x.containerInfo&&w.stateNode.implementation===x.implementation){r(E,w.sibling),w=i(w,x.children||[]),w.return=E,E=w;break e}else{r(E,w);break}else e(E,w);w=w.sibling}w=Ov(x,E.mode,T),w.return=E,E=w}return o(E);case ks:return M=x._init,A(E,w,M(x._payload),T)}if(Yu(x))return _(E,w,x,T);if(Mu(x))return S(E,w,x,T);Ad(E,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,w!==null&&w.tag===6?(r(E,w.sibling),w=i(w,x),w.return=E,E=w):(r(E,w),w=Rv(x,E.mode,T),w.return=E,E=w),o(E)):r(E,w)}return A}var Nl=lP(!0),uP=lP(!1),np=ao(null),ip=null,ul=null,T1=null;function A1(){T1=ul=ip=null}function C1(t){var e=np.current;lt(np),t._currentValue=e}function f0(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function wl(t,e){ip=t,T1=ul=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Rr=!0),t.firstContext=null)}function bn(t){var e=t._currentValue;if(T1!==t)if(t={context:t,memoizedValue:e,next:null},ul===null){if(ip===null)throw Error(K(308));ul=t,ip.dependencies={lanes:0,firstContext:t}}else ul=ul.next=t;return e}var zo=null;function P1(t){zo===null?zo=[t]:zo.push(t)}function cP(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,P1(e)):(r.next=i.next,i.next=r),e.interleaved=r,us(t,n)}function us(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Ds=!1;function I1(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function hP(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function rs(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Qs(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,ze&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,us(t,r)}return i=n.interleaved,i===null?(e.next=e,P1(n)):(e.next=i.next,i.next=e),n.interleaved=e,us(t,r)}function yf(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,p1(t,r)}}function hS(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function sp(t,e,r,n){var i=t.updateQueue;Ds=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var c=a,h=c.next;c.next=null,o===null?s=h:o.next=h,o=c;var f=t.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==o&&(a===null?f.firstBaseUpdate=h:a.next=h,f.lastBaseUpdate=c))}if(s!==null){var p=i.baseState;o=0,f=h=c=null,a=s;do{var m=a.lane,y=a.eventTime;if((n&m)===m){f!==null&&(f=f.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var _=t,S=a;switch(m=e,y=r,S.tag){case 1:if(_=S.payload,typeof _=="function"){p=_.call(y,p,m);break e}p=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=S.payload,m=typeof _=="function"?_.call(y,p,m):_,m==null)break e;p=wt({},p,m);break e;case 2:Ds=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[a]:m.push(a))}else y={eventTime:y,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(h=f=y,c=p):f=f.next=y,o|=m;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;m=a,a=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(f===null&&(c=p),i.baseState=c,i.firstBaseUpdate=h,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);ta|=o,t.lanes=o,t.memoizedState=p}}function dS(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(K(191,i));i.call(n)}}}var dh={},Ci=ao(dh),Lc=ao(dh),Uc=ao(dh);function $o(t){if(t===dh)throw Error(K(174));return t}function R1(t,e){switch(Ze(Uc,e),Ze(Lc,t),Ze(Ci,dh),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Xy(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Xy(e,t)}lt(Ci),Ze(Ci,e)}function Fl(){lt(Ci),lt(Lc),lt(Uc)}function dP(t){$o(Uc.current);var e=$o(Ci.current),r=Xy(e,t.type);e!==r&&(Ze(Lc,t),Ze(Ci,r))}function O1(t){Lc.current===t&&(lt(Ci),lt(Lc))}var yt=ao(0);function op(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ev=[];function M1(){for(var t=0;t<Ev.length;t++)Ev[t]._workInProgressVersionPrimary=null;Ev.length=0}var _f=gs.ReactCurrentDispatcher,Tv=gs.ReactCurrentBatchConfig,ea=0,bt=null,Lt=null,Wt=null,ap=!1,pc=!1,zc=0,nN=0;function cr(){throw Error(K(321))}function k1(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Yn(t[r],e[r]))return!1;return!0}function D1(t,e,r,n,i,s){if(ea=s,bt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,_f.current=t===null||t.memoizedState===null?aN:lN,t=r(n,i),pc){s=0;do{if(pc=!1,zc=0,25<=s)throw Error(K(301));s+=1,Wt=Lt=null,e.updateQueue=null,_f.current=uN,t=r(n,i)}while(pc)}if(_f.current=lp,e=Lt!==null&&Lt.next!==null,ea=0,Wt=Lt=bt=null,ap=!1,e)throw Error(K(300));return t}function N1(){var t=zc!==0;return zc=0,t}function yi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wt===null?bt.memoizedState=Wt=t:Wt=Wt.next=t,Wt}function wn(){if(Lt===null){var t=bt.alternate;t=t!==null?t.memoizedState:null}else t=Lt.next;var e=Wt===null?bt.memoizedState:Wt.next;if(e!==null)Wt=e,Lt=t;else{if(t===null)throw Error(K(310));Lt=t,t={memoizedState:Lt.memoizedState,baseState:Lt.baseState,baseQueue:Lt.baseQueue,queue:Lt.queue,next:null},Wt===null?bt.memoizedState=Wt=t:Wt=Wt.next=t}return Wt}function $c(t,e){return typeof e=="function"?e(t):e}function Av(t){var e=wn(),r=e.queue;if(r===null)throw Error(K(311));r.lastRenderedReducer=t;var n=Lt,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var a=o=null,c=null,h=s;do{var f=h.lane;if((ea&f)===f)c!==null&&(c=c.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),n=h.hasEagerState?h.eagerState:t(n,h.action);else{var p={lane:f,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};c===null?(a=c=p,o=n):c=c.next=p,bt.lanes|=f,ta|=f}h=h.next}while(h!==null&&h!==s);c===null?o=n:c.next=a,Yn(n,e.memoizedState)||(Rr=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,bt.lanes|=s,ta|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Cv(t){var e=wn(),r=e.queue;if(r===null)throw Error(K(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Yn(s,e.memoizedState)||(Rr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function fP(){}function pP(t,e){var r=bt,n=wn(),i=e(),s=!Yn(n.memoizedState,i);if(s&&(n.memoizedState=i,Rr=!0),n=n.queue,F1(vP.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||Wt!==null&&Wt.memoizedState.tag&1){if(r.flags|=2048,Gc(9,gP.bind(null,r,n,i,e),void 0,null),Qt===null)throw Error(K(349));ea&30||mP(r,e,i)}return i}function mP(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=bt.updateQueue,e===null?(e={lastEffect:null,stores:null},bt.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function gP(t,e,r,n){e.value=r,e.getSnapshot=n,yP(e)&&_P(t)}function vP(t,e,r){return r(function(){yP(e)&&_P(t)})}function yP(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Yn(t,r)}catch{return!0}}function _P(t){var e=us(t,1);e!==null&&Gn(e,t,1,-1)}function fS(t){var e=yi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$c,lastRenderedState:t},e.queue=t,t=t.dispatch=oN.bind(null,bt,t),[e.memoizedState,t]}function Gc(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=bt.updateQueue,e===null?(e={lastEffect:null,stores:null},bt.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function xP(){return wn().memoizedState}function xf(t,e,r,n){var i=yi();bt.flags|=t,i.memoizedState=Gc(1|e,r,void 0,n===void 0?null:n)}function rm(t,e,r,n){var i=wn();n=n===void 0?null:n;var s=void 0;if(Lt!==null){var o=Lt.memoizedState;if(s=o.destroy,n!==null&&k1(n,o.deps)){i.memoizedState=Gc(e,r,s,n);return}}bt.flags|=t,i.memoizedState=Gc(1|e,r,s,n)}function pS(t,e){return xf(8390656,8,t,e)}function F1(t,e){return rm(2048,8,t,e)}function bP(t,e){return rm(4,2,t,e)}function wP(t,e){return rm(4,4,t,e)}function SP(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function EP(t,e,r){return r=r!=null?r.concat([t]):null,rm(4,4,SP.bind(null,e,t),r)}function B1(){}function TP(t,e){var r=wn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&k1(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function AP(t,e){var r=wn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&k1(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function CP(t,e,r){return ea&21?(Yn(r,e)||(r=MC(),bt.lanes|=r,ta|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Rr=!0),t.memoizedState=r)}function iN(t,e){var r=Ke;Ke=r!==0&&4>r?r:4,t(!0);var n=Tv.transition;Tv.transition={};try{t(!1),e()}finally{Ke=r,Tv.transition=n}}function PP(){return wn().memoizedState}function sN(t,e,r){var n=Zs(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},IP(t))RP(e,r);else if(r=cP(t,e,r,n),r!==null){var i=br();Gn(r,t,n,i),OP(r,e,n)}}function oN(t,e,r){var n=Zs(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(IP(t))RP(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,r);if(i.hasEagerState=!0,i.eagerState=a,Yn(a,o)){var c=e.interleaved;c===null?(i.next=i,P1(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}r=cP(t,e,i,n),r!==null&&(i=br(),Gn(r,t,n,i),OP(r,e,n))}}function IP(t){var e=t.alternate;return t===bt||e!==null&&e===bt}function RP(t,e){pc=ap=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function OP(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,p1(t,r)}}var lp={readContext:bn,useCallback:cr,useContext:cr,useEffect:cr,useImperativeHandle:cr,useInsertionEffect:cr,useLayoutEffect:cr,useMemo:cr,useReducer:cr,useRef:cr,useState:cr,useDebugValue:cr,useDeferredValue:cr,useTransition:cr,useMutableSource:cr,useSyncExternalStore:cr,useId:cr,unstable_isNewReconciler:!1},aN={readContext:bn,useCallback:function(t,e){return yi().memoizedState=[t,e===void 0?null:e],t},useContext:bn,useEffect:pS,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,xf(4194308,4,SP.bind(null,e,t),r)},useLayoutEffect:function(t,e){return xf(4194308,4,t,e)},useInsertionEffect:function(t,e){return xf(4,2,t,e)},useMemo:function(t,e){var r=yi();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=yi();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=sN.bind(null,bt,t),[n.memoizedState,t]},useRef:function(t){var e=yi();return t={current:t},e.memoizedState=t},useState:fS,useDebugValue:B1,useDeferredValue:function(t){return yi().memoizedState=t},useTransition:function(){var t=fS(!1),e=t[0];return t=iN.bind(null,t[1]),yi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=bt,i=yi();if(pt){if(r===void 0)throw Error(K(407));r=r()}else{if(r=e(),Qt===null)throw Error(K(349));ea&30||mP(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,pS(vP.bind(null,n,s,t),[t]),n.flags|=2048,Gc(9,gP.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=yi(),e=Qt.identifierPrefix;if(pt){var r=Zi,n=qi;r=(n&~(1<<32-$n(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=zc++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=nN++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},lN={readContext:bn,useCallback:TP,useContext:bn,useEffect:F1,useImperativeHandle:EP,useInsertionEffect:bP,useLayoutEffect:wP,useMemo:AP,useReducer:Av,useRef:xP,useState:function(){return Av($c)},useDebugValue:B1,useDeferredValue:function(t){var e=wn();return CP(e,Lt.memoizedState,t)},useTransition:function(){var t=Av($c)[0],e=wn().memoizedState;return[t,e]},useMutableSource:fP,useSyncExternalStore:pP,useId:PP,unstable_isNewReconciler:!1},uN={readContext:bn,useCallback:TP,useContext:bn,useEffect:F1,useImperativeHandle:EP,useInsertionEffect:bP,useLayoutEffect:wP,useMemo:AP,useReducer:Cv,useRef:xP,useState:function(){return Cv($c)},useDebugValue:B1,useDeferredValue:function(t){var e=wn();return Lt===null?e.memoizedState=t:CP(e,Lt.memoizedState,t)},useTransition:function(){var t=Cv($c)[0],e=wn().memoizedState;return[t,e]},useMutableSource:fP,useSyncExternalStore:pP,useId:PP,unstable_isNewReconciler:!1};function Nn(t,e){if(t&&t.defaultProps){e=wt({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function p0(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:wt({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var nm={isMounted:function(t){return(t=t._reactInternals)?ca(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=br(),i=Zs(t),s=rs(n,i);s.payload=e,r!=null&&(s.callback=r),e=Qs(t,s,i),e!==null&&(Gn(e,t,i,n),yf(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=br(),i=Zs(t),s=rs(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=Qs(t,s,i),e!==null&&(Gn(e,t,i,n),yf(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=br(),n=Zs(t),i=rs(r,n);i.tag=2,e!=null&&(i.callback=e),e=Qs(t,i,n),e!==null&&(Gn(e,t,n,r),yf(e,t,n))}};function mS(t,e,r,n,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,o):e.prototype&&e.prototype.isPureReactComponent?!Dc(r,n)||!Dc(i,s):!0}function MP(t,e,r){var n=!1,i=no,s=e.contextType;return typeof s=="object"&&s!==null?s=bn(s):(i=kr(e)?Zo:pr.current,n=e.contextTypes,s=(n=n!=null)?kl(t,i):no),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=nm,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function gS(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&nm.enqueueReplaceState(e,e.state,null)}function m0(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},I1(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=bn(s):(s=kr(e)?Zo:pr.current,i.context=kl(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(p0(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&nm.enqueueReplaceState(i,i.state,null),sp(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Bl(t,e){try{var r="",n=e;do r+=Bk(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Pv(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function g0(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var cN=typeof WeakMap=="function"?WeakMap:Map;function kP(t,e,r){r=rs(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){cp||(cp=!0,A0=n),g0(t,e)},r}function DP(t,e,r){r=rs(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){g0(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){g0(t,e),typeof n!="function"&&(qs===null?qs=new Set([this]):qs.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function vS(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new cN;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=EN.bind(null,t,e,r),e.then(t,t))}function yS(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function _S(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=rs(-1,1),e.tag=2,Qs(r,e,1))),r.lanes|=1),t)}var hN=gs.ReactCurrentOwner,Rr=!1;function _r(t,e,r,n){e.child=t===null?uP(e,null,r,n):Nl(e,t.child,r,n)}function xS(t,e,r,n,i){r=r.render;var s=e.ref;return wl(e,i),n=D1(t,e,r,n,s,i),r=N1(),t!==null&&!Rr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,cs(t,e,i)):(pt&&r&&w1(e),e.flags|=1,_r(t,e,n,i),e.child)}function bS(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!V1(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,NP(t,e,s,n,i)):(t=Ef(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:Dc,r(o,n)&&t.ref===e.ref)return cs(t,e,i)}return e.flags|=1,t=Js(s,n),t.ref=e.ref,t.return=e,e.child=t}function NP(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(Dc(s,n)&&t.ref===e.ref)if(Rr=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(Rr=!0);else return e.lanes=t.lanes,cs(t,e,i)}return v0(t,e,r,n,i)}function FP(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ze(hl,jr),jr|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ze(hl,jr),jr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,Ze(hl,jr),jr|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,Ze(hl,jr),jr|=n;return _r(t,e,i,r),e.child}function BP(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function v0(t,e,r,n,i){var s=kr(r)?Zo:pr.current;return s=kl(e,s),wl(e,i),r=D1(t,e,r,n,s,i),n=N1(),t!==null&&!Rr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,cs(t,e,i)):(pt&&n&&w1(e),e.flags|=1,_r(t,e,r,i),e.child)}function wS(t,e,r,n,i){if(kr(r)){var s=!0;ep(e)}else s=!1;if(wl(e,i),e.stateNode===null)bf(t,e),MP(e,r,n),m0(e,r,n,i),n=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var c=o.context,h=r.contextType;typeof h=="object"&&h!==null?h=bn(h):(h=kr(r)?Zo:pr.current,h=kl(e,h));var f=r.getDerivedStateFromProps,p=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||c!==h)&&gS(e,o,n,h),Ds=!1;var m=e.memoizedState;o.state=m,sp(e,n,o,i),c=e.memoizedState,a!==n||m!==c||Mr.current||Ds?(typeof f=="function"&&(p0(e,r,f,n),c=e.memoizedState),(a=Ds||mS(e,r,a,n,m,c,h))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),o.props=n,o.state=c,o.context=h,n=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,hP(t,e),a=e.memoizedProps,h=e.type===e.elementType?a:Nn(e.type,a),o.props=h,p=e.pendingProps,m=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=bn(c):(c=kr(r)?Zo:pr.current,c=kl(e,c));var y=r.getDerivedStateFromProps;(f=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==p||m!==c)&&gS(e,o,n,c),Ds=!1,m=e.memoizedState,o.state=m,sp(e,n,o,i);var _=e.memoizedState;a!==p||m!==_||Mr.current||Ds?(typeof y=="function"&&(p0(e,r,y,n),_=e.memoizedState),(h=Ds||mS(e,r,h,n,m,_,c)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,_,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,_,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=_),o.props=n,o.state=_,o.context=c,n=h):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),n=!1)}return y0(t,e,r,n,s,i)}function y0(t,e,r,n,i,s){BP(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return i&&aS(e,r,!1),cs(t,e,s);n=e.stateNode,hN.current=e;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=Nl(e,t.child,null,s),e.child=Nl(e,null,a,s)):_r(t,e,a,s),e.memoizedState=n.state,i&&aS(e,r,!0),e.child}function LP(t){var e=t.stateNode;e.pendingContext?oS(t,e.pendingContext,e.pendingContext!==e.context):e.context&&oS(t,e.context,!1),R1(t,e.containerInfo)}function SS(t,e,r,n,i){return Dl(),E1(i),e.flags|=256,_r(t,e,r,n),e.child}var _0={dehydrated:null,treeContext:null,retryLane:0};function x0(t){return{baseLanes:t,cachePool:null,transitions:null}}function UP(t,e,r){var n=e.pendingProps,i=yt.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ze(yt,i&1),t===null)return d0(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,s?(n=e.mode,s=e.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=om(o,n,0,null),t=Ho(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=x0(r),e.memoizedState=_0,t):L1(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return dN(t,e,o,n,a,i,r);if(s){s=n.fallback,o=e.mode,i=t.child,a=i.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=Js(i,c),n.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Js(a,s):(s=Ho(s,o,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,o=t.child.memoizedState,o=o===null?x0(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~r,e.memoizedState=_0,n}return s=t.child,t=s.sibling,n=Js(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function L1(t,e){return e=om({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Cd(t,e,r,n){return n!==null&&E1(n),Nl(e,t.child,null,r),t=L1(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function dN(t,e,r,n,i,s,o){if(r)return e.flags&256?(e.flags&=-257,n=Pv(Error(K(422))),Cd(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=om({mode:"visible",children:n.children},i,0,null),s=Ho(s,i,o,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&Nl(e,t.child,null,o),e.child.memoizedState=x0(o),e.memoizedState=_0,s);if(!(e.mode&1))return Cd(t,e,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var a=n.dgst;return n=a,s=Error(K(419)),n=Pv(s,n,void 0),Cd(t,e,o,n)}if(a=(o&t.childLanes)!==0,Rr||a){if(n=Qt,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,us(t,i),Gn(n,t,i,-1))}return H1(),n=Pv(Error(K(421))),Cd(t,e,o,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=TN.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Wr=Ks(i.nextSibling),Xr=e,pt=!0,Bn=null,t!==null&&(hn[dn++]=qi,hn[dn++]=Zi,hn[dn++]=Jo,qi=t.id,Zi=t.overflow,Jo=e),e=L1(e,n.children),e.flags|=4096,e)}function ES(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),f0(t.return,e,r)}function Iv(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function zP(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(_r(t,e,n.children,r),n=yt.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ES(t,r,e);else if(t.tag===19)ES(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Ze(yt,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&op(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),Iv(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&op(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}Iv(e,!0,r,null,s);break;case"together":Iv(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function bf(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function cs(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),ta|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(K(153));if(e.child!==null){for(t=e.child,r=Js(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Js(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function fN(t,e,r){switch(e.tag){case 3:LP(e),Dl();break;case 5:dP(e);break;case 1:kr(e.type)&&ep(e);break;case 4:R1(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;Ze(np,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Ze(yt,yt.current&1),e.flags|=128,null):r&e.child.childLanes?UP(t,e,r):(Ze(yt,yt.current&1),t=cs(t,e,r),t!==null?t.sibling:null);Ze(yt,yt.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return zP(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ze(yt,yt.current),n)break;return null;case 22:case 23:return e.lanes=0,FP(t,e,r)}return cs(t,e,r)}var $P,b0,GP,jP;$P=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};b0=function(){};GP=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,$o(Ci.current);var s=null;switch(r){case"input":i=jy(t,i),n=jy(t,n),s=[];break;case"select":i=wt({},i,{value:void 0}),n=wt({},n,{value:void 0}),s=[];break;case"textarea":i=Wy(t,i),n=Wy(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Zf)}Yy(r,n);var o;r=null;for(h in i)if(!n.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var a=i[h];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(Cc.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in n){var c=n[h];if(a=i!=null?i[h]:void 0,n.hasOwnProperty(h)&&c!==a&&(c!=null||a!=null))if(h==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(s||(s=[]),s.push(h,r)),r=c;else h==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(s=s||[]).push(h,c)):h==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(h,""+c):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(Cc.hasOwnProperty(h)?(c!=null&&h==="onScroll"&&it("scroll",t),s||a===c||(s=[])):(s=s||[]).push(h,c))}r&&(s=s||[]).push("style",r);var h=s;(e.updateQueue=h)&&(e.flags|=4)}};jP=function(t,e,r,n){r!==n&&(e.flags|=4)};function Lu(t,e){if(!pt)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function hr(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function pN(t,e,r){var n=e.pendingProps;switch(S1(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return hr(e),null;case 1:return kr(e.type)&&Jf(),hr(e),null;case 3:return n=e.stateNode,Fl(),lt(Mr),lt(pr),M1(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Td(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Bn!==null&&(I0(Bn),Bn=null))),b0(t,e),hr(e),null;case 5:O1(e);var i=$o(Uc.current);if(r=e.type,t!==null&&e.stateNode!=null)GP(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(K(166));return hr(e),null}if(t=$o(Ci.current),Td(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[Si]=e,n[Bc]=s,t=(e.mode&1)!==0,r){case"dialog":it("cancel",n),it("close",n);break;case"iframe":case"object":case"embed":it("load",n);break;case"video":case"audio":for(i=0;i<Qu.length;i++)it(Qu[i],n);break;case"source":it("error",n);break;case"img":case"image":case"link":it("error",n),it("load",n);break;case"details":it("toggle",n);break;case"input":kw(n,s),it("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},it("invalid",n);break;case"textarea":Nw(n,s),it("invalid",n)}Yy(r,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?n.textContent!==a&&(s.suppressHydrationWarning!==!0&&Ed(n.textContent,a,t),i=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Ed(n.textContent,a,t),i=["children",""+a]):Cc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&it("scroll",n)}switch(r){case"input":gd(n),Dw(n,s,!0);break;case"textarea":gd(n),Fw(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Zf)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=vC(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[Si]=e,t[Bc]=n,$P(t,e,!1,!1),e.stateNode=t;e:{switch(o=Ky(r,n),r){case"dialog":it("cancel",t),it("close",t),i=n;break;case"iframe":case"object":case"embed":it("load",t),i=n;break;case"video":case"audio":for(i=0;i<Qu.length;i++)it(Qu[i],t);i=n;break;case"source":it("error",t),i=n;break;case"img":case"image":case"link":it("error",t),it("load",t),i=n;break;case"details":it("toggle",t),i=n;break;case"input":kw(t,n),i=jy(t,n),it("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=wt({},n,{value:void 0}),it("invalid",t);break;case"textarea":Nw(t,n),i=Wy(t,n),it("invalid",t);break;default:i=n}Yy(r,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var c=a[s];s==="style"?xC(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&yC(t,c)):s==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Pc(t,c):typeof c=="number"&&Pc(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Cc.hasOwnProperty(s)?c!=null&&s==="onScroll"&&it("scroll",t):c!=null&&l1(t,s,c,o))}switch(r){case"input":gd(t),Dw(t,n,!1);break;case"textarea":gd(t),Fw(t);break;case"option":n.value!=null&&t.setAttribute("value",""+ro(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?yl(t,!!n.multiple,s,!1):n.defaultValue!=null&&yl(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Zf)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return hr(e),null;case 6:if(t&&e.stateNode!=null)jP(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(K(166));if(r=$o(Uc.current),$o(Ci.current),Td(e)){if(n=e.stateNode,r=e.memoizedProps,n[Si]=e,(s=n.nodeValue!==r)&&(t=Xr,t!==null))switch(t.tag){case 3:Ed(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ed(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Si]=e,e.stateNode=n}return hr(e),null;case 13:if(lt(yt),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(pt&&Wr!==null&&e.mode&1&&!(e.flags&128))aP(),Dl(),e.flags|=98560,s=!1;else if(s=Td(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(K(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(K(317));s[Si]=e}else Dl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;hr(e),s=!1}else Bn!==null&&(I0(Bn),Bn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||yt.current&1?Ut===0&&(Ut=3):H1())),e.updateQueue!==null&&(e.flags|=4),hr(e),null);case 4:return Fl(),b0(t,e),t===null&&Nc(e.stateNode.containerInfo),hr(e),null;case 10:return C1(e.type._context),hr(e),null;case 17:return kr(e.type)&&Jf(),hr(e),null;case 19:if(lt(yt),s=e.memoizedState,s===null)return hr(e),null;if(n=(e.flags&128)!==0,o=s.rendering,o===null)if(n)Lu(s,!1);else{if(Ut!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=op(t),o!==null){for(e.flags|=128,Lu(s,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Ze(yt,yt.current&1|2),e.child}t=t.sibling}s.tail!==null&&Rt()>Ll&&(e.flags|=128,n=!0,Lu(s,!1),e.lanes=4194304)}else{if(!n)if(t=op(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Lu(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!pt)return hr(e),null}else 2*Rt()-s.renderingStartTime>Ll&&r!==1073741824&&(e.flags|=128,n=!0,Lu(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(r=s.last,r!==null?r.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Rt(),e.sibling=null,r=yt.current,Ze(yt,n?r&1|2:r&1),e):(hr(e),null);case 22:case 23:return j1(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?jr&1073741824&&(hr(e),e.subtreeFlags&6&&(e.flags|=8192)):hr(e),null;case 24:return null;case 25:return null}throw Error(K(156,e.tag))}function mN(t,e){switch(S1(e),e.tag){case 1:return kr(e.type)&&Jf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Fl(),lt(Mr),lt(pr),M1(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return O1(e),null;case 13:if(lt(yt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(K(340));Dl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return lt(yt),null;case 4:return Fl(),null;case 10:return C1(e.type._context),null;case 22:case 23:return j1(),null;case 24:return null;default:return null}}var Pd=!1,dr=!1,gN=typeof WeakSet=="function"?WeakSet:Set,ue=null;function cl(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Tt(t,e,n)}else r.current=null}function w0(t,e,r){try{r()}catch(n){Tt(t,e,n)}}var TS=!1;function vN(t,e){if(s0=Kf,t=YC(),b1(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,a=-1,c=-1,h=0,f=0,p=t,m=null;t:for(;;){for(var y;p!==r||i!==0&&p.nodeType!==3||(a=o+i),p!==s||n!==0&&p.nodeType!==3||(c=o+n),p.nodeType===3&&(o+=p.nodeValue.length),(y=p.firstChild)!==null;)m=p,p=y;for(;;){if(p===t)break t;if(m===r&&++h===i&&(a=o),m===s&&++f===n&&(c=o),(y=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=y}r=a===-1||c===-1?null:{start:a,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(o0={focusedElem:t,selectionRange:r},Kf=!1,ue=e;ue!==null;)if(e=ue,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ue=t;else for(;ue!==null;){e=ue;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var S=_.memoizedProps,A=_.memoizedState,E=e.stateNode,w=E.getSnapshotBeforeUpdate(e.elementType===e.type?S:Nn(e.type,S),A);E.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(K(163))}}catch(T){Tt(e,e.return,T)}if(t=e.sibling,t!==null){t.return=e.return,ue=t;break}ue=e.return}return _=TS,TS=!1,_}function mc(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&w0(e,r,s)}i=i.next}while(i!==n)}}function im(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function S0(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function HP(t){var e=t.alternate;e!==null&&(t.alternate=null,HP(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Si],delete e[Bc],delete e[u0],delete e[JD],delete e[eN])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function VP(t){return t.tag===5||t.tag===3||t.tag===4}function AS(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||VP(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function E0(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Zf));else if(n!==4&&(t=t.child,t!==null))for(E0(t,e,r),t=t.sibling;t!==null;)E0(t,e,r),t=t.sibling}function T0(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(T0(t,e,r),t=t.sibling;t!==null;)T0(t,e,r),t=t.sibling}var tr=null,Fn=!1;function Ps(t,e,r){for(r=r.child;r!==null;)WP(t,e,r),r=r.sibling}function WP(t,e,r){if(Ai&&typeof Ai.onCommitFiberUnmount=="function")try{Ai.onCommitFiberUnmount(Qp,r)}catch{}switch(r.tag){case 5:dr||cl(r,e);case 6:var n=tr,i=Fn;tr=null,Ps(t,e,r),tr=n,Fn=i,tr!==null&&(Fn?(t=tr,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):tr.removeChild(r.stateNode));break;case 18:tr!==null&&(Fn?(t=tr,r=r.stateNode,t.nodeType===8?wv(t.parentNode,r):t.nodeType===1&&wv(t,r),Mc(t)):wv(tr,r.stateNode));break;case 4:n=tr,i=Fn,tr=r.stateNode.containerInfo,Fn=!0,Ps(t,e,r),tr=n,Fn=i;break;case 0:case 11:case 14:case 15:if(!dr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&w0(r,e,o),i=i.next}while(i!==n)}Ps(t,e,r);break;case 1:if(!dr&&(cl(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){Tt(r,e,a)}Ps(t,e,r);break;case 21:Ps(t,e,r);break;case 22:r.mode&1?(dr=(n=dr)||r.memoizedState!==null,Ps(t,e,r),dr=n):Ps(t,e,r);break;default:Ps(t,e,r)}}function CS(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new gN),e.forEach(function(n){var i=AN.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function In(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:tr=a.stateNode,Fn=!1;break e;case 3:tr=a.stateNode.containerInfo,Fn=!0;break e;case 4:tr=a.stateNode.containerInfo,Fn=!0;break e}a=a.return}if(tr===null)throw Error(K(160));WP(s,o,i),tr=null,Fn=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(h){Tt(i,e,h)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)XP(e,t),e=e.sibling}function XP(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(In(e,t),ui(t),n&4){try{mc(3,t,t.return),im(3,t)}catch(S){Tt(t,t.return,S)}try{mc(5,t,t.return)}catch(S){Tt(t,t.return,S)}}break;case 1:In(e,t),ui(t),n&512&&r!==null&&cl(r,r.return);break;case 5:if(In(e,t),ui(t),n&512&&r!==null&&cl(r,r.return),t.flags&32){var i=t.stateNode;try{Pc(i,"")}catch(S){Tt(t,t.return,S)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=r!==null?r.memoizedProps:s,a=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&mC(i,s),Ky(a,o);var h=Ky(a,s);for(o=0;o<c.length;o+=2){var f=c[o],p=c[o+1];f==="style"?xC(i,p):f==="dangerouslySetInnerHTML"?yC(i,p):f==="children"?Pc(i,p):l1(i,f,p,h)}switch(a){case"input":Hy(i,s);break;case"textarea":gC(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var y=s.value;y!=null?yl(i,!!s.multiple,y,!1):m!==!!s.multiple&&(s.defaultValue!=null?yl(i,!!s.multiple,s.defaultValue,!0):yl(i,!!s.multiple,s.multiple?[]:"",!1))}i[Bc]=s}catch(S){Tt(t,t.return,S)}}break;case 6:if(In(e,t),ui(t),n&4){if(t.stateNode===null)throw Error(K(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(S){Tt(t,t.return,S)}}break;case 3:if(In(e,t),ui(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Mc(e.containerInfo)}catch(S){Tt(t,t.return,S)}break;case 4:In(e,t),ui(t);break;case 13:In(e,t),ui(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||($1=Rt())),n&4&&CS(t);break;case 22:if(f=r!==null&&r.memoizedState!==null,t.mode&1?(dr=(h=dr)||f,In(e,t),dr=h):In(e,t),ui(t),n&8192){if(h=t.memoizedState!==null,(t.stateNode.isHidden=h)&&!f&&t.mode&1)for(ue=t,f=t.child;f!==null;){for(p=ue=f;ue!==null;){switch(m=ue,y=m.child,m.tag){case 0:case 11:case 14:case 15:mc(4,m,m.return);break;case 1:cl(m,m.return);var _=m.stateNode;if(typeof _.componentWillUnmount=="function"){n=m,r=m.return;try{e=n,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(S){Tt(n,r,S)}}break;case 5:cl(m,m.return);break;case 22:if(m.memoizedState!==null){IS(p);continue}}y!==null?(y.return=m,ue=y):IS(p)}f=f.sibling}e:for(f=null,p=t;;){if(p.tag===5){if(f===null){f=p;try{i=p.stateNode,h?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=p.stateNode,c=p.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=_C("display",o))}catch(S){Tt(t,t.return,S)}}}else if(p.tag===6){if(f===null)try{p.stateNode.nodeValue=h?"":p.memoizedProps}catch(S){Tt(t,t.return,S)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:In(e,t),ui(t),n&4&&CS(t);break;case 21:break;default:In(e,t),ui(t)}}function ui(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(VP(r)){var n=r;break e}r=r.return}throw Error(K(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Pc(i,""),n.flags&=-33);var s=AS(t);T0(t,s,i);break;case 3:case 4:var o=n.stateNode.containerInfo,a=AS(t);E0(t,a,o);break;default:throw Error(K(161))}}catch(c){Tt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function yN(t,e,r){ue=t,YP(t)}function YP(t,e,r){for(var n=(t.mode&1)!==0;ue!==null;){var i=ue,s=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||Pd;if(!o){var a=i.alternate,c=a!==null&&a.memoizedState!==null||dr;a=Pd;var h=dr;if(Pd=o,(dr=c)&&!h)for(ue=i;ue!==null;)o=ue,c=o.child,o.tag===22&&o.memoizedState!==null?RS(i):c!==null?(c.return=o,ue=c):RS(i);for(;s!==null;)ue=s,YP(s),s=s.sibling;ue=i,Pd=a,dr=h}PS(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ue=s):PS(t)}}function PS(t){for(;ue!==null;){var e=ue;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:dr||im(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!dr)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:Nn(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&dS(e,s,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}dS(e,o,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var h=e.alternate;if(h!==null){var f=h.memoizedState;if(f!==null){var p=f.dehydrated;p!==null&&Mc(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(K(163))}dr||e.flags&512&&S0(e)}catch(m){Tt(e,e.return,m)}}if(e===t){ue=null;break}if(r=e.sibling,r!==null){r.return=e.return,ue=r;break}ue=e.return}}function IS(t){for(;ue!==null;){var e=ue;if(e===t){ue=null;break}var r=e.sibling;if(r!==null){r.return=e.return,ue=r;break}ue=e.return}}function RS(t){for(;ue!==null;){var e=ue;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{im(4,e)}catch(c){Tt(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(c){Tt(e,i,c)}}var s=e.return;try{S0(e)}catch(c){Tt(e,s,c)}break;case 5:var o=e.return;try{S0(e)}catch(c){Tt(e,o,c)}}}catch(c){Tt(e,e.return,c)}if(e===t){ue=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ue=a;break}ue=e.return}}var _N=Math.ceil,up=gs.ReactCurrentDispatcher,U1=gs.ReactCurrentOwner,xn=gs.ReactCurrentBatchConfig,ze=0,Qt=null,Dt=null,nr=0,jr=0,hl=ao(0),Ut=0,jc=null,ta=0,sm=0,z1=0,gc=null,Ir=null,$1=0,Ll=1/0,Wi=null,cp=!1,A0=null,qs=null,Id=!1,$s=null,hp=0,vc=0,C0=null,wf=-1,Sf=0;function br(){return ze&6?Rt():wf!==-1?wf:wf=Rt()}function Zs(t){return t.mode&1?ze&2&&nr!==0?nr&-nr:rN.transition!==null?(Sf===0&&(Sf=MC()),Sf):(t=Ke,t!==0||(t=window.event,t=t===void 0?16:UC(t.type)),t):1}function Gn(t,e,r,n){if(50<vc)throw vc=0,C0=null,Error(K(185));uh(t,r,n),(!(ze&2)||t!==Qt)&&(t===Qt&&(!(ze&2)&&(sm|=r),Ut===4&&Ls(t,nr)),Dr(t,n),r===1&&ze===0&&!(e.mode&1)&&(Ll=Rt()+500,tm&&lo()))}function Dr(t,e){var r=t.callbackNode;rD(t,e);var n=Yf(t,t===Qt?nr:0);if(n===0)r!==null&&Uw(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&Uw(r),e===1)t.tag===0?tN(OS.bind(null,t)):iP(OS.bind(null,t)),qD(function(){!(ze&6)&&lo()}),r=null;else{switch(kC(n)){case 1:r=f1;break;case 4:r=RC;break;case 16:r=Xf;break;case 536870912:r=OC;break;default:r=Xf}r=rI(r,KP.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function KP(t,e){if(wf=-1,Sf=0,ze&6)throw Error(K(327));var r=t.callbackNode;if(Sl()&&t.callbackNode!==r)return null;var n=Yf(t,t===Qt?nr:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=dp(t,n);else{e=n;var i=ze;ze|=2;var s=qP();(Qt!==t||nr!==e)&&(Wi=null,Ll=Rt()+500,jo(t,e));do try{wN();break}catch(a){QP(t,a)}while(!0);A1(),up.current=s,ze=i,Dt!==null?e=0:(Qt=null,nr=0,e=Ut)}if(e!==0){if(e===2&&(i=e0(t),i!==0&&(n=i,e=P0(t,i))),e===1)throw r=jc,jo(t,0),Ls(t,n),Dr(t,Rt()),r;if(e===6)Ls(t,n);else{if(i=t.current.alternate,!(n&30)&&!xN(i)&&(e=dp(t,n),e===2&&(s=e0(t),s!==0&&(n=s,e=P0(t,s))),e===1))throw r=jc,jo(t,0),Ls(t,n),Dr(t,Rt()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(K(345));case 2:Ro(t,Ir,Wi);break;case 3:if(Ls(t,n),(n&130023424)===n&&(e=$1+500-Rt(),10<e)){if(Yf(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){br(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=l0(Ro.bind(null,t,Ir,Wi),e);break}Ro(t,Ir,Wi);break;case 4:if(Ls(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var o=31-$n(n);s=1<<o,o=e[o],o>i&&(i=o),n&=~s}if(n=i,n=Rt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*_N(n/1960))-n,10<n){t.timeoutHandle=l0(Ro.bind(null,t,Ir,Wi),n);break}Ro(t,Ir,Wi);break;case 5:Ro(t,Ir,Wi);break;default:throw Error(K(329))}}}return Dr(t,Rt()),t.callbackNode===r?KP.bind(null,t):null}function P0(t,e){var r=gc;return t.current.memoizedState.isDehydrated&&(jo(t,e).flags|=256),t=dp(t,e),t!==2&&(e=Ir,Ir=r,e!==null&&I0(e)),t}function I0(t){Ir===null?Ir=t:Ir.push.apply(Ir,t)}function xN(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!Yn(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ls(t,e){for(e&=~z1,e&=~sm,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-$n(e),n=1<<r;t[r]=-1,e&=~n}}function OS(t){if(ze&6)throw Error(K(327));Sl();var e=Yf(t,0);if(!(e&1))return Dr(t,Rt()),null;var r=dp(t,e);if(t.tag!==0&&r===2){var n=e0(t);n!==0&&(e=n,r=P0(t,n))}if(r===1)throw r=jc,jo(t,0),Ls(t,e),Dr(t,Rt()),r;if(r===6)throw Error(K(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ro(t,Ir,Wi),Dr(t,Rt()),null}function G1(t,e){var r=ze;ze|=1;try{return t(e)}finally{ze=r,ze===0&&(Ll=Rt()+500,tm&&lo())}}function ra(t){$s!==null&&$s.tag===0&&!(ze&6)&&Sl();var e=ze;ze|=1;var r=xn.transition,n=Ke;try{if(xn.transition=null,Ke=1,t)return t()}finally{Ke=n,xn.transition=r,ze=e,!(ze&6)&&lo()}}function j1(){jr=hl.current,lt(hl)}function jo(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,QD(r)),Dt!==null)for(r=Dt.return;r!==null;){var n=r;switch(S1(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Jf();break;case 3:Fl(),lt(Mr),lt(pr),M1();break;case 5:O1(n);break;case 4:Fl();break;case 13:lt(yt);break;case 19:lt(yt);break;case 10:C1(n.type._context);break;case 22:case 23:j1()}r=r.return}if(Qt=t,Dt=t=Js(t.current,null),nr=jr=e,Ut=0,jc=null,z1=sm=ta=0,Ir=gc=null,zo!==null){for(e=0;e<zo.length;e++)if(r=zo[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=i,n.next=o}r.pending=n}zo=null}return t}function QP(t,e){do{var r=Dt;try{if(A1(),_f.current=lp,ap){for(var n=bt.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}ap=!1}if(ea=0,Wt=Lt=bt=null,pc=!1,zc=0,U1.current=null,r===null||r.return===null){Ut=1,jc=e,Dt=null;break}e:{var s=t,o=r.return,a=r,c=e;if(e=nr,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var h=c,f=a,p=f.tag;if(!(f.mode&1)&&(p===0||p===11||p===15)){var m=f.alternate;m?(f.updateQueue=m.updateQueue,f.memoizedState=m.memoizedState,f.lanes=m.lanes):(f.updateQueue=null,f.memoizedState=null)}var y=yS(o);if(y!==null){y.flags&=-257,_S(y,o,a,s,e),y.mode&1&&vS(s,h,e),e=y,c=h;var _=e.updateQueue;if(_===null){var S=new Set;S.add(c),e.updateQueue=S}else _.add(c);break e}else{if(!(e&1)){vS(s,h,e),H1();break e}c=Error(K(426))}}else if(pt&&a.mode&1){var A=yS(o);if(A!==null){!(A.flags&65536)&&(A.flags|=256),_S(A,o,a,s,e),E1(Bl(c,a));break e}}s=c=Bl(c,a),Ut!==4&&(Ut=2),gc===null?gc=[s]:gc.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var E=kP(s,c,e);hS(s,E);break e;case 1:a=c;var w=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(qs===null||!qs.has(x)))){s.flags|=65536,e&=-e,s.lanes|=e;var T=DP(s,a,e);hS(s,T);break e}}s=s.return}while(s!==null)}JP(r)}catch(P){e=P,Dt===r&&r!==null&&(Dt=r=r.return);continue}break}while(!0)}function qP(){var t=up.current;return up.current=lp,t===null?lp:t}function H1(){(Ut===0||Ut===3||Ut===2)&&(Ut=4),Qt===null||!(ta&268435455)&&!(sm&268435455)||Ls(Qt,nr)}function dp(t,e){var r=ze;ze|=2;var n=qP();(Qt!==t||nr!==e)&&(Wi=null,jo(t,e));do try{bN();break}catch(i){QP(t,i)}while(!0);if(A1(),ze=r,up.current=n,Dt!==null)throw Error(K(261));return Qt=null,nr=0,Ut}function bN(){for(;Dt!==null;)ZP(Dt)}function wN(){for(;Dt!==null&&!Xk();)ZP(Dt)}function ZP(t){var e=tI(t.alternate,t,jr);t.memoizedProps=t.pendingProps,e===null?JP(t):Dt=e,U1.current=null}function JP(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=mN(r,e),r!==null){r.flags&=32767,Dt=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ut=6,Dt=null;return}}else if(r=pN(r,e,jr),r!==null){Dt=r;return}if(e=e.sibling,e!==null){Dt=e;return}Dt=e=t}while(e!==null);Ut===0&&(Ut=5)}function Ro(t,e,r){var n=Ke,i=xn.transition;try{xn.transition=null,Ke=1,SN(t,e,r,n)}finally{xn.transition=i,Ke=n}return null}function SN(t,e,r,n){do Sl();while($s!==null);if(ze&6)throw Error(K(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(K(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(nD(t,s),t===Qt&&(Dt=Qt=null,nr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Id||(Id=!0,rI(Xf,function(){return Sl(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=xn.transition,xn.transition=null;var o=Ke;Ke=1;var a=ze;ze|=4,U1.current=null,vN(t,r),XP(r,t),jD(o0),Kf=!!s0,o0=s0=null,t.current=r,yN(r),Yk(),ze=a,Ke=o,xn.transition=s}else t.current=r;if(Id&&(Id=!1,$s=t,hp=i),s=t.pendingLanes,s===0&&(qs=null),qk(r.stateNode),Dr(t,Rt()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(cp)throw cp=!1,t=A0,A0=null,t;return hp&1&&t.tag!==0&&Sl(),s=t.pendingLanes,s&1?t===C0?vc++:(vc=0,C0=t):vc=0,lo(),null}function Sl(){if($s!==null){var t=kC(hp),e=xn.transition,r=Ke;try{if(xn.transition=null,Ke=16>t?16:t,$s===null)var n=!1;else{if(t=$s,$s=null,hp=0,ze&6)throw Error(K(331));var i=ze;for(ze|=4,ue=t.current;ue!==null;){var s=ue,o=s.child;if(ue.flags&16){var a=s.deletions;if(a!==null){for(var c=0;c<a.length;c++){var h=a[c];for(ue=h;ue!==null;){var f=ue;switch(f.tag){case 0:case 11:case 15:mc(8,f,s)}var p=f.child;if(p!==null)p.return=f,ue=p;else for(;ue!==null;){f=ue;var m=f.sibling,y=f.return;if(HP(f),f===h){ue=null;break}if(m!==null){m.return=y,ue=m;break}ue=y}}}var _=s.alternate;if(_!==null){var S=_.child;if(S!==null){_.child=null;do{var A=S.sibling;S.sibling=null,S=A}while(S!==null)}}ue=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ue=o;else e:for(;ue!==null;){if(s=ue,s.flags&2048)switch(s.tag){case 0:case 11:case 15:mc(9,s,s.return)}var E=s.sibling;if(E!==null){E.return=s.return,ue=E;break e}ue=s.return}}var w=t.current;for(ue=w;ue!==null;){o=ue;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,ue=x;else e:for(o=w;ue!==null;){if(a=ue,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:im(9,a)}}catch(P){Tt(a,a.return,P)}if(a===o){ue=null;break e}var T=a.sibling;if(T!==null){T.return=a.return,ue=T;break e}ue=a.return}}if(ze=i,lo(),Ai&&typeof Ai.onPostCommitFiberRoot=="function")try{Ai.onPostCommitFiberRoot(Qp,t)}catch{}n=!0}return n}finally{Ke=r,xn.transition=e}}return!1}function MS(t,e,r){e=Bl(r,e),e=kP(t,e,1),t=Qs(t,e,1),e=br(),t!==null&&(uh(t,1,e),Dr(t,e))}function Tt(t,e,r){if(t.tag===3)MS(t,t,r);else for(;e!==null;){if(e.tag===3){MS(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(qs===null||!qs.has(n))){t=Bl(r,t),t=DP(e,t,1),e=Qs(e,t,1),t=br(),e!==null&&(uh(e,1,t),Dr(e,t));break}}e=e.return}}function EN(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=br(),t.pingedLanes|=t.suspendedLanes&r,Qt===t&&(nr&r)===r&&(Ut===4||Ut===3&&(nr&130023424)===nr&&500>Rt()-$1?jo(t,0):z1|=r),Dr(t,e)}function eI(t,e){e===0&&(t.mode&1?(e=_d,_d<<=1,!(_d&130023424)&&(_d=4194304)):e=1);var r=br();t=us(t,e),t!==null&&(uh(t,e,r),Dr(t,r))}function TN(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),eI(t,r)}function AN(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(K(314))}n!==null&&n.delete(e),eI(t,r)}var tI;tI=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Mr.current)Rr=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Rr=!1,fN(t,e,r);Rr=!!(t.flags&131072)}else Rr=!1,pt&&e.flags&1048576&&sP(e,rp,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;bf(t,e),t=e.pendingProps;var i=kl(e,pr.current);wl(e,r),i=D1(null,e,n,t,i,r);var s=N1();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,kr(n)?(s=!0,ep(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,I1(e),i.updater=nm,e.stateNode=i,i._reactInternals=e,m0(e,n,t,r),e=y0(null,e,n,!0,s,r)):(e.tag=0,pt&&s&&w1(e),_r(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(bf(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=PN(n),t=Nn(n,t),i){case 0:e=v0(null,e,n,t,r);break e;case 1:e=wS(null,e,n,t,r);break e;case 11:e=xS(null,e,n,t,r);break e;case 14:e=bS(null,e,n,Nn(n.type,t),r);break e}throw Error(K(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Nn(n,i),v0(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Nn(n,i),wS(t,e,n,i,r);case 3:e:{if(LP(e),t===null)throw Error(K(387));n=e.pendingProps,s=e.memoizedState,i=s.element,hP(t,e),sp(e,n,null,r);var o=e.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Bl(Error(K(423)),e),e=SS(t,e,n,r,i);break e}else if(n!==i){i=Bl(Error(K(424)),e),e=SS(t,e,n,r,i);break e}else for(Wr=Ks(e.stateNode.containerInfo.firstChild),Xr=e,pt=!0,Bn=null,r=uP(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Dl(),n===i){e=cs(t,e,r);break e}_r(t,e,n,r)}e=e.child}return e;case 5:return dP(e),t===null&&d0(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,a0(n,i)?o=null:s!==null&&a0(n,s)&&(e.flags|=32),BP(t,e),_r(t,e,o,r),e.child;case 6:return t===null&&d0(e),null;case 13:return UP(t,e,r);case 4:return R1(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Nl(e,null,n,r):_r(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Nn(n,i),xS(t,e,n,i,r);case 7:return _r(t,e,e.pendingProps,r),e.child;case 8:return _r(t,e,e.pendingProps.children,r),e.child;case 12:return _r(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Ze(np,n._currentValue),n._currentValue=o,s!==null)if(Yn(s.value,o)){if(s.children===i.children&&!Mr.current){e=cs(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var c=a.firstContext;c!==null;){if(c.context===n){if(s.tag===1){c=rs(-1,r&-r),c.tag=2;var h=s.updateQueue;if(h!==null){h=h.shared;var f=h.pending;f===null?c.next=c:(c.next=f.next,f.next=c),h.pending=c}}s.lanes|=r,c=s.alternate,c!==null&&(c.lanes|=r),f0(s.return,r,e),a.lanes|=r;break}c=c.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(K(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),f0(o,r,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}_r(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,wl(e,r),i=bn(i),n=n(i),e.flags|=1,_r(t,e,n,r),e.child;case 14:return n=e.type,i=Nn(n,e.pendingProps),i=Nn(n.type,i),bS(t,e,n,i,r);case 15:return NP(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Nn(n,i),bf(t,e),e.tag=1,kr(n)?(t=!0,ep(e)):t=!1,wl(e,r),MP(e,n,i),m0(e,n,i,r),y0(null,e,n,!0,t,r);case 19:return zP(t,e,r);case 22:return FP(t,e,r)}throw Error(K(156,e.tag))};function rI(t,e){return IC(t,e)}function CN(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(t,e,r,n){return new CN(t,e,r,n)}function V1(t){return t=t.prototype,!(!t||!t.isReactComponent)}function PN(t){if(typeof t=="function")return V1(t)?1:0;if(t!=null){if(t=t.$$typeof,t===c1)return 11;if(t===h1)return 14}return 2}function Js(t,e){var r=t.alternate;return r===null?(r=mn(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Ef(t,e,r,n,i,s){var o=2;if(n=t,typeof t=="function")V1(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case tl:return Ho(r.children,i,s,e);case u1:o=8,i|=8;break;case Uy:return t=mn(12,r,e,i|2),t.elementType=Uy,t.lanes=s,t;case zy:return t=mn(13,r,e,i),t.elementType=zy,t.lanes=s,t;case $y:return t=mn(19,r,e,i),t.elementType=$y,t.lanes=s,t;case dC:return om(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case cC:o=10;break e;case hC:o=9;break e;case c1:o=11;break e;case h1:o=14;break e;case ks:o=16,n=null;break e}throw Error(K(130,t==null?t:typeof t,""))}return e=mn(o,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function Ho(t,e,r,n){return t=mn(7,t,n,e),t.lanes=r,t}function om(t,e,r,n){return t=mn(22,t,n,e),t.elementType=dC,t.lanes=r,t.stateNode={isHidden:!1},t}function Rv(t,e,r){return t=mn(6,t,null,e),t.lanes=r,t}function Ov(t,e,r){return e=mn(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function IN(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=hv(0),this.expirationTimes=hv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hv(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function W1(t,e,r,n,i,s,o,a,c){return t=new IN(t,e,r,a,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=mn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},I1(s),t}function RN(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:el,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function nI(t){if(!t)return no;t=t._reactInternals;e:{if(ca(t)!==t||t.tag!==1)throw Error(K(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(kr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(K(171))}if(t.tag===1){var r=t.type;if(kr(r))return nP(t,r,e)}return e}function iI(t,e,r,n,i,s,o,a,c){return t=W1(r,n,!0,t,i,s,o,a,c),t.context=nI(null),r=t.current,n=br(),i=Zs(r),s=rs(n,i),s.callback=e??null,Qs(r,s,i),t.current.lanes=i,uh(t,i,n),Dr(t,n),t}function am(t,e,r,n){var i=e.current,s=br(),o=Zs(i);return r=nI(r),e.context===null?e.context=r:e.pendingContext=r,e=rs(s,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Qs(i,e,o),t!==null&&(Gn(t,i,o,s),yf(t,i,o)),o}function fp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function kS(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function X1(t,e){kS(t,e),(t=t.alternate)&&kS(t,e)}function ON(){return null}var sI=typeof reportError=="function"?reportError:function(t){console.error(t)};function Y1(t){this._internalRoot=t}lm.prototype.render=Y1.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(K(409));am(t,e,null,null)};lm.prototype.unmount=Y1.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ra(function(){am(null,t,null,null)}),e[ls]=null}};function lm(t){this._internalRoot=t}lm.prototype.unstable_scheduleHydration=function(t){if(t){var e=FC();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Bs.length&&e!==0&&e<Bs[r].priority;r++);Bs.splice(r,0,t),r===0&&LC(t)}};function K1(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function um(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function DS(){}function MN(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var h=fp(o);s.call(h)}}var o=iI(e,n,t,0,null,!1,!1,"",DS);return t._reactRootContainer=o,t[ls]=o.current,Nc(t.nodeType===8?t.parentNode:t),ra(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var a=n;n=function(){var h=fp(c);a.call(h)}}var c=W1(t,0,!1,null,null,!1,!1,"",DS);return t._reactRootContainer=c,t[ls]=c.current,Nc(t.nodeType===8?t.parentNode:t),ra(function(){am(e,c,r,n)}),c}function cm(t,e,r,n,i){var s=r._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var c=fp(o);a.call(c)}}am(e,o,t,i)}else o=MN(r,e,t,i,n);return fp(o)}DC=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Ku(e.pendingLanes);r!==0&&(p1(e,r|1),Dr(e,Rt()),!(ze&6)&&(Ll=Rt()+500,lo()))}break;case 13:ra(function(){var n=us(t,1);if(n!==null){var i=br();Gn(n,t,1,i)}}),X1(t,1)}};m1=function(t){if(t.tag===13){var e=us(t,134217728);if(e!==null){var r=br();Gn(e,t,134217728,r)}X1(t,134217728)}};NC=function(t){if(t.tag===13){var e=Zs(t),r=us(t,e);if(r!==null){var n=br();Gn(r,t,e,n)}X1(t,e)}};FC=function(){return Ke};BC=function(t,e){var r=Ke;try{return Ke=t,e()}finally{Ke=r}};qy=function(t,e,r){switch(e){case"input":if(Hy(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=em(n);if(!i)throw Error(K(90));pC(n),Hy(n,i)}}}break;case"textarea":gC(t,r);break;case"select":e=r.value,e!=null&&yl(t,!!r.multiple,e,!1)}};SC=G1;EC=ra;var kN={usingClientEntryPoint:!1,Events:[hh,sl,em,bC,wC,G1]},Uu={findFiberByHostInstance:Uo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},DN={bundleType:Uu.bundleType,version:Uu.version,rendererPackageName:Uu.rendererPackageName,rendererConfig:Uu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:gs.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=CC(t),t===null?null:t.stateNode},findFiberByHostInstance:Uu.findFiberByHostInstance||ON,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rd.isDisabled&&Rd.supportsFiber)try{Qp=Rd.inject(DN),Ai=Rd}catch{}}Qr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kN;Qr.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!K1(e))throw Error(K(200));return RN(t,e,null,r)};Qr.createRoot=function(t,e){if(!K1(t))throw Error(K(299));var r=!1,n="",i=sI;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=W1(t,1,!1,null,null,r,!1,n,i),t[ls]=e.current,Nc(t.nodeType===8?t.parentNode:t),new Y1(e)};Qr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(K(188)):(t=Object.keys(t).join(","),Error(K(268,t)));return t=CC(e),t=t===null?null:t.stateNode,t};Qr.flushSync=function(t){return ra(t)};Qr.hydrate=function(t,e,r){if(!um(e))throw Error(K(200));return cm(null,t,e,!0,r)};Qr.hydrateRoot=function(t,e,r){if(!K1(t))throw Error(K(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",o=sI;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=iI(e,null,t,1,r??null,i,!1,s,o),t[ls]=e.current,Nc(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new lm(e)};Qr.render=function(t,e,r){if(!um(e))throw Error(K(200));return cm(null,t,e,!1,r)};Qr.unmountComponentAtNode=function(t){if(!um(t))throw Error(K(40));return t._reactRootContainer?(ra(function(){cm(null,null,t,!1,function(){t._reactRootContainer=null,t[ls]=null})}),!0):!1};Qr.unstable_batchedUpdates=G1;Qr.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!um(r))throw Error(K(200));if(t==null||t._reactInternals===void 0)throw Error(K(38));return cm(t,e,r,!1,n)};Qr.version="18.3.1-next-f1338f8080-20240426";function oI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(oI)}catch(t){console.error(t)}}oI(),oC.exports=Qr;var aI=oC.exports,NS=aI;By.createRoot=NS.createRoot,By.hydrateRoot=NS.hydrateRoot;function $e(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];throw new Error(typeof t=="number"?"[MobX] minified error nr: "+t+(r.length?" "+r.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+t)}var NN={};function Q1(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:NN}var lI=Object.assign,pp=Object.getOwnPropertyDescriptor,Pi=Object.defineProperty,hm=Object.prototype,R0=[];Object.freeze(R0);var uI={};Object.freeze(uI);var FN=typeof Proxy<"u",BN=Object.toString();function cI(){FN||$e("Proxy not available")}function hI(t){var e=!1;return function(){if(!e)return e=!0,t.apply(this,arguments)}}var dl=function(){};function Kn(t){return typeof t=="function"}function na(t){var e=typeof t;switch(e){case"string":case"symbol":case"number":return!0}return!1}function dm(t){return t!==null&&typeof t=="object"}function hs(t){if(!dm(t))return!1;var e=Object.getPrototypeOf(t);if(e==null)return!0;var r=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r.toString()===BN}function dI(t){var e=t==null?void 0:t.constructor;return e?e.name==="GeneratorFunction"||e.displayName==="GeneratorFunction":!1}function fh(t,e,r){Pi(t,e,{enumerable:!1,writable:!0,configurable:!0,value:r})}function fI(t,e,r){Pi(t,e,{enumerable:!1,writable:!1,configurable:!0,value:r})}function ha(t,e){var r="isMobX"+t;return e.prototype[r]=!0,function(n){return dm(n)&&n[r]===!0}}function eu(t){return t!=null&&Object.prototype.toString.call(t)==="[object Map]"}function LN(t){var e=Object.getPrototypeOf(t),r=Object.getPrototypeOf(e),n=Object.getPrototypeOf(r);return n===null}function Ki(t){return t!=null&&Object.prototype.toString.call(t)==="[object Set]"}var pI=typeof Object.getOwnPropertySymbols<"u";function UN(t){var e=Object.keys(t);if(!pI)return e;var r=Object.getOwnPropertySymbols(t);return r.length?[].concat(e,r.filter(function(n){return hm.propertyIsEnumerable.call(t,n)})):e}var Ul=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:pI?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames;function mI(t){return t===null?null:typeof t=="object"?""+t:t}function ns(t,e){return hm.hasOwnProperty.call(t,e)}var zN=Object.getOwnPropertyDescriptors||function(e){var r={};return Ul(e).forEach(function(n){r[n]=pp(e,n)}),r};function Hr(t,e){return!!(t&e)}function Vr(t,e,r){return r?t|=e:t&=~e,t}function FS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function $N(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,jN(n.key),n)}}function tu(t,e,r){return e&&$N(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function fl(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=HN(t))||e){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ia(){return ia=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ia.apply(null,arguments)}function gI(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,O0(t,e)}function O0(t,e){return O0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},O0(t,e)}function GN(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function jN(t){var e=GN(t,"string");return typeof e=="symbol"?e:e+""}function HN(t,e){if(t){if(typeof t=="string")return FS(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?FS(t,e):void 0}}var Ei=Symbol("mobx-stored-annotations");function Ii(t){function e(r,n){if(ph(n))return t.decorate_20223_(r,n);ru(r,n,t)}return Object.assign(e,t)}function ru(t,e,r){ns(t,Ei)||fh(t,Ei,ia({},t[Ei])),JN(r)||(t[Ei][e]=r)}function VN(t){return ns(t,Ei)||fh(t,Ei,ia({},t[Ei])),t[Ei]}function ph(t){return typeof t=="object"&&typeof t.kind=="string"}var we=Symbol("mobx administration"),uo=function(){function t(r){r===void 0&&(r="Atom"),this.name_=void 0,this.flags_=0,this.observers_=new Set,this.lastAccessedBy_=0,this.lowestObserverState_=Ve.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=r}var e=t.prototype;return e.onBO=function(){this.onBOL&&this.onBOL.forEach(function(n){return n()})},e.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(n){return n()})},e.reportObserved=function(){return MI(this)},e.reportChanged=function(){gn(),kI(this),vn()},e.toString=function(){return this.name_},tu(t,[{key:"isBeingObserved",get:function(){return Hr(this.flags_,t.isBeingObservedMask_)},set:function(n){this.flags_=Vr(this.flags_,t.isBeingObservedMask_,n)}},{key:"isPendingUnobservation",get:function(){return Hr(this.flags_,t.isPendingUnobservationMask_)},set:function(n){this.flags_=Vr(this.flags_,t.isPendingUnobservationMask_,n)}},{key:"diffValue",get:function(){return Hr(this.flags_,t.diffValueMask_)?1:0},set:function(n){this.flags_=Vr(this.flags_,t.diffValueMask_,n===1)}}])}();uo.isBeingObservedMask_=1;uo.isPendingUnobservationMask_=2;uo.diffValueMask_=4;var q1=ha("Atom",uo);function vI(t,e,r){e===void 0&&(e=dl),r===void 0&&(r=dl);var n=new uo(t);return e!==dl&&iF(n,e),r!==dl&&LI(n,r),n}function WN(t,e){return t===e}function XN(t,e){return rx(t,e)}function YN(t,e){return rx(t,e,1)}function KN(t,e){return Object.is?Object.is(t,e):t===e?t!==0||1/t===1/e:t!==t&&e!==e}var mp={identity:WN,structural:XN,default:KN,shallow:YN};function sa(t,e,r){return jI(t)?t:Array.isArray(t)?_t.array(t,{name:r}):hs(t)?_t.object(t,void 0,{name:r}):eu(t)?_t.map(t,{name:r}):Ki(t)?_t.set(t,{name:r}):typeof t=="function"&&!_m(t)&&!Vc(t)?dI(t)?zl(t):Hc(r,t):t}function QN(t,e,r){if(t==null||bm(t)||xm(t)||fa(t)||nu(t))return t;if(Array.isArray(t))return _t.array(t,{name:r,deep:!1});if(hs(t))return _t.object(t,void 0,{name:r,deep:!1});if(eu(t))return _t.map(t,{name:r,deep:!1});if(Ki(t))return _t.set(t,{name:r,deep:!1})}function fm(t){return t}function qN(t,e){return rx(t,e)?e:t}var ZN="override";function JN(t){return t.annotationType_===ZN}function mh(t,e){return{annotationType_:t,options_:e,make_:e3,extend_:t3,decorate_20223_:r3}}function e3(t,e,r,n){var i;if((i=this.options_)!=null&&i.bound)return this.extend_(t,e,r,!1)===null?0:1;if(n===t.target_)return this.extend_(t,e,r,!1)===null?0:2;if(_m(r.value))return 1;var s=yI(t,this,e,r,!1);return Pi(n,e,s),2}function t3(t,e,r,n){var i=yI(t,this,e,r);return t.defineProperty_(e,i,n)}function r3(t,e){var r=e.kind,n=e.name,i=e.addInitializer,s=this,o=function(h){var f,p,m,y;return oa((f=(p=s.options_)==null?void 0:p.name)!=null?f:n.toString(),h,(m=(y=s.options_)==null?void 0:y.autoAction)!=null?m:!1)};if(r=="field"){i(function(){ru(this,n,s)});return}if(r=="method"){var a;return _m(t)||(t=o(t)),(a=this.options_)!=null&&a.bound&&i(function(){var c=this,h=c[n].bind(c);h.isMobxAction=!0,c[n]=h}),t}$e("Cannot apply '"+s.annotationType_+"' to '"+String(n)+"' (kind: "+r+"):"+(`
'`+s.annotationType_+"' can only be used on properties with a function value."))}function n3(t,e,r,n){e.annotationType_,n.value}function yI(t,e,r,n,i){var s,o,a,c,h,f,p;i===void 0&&(i=ee.safeDescriptors),n3(t,e,r,n);var m=n.value;if((s=e.options_)!=null&&s.bound){var y;m=m.bind((y=t.proxy_)!=null?y:t.target_)}return{value:oa((o=(a=e.options_)==null?void 0:a.name)!=null?o:r.toString(),m,(c=(h=e.options_)==null?void 0:h.autoAction)!=null?c:!1,(f=e.options_)!=null&&f.bound?(p=t.proxy_)!=null?p:t.target_:void 0),configurable:i?t.isPlainObject_:!0,enumerable:!1,writable:!i}}function _I(t,e){return{annotationType_:t,options_:e,make_:i3,extend_:s3,decorate_20223_:o3}}function i3(t,e,r,n){var i;if(n===t.target_)return this.extend_(t,e,r,!1)===null?0:2;if((i=this.options_)!=null&&i.bound&&(!ns(t.target_,e)||!Vc(t.target_[e]))&&this.extend_(t,e,r,!1)===null)return 0;if(Vc(r.value))return 1;var s=xI(t,this,e,r,!1,!1);return Pi(n,e,s),2}function s3(t,e,r,n){var i,s=xI(t,this,e,r,(i=this.options_)==null?void 0:i.bound);return t.defineProperty_(e,s,n)}function o3(t,e){var r,n=e.name,i=e.addInitializer;return Vc(t)||(t=zl(t)),(r=this.options_)!=null&&r.bound&&i(function(){var s=this,o=s[n].bind(s);o.isMobXFlow=!0,s[n]=o}),t}function a3(t,e,r,n){e.annotationType_,n.value}function xI(t,e,r,n,i,s){s===void 0&&(s=ee.safeDescriptors),a3(t,e,r,n);var o=n.value;if(Vc(o)||(o=zl(o)),i){var a;o=o.bind((a=t.proxy_)!=null?a:t.target_),o.isMobXFlow=!0}return{value:o,configurable:s?t.isPlainObject_:!0,enumerable:!1,writable:!s}}function Z1(t,e){return{annotationType_:t,options_:e,make_:l3,extend_:u3,decorate_20223_:c3}}function l3(t,e,r){return this.extend_(t,e,r,!1)===null?0:1}function u3(t,e,r,n){return h3(t,this,e,r),t.defineComputedProperty_(e,ia({},this.options_,{get:r.get,set:r.set}),n)}function c3(t,e){var r=this,n=e.name,i=e.addInitializer;return i(function(){var s=pa(this)[we],o=ia({},r.options_,{get:t,context:this});o.name||(o.name="ObservableObject."+n.toString()),s.values_.set(n,new Qn(o))}),function(){return this[we].getObservablePropValue_(n)}}function h3(t,e,r,n){e.annotationType_,n.get}function pm(t,e){return{annotationType_:t,options_:e,make_:d3,extend_:f3,decorate_20223_:p3}}function d3(t,e,r){return this.extend_(t,e,r,!1)===null?0:1}function f3(t,e,r,n){var i,s;return m3(t,this),t.defineObservableProperty_(e,r.value,(i=(s=this.options_)==null?void 0:s.enhancer)!=null?i:sa,n)}function p3(t,e){var r=this,n=e.kind,i=e.name,s=new WeakSet;function o(a,c){var h,f,p=pa(a)[we],m=new Vo(c,(h=(f=r.options_)==null?void 0:f.enhancer)!=null?h:sa,"ObservableObject."+i.toString(),!1);p.values_.set(i,m),s.add(a)}if(n=="accessor")return{get:function(){return s.has(this)||o(this,t.get.call(this)),this[we].getObservablePropValue_(i)},set:function(c){return s.has(this)||o(this,c),this[we].setObservablePropValue_(i,c)},init:function(c){return s.has(this)||o(this,c),c}}}function m3(t,e,r,n){e.annotationType_}var g3="true",v3=bI();function bI(t){return{annotationType_:g3,options_:t,make_:y3,extend_:_3,decorate_20223_:x3}}function y3(t,e,r,n){var i,s;if(r.get)return mm.make_(t,e,r,n);if(r.set){var o=oa(e.toString(),r.set);return n===t.target_?t.defineProperty_(e,{configurable:ee.safeDescriptors?t.isPlainObject_:!0,set:o})===null?0:2:(Pi(n,e,{configurable:!0,set:o}),2)}if(n!==t.target_&&typeof r.value=="function"){var a;if(dI(r.value)){var c,h=(c=this.options_)!=null&&c.autoBind?zl.bound:zl;return h.make_(t,e,r,n)}var f=(a=this.options_)!=null&&a.autoBind?Hc.bound:Hc;return f.make_(t,e,r,n)}var p=((i=this.options_)==null?void 0:i.deep)===!1?_t.ref:_t;if(typeof r.value=="function"&&(s=this.options_)!=null&&s.autoBind){var m;r.value=r.value.bind((m=t.proxy_)!=null?m:t.target_)}return p.make_(t,e,r,n)}function _3(t,e,r,n){var i,s;if(r.get)return mm.extend_(t,e,r,n);if(r.set)return t.defineProperty_(e,{configurable:ee.safeDescriptors?t.isPlainObject_:!0,set:oa(e.toString(),r.set)},n);if(typeof r.value=="function"&&(i=this.options_)!=null&&i.autoBind){var o;r.value=r.value.bind((o=t.proxy_)!=null?o:t.target_)}var a=((s=this.options_)==null?void 0:s.deep)===!1?_t.ref:_t;return a.extend_(t,e,r,n)}function x3(t,e){$e("'"+this.annotationType_+"' cannot be used as a decorator")}var b3="observable",w3="observable.ref",S3="observable.shallow",E3="observable.struct",wI={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(wI);function Od(t){return t||wI}var M0=pm(b3),T3=pm(w3,{enhancer:fm}),A3=pm(S3,{enhancer:QN}),C3=pm(E3,{enhancer:qN}),SI=Ii(M0);function Md(t){return t.deep===!0?sa:t.deep===!1?fm:I3(t.defaultDecorator)}function P3(t){var e;return t?(e=t.defaultDecorator)!=null?e:bI(t):void 0}function I3(t){var e,r;return t&&(e=(r=t.options_)==null?void 0:r.enhancer)!=null?e:sa}function EI(t,e,r){if(ph(e))return M0.decorate_20223_(t,e);if(na(e)){ru(t,e,M0);return}return jI(t)?t:hs(t)?_t.object(t,e,r):Array.isArray(t)?_t.array(t,e):eu(t)?_t.map(t,e):Ki(t)?_t.set(t,e):typeof t=="object"&&t!==null?t:_t.box(t,e)}lI(EI,SI);var R3={box:function(e,r){var n=Od(r);return new Vo(e,Md(n),n.name,!0,n.equals)},array:function(e,r){var n=Od(r);return(ee.useProxies===!1||n.proxy===!1?PF:yF)(e,Md(n),n.name)},map:function(e,r){var n=Od(r);return new VI(e,Md(n),n.name)},set:function(e,r){var n=Od(r);return new WI(e,Md(n),n.name)},object:function(e,r,n){return co(function(){return zI(ee.useProxies===!1||(n==null?void 0:n.proxy)===!1?pa({},n):pF({},n),e,r)})},ref:Ii(T3),shallow:Ii(A3),deep:SI,struct:Ii(C3)},_t=lI(EI,R3),TI="computed",O3="computed.struct",k0=Z1(TI),M3=Z1(O3,{equals:mp.structural}),mm=function(e,r){if(ph(r))return k0.decorate_20223_(e,r);if(na(r))return ru(e,r,k0);if(hs(e))return Ii(Z1(TI,e));var n=hs(r)?r:{};return n.get=e,n.name||(n.name=e.name||""),new Qn(n)};Object.assign(mm,k0);mm.struct=Ii(M3);var BS,LS,gp=0,k3=1,D3=(BS=(LS=pp(function(){},"name"))==null?void 0:LS.configurable)!=null?BS:!1,US={value:"action",configurable:!0,writable:!1,enumerable:!1};function oa(t,e,r,n){r===void 0&&(r=!1);function i(){return N3(t,r,e,n||this,arguments)}return i.isMobxAction=!0,i.toString=function(){return e.toString()},D3&&(US.value=t,Pi(i,"name",US)),i}function N3(t,e,r,n,i){var s=F3(t,e);try{return r.apply(n,i)}catch(o){throw s.error_=o,o}finally{B3(s)}}function F3(t,e,r,n){var i=!1,s=0,o=ee.trackingDerivation,a=!e||!o;gn();var c=ee.allowStateChanges;a&&(da(),c=gm(!0));var h=J1(!0),f={runAsAction_:a,prevDerivation_:o,prevAllowStateChanges_:c,prevAllowStateReads_:h,notifySpy_:i,startTime_:s,actionId_:k3++,parentActionId_:gp};return gp=f.actionId_,f}function B3(t){gp!==t.actionId_&&$e(30),gp=t.parentActionId_,t.error_!==void 0&&(ee.suppressReactionErrors=!0),vm(t.prevAllowStateChanges_),yc(t.prevAllowStateReads_),vn(),t.runAsAction_&&is(t.prevDerivation_),ee.suppressReactionErrors=!1}function L3(t,e){var r=gm(t);try{return e()}finally{vm(r)}}function gm(t){var e=ee.allowStateChanges;return ee.allowStateChanges=t,e}function vm(t){ee.allowStateChanges=t}var Vo=function(t){function e(n,i,s,o,a){var c;return s===void 0&&(s="ObservableValue"),a===void 0&&(a=mp.default),c=t.call(this,s)||this,c.enhancer=void 0,c.name_=void 0,c.equals=void 0,c.hasUnreportedChange_=!1,c.interceptors_=void 0,c.changeListeners_=void 0,c.value_=void 0,c.dehancer=void 0,c.enhancer=i,c.name_=s,c.equals=a,c.value_=i(n,void 0,s),c}gI(e,t);var r=e.prototype;return r.dehanceValue=function(i){return this.dehancer!==void 0?this.dehancer(i):i},r.set=function(i){this.value_,i=this.prepareNewValue_(i),i!==ee.UNCHANGED&&this.setNewValue_(i)},r.prepareNewValue_=function(i){if(fn(this)){var s=pn(this,{object:this,type:Ri,newValue:i});if(!s)return ee.UNCHANGED;i=s.newValue}return i=this.enhancer(i,this.value_,this.name_),this.equals(this.value_,i)?ee.UNCHANGED:i},r.setNewValue_=function(i){var s=this.value_;this.value_=i,this.reportChanged(),jn(this)&&Hn(this,{type:Ri,object:this,newValue:i,oldValue:s})},r.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},r.intercept_=function(i){return gh(this,i)},r.observe_=function(i,s){return s&&i({observableKind:"value",debugObjectName:this.name_,object:this,type:Ri,newValue:this.value_,oldValue:void 0}),vh(this,i)},r.raw=function(){return this.value_},r.toJSON=function(){return this.get()},r.toString=function(){return this.name_+"["+this.value_+"]"},r.valueOf=function(){return mI(this.get())},r[Symbol.toPrimitive]=function(){return this.valueOf()},e}(uo),Qn=function(){function t(r){this.dependenciesState_=Ve.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.observers_=new Set,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=Ve.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new yp(null),this.name_=void 0,this.triggeredBy_=void 0,this.flags_=0,this.derivation=void 0,this.setter_=void 0,this.isTracing_=vp.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,r.get||$e(31),this.derivation=r.get,this.name_=r.name||"ComputedValue",r.set&&(this.setter_=oa("ComputedValue-setter",r.set)),this.equals_=r.equals||(r.compareStructural||r.struct?mp.structural:mp.default),this.scope_=r.context,this.requiresReaction_=r.requiresReaction,this.keepAlive_=!!r.keepAlive}var e=t.prototype;return e.onBecomeStale_=function(){j3(this)},e.onBO=function(){this.onBOL&&this.onBOL.forEach(function(n){return n()})},e.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(n){return n()})},e.get=function(){if(this.isComputing&&$e(32,this.name_,this.derivation),ee.inBatch===0&&this.observers_.size===0&&!this.keepAlive_)D0(this)&&(this.warnAboutUntrackedRead_(),gn(),this.value_=this.computeValue_(!1),vn());else if(MI(this),D0(this)){var n=ee.trackingContext;this.keepAlive_&&!n&&(ee.trackingContext=this),this.trackAndCompute()&&G3(this),ee.trackingContext=n}var i=this.value_;if(Tf(i))throw i.cause;return i},e.set=function(n){if(this.setter_){this.isRunningSetter&&$e(33,this.name_),this.isRunningSetter=!0;try{this.setter_.call(this.scope_,n)}finally{this.isRunningSetter=!1}}else $e(34,this.name_)},e.trackAndCompute=function(){var n=this.value_,i=this.dependenciesState_===Ve.NOT_TRACKING_,s=this.computeValue_(!0),o=i||Tf(n)||Tf(s)||!this.equals_(n,s);return o&&(this.value_=s),o},e.computeValue_=function(n){this.isComputing=!0;var i=gm(!1),s;if(n)s=AI(this,this.derivation,this.scope_);else if(ee.disableErrorBoundaries===!0)s=this.derivation.call(this.scope_);else try{s=this.derivation.call(this.scope_)}catch(o){s=new yp(o)}return vm(i),this.isComputing=!1,s},e.suspend_=function(){this.keepAlive_||(N0(this),this.value_=void 0)},e.observe_=function(n,i){var s=this,o=!0,a=void 0;return J3(function(){var c=s.get();if(!o||i){var h=da();n({observableKind:"computed",debugObjectName:s.name_,type:Ri,object:s,newValue:c,oldValue:a}),is(h)}o=!1,a=c})},e.warnAboutUntrackedRead_=function(){},e.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},e.valueOf=function(){return mI(this.get())},e[Symbol.toPrimitive]=function(){return this.valueOf()},tu(t,[{key:"isComputing",get:function(){return Hr(this.flags_,t.isComputingMask_)},set:function(n){this.flags_=Vr(this.flags_,t.isComputingMask_,n)}},{key:"isRunningSetter",get:function(){return Hr(this.flags_,t.isRunningSetterMask_)},set:function(n){this.flags_=Vr(this.flags_,t.isRunningSetterMask_,n)}},{key:"isBeingObserved",get:function(){return Hr(this.flags_,t.isBeingObservedMask_)},set:function(n){this.flags_=Vr(this.flags_,t.isBeingObservedMask_,n)}},{key:"isPendingUnobservation",get:function(){return Hr(this.flags_,t.isPendingUnobservationMask_)},set:function(n){this.flags_=Vr(this.flags_,t.isPendingUnobservationMask_,n)}},{key:"diffValue",get:function(){return Hr(this.flags_,t.diffValueMask_)?1:0},set:function(n){this.flags_=Vr(this.flags_,t.diffValueMask_,n===1)}}])}();Qn.isComputingMask_=1;Qn.isRunningSetterMask_=2;Qn.isBeingObservedMask_=4;Qn.isPendingUnobservationMask_=8;Qn.diffValueMask_=16;var ym=ha("ComputedValue",Qn),Ve;(function(t){t[t.NOT_TRACKING_=-1]="NOT_TRACKING_",t[t.UP_TO_DATE_=0]="UP_TO_DATE_",t[t.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",t[t.STALE_=2]="STALE_"})(Ve||(Ve={}));var vp;(function(t){t[t.NONE=0]="NONE",t[t.LOG=1]="LOG",t[t.BREAK=2]="BREAK"})(vp||(vp={}));var yp=function(e){this.cause=void 0,this.cause=e};function Tf(t){return t instanceof yp}function D0(t){switch(t.dependenciesState_){case Ve.UP_TO_DATE_:return!1;case Ve.NOT_TRACKING_:case Ve.STALE_:return!0;case Ve.POSSIBLY_STALE_:{for(var e=J1(!0),r=da(),n=t.observing_,i=n.length,s=0;s<i;s++){var o=n[s];if(ym(o)){if(ee.disableErrorBoundaries)o.get();else try{o.get()}catch{return is(r),yc(e),!0}if(t.dependenciesState_===Ve.STALE_)return is(r),yc(e),!0}}return PI(t),is(r),yc(e),!1}}}function AI(t,e,r){var n=J1(!0);PI(t),t.newObserving_=new Array(t.runId_===0?100:t.observing_.length),t.unboundDepsCount_=0,t.runId_=++ee.runId;var i=ee.trackingDerivation;ee.trackingDerivation=t,ee.inBatch++;var s;if(ee.disableErrorBoundaries===!0)s=e.call(r);else try{s=e.call(r)}catch(o){s=new yp(o)}return ee.inBatch--,ee.trackingDerivation=i,U3(t),yc(n),s}function U3(t){for(var e=t.observing_,r=t.observing_=t.newObserving_,n=Ve.UP_TO_DATE_,i=0,s=t.unboundDepsCount_,o=0;o<s;o++){var a=r[o];a.diffValue===0&&(a.diffValue=1,i!==o&&(r[i]=a),i++),a.dependenciesState_>n&&(n=a.dependenciesState_)}for(r.length=i,t.newObserving_=null,s=e.length;s--;){var c=e[s];c.diffValue===0&&RI(c,t),c.diffValue=0}for(;i--;){var h=r[i];h.diffValue===1&&(h.diffValue=0,$3(h,t))}n!==Ve.UP_TO_DATE_&&(t.dependenciesState_=n,t.onBecomeStale_())}function N0(t){var e=t.observing_;t.observing_=[];for(var r=e.length;r--;)RI(e[r],t);t.dependenciesState_=Ve.NOT_TRACKING_}function CI(t){var e=da();try{return t()}finally{is(e)}}function da(){var t=ee.trackingDerivation;return ee.trackingDerivation=null,t}function is(t){ee.trackingDerivation=t}function J1(t){var e=ee.allowStateReads;return ee.allowStateReads=t,e}function yc(t){ee.allowStateReads=t}function PI(t){if(t.dependenciesState_!==Ve.UP_TO_DATE_){t.dependenciesState_=Ve.UP_TO_DATE_;for(var e=t.observing_,r=e.length;r--;)e[r].lowestObserverState_=Ve.UP_TO_DATE_}}var Af=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},Cf=!0,II=!1,ee=function(){var t=Q1();return t.__mobxInstanceCount>0&&!t.__mobxGlobals&&(Cf=!1),t.__mobxGlobals&&t.__mobxGlobals.version!==new Af().version&&(Cf=!1),Cf?t.__mobxGlobals?(t.__mobxInstanceCount+=1,t.__mobxGlobals.UNCHANGED||(t.__mobxGlobals.UNCHANGED={}),t.__mobxGlobals):(t.__mobxInstanceCount=1,t.__mobxGlobals=new Af):(setTimeout(function(){II||$e(35)},1),new Af)}();function z3(){if((ee.pendingReactions.length||ee.inBatch||ee.isRunningReactions)&&$e(36),II=!0,Cf){var t=Q1();--t.__mobxInstanceCount===0&&(t.__mobxGlobals=void 0),ee=new Af}}function $3(t,e){t.observers_.add(e),t.lowestObserverState_>e.dependenciesState_&&(t.lowestObserverState_=e.dependenciesState_)}function RI(t,e){t.observers_.delete(e),t.observers_.size===0&&OI(t)}function OI(t){t.isPendingUnobservation===!1&&(t.isPendingUnobservation=!0,ee.pendingUnobservations.push(t))}function gn(){ee.inBatch++}function vn(){if(--ee.inBatch===0){DI();for(var t=ee.pendingUnobservations,e=0;e<t.length;e++){var r=t[e];r.isPendingUnobservation=!1,r.observers_.size===0&&(r.isBeingObserved&&(r.isBeingObserved=!1,r.onBUO()),r instanceof Qn&&r.suspend_())}ee.pendingUnobservations=[]}}function MI(t){var e=ee.trackingDerivation;return e!==null?(e.runId_!==t.lastAccessedBy_&&(t.lastAccessedBy_=e.runId_,e.newObserving_[e.unboundDepsCount_++]=t,!t.isBeingObserved&&ee.trackingContext&&(t.isBeingObserved=!0,t.onBO())),t.isBeingObserved):(t.observers_.size===0&&ee.inBatch>0&&OI(t),!1)}function kI(t){t.lowestObserverState_!==Ve.STALE_&&(t.lowestObserverState_=Ve.STALE_,t.observers_.forEach(function(e){e.dependenciesState_===Ve.UP_TO_DATE_&&e.onBecomeStale_(),e.dependenciesState_=Ve.STALE_}))}function G3(t){t.lowestObserverState_!==Ve.STALE_&&(t.lowestObserverState_=Ve.STALE_,t.observers_.forEach(function(e){e.dependenciesState_===Ve.POSSIBLY_STALE_?e.dependenciesState_=Ve.STALE_:e.dependenciesState_===Ve.UP_TO_DATE_&&(t.lowestObserverState_=Ve.UP_TO_DATE_)}))}function j3(t){t.lowestObserverState_===Ve.UP_TO_DATE_&&(t.lowestObserverState_=Ve.POSSIBLY_STALE_,t.observers_.forEach(function(e){e.dependenciesState_===Ve.UP_TO_DATE_&&(e.dependenciesState_=Ve.POSSIBLY_STALE_,e.onBecomeStale_())}))}var ki=function(){function t(r,n,i,s){r===void 0&&(r="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=Ve.NOT_TRACKING_,this.runId_=0,this.unboundDepsCount_=0,this.flags_=0,this.isTracing_=vp.NONE,this.name_=r,this.onInvalidate_=n,this.errorHandler_=i,this.requiresObservable_=s}var e=t.prototype;return e.onBecomeStale_=function(){this.schedule_()},e.schedule_=function(){this.isScheduled||(this.isScheduled=!0,ee.pendingReactions.push(this),DI())},e.runReaction_=function(){if(!this.isDisposed){gn(),this.isScheduled=!1;var n=ee.trackingContext;if(ee.trackingContext=this,D0(this)){this.isTrackPending=!0;try{this.onInvalidate_()}catch(i){this.reportExceptionInDerivation_(i)}}ee.trackingContext=n,vn()}},e.track=function(n){if(!this.isDisposed){gn(),this.isRunning=!0;var i=ee.trackingContext;ee.trackingContext=this;var s=AI(this,n,void 0);ee.trackingContext=i,this.isRunning=!1,this.isTrackPending=!1,this.isDisposed&&N0(this),Tf(s)&&this.reportExceptionInDerivation_(s.cause),vn()}},e.reportExceptionInDerivation_=function(n){var i=this;if(this.errorHandler_){this.errorHandler_(n,this);return}if(ee.disableErrorBoundaries)throw n;var s="[mobx] uncaught error in '"+this+"'";ee.suppressReactionErrors||console.error(s,n),ee.globalReactionErrorHandlers.forEach(function(o){return o(n,i)})},e.dispose=function(){this.isDisposed||(this.isDisposed=!0,this.isRunning||(gn(),N0(this),vn()))},e.getDisposer_=function(n){var i=this,s=function o(){i.dispose(),n==null||n.removeEventListener==null||n.removeEventListener("abort",o)};return n==null||n.addEventListener==null||n.addEventListener("abort",s),s[we]=this,s},e.toString=function(){return"Reaction["+this.name_+"]"},e.trace=function(n){},tu(t,[{key:"isDisposed",get:function(){return Hr(this.flags_,t.isDisposedMask_)},set:function(n){this.flags_=Vr(this.flags_,t.isDisposedMask_,n)}},{key:"isScheduled",get:function(){return Hr(this.flags_,t.isScheduledMask_)},set:function(n){this.flags_=Vr(this.flags_,t.isScheduledMask_,n)}},{key:"isTrackPending",get:function(){return Hr(this.flags_,t.isTrackPendingMask_)},set:function(n){this.flags_=Vr(this.flags_,t.isTrackPendingMask_,n)}},{key:"isRunning",get:function(){return Hr(this.flags_,t.isRunningMask_)},set:function(n){this.flags_=Vr(this.flags_,t.isRunningMask_,n)}},{key:"diffValue",get:function(){return Hr(this.flags_,t.diffValueMask_)?1:0},set:function(n){this.flags_=Vr(this.flags_,t.diffValueMask_,n===1)}}])}();ki.isDisposedMask_=1;ki.isScheduledMask_=2;ki.isTrackPendingMask_=4;ki.isRunningMask_=8;ki.diffValueMask_=16;var H3=100,F0=function(e){return e()};function DI(){ee.inBatch>0||ee.isRunningReactions||F0(V3)}function V3(){ee.isRunningReactions=!0;for(var t=ee.pendingReactions,e=0;t.length>0;){++e===H3&&(console.error("[mobx] cycle in reaction: "+t[0]),t.splice(0));for(var r=t.splice(0),n=0,i=r.length;n<i;n++)r[n].runReaction_()}ee.isRunningReactions=!1}var _p=ha("Reaction",ki);function W3(t){var e=F0;F0=function(n){return t(function(){return e(n)})}}function _c(){return!1}function X3(t){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}var NI="action",Y3="action.bound",FI="autoAction",K3="autoAction.bound",Q3="<unnamed action>",B0=mh(NI),q3=mh(Y3,{bound:!0}),L0=mh(FI,{autoAction:!0}),Z3=mh(K3,{autoAction:!0,bound:!0});function BI(t){var e=function(n,i){if(Kn(n))return oa(n.name||Q3,n,t);if(Kn(i))return oa(n,i,t);if(ph(i))return(t?L0:B0).decorate_20223_(n,i);if(na(i))return ru(n,i,t?L0:B0);if(na(n))return Ii(mh(t?FI:NI,{name:n,autoAction:t}))};return e}var at=BI(!1);Object.assign(at,B0);var Hc=BI(!0);Object.assign(Hc,L0);at.bound=Ii(q3);Hc.bound=Ii(Z3);function _m(t){return Kn(t)&&t.isMobxAction===!0}function J3(t,e){var r,n,i,s;e===void 0&&(e=uI);var o=(r=(n=e)==null?void 0:n.name)!=null?r:"Autorun",a=!e.scheduler&&!e.delay,c;if(a)c=new ki(o,function(){this.track(p)},e.onError,e.requiresObservable);else{var h=tF(e),f=!1;c=new ki(o,function(){f||(f=!0,h(function(){f=!1,c.isDisposed||c.track(p)}))},e.onError,e.requiresObservable)}function p(){t(c)}return(i=e)!=null&&(i=i.signal)!=null&&i.aborted||c.schedule_(),c.getDisposer_((s=e)==null?void 0:s.signal)}var eF=function(e){return e()};function tF(t){return t.scheduler?t.scheduler:t.delay?function(e){return setTimeout(e,t.delay)}:eF}var rF="onBO",nF="onBUO";function iF(t,e,r){return UI(rF,t,e,r)}function LI(t,e,r){return UI(nF,t,e,r)}function UI(t,e,r,n){var i=wp(e),s=Kn(n)?n:r,o=t+"L";return i[o]?i[o].add(s):i[o]=new Set([s]),function(){var a=i[o];a&&(a.delete(s),a.size===0&&delete i[o])}}var sF="never",kd="always",oF="observed";function aF(t){t.isolateGlobalState===!0&&z3();var e=t.useProxies,r=t.enforceActions;if(e!==void 0&&(ee.useProxies=e===kd?!0:e===sF?!1:typeof Proxy<"u"),e==="ifavailable"&&(ee.verifyProxies=!0),r!==void 0){var n=r===kd?kd:r===oF;ee.enforceActions=n,ee.allowStateChanges=!(n===!0||n===kd)}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach(function(i){i in t&&(ee[i]=!!t[i])}),ee.allowStateReads=!ee.observableRequiresReaction,t.reactionScheduler&&W3(t.reactionScheduler)}function zI(t,e,r,n){var i=zN(e);return co(function(){var s=pa(t,n)[we];Ul(i).forEach(function(o){s.extend_(o,i[o],r&&o in r?r[o]:!0)})}),t}function lF(t,e){return $I(wp(t,e))}function $I(t){var e={name:t.name_};return t.observing_&&t.observing_.length>0&&(e.dependencies=uF(t.observing_).map($I)),e}function uF(t){return Array.from(new Set(t))}var cF=0;function GI(){this.message="FLOW_CANCELLED"}GI.prototype=Object.create(Error.prototype);var Mv=_I("flow"),hF=_I("flow.bound",{bound:!0}),zl=Object.assign(function(e,r){if(ph(r))return Mv.decorate_20223_(e,r);if(na(r))return ru(e,r,Mv);var n=e,i=n.name||"<unnamed flow>",s=function(){var a=this,c=arguments,h=++cF,f=at(i+" - runid: "+h+" - init",n).apply(a,c),p,m=void 0,y=new Promise(function(_,S){var A=0;p=S;function E(T){m=void 0;var P;try{P=at(i+" - runid: "+h+" - yield "+A++,f.next).call(f,T)}catch(M){return S(M)}x(P)}function w(T){m=void 0;var P;try{P=at(i+" - runid: "+h+" - yield "+A++,f.throw).call(f,T)}catch(M){return S(M)}x(P)}function x(T){if(Kn(T==null?void 0:T.then)){T.then(x,S);return}return T.done?_(T.value):(m=Promise.resolve(T.value),m.then(E,w))}E(void 0)});return y.cancel=at(i+" - runid: "+h+" - cancel",function(){try{m&&zS(m);var _=f.return(void 0),S=Promise.resolve(_.value);S.then(dl,dl),zS(S),p(new GI)}catch(A){p(A)}}),y};return s.isMobXFlow=!0,s},Mv);zl.bound=Ii(hF);function zS(t){Kn(t.cancel)&&t.cancel()}function Vc(t){return(t==null?void 0:t.isMobXFlow)===!0}function dF(t,e){return t?bm(t)||!!t[we]||q1(t)||_p(t)||ym(t):!1}function jI(t){return dF(t)}function Qi(t,e){e===void 0&&(e=void 0),gn();try{return t.apply(e)}finally{vn()}}function Na(t){return t[we]}var fF={has:function(e,r){return Na(e).has_(r)},get:function(e,r){return Na(e).get_(r)},set:function(e,r,n){var i;return na(r)?(i=Na(e).set_(r,n,!0))!=null?i:!0:!1},deleteProperty:function(e,r){var n;return na(r)?(n=Na(e).delete_(r,!0))!=null?n:!0:!1},defineProperty:function(e,r,n){var i;return(i=Na(e).defineProperty_(r,n))!=null?i:!0},ownKeys:function(e){return Na(e).ownKeys_()},preventExtensions:function(e){$e(13)}};function pF(t,e){var r,n;return cI(),t=pa(t,e),(n=(r=t[we]).proxy_)!=null?n:r.proxy_=new Proxy(t,fF)}function fn(t){return t.interceptors_!==void 0&&t.interceptors_.length>0}function gh(t,e){var r=t.interceptors_||(t.interceptors_=[]);return r.push(e),hI(function(){var n=r.indexOf(e);n!==-1&&r.splice(n,1)})}function pn(t,e){var r=da();try{for(var n=[].concat(t.interceptors_||[]),i=0,s=n.length;i<s&&(e=n[i](e),e&&!e.type&&$e(14),!!e);i++);return e}finally{is(r)}}function jn(t){return t.changeListeners_!==void 0&&t.changeListeners_.length>0}function vh(t,e){var r=t.changeListeners_||(t.changeListeners_=[]);return r.push(e),hI(function(){var n=r.indexOf(e);n!==-1&&r.splice(n,1)})}function Hn(t,e){var r=da(),n=t.changeListeners_;if(n){n=n.slice();for(var i=0,s=n.length;i<s;i++)n[i](e);is(r)}}function mF(t,e,r){return co(function(){var n,i=pa(t,r)[we];(n=e)!=null||(e=VN(t)),Ul(e).forEach(function(s){return i.make_(s,e[s])})}),t}var kv=Symbol("mobx-keys");function yh(t,e,r){return hs(t)?zI(t,t,e,r):(co(function(){var n=pa(t,r)[we];if(!t[kv]){var i=Object.getPrototypeOf(t),s=new Set([].concat(Ul(t),Ul(i)));s.delete("constructor"),s.delete(we),fh(i,kv,s)}t[kv].forEach(function(o){return n.make_(o,e&&o in e?e[o]:!0)})}),t)}var $S="splice",Ri="update",gF=1e4,vF={get:function(e,r){var n=e[we];return r===we?n:r==="length"?n.getArrayLength_():typeof r=="string"&&!isNaN(r)?n.get_(parseInt(r)):ns(xp,r)?xp[r]:e[r]},set:function(e,r,n){var i=e[we];return r==="length"&&i.setArrayLength_(n),typeof r=="symbol"||isNaN(r)?e[r]=n:i.set_(parseInt(r),n),!0},preventExtensions:function(){$e(15)}},ex=function(){function t(r,n,i,s){r===void 0&&(r="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=i,this.legacyMode_=s,this.atom_=new uo(r),this.enhancer_=function(o,a){return n(o,a,"ObservableArray[..]")}}var e=t.prototype;return e.dehanceValue_=function(n){return this.dehancer!==void 0?this.dehancer(n):n},e.dehanceValues_=function(n){return this.dehancer!==void 0&&n.length>0?n.map(this.dehancer):n},e.intercept_=function(n){return gh(this,n)},e.observe_=function(n,i){return i===void 0&&(i=!1),i&&n({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),vh(this,n)},e.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},e.setArrayLength_=function(n){(typeof n!="number"||isNaN(n)||n<0)&&$e("Out of range: "+n);var i=this.values_.length;if(n!==i)if(n>i){for(var s=new Array(n-i),o=0;o<n-i;o++)s[o]=void 0;this.spliceWithArray_(i,0,s)}else this.spliceWithArray_(n,i-n)},e.updateArrayLength_=function(n,i){n!==this.lastKnownLength_&&$e(16),this.lastKnownLength_+=i,this.legacyMode_&&i>0&&QI(n+i+1)},e.spliceWithArray_=function(n,i,s){var o=this;this.atom_;var a=this.values_.length;if(n===void 0?n=0:n>a?n=a:n<0&&(n=Math.max(0,a+n)),arguments.length===1?i=a-n:i==null?i=0:i=Math.max(0,Math.min(i,a-n)),s===void 0&&(s=R0),fn(this)){var c=pn(this,{object:this.proxy_,type:$S,index:n,removedCount:i,added:s});if(!c)return R0;i=c.removedCount,s=c.added}if(s=s.length===0?s:s.map(function(p){return o.enhancer_(p,void 0)}),this.legacyMode_){var h=s.length-i;this.updateArrayLength_(a,h)}var f=this.spliceItemsIntoValues_(n,i,s);return(i!==0||s.length!==0)&&this.notifyArraySplice_(n,s,f),this.dehanceValues_(f)},e.spliceItemsIntoValues_=function(n,i,s){if(s.length<gF){var o;return(o=this.values_).splice.apply(o,[n,i].concat(s))}else{var a=this.values_.slice(n,n+i),c=this.values_.slice(n+i);this.values_.length+=s.length-i;for(var h=0;h<s.length;h++)this.values_[n+h]=s[h];for(var f=0;f<c.length;f++)this.values_[n+s.length+f]=c[f];return a}},e.notifyArrayChildUpdate_=function(n,i,s){var o=!this.owned_&&_c(),a=jn(this),c=a||o?{observableKind:"array",object:this.proxy_,type:Ri,debugObjectName:this.atom_.name_,index:n,newValue:i,oldValue:s}:null;this.atom_.reportChanged(),a&&Hn(this,c)},e.notifyArraySplice_=function(n,i,s){var o=!this.owned_&&_c(),a=jn(this),c=a||o?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:$S,index:n,removed:s,added:i,removedCount:s.length,addedCount:i.length}:null;this.atom_.reportChanged(),a&&Hn(this,c)},e.get_=function(n){if(this.legacyMode_&&n>=this.values_.length){console.warn("[mobx] Out of bounds read: "+n);return}return this.atom_.reportObserved(),this.dehanceValue_(this.values_[n])},e.set_=function(n,i){var s=this.values_;if(this.legacyMode_&&n>s.length&&$e(17,n,s.length),n<s.length){this.atom_;var o=s[n];if(fn(this)){var a=pn(this,{type:Ri,object:this.proxy_,index:n,newValue:i});if(!a)return;i=a.newValue}i=this.enhancer_(i,o);var c=i!==o;c&&(s[n]=i,this.notifyArrayChildUpdate_(n,i,o))}else{for(var h=new Array(n+1-s.length),f=0;f<h.length-1;f++)h[f]=void 0;h[h.length-1]=i,this.spliceWithArray_(s.length,0,h)}},t}();function yF(t,e,r,n){return r===void 0&&(r="ObservableArray"),n===void 0&&(n=!1),cI(),co(function(){var i=new ex(r,e,n,!1);fI(i.values_,we,i);var s=new Proxy(i.values_,vF);return i.proxy_=s,t&&t.length&&i.spliceWithArray_(0,0,t),s})}var xp={clear:function(){return this.splice(0)},replace:function(e){var r=this[we];return r.spliceWithArray_(0,r.values_.length,e)},toJSON:function(){return this.slice()},splice:function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s];var o=this[we];switch(arguments.length){case 0:return[];case 1:return o.spliceWithArray_(e);case 2:return o.spliceWithArray_(e,r)}return o.spliceWithArray_(e,r,i)},spliceWithArray:function(e,r,n){return this[we].spliceWithArray_(e,r,n)},push:function(){for(var e=this[we],r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return e.spliceWithArray_(e.values_.length,0,n),e.values_.length},pop:function(){return this.splice(Math.max(this[we].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var e=this[we],r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return e.spliceWithArray_(0,0,n),e.values_.length},reverse:function(){return ee.trackingDerivation&&$e(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){ee.trackingDerivation&&$e(37,"sort");var e=this.slice();return e.sort.apply(e,arguments),this.replace(e),this},remove:function(e){var r=this[we],n=r.dehanceValues_(r.values_).indexOf(e);return n>-1?(this.splice(n,1),!0):!1}};tt("at",Zr);tt("concat",Zr);tt("flat",Zr);tt("includes",Zr);tt("indexOf",Zr);tt("join",Zr);tt("lastIndexOf",Zr);tt("slice",Zr);tt("toString",Zr);tt("toLocaleString",Zr);tt("toSorted",Zr);tt("toSpliced",Zr);tt("with",Zr);tt("every",qn);tt("filter",qn);tt("find",qn);tt("findIndex",qn);tt("findLast",qn);tt("findLastIndex",qn);tt("flatMap",qn);tt("forEach",qn);tt("map",qn);tt("some",qn);tt("toReversed",qn);tt("reduce",HI);tt("reduceRight",HI);function tt(t,e){typeof Array.prototype[t]=="function"&&(xp[t]=e(t))}function Zr(t){return function(){var e=this[we];e.atom_.reportObserved();var r=e.dehanceValues_(e.values_);return r[t].apply(r,arguments)}}function qn(t){return function(e,r){var n=this,i=this[we];i.atom_.reportObserved();var s=i.dehanceValues_(i.values_);return s[t](function(o,a){return e.call(r,o,a,n)})}}function HI(t){return function(){var e=this,r=this[we];r.atom_.reportObserved();var n=r.dehanceValues_(r.values_),i=arguments[0];return arguments[0]=function(s,o,a){return i(s,o,a,e)},n[t].apply(n,arguments)}}var _F=ha("ObservableArrayAdministration",ex);function xm(t){return dm(t)&&_F(t[we])}var xF={},Gs="add",bp="delete",VI=function(){function t(r,n,i){var s=this;n===void 0&&(n=sa),i===void 0&&(i="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[we]=xF,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=n,this.name_=i,Kn(Map)||$e(18),co(function(){s.keysAtom_=vI("ObservableMap.keys()"),s.data_=new Map,s.hasMap_=new Map,r&&s.merge(r)})}var e=t.prototype;return e.has_=function(n){return this.data_.has(n)},e.has=function(n){var i=this;if(!ee.trackingDerivation)return this.has_(n);var s=this.hasMap_.get(n);if(!s){var o=s=new Vo(this.has_(n),fm,"ObservableMap.key?",!1);this.hasMap_.set(n,o),LI(o,function(){return i.hasMap_.delete(n)})}return s.get()},e.set=function(n,i){var s=this.has_(n);if(fn(this)){var o=pn(this,{type:s?Ri:Gs,object:this,newValue:i,name:n});if(!o)return this;i=o.newValue}return s?this.updateValue_(n,i):this.addValue_(n,i),this},e.delete=function(n){var i=this;if(this.keysAtom_,fn(this)){var s=pn(this,{type:bp,object:this,name:n});if(!s)return!1}if(this.has_(n)){var o=_c(),a=jn(this),c=a||o?{observableKind:"map",debugObjectName:this.name_,type:bp,object:this,oldValue:this.data_.get(n).value_,name:n}:null;return Qi(function(){var h;i.keysAtom_.reportChanged(),(h=i.hasMap_.get(n))==null||h.setNewValue_(!1);var f=i.data_.get(n);f.setNewValue_(void 0),i.data_.delete(n)}),a&&Hn(this,c),!0}return!1},e.updateValue_=function(n,i){var s=this.data_.get(n);if(i=s.prepareNewValue_(i),i!==ee.UNCHANGED){var o=_c(),a=jn(this),c=a||o?{observableKind:"map",debugObjectName:this.name_,type:Ri,object:this,oldValue:s.value_,name:n,newValue:i}:null;s.setNewValue_(i),a&&Hn(this,c)}},e.addValue_=function(n,i){var s=this;this.keysAtom_,Qi(function(){var h,f=new Vo(i,s.enhancer_,"ObservableMap.key",!1);s.data_.set(n,f),i=f.value_,(h=s.hasMap_.get(n))==null||h.setNewValue_(!0),s.keysAtom_.reportChanged()});var o=_c(),a=jn(this),c=a||o?{observableKind:"map",debugObjectName:this.name_,type:Gs,object:this,name:n,newValue:i}:null;a&&Hn(this,c)},e.get=function(n){return this.has(n)?this.dehanceValue_(this.data_.get(n).get()):this.dehanceValue_(void 0)},e.dehanceValue_=function(n){return this.dehancer!==void 0?this.dehancer(n):n},e.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},e.values=function(){var n=this,i=this.keys();return Wc({next:function(){var o=i.next(),a=o.done,c=o.value;return{done:a,value:a?void 0:n.get(c)}}})},e.entries=function(){var n=this,i=this.keys();return Wc({next:function(){var o=i.next(),a=o.done,c=o.value;return{done:a,value:a?void 0:[c,n.get(c)]}}})},e[Symbol.iterator]=function(){return this.entries()},e.forEach=function(n,i){for(var s=fl(this),o;!(o=s()).done;){var a=o.value,c=a[0],h=a[1];n.call(i,h,c,this)}},e.merge=function(n){var i=this;return fa(n)&&(n=new Map(n)),Qi(function(){hs(n)?UN(n).forEach(function(s){return i.set(s,n[s])}):Array.isArray(n)?n.forEach(function(s){var o=s[0],a=s[1];return i.set(o,a)}):eu(n)?(LN(n)||$e(19,n),n.forEach(function(s,o){return i.set(o,s)})):n!=null&&$e(20,n)}),this},e.clear=function(){var n=this;Qi(function(){CI(function(){for(var i=fl(n.keys()),s;!(s=i()).done;){var o=s.value;n.delete(o)}})})},e.replace=function(n){var i=this;return Qi(function(){for(var s=bF(n),o=new Map,a=!1,c=fl(i.data_.keys()),h;!(h=c()).done;){var f=h.value;if(!s.has(f)){var p=i.delete(f);if(p)a=!0;else{var m=i.data_.get(f);o.set(f,m)}}}for(var y=fl(s.entries()),_;!(_=y()).done;){var S=_.value,A=S[0],E=S[1],w=i.data_.has(A);if(i.set(A,E),i.data_.has(A)){var x=i.data_.get(A);o.set(A,x),w||(a=!0)}}if(!a)if(i.data_.size!==o.size)i.keysAtom_.reportChanged();else for(var T=i.data_.keys(),P=o.keys(),M=T.next(),R=P.next();!M.done;){if(M.value!==R.value){i.keysAtom_.reportChanged();break}M=T.next(),R=P.next()}i.data_=o}),this},e.toString=function(){return"[object ObservableMap]"},e.toJSON=function(){return Array.from(this)},e.observe_=function(n,i){return vh(this,n)},e.intercept_=function(n){return gh(this,n)},tu(t,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Map"}}])}(),fa=ha("ObservableMap",VI);function bF(t){if(eu(t)||fa(t))return t;if(Array.isArray(t))return new Map(t);if(hs(t)){var e=new Map;for(var r in t)e.set(r,t[r]);return e}else return $e(21,t)}var wF={},WI=function(){function t(r,n,i){var s=this;n===void 0&&(n=sa),i===void 0&&(i="ObservableSet"),this.name_=void 0,this[we]=wF,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=i,Kn(Set)||$e(22),this.enhancer_=function(o,a){return n(o,a,i)},co(function(){s.atom_=vI(s.name_),r&&s.replace(r)})}var e=t.prototype;return e.dehanceValue_=function(n){return this.dehancer!==void 0?this.dehancer(n):n},e.clear=function(){var n=this;Qi(function(){CI(function(){for(var i=fl(n.data_.values()),s;!(s=i()).done;){var o=s.value;n.delete(o)}})})},e.forEach=function(n,i){for(var s=fl(this),o;!(o=s()).done;){var a=o.value;n.call(i,a,a,this)}},e.add=function(n){var i=this;if(this.atom_,fn(this)){var s=pn(this,{type:Gs,object:this,newValue:n});if(!s)return this}if(!this.has(n)){Qi(function(){i.data_.add(i.enhancer_(n,void 0)),i.atom_.reportChanged()});var o=!1,a=jn(this),c=a||o?{observableKind:"set",debugObjectName:this.name_,type:Gs,object:this,newValue:n}:null;a&&Hn(this,c)}return this},e.delete=function(n){var i=this;if(fn(this)){var s=pn(this,{type:bp,object:this,oldValue:n});if(!s)return!1}if(this.has(n)){var o=!1,a=jn(this),c=a||o?{observableKind:"set",debugObjectName:this.name_,type:bp,object:this,oldValue:n}:null;return Qi(function(){i.atom_.reportChanged(),i.data_.delete(n)}),a&&Hn(this,c),!0}return!1},e.has=function(n){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(n))},e.entries=function(){var n=0,i=Array.from(this.keys()),s=Array.from(this.values());return Wc({next:function(){var a=n;return n+=1,a<s.length?{value:[i[a],s[a]],done:!1}:{done:!0}}})},e.keys=function(){return this.values()},e.values=function(){this.atom_.reportObserved();var n=this,i=0,s=Array.from(this.data_.values());return Wc({next:function(){return i<s.length?{value:n.dehanceValue_(s[i++]),done:!1}:{done:!0}}})},e.intersection=function(n){if(Ki(n))return n.intersection(this);var i=new Set(this);return i.intersection(n)},e.union=function(n){if(Ki(n))return n.union(this);var i=new Set(this);return i.union(n)},e.difference=function(n){return new Set(this).difference(n)},e.symmetricDifference=function(n){if(Ki(n))return n.symmetricDifference(this);var i=new Set(this);return i.symmetricDifference(n)},e.isSubsetOf=function(n){return new Set(this).isSubsetOf(n)},e.isSupersetOf=function(n){return new Set(this).isSupersetOf(n)},e.isDisjointFrom=function(n){if(Ki(n))return n.isDisjointFrom(this);var i=new Set(this);return i.isDisjointFrom(n)},e.replace=function(n){var i=this;return nu(n)&&(n=new Set(n)),Qi(function(){Array.isArray(n)?(i.clear(),n.forEach(function(s){return i.add(s)})):Ki(n)?(i.clear(),n.forEach(function(s){return i.add(s)})):n!=null&&$e("Cannot initialize set from "+n)}),this},e.observe_=function(n,i){return vh(this,n)},e.intercept_=function(n){return gh(this,n)},e.toJSON=function(){return Array.from(this)},e.toString=function(){return"[object ObservableSet]"},e[Symbol.iterator]=function(){return this.values()},tu(t,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Set"}}])}(),nu=ha("ObservableSet",WI),GS=Object.create(null),jS="remove",XI=function(){function t(r,n,i,s){n===void 0&&(n=new Map),s===void 0&&(s=v3),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=r,this.values_=n,this.name_=i,this.defaultAnnotation_=s,this.keysAtom_=new uo("ObservableObject.keys"),this.isPlainObject_=hs(this.target_)}var e=t.prototype;return e.getObservablePropValue_=function(n){return this.values_.get(n).get()},e.setObservablePropValue_=function(n,i){var s=this.values_.get(n);if(s instanceof Qn)return s.set(i),!0;if(fn(this)){var o=pn(this,{type:Ri,object:this.proxy_||this.target_,name:n,newValue:i});if(!o)return null;i=o.newValue}if(i=s.prepareNewValue_(i),i!==ee.UNCHANGED){var a=jn(this),c=!1,h=a||c?{type:Ri,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:s.value_,name:n,newValue:i}:null;s.setNewValue_(i),a&&Hn(this,h)}return!0},e.get_=function(n){return ee.trackingDerivation&&!ns(this.target_,n)&&this.has_(n),this.target_[n]},e.set_=function(n,i,s){return s===void 0&&(s=!1),ns(this.target_,n)?this.values_.has(n)?this.setObservablePropValue_(n,i):s?Reflect.set(this.target_,n,i):(this.target_[n]=i,!0):this.extend_(n,{value:i,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,s)},e.has_=function(n){if(!ee.trackingDerivation)return n in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var i=this.pendingKeys_.get(n);return i||(i=new Vo(n in this.target_,fm,"ObservableObject.key?",!1),this.pendingKeys_.set(n,i)),i.get()},e.make_=function(n,i){if(i===!0&&(i=this.defaultAnnotation_),i!==!1){if(!(n in this.target_)){var s;if((s=this.target_[Ei])!=null&&s[n])return;$e(1,i.annotationType_,this.name_+"."+n.toString())}for(var o=this.target_;o&&o!==hm;){var a=pp(o,n);if(a){var c=i.make_(this,n,a,o);if(c===0)return;if(c===1)break}o=Object.getPrototypeOf(o)}VS(this,i,n)}},e.extend_=function(n,i,s,o){if(o===void 0&&(o=!1),s===!0&&(s=this.defaultAnnotation_),s===!1)return this.defineProperty_(n,i,o);var a=s.extend_(this,n,i,o);return a&&VS(this,s,n),a},e.defineProperty_=function(n,i,s){s===void 0&&(s=!1),this.keysAtom_;try{gn();var o=this.delete_(n);if(!o)return o;if(fn(this)){var a=pn(this,{object:this.proxy_||this.target_,name:n,type:Gs,newValue:i.value});if(!a)return null;var c=a.newValue;i.value!==c&&(i=ia({},i,{value:c}))}if(s){if(!Reflect.defineProperty(this.target_,n,i))return!1}else Pi(this.target_,n,i);this.notifyPropertyAddition_(n,i.value)}finally{vn()}return!0},e.defineObservableProperty_=function(n,i,s,o){o===void 0&&(o=!1),this.keysAtom_;try{gn();var a=this.delete_(n);if(!a)return a;if(fn(this)){var c=pn(this,{object:this.proxy_||this.target_,name:n,type:Gs,newValue:i});if(!c)return null;i=c.newValue}var h=HS(n),f={configurable:ee.safeDescriptors?this.isPlainObject_:!0,enumerable:!0,get:h.get,set:h.set};if(o){if(!Reflect.defineProperty(this.target_,n,f))return!1}else Pi(this.target_,n,f);var p=new Vo(i,s,"ObservableObject.key",!1);this.values_.set(n,p),this.notifyPropertyAddition_(n,p.value_)}finally{vn()}return!0},e.defineComputedProperty_=function(n,i,s){s===void 0&&(s=!1),this.keysAtom_;try{gn();var o=this.delete_(n);if(!o)return o;if(fn(this)){var a=pn(this,{object:this.proxy_||this.target_,name:n,type:Gs,newValue:void 0});if(!a)return null}i.name||(i.name="ObservableObject.key"),i.context=this.proxy_||this.target_;var c=HS(n),h={configurable:ee.safeDescriptors?this.isPlainObject_:!0,enumerable:!1,get:c.get,set:c.set};if(s){if(!Reflect.defineProperty(this.target_,n,h))return!1}else Pi(this.target_,n,h);this.values_.set(n,new Qn(i)),this.notifyPropertyAddition_(n,void 0)}finally{vn()}return!0},e.delete_=function(n,i){if(i===void 0&&(i=!1),this.keysAtom_,!ns(this.target_,n))return!0;if(fn(this)){var s=pn(this,{object:this.proxy_||this.target_,name:n,type:jS});if(!s)return null}try{var o;gn();var a=jn(this),c=!1,h=this.values_.get(n),f=void 0;if(!h&&(a||c)){var p;f=(p=pp(this.target_,n))==null?void 0:p.value}if(i){if(!Reflect.deleteProperty(this.target_,n))return!1}else delete this.target_[n];if(h&&(this.values_.delete(n),h instanceof Vo&&(f=h.value_),kI(h)),this.keysAtom_.reportChanged(),(o=this.pendingKeys_)==null||(o=o.get(n))==null||o.set(n in this.target_),a||c){var m={type:jS,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:f,name:n};a&&Hn(this,m)}}finally{vn()}return!0},e.observe_=function(n,i){return vh(this,n)},e.intercept_=function(n){return gh(this,n)},e.notifyPropertyAddition_=function(n,i){var s,o=jn(this),a=!1;if(o||a){var c=o||a?{type:Gs,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:n,newValue:i}:null;o&&Hn(this,c)}(s=this.pendingKeys_)==null||(s=s.get(n))==null||s.set(!0),this.keysAtom_.reportChanged()},e.ownKeys_=function(){return this.keysAtom_.reportObserved(),Ul(this.target_)},e.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},t}();function pa(t,e){var r;if(ns(t,we))return t;var n=(r=e==null?void 0:e.name)!=null?r:"ObservableObject",i=new XI(t,new Map,String(n),P3(e));return fh(t,we,i),t}var SF=ha("ObservableObjectAdministration",XI);function HS(t){return GS[t]||(GS[t]={get:function(){return this[we].getObservablePropValue_(t)},set:function(r){return this[we].setObservablePropValue_(t,r)}})}function bm(t){return dm(t)?SF(t[we]):!1}function VS(t,e,r){var n;(n=t.target_[Ei])==null||delete n[r]}var EF=KI(0),TF=function(){var t=!1,e={};return Object.defineProperty(e,"0",{set:function(){t=!0}}),Object.create(e)[0]=1,t===!1}(),Dv=0,YI=function(){};function AF(t,e){Object.setPrototypeOf?Object.setPrototypeOf(t.prototype,e):t.prototype.__proto__!==void 0?t.prototype.__proto__=e:t.prototype=e}AF(YI,Array.prototype);var tx=function(t){function e(n,i,s,o){var a;return s===void 0&&(s="ObservableArray"),o===void 0&&(o=!1),a=t.call(this)||this,co(function(){var c=new ex(s,i,o,!0);c.proxy_=a,fI(a,we,c),n&&n.length&&a.spliceWithArray(0,0,n),TF&&Object.defineProperty(a,"0",EF)}),a}gI(e,t);var r=e.prototype;return r.concat=function(){this[we].atom_.reportObserved();for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return Array.prototype.concat.apply(this.slice(),s.map(function(a){return xm(a)?a.slice():a}))},r[Symbol.iterator]=function(){var n=this,i=0;return Wc({next:function(){return i<n.length?{value:n[i++],done:!1}:{done:!0,value:void 0}}})},tu(e,[{key:"length",get:function(){return this[we].getArrayLength_()},set:function(i){this[we].setArrayLength_(i)}},{key:Symbol.toStringTag,get:function(){return"Array"}}])}(YI);Object.entries(xp).forEach(function(t){var e=t[0],r=t[1];e!=="concat"&&fh(tx.prototype,e,r)});function KI(t){return{enumerable:!1,configurable:!0,get:function(){return this[we].get_(t)},set:function(r){this[we].set_(t,r)}}}function CF(t){Pi(tx.prototype,""+t,KI(t))}function QI(t){if(t>Dv){for(var e=Dv;e<t+100;e++)CF(e);Dv=t}}QI(1e3);function PF(t,e,r){return new tx(t,e,r)}function wp(t,e){if(typeof t=="object"&&t!==null){if(xm(t))return e!==void 0&&$e(23),t[we].atom_;if(nu(t))return t.atom_;if(fa(t)){if(e===void 0)return t.keysAtom_;var r=t.data_.get(e)||t.hasMap_.get(e);return r||$e(25,e,U0(t)),r}if(bm(t)){if(!e)return $e(26);var n=t[we].values_.get(e);return n||$e(27,e,U0(t)),n}if(q1(t)||ym(t)||_p(t))return t}else if(Kn(t)&&_p(t[we]))return t[we];$e(28)}function IF(t,e){if(t||$e(29),q1(t)||ym(t)||_p(t)||fa(t)||nu(t))return t;if(t[we])return t[we];$e(24,t)}function U0(t,e){var r;if(e!==void 0)r=wp(t,e);else{if(_m(t))return t.name;bm(t)||fa(t)||nu(t)?r=IF(t):r=wp(t)}return r.name_}function co(t){var e=da(),r=gm(!0);gn();try{return t()}finally{vn(),vm(r),is(e)}}var WS=hm.toString;function rx(t,e,r){return r===void 0&&(r=-1),z0(t,e,r)}function z0(t,e,r,n,i){if(t===e)return t!==0||1/t===1/e;if(t==null||e==null)return!1;if(t!==t)return e!==e;var s=typeof t;if(s!=="function"&&s!=="object"&&typeof e!="object")return!1;var o=WS.call(t);if(o!==WS.call(e))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:+t==0?1/+t===1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(t)===Symbol.valueOf.call(e);case"[object Map]":case"[object Set]":r>=0&&r++;break}t=XS(t),e=XS(e);var a=o==="[object Array]";if(!a){if(typeof t!="object"||typeof e!="object")return!1;var c=t.constructor,h=e.constructor;if(c!==h&&!(Kn(c)&&c instanceof c&&Kn(h)&&h instanceof h)&&"constructor"in t&&"constructor"in e)return!1}if(r===0)return!1;r<0&&(r=-1),n=n||[],i=i||[];for(var f=n.length;f--;)if(n[f]===t)return i[f]===e;if(n.push(t),i.push(e),a){if(f=t.length,f!==e.length)return!1;for(;f--;)if(!z0(t[f],e[f],r-1,n,i))return!1}else{var p=Object.keys(t),m;if(f=p.length,Object.keys(e).length!==f)return!1;for(;f--;)if(m=p[f],!(ns(e,m)&&z0(t[m],e[m],r-1,n,i)))return!1}return n.pop(),i.pop(),!0}function XS(t){return xm(t)?t.slice():eu(t)||fa(t)||Ki(t)||nu(t)?Array.from(t.entries()):t}function Wc(t){return t[Symbol.iterator]=RF,t}function RF(){return this}["Symbol","Map","Set"].forEach(function(t){var e=Q1();typeof e[t]>"u"&&$e("MobX requires global '"+t+"' to be available or polyfilled")});typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:X3,extras:{getDebugName:U0},$mobx:we});var EA,TA,AA,CA,hi;CA=[_t],AA=[_t],TA=[at],EA=[at];class Ha{constructor(){ur(hi,5,this);Ht(this,"selectedColor",ur(hi,8,this,"")),ur(hi,11,this);Ht(this,"isClear",ur(hi,12,this,!1)),ur(hi,15,this)}setSelectedColor(e){this.isClear&&(this.isClear=!1),this.selectedColor=e}clearColor(){this.isClear||(this.isClear=!0)}}hi=ka(null),nt(hi,1,"setSelectedColor",TA,Ha),nt(hi,1,"clearColor",EA,Ha),nt(hi,5,"selectedColor",CA,Ha),nt(hi,5,"isClear",AA,Ha),To(hi,Ha);const Wo=new Ha;var PA,IA,RA,OA,MA,kA,DA,NA,FA,zr;FA=[_t],NA=[at],DA=[at],kA=[at],MA=[at],OA=[at],RA=[at],IA=[at],PA=[at];class Mn{constructor(){ur(zr,5,this);Ht(this,"data",ur(zr,8,this,{grid:0,rects:[],pallete:[],isColoring:!1})),ur(zr,11,this);yh(this)}setColoring(e){this.data=e}clearStore(){this.data={grid:0,rects:[],pallete:[],isColoring:!1}}setPallete(e){this.data.pallete=e}createCanvas(e){this.clearStore(),this.data={isColoring:!1,grid:e,rects:[],pallete:[]},console.log(this.data)}addRect(e,r){const n=this.data.rects.findIndex(s=>s.indexRect===e),i=this.data.pallete.findIndex(s=>s===r);if(n!==-1){if(this.data.isColoring){this.data.rects[n].currentColorIndex=i;return}this.data.rects[n].indexColor=i}else{if(this.data.isColoring){this.data.rects.push({indexRect:e,currentColorIndex:i});return}this.data.rects.push({indexRect:e,indexColor:i})}}clearRect(e){const r=this.data.rects.findIndex(n=>n.indexRect===e);if(r!==-1){if(this.data.isColoring&&this.data.rects[r].indexColor!==void 0){this.data.rects[r].currentColorIndex=void 0;return}this.data.rects.splice(r,1)}console.log(this.data)}saveCanvas(){console.log(this.data)}getColorRect(e){const r=this.data.rects.find(n=>n.indexRect===e);return r?this.data.pallete[r.indexColor]:void 0}getCurrentColorIndex(e){const r=this.data.rects.find(n=>n.indexRect===e);return r&&r.currentColorIndex!==void 0?r.currentColorIndex:void 0}getCurrentColor(e){const r=this.data.rects.find(n=>n.indexRect===e);return r&&r.currentColorIndex!==void 0?this.data.pallete[r.currentColorIndex]:void 0}getColorIndex(e){const r=this.data.rects.find(n=>n.indexRect===e);return r?r.indexColor:void 0}handleFilling(e){if(Wo.isClear){this.clearRect(e);return}return this.addRect(e,Wo.selectedColor),Wo.selectedColor}}zr=ka(null),nt(zr,1,"setColoring",NA,Mn),nt(zr,1,"clearStore",DA,Mn),nt(zr,1,"setPallete",kA,Mn),nt(zr,1,"createCanvas",MA,Mn),nt(zr,1,"addRect",OA,Mn),nt(zr,1,"clearRect",RA,Mn),nt(zr,1,"saveCanvas",IA,Mn),nt(zr,1,"handleFilling",PA,Mn),nt(zr,5,"data",FA,Mn),To(zr,Mn);const ot=new Mn;function YS(t){ot.clearStore(),ot.setColoring(t)}const OF={isColoring:!1,grid:5,pallete:["#ff0000","#00ff00","#0000ff"],rects:[{indexRect:0,indexColor:0},{indexRect:6,indexColor:0},{indexRect:12,indexColor:0},{indexRect:18,indexColor:0},{indexRect:24,indexColor:0}]},MF={isColoring:!0,grid:5,pallete:["#ff0000","#00ff00"],rects:[{indexRect:0,indexColor:0,currentColorIndex:0},{indexRect:6,indexColor:1},{indexRect:12,indexColor:1},{indexRect:13,currentColorIndex:0},{indexRect:18,indexColor:0},{indexRect:24,indexColor:0}]};var fr=function(){return fr=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},fr.apply(this,arguments)};function Xc(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))}var st="-ms-",xc="-moz-",Ye="-webkit-",qI="comm",wm="rule",nx="decl",kF="@import",ZI="@keyframes",DF="@layer",JI=Math.abs,ix=String.fromCharCode,$0=Object.assign;function NF(t,e){return Xt(t,0)^45?(((e<<2^Xt(t,0))<<2^Xt(t,1))<<2^Xt(t,2))<<2^Xt(t,3):0}function eR(t){return t.trim()}function Xi(t,e){return(t=e.exec(t))?t[0]:t}function Ie(t,e,r){return t.replace(e,r)}function Pf(t,e,r){return t.indexOf(e,r)}function Xt(t,e){return t.charCodeAt(e)|0}function $l(t,e,r){return t.slice(e,r)}function xi(t){return t.length}function tR(t){return t.length}function qu(t,e){return e.push(t),t}function FF(t,e){return t.map(e).join("")}function KS(t,e){return t.filter(function(r){return!Xi(r,e)})}var Sm=1,Gl=1,rR=0,Sn=0,kt=0,iu="";function Em(t,e,r,n,i,s,o,a){return{value:t,root:e,parent:r,type:n,props:i,children:s,line:Sm,column:Gl,length:o,return:"",siblings:a}}function Rs(t,e){return $0(Em("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function Fa(t){for(;t.root;)t=Rs(t.root,{children:[t]});qu(t,t.siblings)}function BF(){return kt}function LF(){return kt=Sn>0?Xt(iu,--Sn):0,Gl--,kt===10&&(Gl=1,Sm--),kt}function Vn(){return kt=Sn<rR?Xt(iu,Sn++):0,Gl++,kt===10&&(Gl=1,Sm++),kt}function Xo(){return Xt(iu,Sn)}function If(){return Sn}function Tm(t,e){return $l(iu,t,e)}function G0(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function UF(t){return Sm=Gl=1,rR=xi(iu=t),Sn=0,[]}function zF(t){return iu="",t}function Nv(t){return eR(Tm(Sn-1,j0(t===91?t+2:t===40?t+1:t)))}function $F(t){for(;(kt=Xo())&&kt<33;)Vn();return G0(t)>2||G0(kt)>3?"":" "}function GF(t,e){for(;--e&&Vn()&&!(kt<48||kt>102||kt>57&&kt<65||kt>70&&kt<97););return Tm(t,If()+(e<6&&Xo()==32&&Vn()==32))}function j0(t){for(;Vn();)switch(kt){case t:return Sn;case 34:case 39:t!==34&&t!==39&&j0(kt);break;case 40:t===41&&j0(t);break;case 92:Vn();break}return Sn}function jF(t,e){for(;Vn()&&t+kt!==57;)if(t+kt===84&&Xo()===47)break;return"/*"+Tm(e,Sn-1)+"*"+ix(t===47?t:Vn())}function HF(t){for(;!G0(Xo());)Vn();return Tm(t,Sn)}function VF(t){return zF(Rf("",null,null,null,[""],t=UF(t),0,[0],t))}function Rf(t,e,r,n,i,s,o,a,c){for(var h=0,f=0,p=o,m=0,y=0,_=0,S=1,A=1,E=1,w=0,x="",T=i,P=s,M=n,R=x;A;)switch(_=w,w=Vn()){case 40:if(_!=108&&Xt(R,p-1)==58){Pf(R+=Ie(Nv(w),"&","&\f"),"&\f",JI(h?a[h-1]:0))!=-1&&(E=-1);break}case 34:case 39:case 91:R+=Nv(w);break;case 9:case 10:case 13:case 32:R+=$F(_);break;case 92:R+=GF(If()-1,7);continue;case 47:switch(Xo()){case 42:case 47:qu(WF(jF(Vn(),If()),e,r,c),c);break;default:R+="/"}break;case 123*S:a[h++]=xi(R)*E;case 125*S:case 59:case 0:switch(w){case 0:case 125:A=0;case 59+f:E==-1&&(R=Ie(R,/\f/g,"")),y>0&&xi(R)-p&&qu(y>32?qS(R+";",n,r,p-1,c):qS(Ie(R," ","")+";",n,r,p-2,c),c);break;case 59:R+=";";default:if(qu(M=QS(R,e,r,h,f,i,a,x,T=[],P=[],p,s),s),w===123)if(f===0)Rf(R,e,M,M,T,s,p,a,P);else switch(m===99&&Xt(R,3)===110?100:m){case 100:case 108:case 109:case 115:Rf(t,M,M,n&&qu(QS(t,M,M,0,0,i,a,x,i,T=[],p,P),P),i,P,p,a,n?T:P);break;default:Rf(R,M,M,M,[""],P,0,a,P)}}h=f=y=0,S=E=1,x=R="",p=o;break;case 58:p=1+xi(R),y=_;default:if(S<1){if(w==123)--S;else if(w==125&&S++==0&&LF()==125)continue}switch(R+=ix(w),w*S){case 38:E=f>0?1:(R+="\f",-1);break;case 44:a[h++]=(xi(R)-1)*E,E=1;break;case 64:Xo()===45&&(R+=Nv(Vn())),m=Xo(),f=p=xi(x=R+=HF(If())),w++;break;case 45:_===45&&xi(R)==2&&(S=0)}}return s}function QS(t,e,r,n,i,s,o,a,c,h,f,p){for(var m=i-1,y=i===0?s:[""],_=tR(y),S=0,A=0,E=0;S<n;++S)for(var w=0,x=$l(t,m+1,m=JI(A=o[S])),T=t;w<_;++w)(T=eR(A>0?y[w]+" "+x:Ie(x,/&\f/g,y[w])))&&(c[E++]=T);return Em(t,e,r,i===0?wm:a,c,h,f,p)}function WF(t,e,r,n){return Em(t,e,r,qI,ix(BF()),$l(t,2,-2),0,n)}function qS(t,e,r,n,i){return Em(t,e,r,nx,$l(t,0,n),$l(t,n+1,-1),n,i)}function nR(t,e,r){switch(NF(t,e)){case 5103:return Ye+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ye+t+t;case 4789:return xc+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Ye+t+xc+t+st+t+t;case 5936:switch(Xt(t,e+11)){case 114:return Ye+t+st+Ie(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Ye+t+st+Ie(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Ye+t+st+Ie(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return Ye+t+st+t+t;case 6165:return Ye+t+st+"flex-"+t+t;case 5187:return Ye+t+Ie(t,/(\w+).+(:[^]+)/,Ye+"box-$1$2"+st+"flex-$1$2")+t;case 5443:return Ye+t+st+"flex-item-"+Ie(t,/flex-|-self/g,"")+(Xi(t,/flex-|baseline/)?"":st+"grid-row-"+Ie(t,/flex-|-self/g,""))+t;case 4675:return Ye+t+st+"flex-line-pack"+Ie(t,/align-content|flex-|-self/g,"")+t;case 5548:return Ye+t+st+Ie(t,"shrink","negative")+t;case 5292:return Ye+t+st+Ie(t,"basis","preferred-size")+t;case 6060:return Ye+"box-"+Ie(t,"-grow","")+Ye+t+st+Ie(t,"grow","positive")+t;case 4554:return Ye+Ie(t,/([^-])(transform)/g,"$1"+Ye+"$2")+t;case 6187:return Ie(Ie(Ie(t,/(zoom-|grab)/,Ye+"$1"),/(image-set)/,Ye+"$1"),t,"")+t;case 5495:case 3959:return Ie(t,/(image-set\([^]*)/,Ye+"$1$`$1");case 4968:return Ie(Ie(t,/(.+:)(flex-)?(.*)/,Ye+"box-pack:$3"+st+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ye+t+t;case 4200:if(!Xi(t,/flex-|baseline/))return st+"grid-column-align"+$l(t,e)+t;break;case 2592:case 3360:return st+Ie(t,"template-","")+t;case 4384:case 3616:return r&&r.some(function(n,i){return e=i,Xi(n.props,/grid-\w+-end/)})?~Pf(t+(r=r[e].value),"span",0)?t:st+Ie(t,"-start","")+t+st+"grid-row-span:"+(~Pf(r,"span",0)?Xi(r,/\d+/):+Xi(r,/\d+/)-+Xi(t,/\d+/))+";":st+Ie(t,"-start","")+t;case 4896:case 4128:return r&&r.some(function(n){return Xi(n.props,/grid-\w+-start/)})?t:st+Ie(Ie(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return Ie(t,/(.+)-inline(.+)/,Ye+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(xi(t)-1-e>6)switch(Xt(t,e+1)){case 109:if(Xt(t,e+4)!==45)break;case 102:return Ie(t,/(.+:)(.+)-([^]+)/,"$1"+Ye+"$2-$3$1"+xc+(Xt(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Pf(t,"stretch",0)?nR(Ie(t,"stretch","fill-available"),e,r)+t:t}break;case 5152:case 5920:return Ie(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(n,i,s,o,a,c,h){return st+i+":"+s+h+(o?st+i+"-span:"+(a?c:+c-+s)+h:"")+t});case 4949:if(Xt(t,e+6)===121)return Ie(t,":",":"+Ye)+t;break;case 6444:switch(Xt(t,Xt(t,14)===45?18:11)){case 120:return Ie(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+Ye+(Xt(t,14)===45?"inline-":"")+"box$3$1"+Ye+"$2$3$1"+st+"$2box$3")+t;case 100:return Ie(t,":",":"+st)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return Ie(t,"scroll-","scroll-snap-")+t}return t}function Sp(t,e){for(var r="",n=0;n<t.length;n++)r+=e(t[n],n,t,e)||"";return r}function XF(t,e,r,n){switch(t.type){case DF:if(t.children.length)break;case kF:case nx:return t.return=t.return||t.value;case qI:return"";case ZI:return t.return=t.value+"{"+Sp(t.children,n)+"}";case wm:if(!xi(t.value=t.props.join(",")))return""}return xi(r=Sp(t.children,n))?t.return=t.value+"{"+r+"}":""}function YF(t){var e=tR(t);return function(r,n,i,s){for(var o="",a=0;a<e;a++)o+=t[a](r,n,i,s)||"";return o}}function KF(t){return function(e){e.root||(e=e.return)&&t(e)}}function QF(t,e,r,n){if(t.length>-1&&!t.return)switch(t.type){case nx:t.return=nR(t.value,t.length,r);return;case ZI:return Sp([Rs(t,{value:Ie(t.value,"@","@"+Ye)})],n);case wm:if(t.length)return FF(r=t.props,function(i){switch(Xi(i,n=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Fa(Rs(t,{props:[Ie(i,/:(read-\w+)/,":"+xc+"$1")]})),Fa(Rs(t,{props:[i]})),$0(t,{props:KS(r,n)});break;case"::placeholder":Fa(Rs(t,{props:[Ie(i,/:(plac\w+)/,":"+Ye+"input-$1")]})),Fa(Rs(t,{props:[Ie(i,/:(plac\w+)/,":"+xc+"$1")]})),Fa(Rs(t,{props:[Ie(i,/:(plac\w+)/,st+"input-$1")]})),Fa(Rs(t,{props:[i]})),$0(t,{props:KS(r,n)});break}return""})}}var qF={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Gr={},jl=typeof process<"u"&&Gr!==void 0&&(Gr.REACT_APP_SC_ATTR||Gr.SC_ATTR)||"data-styled",iR="active",sR="data-styled-version",Am="6.1.12",sx=`/*!sc*/
`,Ep=typeof window<"u"&&"HTMLElement"in window,ZF=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&Gr!==void 0&&Gr.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&Gr.REACT_APP_SC_DISABLE_SPEEDY!==""?Gr.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Gr.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&Gr!==void 0&&Gr.SC_DISABLE_SPEEDY!==void 0&&Gr.SC_DISABLE_SPEEDY!==""&&Gr.SC_DISABLE_SPEEDY!=="false"&&Gr.SC_DISABLE_SPEEDY),JF={},Cm=Object.freeze([]),Hl=Object.freeze({});function oR(t,e,r){return r===void 0&&(r=Hl),t.theme!==r.theme&&t.theme||e||r.theme}var aR=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),eB=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,tB=/(^-|-$)/g;function ZS(t){return t.replace(eB,"-").replace(tB,"")}var rB=/(a)(d)/gi,Dd=52,JS=function(t){return String.fromCharCode(t+(t>25?39:97))};function H0(t){var e,r="";for(e=Math.abs(t);e>Dd;e=e/Dd|0)r=JS(e%Dd)+r;return(JS(e%Dd)+r).replace(rB,"$1-$2")}var Fv,lR=5381,pl=function(t,e){for(var r=e.length;r;)t=33*t^e.charCodeAt(--r);return t},uR=function(t){return pl(lR,t)};function cR(t){return H0(uR(t)>>>0)}function nB(t){return t.displayName||t.name||"Component"}function Bv(t){return typeof t=="string"&&!0}var hR=typeof Symbol=="function"&&Symbol.for,dR=hR?Symbol.for("react.memo"):60115,iB=hR?Symbol.for("react.forward_ref"):60112,sB={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},oB={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},fR={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},aB=((Fv={})[iB]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Fv[dR]=fR,Fv);function eE(t){return("type"in(e=t)&&e.type.$$typeof)===dR?fR:"$$typeof"in t?aB[t.$$typeof]:sB;var e}var lB=Object.defineProperty,uB=Object.getOwnPropertyNames,tE=Object.getOwnPropertySymbols,cB=Object.getOwnPropertyDescriptor,hB=Object.getPrototypeOf,rE=Object.prototype;function pR(t,e,r){if(typeof e!="string"){if(rE){var n=hB(e);n&&n!==rE&&pR(t,n,r)}var i=uB(e);tE&&(i=i.concat(tE(e)));for(var s=eE(t),o=eE(e),a=0;a<i.length;++a){var c=i[a];if(!(c in oB||r&&r[c]||o&&c in o||s&&c in s)){var h=cB(e,c);try{lB(t,c,h)}catch{}}}}return t}function Vl(t){return typeof t=="function"}function ox(t){return typeof t=="object"&&"styledComponentId"in t}function Go(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function V0(t,e){if(t.length===0)return"";for(var r=t[0],n=1;n<t.length;n++)r+=t[n];return r}function Yc(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function W0(t,e,r){if(r===void 0&&(r=!1),!r&&!Yc(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var n=0;n<e.length;n++)t[n]=W0(t[n],e[n]);else if(Yc(e))for(var n in e)t[n]=W0(t[n],e[n]);return t}function ax(t,e){Object.defineProperty(t,"toString",{value:e})}function _h(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var dB=function(){function t(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return t.prototype.indexOfGroup=function(e){for(var r=0,n=0;n<e;n++)r+=this.groupSizes[n];return r},t.prototype.insertRules=function(e,r){if(e>=this.groupSizes.length){for(var n=this.groupSizes,i=n.length,s=i;e>=s;)if((s<<=1)<0)throw _h(16,"".concat(e));this.groupSizes=new Uint32Array(s),this.groupSizes.set(n),this.length=s;for(var o=i;o<s;o++)this.groupSizes[o]=0}for(var a=this.indexOfGroup(e+1),c=(o=0,r.length);o<c;o++)this.tag.insertRule(a,r[o])&&(this.groupSizes[e]++,a++)},t.prototype.clearGroup=function(e){if(e<this.length){var r=this.groupSizes[e],n=this.indexOfGroup(e),i=n+r;this.groupSizes[e]=0;for(var s=n;s<i;s++)this.tag.deleteRule(n)}},t.prototype.getGroup=function(e){var r="";if(e>=this.length||this.groupSizes[e]===0)return r;for(var n=this.groupSizes[e],i=this.indexOfGroup(e),s=i+n,o=i;o<s;o++)r+="".concat(this.tag.getRule(o)).concat(sx);return r},t}(),Of=new Map,Tp=new Map,Mf=1,Nd=function(t){if(Of.has(t))return Of.get(t);for(;Tp.has(Mf);)Mf++;var e=Mf++;return Of.set(t,e),Tp.set(e,t),e},fB=function(t,e){Mf=e+1,Of.set(t,e),Tp.set(e,t)},pB="style[".concat(jl,"][").concat(sR,'="').concat(Am,'"]'),mB=new RegExp("^".concat(jl,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),gB=function(t,e,r){for(var n,i=r.split(","),s=0,o=i.length;s<o;s++)(n=i[s])&&t.registerName(e,n)},vB=function(t,e){for(var r,n=((r=e.textContent)!==null&&r!==void 0?r:"").split(sx),i=[],s=0,o=n.length;s<o;s++){var a=n[s].trim();if(a){var c=a.match(mB);if(c){var h=0|parseInt(c[1],10),f=c[2];h!==0&&(fB(f,h),gB(t,f,c[3]),t.getTag().insertRules(h,i)),i.length=0}else i.push(a)}}},nE=function(t){for(var e=document.querySelectorAll(pB),r=0,n=e.length;r<n;r++){var i=e[r];i&&i.getAttribute(jl)!==iR&&(vB(t,i),i.parentNode&&i.parentNode.removeChild(i))}};function yB(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var mR=function(t){var e=document.head,r=t||e,n=document.createElement("style"),i=function(a){var c=Array.from(a.querySelectorAll("style[".concat(jl,"]")));return c[c.length-1]}(r),s=i!==void 0?i.nextSibling:null;n.setAttribute(jl,iR),n.setAttribute(sR,Am);var o=yB();return o&&n.setAttribute("nonce",o),r.insertBefore(n,s),n},_B=function(){function t(e){this.element=mR(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(r){if(r.sheet)return r.sheet;for(var n=document.styleSheets,i=0,s=n.length;i<s;i++){var o=n[i];if(o.ownerNode===r)return o}throw _h(17)}(this.element),this.length=0}return t.prototype.insertRule=function(e,r){try{return this.sheet.insertRule(r,e),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.prototype.getRule=function(e){var r=this.sheet.cssRules[e];return r&&r.cssText?r.cssText:""},t}(),xB=function(){function t(e){this.element=mR(e),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(e,r){if(e<=this.length&&e>=0){var n=document.createTextNode(r);return this.element.insertBefore(n,this.nodes[e]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},t}(),bB=function(){function t(e){this.rules=[],this.length=0}return t.prototype.insertRule=function(e,r){return e<=this.length&&(this.rules.splice(e,0,r),this.length++,!0)},t.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},t}(),iE=Ep,wB={isServer:!Ep,useCSSOMInjection:!ZF},Ap=function(){function t(e,r,n){e===void 0&&(e=Hl),r===void 0&&(r={});var i=this;this.options=fr(fr({},wB),e),this.gs=r,this.names=new Map(n),this.server=!!e.isServer,!this.server&&Ep&&iE&&(iE=!1,nE(this)),ax(this,function(){return function(s){for(var o=s.getTag(),a=o.length,c="",h=function(p){var m=function(E){return Tp.get(E)}(p);if(m===void 0)return"continue";var y=s.names.get(m),_=o.getGroup(p);if(y===void 0||!y.size||_.length===0)return"continue";var S="".concat(jl,".g").concat(p,'[id="').concat(m,'"]'),A="";y!==void 0&&y.forEach(function(E){E.length>0&&(A+="".concat(E,","))}),c+="".concat(_).concat(S,'{content:"').concat(A,'"}').concat(sx)},f=0;f<a;f++)h(f);return c}(i)})}return t.registerId=function(e){return Nd(e)},t.prototype.rehydrate=function(){!this.server&&Ep&&nE(this)},t.prototype.reconstructWithOptions=function(e,r){return r===void 0&&(r=!0),new t(fr(fr({},this.options),e),this.gs,r&&this.names||void 0)},t.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(e=function(r){var n=r.useCSSOMInjection,i=r.target;return r.isServer?new bB(i):n?new _B(i):new xB(i)}(this.options),new dB(e)));var e},t.prototype.hasNameForId=function(e,r){return this.names.has(e)&&this.names.get(e).has(r)},t.prototype.registerName=function(e,r){if(Nd(e),this.names.has(e))this.names.get(e).add(r);else{var n=new Set;n.add(r),this.names.set(e,n)}},t.prototype.insertRules=function(e,r,n){this.registerName(e,r),this.getTag().insertRules(Nd(e),n)},t.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.prototype.clearRules=function(e){this.getTag().clearGroup(Nd(e)),this.clearNames(e)},t.prototype.clearTag=function(){this.tag=void 0},t}(),SB=/&/g,EB=/^\s*\/\/.*$/gm;function gR(t,e){return t.map(function(r){return r.type==="rule"&&(r.value="".concat(e," ").concat(r.value),r.value=r.value.replaceAll(",",",".concat(e," ")),r.props=r.props.map(function(n){return"".concat(e," ").concat(n)})),Array.isArray(r.children)&&r.type!=="@keyframes"&&(r.children=gR(r.children,e)),r})}function TB(t){var e,r,n,i=Hl,s=i.options,o=s===void 0?Hl:s,a=i.plugins,c=a===void 0?Cm:a,h=function(m,y,_){return _.startsWith(r)&&_.endsWith(r)&&_.replaceAll(r,"").length>0?".".concat(e):m},f=c.slice();f.push(function(m){m.type===wm&&m.value.includes("&")&&(m.props[0]=m.props[0].replace(SB,r).replace(n,h))}),o.prefix&&f.push(QF),f.push(XF);var p=function(m,y,_,S){y===void 0&&(y=""),_===void 0&&(_=""),S===void 0&&(S="&"),e=S,r=y,n=new RegExp("\\".concat(r,"\\b"),"g");var A=m.replace(EB,""),E=VF(_||y?"".concat(_," ").concat(y," { ").concat(A," }"):A);o.namespace&&(E=gR(E,o.namespace));var w=[];return Sp(E,YF(f.concat(KF(function(x){return w.push(x)})))),w};return p.hash=c.length?c.reduce(function(m,y){return y.name||_h(15),pl(m,y.name)},lR).toString():"",p}var AB=new Ap,X0=TB(),vR=et.createContext({shouldForwardProp:void 0,styleSheet:AB,stylis:X0});vR.Consumer;et.createContext(void 0);function Y0(){return xe.useContext(vR)}var CB=function(){function t(e,r){var n=this;this.inject=function(i,s){s===void 0&&(s=X0);var o=n.name+s.hash;i.hasNameForId(n.id,o)||i.insertRules(n.id,o,s(n.rules,o,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=r,ax(this,function(){throw _h(12,String(n.name))})}return t.prototype.getName=function(e){return e===void 0&&(e=X0),this.name+e.hash},t}(),PB=function(t){return t>="A"&&t<="Z"};function sE(t){for(var e="",r=0;r<t.length;r++){var n=t[r];if(r===1&&n==="-"&&t[0]==="-")return t;PB(n)?e+="-"+n.toLowerCase():e+=n}return e.startsWith("ms-")?"-"+e:e}var yR=function(t){return t==null||t===!1||t===""},_R=function(t){var e,r,n=[];for(var i in t){var s=t[i];t.hasOwnProperty(i)&&!yR(s)&&(Array.isArray(s)&&s.isCss||Vl(s)?n.push("".concat(sE(i),":"),s,";"):Yc(s)?n.push.apply(n,Xc(Xc(["".concat(i," {")],_R(s),!1),["}"],!1)):n.push("".concat(sE(i),": ").concat((e=i,(r=s)==null||typeof r=="boolean"||r===""?"":typeof r!="number"||r===0||e in qF||e.startsWith("--")?String(r).trim():"".concat(r,"px")),";")))}return n};function eo(t,e,r,n){if(yR(t))return[];if(ox(t))return[".".concat(t.styledComponentId)];if(Vl(t)){if(!Vl(s=t)||s.prototype&&s.prototype.isReactComponent||!e)return[t];var i=t(e);return eo(i,e,r,n)}var s;return t instanceof CB?r?(t.inject(r,n),[t.getName(n)]):[t]:Yc(t)?_R(t):Array.isArray(t)?Array.prototype.concat.apply(Cm,t.map(function(o){return eo(o,e,r,n)})):[t.toString()]}function xR(t){for(var e=0;e<t.length;e+=1){var r=t[e];if(Vl(r)&&!ox(r))return!1}return!0}var IB=uR(Am),RB=function(){function t(e,r,n){this.rules=e,this.staticRulesId="",this.isStatic=(n===void 0||n.isStatic)&&xR(e),this.componentId=r,this.baseHash=pl(IB,r),this.baseStyle=n,Ap.registerId(r)}return t.prototype.generateAndInjectStyles=function(e,r,n){var i=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,r,n):"";if(this.isStatic&&!n.hash)if(this.staticRulesId&&r.hasNameForId(this.componentId,this.staticRulesId))i=Go(i,this.staticRulesId);else{var s=V0(eo(this.rules,e,r,n)),o=H0(pl(this.baseHash,s)>>>0);if(!r.hasNameForId(this.componentId,o)){var a=n(s,".".concat(o),void 0,this.componentId);r.insertRules(this.componentId,o,a)}i=Go(i,o),this.staticRulesId=o}else{for(var c=pl(this.baseHash,n.hash),h="",f=0;f<this.rules.length;f++){var p=this.rules[f];if(typeof p=="string")h+=p;else if(p){var m=V0(eo(p,e,r,n));c=pl(c,m+f),h+=m}}if(h){var y=H0(c>>>0);r.hasNameForId(this.componentId,y)||r.insertRules(this.componentId,y,n(h,".".concat(y),void 0,this.componentId)),i=Go(i,y)}}return i},t}(),lx=et.createContext(void 0);lx.Consumer;var Lv={};function OB(t,e,r){var n=ox(t),i=t,s=!Bv(t),o=e.attrs,a=o===void 0?Cm:o,c=e.componentId,h=c===void 0?function(T,P){var M=typeof T!="string"?"sc":ZS(T);Lv[M]=(Lv[M]||0)+1;var R="".concat(M,"-").concat(cR(Am+M+Lv[M]));return P?"".concat(P,"-").concat(R):R}(e.displayName,e.parentComponentId):c,f=e.displayName,p=f===void 0?function(T){return Bv(T)?"styled.".concat(T):"Styled(".concat(nB(T),")")}(t):f,m=e.displayName&&e.componentId?"".concat(ZS(e.displayName),"-").concat(e.componentId):e.componentId||h,y=n&&i.attrs?i.attrs.concat(a).filter(Boolean):a,_=e.shouldForwardProp;if(n&&i.shouldForwardProp){var S=i.shouldForwardProp;if(e.shouldForwardProp){var A=e.shouldForwardProp;_=function(T,P){return S(T,P)&&A(T,P)}}else _=S}var E=new RB(r,m,n?i.componentStyle:void 0);function w(T,P){return function(M,R,D){var V=M.attrs,W=M.componentStyle,pe=M.defaultProps,J=M.foldedComponentIds,B=M.styledComponentId,X=M.target,ie=et.useContext(lx),me=Y0(),ae=M.shouldForwardProp||me.shouldForwardProp,O=oR(R,ie,pe)||Hl,$=function(Fe,Se,ke){for(var ct,rt=fr(fr({},Se),{className:void 0,theme:ke}),Qe=0;Qe<Fe.length;Qe+=1){var Ae=Vl(ct=Fe[Qe])?ct(rt):ct;for(var Le in Ae)rt[Le]=Le==="className"?Go(rt[Le],Ae[Le]):Le==="style"?fr(fr({},rt[Le]),Ae[Le]):Ae[Le]}return Se.className&&(rt.className=Go(rt.className,Se.className)),rt}(V,R,O),N=$.as||X,U={};for(var Z in $)$[Z]===void 0||Z[0]==="$"||Z==="as"||Z==="theme"&&$.theme===O||(Z==="forwardedAs"?U.as=$.forwardedAs:ae&&!ae(Z,N)||(U[Z]=$[Z]));var Ee=function(Fe,Se){var ke=Y0(),ct=Fe.generateAndInjectStyles(Se,ke.styleSheet,ke.stylis);return ct}(W,$),be=Go(J,B);return Ee&&(be+=" "+Ee),$.className&&(be+=" "+$.className),U[Bv(N)&&!aR.has(N)?"class":"className"]=be,U.ref=D,xe.createElement(N,U)}(x,T,P)}w.displayName=p;var x=et.forwardRef(w);return x.attrs=y,x.componentStyle=E,x.displayName=p,x.shouldForwardProp=_,x.foldedComponentIds=n?Go(i.foldedComponentIds,i.styledComponentId):"",x.styledComponentId=m,x.target=n?i.target:t,Object.defineProperty(x,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(T){this._foldedDefaultProps=n?function(P){for(var M=[],R=1;R<arguments.length;R++)M[R-1]=arguments[R];for(var D=0,V=M;D<V.length;D++)W0(P,V[D],!0);return P}({},i.defaultProps,T):T}}),ax(x,function(){return".".concat(x.styledComponentId)}),s&&pR(x,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),x}function oE(t,e){for(var r=[t[0]],n=0,i=e.length;n<i;n+=1)r.push(e[n],t[n+1]);return r}var aE=function(t){return Object.assign(t,{isCss:!0})};function Kc(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(Vl(t)||Yc(t))return aE(eo(oE(Cm,Xc([t],e,!0))));var n=t;return e.length===0&&n.length===1&&typeof n[0]=="string"?eo(n):aE(eo(oE(n,e)))}function K0(t,e,r){if(r===void 0&&(r=Hl),!e)throw _h(1,e);var n=function(i){for(var s=[],o=1;o<arguments.length;o++)s[o-1]=arguments[o];return t(e,r,Kc.apply(void 0,Xc([i],s,!1)))};return n.attrs=function(i){return K0(t,e,fr(fr({},r),{attrs:Array.prototype.concat(r.attrs,i).filter(Boolean)}))},n.withConfig=function(i){return K0(t,e,fr(fr({},r),i))},n}var bR=function(t){return K0(OB,t)},su=bR;aR.forEach(function(t){su[t]=bR(t)});var MB=function(){function t(e,r){this.rules=e,this.componentId=r,this.isStatic=xR(e),Ap.registerId(this.componentId+1)}return t.prototype.createStyles=function(e,r,n,i){var s=i(V0(eo(this.rules,r,n,i)),""),o=this.componentId+e;n.insertRules(o,o,s)},t.prototype.removeStyles=function(e,r){r.clearRules(this.componentId+e)},t.prototype.renderStyles=function(e,r,n,i){e>2&&Ap.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,r,n,i)},t}();function kB(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var n=Kc.apply(void 0,Xc([t],e,!1)),i="sc-global-".concat(cR(JSON.stringify(n))),s=new MB(n,i),o=function(c){var h=Y0(),f=et.useContext(lx),p=et.useRef(h.styleSheet.allocateGSInstance(i)).current;return h.styleSheet.server&&a(p,c,h.styleSheet,f,h.stylis),et.useLayoutEffect(function(){if(!h.styleSheet.server)return a(p,c,h.styleSheet,f,h.stylis),function(){return s.removeStyles(p,h.styleSheet)}},[p,c,h.styleSheet,f,h.stylis]),null};function a(c,h,f,p,m){if(s.isStatic)s.renderStyles(c,JF,f,m);else{var y=fr(fr({},h),{theme:oR(h,p,o.defaultProps)});s.renderStyles(c,y,f,m)}}return et.memo(o)}const DB=su.button`
  padding: ${t=>t.$icon?"5px":"0"};
  color: #333;
  font-size: 1em;
  border: ${t=>t.$icon?"1px solid #b3b0b0":"none"};
  background-color: ${t=>t.$icon?"#fff":"transparent"};
  cursor: pointer;
  ${t=>{if(t.$absolute)return Kc`
        position: absolute;
        top: 1em;
        left: 1em;
      `}}

  ${t=>{if(t.$icon)return Kc`
        border-radius: 10px;
        box-shadow: 3px 3px 0px 0px rgba(179, 176, 176, 0.5);
        & svg path {
          stroke: #333;
          stroke-width: 2;
        }
      `}}
`,lE=su.button`
  width: 60px;
  height: 60px;
  color: #fff;
  background-color: ${t=>t.$color?t.$color:"#fff"};
  border: 1px solid #b3b0b0;
  border-radius: 50%;
  cursor: pointer;
  ${t=>{if(t.$color)return Kc`
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.5em;
      `}}
`,NB=su.div`
  position: relative;
  display: flex;
  flex-direction: column;
`,FB=su.div`
  height: 87vh;
`,BB=()=>Ue.jsx("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Ue.jsx("path",{d:"M20 8L12 16L20 24"})}),LB=()=>{ot.saveCanvas()},UB=({editor:t,pallete:e})=>Ue.jsxs(NB,{children:[Ue.jsx(DB,{$absolute:!0,$icon:!0,onClick:()=>LB(),children:Ue.jsx(BB,{})}),t,e]});var Pm={exports:{}},ma=(t=>(t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2",t))(ma||{}),wR=(t=>(t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS",t))(wR||{}),Q0=(t=>(t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL",t))(Q0||{}),_e=(t=>(t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR",t))(_e||{}),Un=(t=>(t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN",t))(Un||{}),q=(t=>(t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL",t))(q||{}),El=(t=>(t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",t))(El||{}),ge=(t=>(t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT",t))(ge||{}),se=(t=>(t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT",t))(se||{}),Ji=(t=>(t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR",t))(Ji||{}),ss=(t=>(t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",t))(ss||{}),Di=(t=>(t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL",t))(Di||{}),Or=(t=>(t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",t))(Or||{}),bi=(t=>(t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT",t))(bi||{}),ux=(t=>(t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL",t))(ux||{}),yn=(t=>(t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp",t))(yn||{}),Bt=(t=>(t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE",t[t.COLOR=4]="COLOR",t))(Bt||{}),Mt=(t=>(t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH",t))(Mt||{}),Oi=(t=>(t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",t))(Oi||{});const zB={createCanvas:(t,e)=>{const r=document.createElement("canvas");return r.width=t,r.height=e,r},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(t,e)=>fetch(t,e),parseXML:t=>new DOMParser().parseFromString(t,"text/xml")},oe={ADAPTER:zB,RESOLUTION:1,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};var Uv=/iPhone/i,uE=/iPod/i,cE=/iPad/i,hE=/\biOS-universal(?:.+)Mac\b/i,zv=/\bAndroid(?:.+)Mobile\b/i,dE=/Android/i,Ba=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,Fd=/Silk/i,ji=/Windows Phone/i,fE=/\bWindows(?:.+)ARM\b/i,pE=/BlackBerry/i,mE=/BB10/i,gE=/Opera Mini/i,vE=/\b(CriOS|Chrome)(?:.+)Mobile/i,yE=/Mobile(?:.+)Firefox\b/i,_E=function(t){return typeof t<"u"&&t.platform==="MacIntel"&&typeof t.maxTouchPoints=="number"&&t.maxTouchPoints>1&&typeof MSStream>"u"};function $B(t){return function(e){return e.test(t)}}function xE(t){var e={userAgent:"",platform:"",maxTouchPoints:0};!t&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof t=="string"?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0});var r=e.userAgent,n=r.split("[FBAN");typeof n[1]<"u"&&(r=n[0]),n=r.split("Twitter"),typeof n[1]<"u"&&(r=n[0]);var i=$B(r),s={apple:{phone:i(Uv)&&!i(ji),ipod:i(uE),tablet:!i(Uv)&&(i(cE)||_E(e))&&!i(ji),universal:i(hE),device:(i(Uv)||i(uE)||i(cE)||i(hE)||_E(e))&&!i(ji)},amazon:{phone:i(Ba),tablet:!i(Ba)&&i(Fd),device:i(Ba)||i(Fd)},android:{phone:!i(ji)&&i(Ba)||!i(ji)&&i(zv),tablet:!i(ji)&&!i(Ba)&&!i(zv)&&(i(Fd)||i(dE)),device:!i(ji)&&(i(Ba)||i(Fd)||i(zv)||i(dE))||i(/\bokhttp\b/i)},windows:{phone:i(ji),tablet:i(fE),device:i(ji)||i(fE)},other:{blackberry:i(pE),blackberry10:i(mE),opera:i(gE),firefox:i(yE),chrome:i(vE),device:i(pE)||i(mE)||i(gE)||i(yE)||i(vE)},any:!1,phone:!1,tablet:!1};return s.any=s.apple.device||s.android.device||s.windows.device||s.other.device,s.phone=s.apple.phone||s.android.phone||s.windows.phone,s.tablet=s.apple.tablet||s.android.tablet||s.windows.tablet,s}const GB=xE.default??xE,es=GB(globalThis.navigator);oe.RETINA_PREFIX=/@([0-9\.]+)x/;oe.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var SR={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,h,f){this.fn=c,this.context=h,this.once=f||!1}function s(c,h,f,p,m){if(typeof f!="function")throw new TypeError("The listener must be a function");var y=new i(f,p||c,m),_=r?r+h:h;return c._events[_]?c._events[_].fn?c._events[_]=[c._events[_],y]:c._events[_].push(y):(c._events[_]=y,c._eventsCount++),c}function o(c,h){--c._eventsCount===0?c._events=new n:delete c._events[h]}function a(){this._events=new n,this._eventsCount=0}a.prototype.eventNames=function(){var h=[],f,p;if(this._eventsCount===0)return h;for(p in f=this._events)e.call(f,p)&&h.push(r?p.slice(1):p);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(f)):h},a.prototype.listeners=function(h){var f=r?r+h:h,p=this._events[f];if(!p)return[];if(p.fn)return[p.fn];for(var m=0,y=p.length,_=new Array(y);m<y;m++)_[m]=p[m].fn;return _},a.prototype.listenerCount=function(h){var f=r?r+h:h,p=this._events[f];return p?p.fn?1:p.length:0},a.prototype.emit=function(h,f,p,m,y,_){var S=r?r+h:h;if(!this._events[S])return!1;var A=this._events[S],E=arguments.length,w,x;if(A.fn){switch(A.once&&this.removeListener(h,A.fn,void 0,!0),E){case 1:return A.fn.call(A.context),!0;case 2:return A.fn.call(A.context,f),!0;case 3:return A.fn.call(A.context,f,p),!0;case 4:return A.fn.call(A.context,f,p,m),!0;case 5:return A.fn.call(A.context,f,p,m,y),!0;case 6:return A.fn.call(A.context,f,p,m,y,_),!0}for(x=1,w=new Array(E-1);x<E;x++)w[x-1]=arguments[x];A.fn.apply(A.context,w)}else{var T=A.length,P;for(x=0;x<T;x++)switch(A[x].once&&this.removeListener(h,A[x].fn,void 0,!0),E){case 1:A[x].fn.call(A[x].context);break;case 2:A[x].fn.call(A[x].context,f);break;case 3:A[x].fn.call(A[x].context,f,p);break;case 4:A[x].fn.call(A[x].context,f,p,m);break;default:if(!w)for(P=1,w=new Array(E-1);P<E;P++)w[P-1]=arguments[P];A[x].fn.apply(A[x].context,w)}}return!0},a.prototype.on=function(h,f,p){return s(this,h,f,p,!1)},a.prototype.once=function(h,f,p){return s(this,h,f,p,!0)},a.prototype.removeListener=function(h,f,p,m){var y=r?r+h:h;if(!this._events[y])return this;if(!f)return o(this,y),this;var _=this._events[y];if(_.fn)_.fn===f&&(!m||_.once)&&(!p||_.context===p)&&o(this,y);else{for(var S=0,A=[],E=_.length;S<E;S++)(_[S].fn!==f||m&&!_[S].once||p&&_[S].context!==p)&&A.push(_[S]);A.length?this._events[y]=A.length===1?A[0]:A:o(this,y)}return this},a.prototype.removeAllListeners=function(h){var f;return h?(f=r?r+h:h,this._events[f]&&o(this,f)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,t.exports=a})(SR);var jB=SR.exports;const xh=ah(jB);var cx={exports:{}};cx.exports=Im;cx.exports.default=Im;function Im(t,e,r){r=r||2;var n=e&&e.length,i=n?e[0]*r:t.length,s=ER(t,0,i,r,!0),o=[];if(!s||s.next===s.prev)return o;var a,c,h,f,p,m,y;if(n&&(s=YB(t,e,s,r)),t.length>80*r){a=h=t[0],c=f=t[1];for(var _=r;_<i;_+=r)p=t[_],m=t[_+1],p<a&&(a=p),m<c&&(c=m),p>h&&(h=p),m>f&&(f=m);y=Math.max(h-a,f-c),y=y!==0?32767/y:0}return Qc(s,o,r,a,c,y,0),o}function ER(t,e,r,n,i){var s,o;if(i===J0(t,e,r,n)>0)for(s=e;s<r;s+=n)o=bE(s,t[s],t[s+1],o);else for(s=r-n;s>=e;s-=n)o=bE(s,t[s],t[s+1],o);return o&&Rm(o,o.next)&&(Zc(o),o=o.next),o}function aa(t,e){if(!t)return t;e||(e=t);var r=t,n;do if(n=!1,!r.steiner&&(Rm(r,r.next)||xt(r.prev,r,r.next)===0)){if(Zc(r),r=e=r.prev,r===r.next)break;n=!0}else r=r.next;while(n||r!==e);return e}function Qc(t,e,r,n,i,s,o){if(t){!o&&s&&JB(t,n,i,s);for(var a=t,c,h;t.prev!==t.next;){if(c=t.prev,h=t.next,s?VB(t,n,i,s):HB(t)){e.push(c.i/r|0),e.push(t.i/r|0),e.push(h.i/r|0),Zc(t),t=h.next,a=h.next;continue}if(t=h,t===a){o?o===1?(t=WB(aa(t),e,r),Qc(t,e,r,n,i,s,2)):o===2&&XB(t,e,r,n,i,s):Qc(aa(t),e,r,n,i,s,1);break}}}}function HB(t){var e=t.prev,r=t,n=t.next;if(xt(e,r,n)>=0)return!1;for(var i=e.x,s=r.x,o=n.x,a=e.y,c=r.y,h=n.y,f=i<s?i<o?i:o:s<o?s:o,p=a<c?a<h?a:h:c<h?c:h,m=i>s?i>o?i:o:s>o?s:o,y=a>c?a>h?a:h:c>h?c:h,_=n.next;_!==e;){if(_.x>=f&&_.x<=m&&_.y>=p&&_.y<=y&&ml(i,a,s,c,o,h,_.x,_.y)&&xt(_.prev,_,_.next)>=0)return!1;_=_.next}return!0}function VB(t,e,r,n){var i=t.prev,s=t,o=t.next;if(xt(i,s,o)>=0)return!1;for(var a=i.x,c=s.x,h=o.x,f=i.y,p=s.y,m=o.y,y=a<c?a<h?a:h:c<h?c:h,_=f<p?f<m?f:m:p<m?p:m,S=a>c?a>h?a:h:c>h?c:h,A=f>p?f>m?f:m:p>m?p:m,E=q0(y,_,e,r,n),w=q0(S,A,e,r,n),x=t.prevZ,T=t.nextZ;x&&x.z>=E&&T&&T.z<=w;){if(x.x>=y&&x.x<=S&&x.y>=_&&x.y<=A&&x!==i&&x!==o&&ml(a,f,c,p,h,m,x.x,x.y)&&xt(x.prev,x,x.next)>=0||(x=x.prevZ,T.x>=y&&T.x<=S&&T.y>=_&&T.y<=A&&T!==i&&T!==o&&ml(a,f,c,p,h,m,T.x,T.y)&&xt(T.prev,T,T.next)>=0))return!1;T=T.nextZ}for(;x&&x.z>=E;){if(x.x>=y&&x.x<=S&&x.y>=_&&x.y<=A&&x!==i&&x!==o&&ml(a,f,c,p,h,m,x.x,x.y)&&xt(x.prev,x,x.next)>=0)return!1;x=x.prevZ}for(;T&&T.z<=w;){if(T.x>=y&&T.x<=S&&T.y>=_&&T.y<=A&&T!==i&&T!==o&&ml(a,f,c,p,h,m,T.x,T.y)&&xt(T.prev,T,T.next)>=0)return!1;T=T.nextZ}return!0}function WB(t,e,r){var n=t;do{var i=n.prev,s=n.next.next;!Rm(i,s)&&TR(i,n,n.next,s)&&qc(i,s)&&qc(s,i)&&(e.push(i.i/r|0),e.push(n.i/r|0),e.push(s.i/r|0),Zc(n),Zc(n.next),n=t=s),n=n.next}while(n!==t);return aa(n)}function XB(t,e,r,n,i,s){var o=t;do{for(var a=o.next.next;a!==o.prev;){if(o.i!==a.i&&rL(o,a)){var c=AR(o,a);o=aa(o,o.next),c=aa(c,c.next),Qc(o,e,r,n,i,s,0),Qc(c,e,r,n,i,s,0);return}a=a.next}o=o.next}while(o!==t)}function YB(t,e,r,n){var i=[],s,o,a,c,h;for(s=0,o=e.length;s<o;s++)a=e[s]*n,c=s<o-1?e[s+1]*n:t.length,h=ER(t,a,c,n,!1),h===h.next&&(h.steiner=!0),i.push(tL(h));for(i.sort(KB),s=0;s<i.length;s++)r=QB(i[s],r);return r}function KB(t,e){return t.x-e.x}function QB(t,e){var r=qB(t,e);if(!r)return e;var n=AR(r,t);return aa(n,n.next),aa(r,r.next)}function qB(t,e){var r=e,n=t.x,i=t.y,s=-1/0,o;do{if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){var a=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(a<=n&&a>s&&(s=a,o=r.x<r.next.x?r:r.next,a===n))return o}r=r.next}while(r!==e);if(!o)return null;var c=o,h=o.x,f=o.y,p=1/0,m;r=o;do n>=r.x&&r.x>=h&&n!==r.x&&ml(i<f?n:s,i,h,f,i<f?s:n,i,r.x,r.y)&&(m=Math.abs(i-r.y)/(n-r.x),qc(r,t)&&(m<p||m===p&&(r.x>o.x||r.x===o.x&&ZB(o,r)))&&(o=r,p=m)),r=r.next;while(r!==c);return o}function ZB(t,e){return xt(t.prev,t,e.prev)<0&&xt(e.next,t,t.next)<0}function JB(t,e,r,n){var i=t;do i.z===0&&(i.z=q0(i.x,i.y,e,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,eL(i)}function eL(t){var e,r,n,i,s,o,a,c,h=1;do{for(r=t,t=null,s=null,o=0;r;){for(o++,n=r,a=0,e=0;e<h&&(a++,n=n.nextZ,!!n);e++);for(c=h;a>0||c>0&&n;)a!==0&&(c===0||!n||r.z<=n.z)?(i=r,r=r.nextZ,a--):(i=n,n=n.nextZ,c--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;r=n}s.nextZ=null,h*=2}while(o>1);return t}function q0(t,e,r,n,i){return t=(t-r)*i|0,e=(e-n)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function tL(t){var e=t,r=t;do(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next;while(e!==t);return r}function ml(t,e,r,n,i,s,o,a){return(i-o)*(e-a)>=(t-o)*(s-a)&&(t-o)*(n-a)>=(r-o)*(e-a)&&(r-o)*(s-a)>=(i-o)*(n-a)}function rL(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!nL(t,e)&&(qc(t,e)&&qc(e,t)&&iL(t,e)&&(xt(t.prev,t,e.prev)||xt(t,e.prev,e))||Rm(t,e)&&xt(t.prev,t,t.next)>0&&xt(e.prev,e,e.next)>0)}function xt(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function Rm(t,e){return t.x===e.x&&t.y===e.y}function TR(t,e,r,n){var i=Ld(xt(t,e,r)),s=Ld(xt(t,e,n)),o=Ld(xt(r,n,t)),a=Ld(xt(r,n,e));return!!(i!==s&&o!==a||i===0&&Bd(t,r,e)||s===0&&Bd(t,n,e)||o===0&&Bd(r,t,n)||a===0&&Bd(r,e,n))}function Bd(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function Ld(t){return t>0?1:t<0?-1:0}function nL(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&TR(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}function qc(t,e){return xt(t.prev,t,t.next)<0?xt(t,e,t.next)>=0&&xt(t,t.prev,e)>=0:xt(t,e,t.prev)<0||xt(t,t.next,e)<0}function iL(t,e){var r=t,n=!1,i=(t.x+e.x)/2,s=(t.y+e.y)/2;do r.y>s!=r.next.y>s&&r.next.y!==r.y&&i<(r.next.x-r.x)*(s-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next;while(r!==t);return n}function AR(t,e){var r=new Z0(t.i,t.x,t.y),n=new Z0(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,r.next=i,i.prev=r,n.next=r,r.prev=n,s.next=n,n.prev=s,n}function bE(t,e,r,n){var i=new Z0(t,e,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function Zc(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Z0(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}Im.deviation=function(t,e,r,n){var i=e&&e.length,s=i?e[0]*r:t.length,o=Math.abs(J0(t,0,s,r));if(i)for(var a=0,c=e.length;a<c;a++){var h=e[a]*r,f=a<c-1?e[a+1]*r:t.length;o-=Math.abs(J0(t,h,f,r))}var p=0;for(a=0;a<n.length;a+=3){var m=n[a]*r,y=n[a+1]*r,_=n[a+2]*r;p+=Math.abs((t[m]-t[_])*(t[y+1]-t[m+1])-(t[m]-t[y])*(t[_+1]-t[m+1]))}return o===0&&p===0?0:Math.abs((p-o)/o)};function J0(t,e,r,n){for(var i=0,s=e,o=r-n;s<r;s+=n)i+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return i}Im.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},n=0,i=0;i<t.length;i++){for(var s=0;s<t[i].length;s++)for(var o=0;o<e;o++)r.vertices.push(t[i][s][o]);i>0&&(n+=t[i-1].length,r.holes.push(n))}return r};var sL=cx.exports;const oL=ah(sL);var Cp={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */Cp.exports;(function(t,e){(function(r){var n=e&&!e.nodeType&&e,i=t&&!t.nodeType&&t,s=typeof lc=="object"&&lc;(s.global===s||s.window===s||s.self===s)&&(r=s);var o,a=2147483647,c=36,h=1,f=26,p=38,m=700,y=72,_=128,S="-",A=/^xn--/,E=/[^\x20-\x7E]/,w=/[\x2E\u3002\uFF0E\uFF61]/g,x={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},T=c-h,P=Math.floor,M=String.fromCharCode,R;function D(N){throw new RangeError(x[N])}function V(N,U){for(var Z=N.length,Ee=[];Z--;)Ee[Z]=U(N[Z]);return Ee}function W(N,U){var Z=N.split("@"),Ee="";Z.length>1&&(Ee=Z[0]+"@",N=Z[1]),N=N.replace(w,".");var be=N.split("."),Fe=V(be,U).join(".");return Ee+Fe}function pe(N){for(var U=[],Z=0,Ee=N.length,be,Fe;Z<Ee;)be=N.charCodeAt(Z++),be>=55296&&be<=56319&&Z<Ee?(Fe=N.charCodeAt(Z++),(Fe&64512)==56320?U.push(((be&1023)<<10)+(Fe&1023)+65536):(U.push(be),Z--)):U.push(be);return U}function J(N){return V(N,function(U){var Z="";return U>65535&&(U-=65536,Z+=M(U>>>10&1023|55296),U=56320|U&1023),Z+=M(U),Z}).join("")}function B(N){return N-48<10?N-22:N-65<26?N-65:N-97<26?N-97:c}function X(N,U){return N+22+75*(N<26)-((U!=0)<<5)}function ie(N,U,Z){var Ee=0;for(N=Z?P(N/m):N>>1,N+=P(N/U);N>T*f>>1;Ee+=c)N=P(N/T);return P(Ee+(T+1)*N/(N+p))}function me(N){var U=[],Z=N.length,Ee,be=0,Fe=_,Se=y,ke,ct,rt,Qe,Ae,Le,Ge,Jr,en;for(ke=N.lastIndexOf(S),ke<0&&(ke=0),ct=0;ct<ke;++ct)N.charCodeAt(ct)>=128&&D("not-basic"),U.push(N.charCodeAt(ct));for(rt=ke>0?ke+1:0;rt<Z;){for(Qe=be,Ae=1,Le=c;rt>=Z&&D("invalid-input"),Ge=B(N.charCodeAt(rt++)),(Ge>=c||Ge>P((a-be)/Ae))&&D("overflow"),be+=Ge*Ae,Jr=Le<=Se?h:Le>=Se+f?f:Le-Se,!(Ge<Jr);Le+=c)en=c-Jr,Ae>P(a/en)&&D("overflow"),Ae*=en;Ee=U.length+1,Se=ie(be-Qe,Ee,Qe==0),P(be/Ee)>a-Fe&&D("overflow"),Fe+=P(be/Ee),be%=Ee,U.splice(be++,0,Fe)}return J(U)}function ae(N){var U,Z,Ee,be,Fe,Se,ke,ct,rt,Qe,Ae,Le=[],Ge,Jr,en,mo;for(N=pe(N),Ge=N.length,U=_,Z=0,Fe=y,Se=0;Se<Ge;++Se)Ae=N[Se],Ae<128&&Le.push(M(Ae));for(Ee=be=Le.length,be&&Le.push(S);Ee<Ge;){for(ke=a,Se=0;Se<Ge;++Se)Ae=N[Se],Ae>=U&&Ae<ke&&(ke=Ae);for(Jr=Ee+1,ke-U>P((a-Z)/Jr)&&D("overflow"),Z+=(ke-U)*Jr,U=ke,Se=0;Se<Ge;++Se)if(Ae=N[Se],Ae<U&&++Z>a&&D("overflow"),Ae==U){for(ct=Z,rt=c;Qe=rt<=Fe?h:rt>=Fe+f?f:rt-Fe,!(ct<Qe);rt+=c)mo=ct-Qe,en=c-Qe,Le.push(M(X(Qe+mo%en,0))),ct=P(mo/en);Le.push(M(X(ct,0))),Fe=ie(Z,Jr,Ee==be),Z=0,++Ee}++Z,++U}return Le.join("")}function O(N){return W(N,function(U){return A.test(U)?me(U.slice(4).toLowerCase()):U})}function $(N){return W(N,function(U){return E.test(U)?"xn--"+ae(U):U})}if(o={version:"1.4.1",ucs2:{decode:pe,encode:J},decode:me,encode:ae,toASCII:$,toUnicode:O},n&&i)if(t.exports==n)i.exports=o;else for(R in o)o.hasOwnProperty(R)&&(n[R]=o[R]);else r.punycode=o})(lc)})(Cp,Cp.exports);var aL=Cp.exports,lL=Error,uL=EvalError,cL=RangeError,hL=ReferenceError,CR=SyntaxError,bh=TypeError,dL=URIError,fL=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,r);if(o.value!==i||o.enumerable!==!0)return!1}return!0},wE=typeof Symbol<"u"&&Symbol,pL=fL,mL=function(){return typeof wE!="function"||typeof Symbol!="function"||typeof wE("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:pL()},$v={__proto__:null,foo:{}},gL=Object,vL=function(){return{__proto__:$v}.foo===$v.foo&&!($v instanceof gL)},yL="Function.prototype.bind called on incompatible ",_L=Object.prototype.toString,xL=Math.max,bL="[object Function]",SE=function(e,r){for(var n=[],i=0;i<e.length;i+=1)n[i]=e[i];for(var s=0;s<r.length;s+=1)n[s+e.length]=r[s];return n},wL=function(e,r){for(var n=[],i=r,s=0;i<e.length;i+=1,s+=1)n[s]=e[i];return n},SL=function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r},EL=function(e){var r=this;if(typeof r!="function"||_L.apply(r)!==bL)throw new TypeError(yL+r);for(var n=wL(arguments,1),i,s=function(){if(this instanceof i){var f=r.apply(this,SE(n,arguments));return Object(f)===f?f:this}return r.apply(e,SE(n,arguments))},o=xL(0,r.length-n.length),a=[],c=0;c<o;c++)a[c]="$"+c;if(i=Function("binder","return function ("+SL(a,",")+"){ return binder.apply(this,arguments); }")(s),r.prototype){var h=function(){};h.prototype=r.prototype,i.prototype=new h,h.prototype=null}return i},TL=EL,hx=Function.prototype.bind||TL,AL=Function.prototype.call,CL=Object.prototype.hasOwnProperty,PL=hx,IL=PL.call(AL,CL),De,RL=lL,OL=uL,ML=cL,kL=hL,Wl=CR,Tl=bh,DL=dL,PR=Function,Gv=function(t){try{return PR('"use strict"; return ('+t+").constructor;")()}catch{}},Yo=Object.getOwnPropertyDescriptor;if(Yo)try{Yo({},"")}catch{Yo=null}var jv=function(){throw new Tl},NL=Yo?function(){try{return arguments.callee,jv}catch{try{return Yo(arguments,"callee").get}catch{return jv}}}():jv,La=mL(),FL=vL(),Vt=Object.getPrototypeOf||(FL?function(t){return t.__proto__}:null),Va={},BL=typeof Uint8Array>"u"||!Vt?De:Vt(Uint8Array),Ko={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?De:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?De:ArrayBuffer,"%ArrayIteratorPrototype%":La&&Vt?Vt([][Symbol.iterator]()):De,"%AsyncFromSyncIteratorPrototype%":De,"%AsyncFunction%":Va,"%AsyncGenerator%":Va,"%AsyncGeneratorFunction%":Va,"%AsyncIteratorPrototype%":Va,"%Atomics%":typeof Atomics>"u"?De:Atomics,"%BigInt%":typeof BigInt>"u"?De:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?De:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?De:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?De:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":RL,"%eval%":eval,"%EvalError%":OL,"%Float32Array%":typeof Float32Array>"u"?De:Float32Array,"%Float64Array%":typeof Float64Array>"u"?De:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?De:FinalizationRegistry,"%Function%":PR,"%GeneratorFunction%":Va,"%Int8Array%":typeof Int8Array>"u"?De:Int8Array,"%Int16Array%":typeof Int16Array>"u"?De:Int16Array,"%Int32Array%":typeof Int32Array>"u"?De:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":La&&Vt?Vt(Vt([][Symbol.iterator]())):De,"%JSON%":typeof JSON=="object"?JSON:De,"%Map%":typeof Map>"u"?De:Map,"%MapIteratorPrototype%":typeof Map>"u"||!La||!Vt?De:Vt(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?De:Promise,"%Proxy%":typeof Proxy>"u"?De:Proxy,"%RangeError%":ML,"%ReferenceError%":kL,"%Reflect%":typeof Reflect>"u"?De:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?De:Set,"%SetIteratorPrototype%":typeof Set>"u"||!La||!Vt?De:Vt(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?De:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":La&&Vt?Vt(""[Symbol.iterator]()):De,"%Symbol%":La?Symbol:De,"%SyntaxError%":Wl,"%ThrowTypeError%":NL,"%TypedArray%":BL,"%TypeError%":Tl,"%Uint8Array%":typeof Uint8Array>"u"?De:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?De:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?De:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?De:Uint32Array,"%URIError%":DL,"%WeakMap%":typeof WeakMap>"u"?De:WeakMap,"%WeakRef%":typeof WeakRef>"u"?De:WeakRef,"%WeakSet%":typeof WeakSet>"u"?De:WeakSet};if(Vt)try{null.error}catch(t){var LL=Vt(Vt(t));Ko["%Error.prototype%"]=LL}var UL=function t(e){var r;if(e==="%AsyncFunction%")r=Gv("async function () {}");else if(e==="%GeneratorFunction%")r=Gv("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=Gv("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&Vt&&(r=Vt(i.prototype))}return Ko[e]=r,r},EE={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},wh=hx,Pp=IL,zL=wh.call(Function.call,Array.prototype.concat),$L=wh.call(Function.apply,Array.prototype.splice),TE=wh.call(Function.call,String.prototype.replace),Ip=wh.call(Function.call,String.prototype.slice),GL=wh.call(Function.call,RegExp.prototype.exec),jL=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,HL=/\\(\\)?/g,VL=function(e){var r=Ip(e,0,1),n=Ip(e,-1);if(r==="%"&&n!=="%")throw new Wl("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new Wl("invalid intrinsic syntax, expected opening `%`");var i=[];return TE(e,jL,function(s,o,a,c){i[i.length]=a?TE(c,HL,"$1"):o||s}),i},WL=function(e,r){var n=e,i;if(Pp(EE,n)&&(i=EE[n],n="%"+i[0]+"%"),Pp(Ko,n)){var s=Ko[n];if(s===Va&&(s=UL(n)),typeof s>"u"&&!r)throw new Tl("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:s}}throw new Wl("intrinsic "+e+" does not exist!")},ou=function(e,r){if(typeof e!="string"||e.length===0)throw new Tl("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new Tl('"allowMissing" argument must be a boolean');if(GL(/^%?[^%]*%?$/,e)===null)throw new Wl("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=VL(e),i=n.length>0?n[0]:"",s=WL("%"+i+"%",r),o=s.name,a=s.value,c=!1,h=s.alias;h&&(i=h[0],$L(n,zL([0,1],h)));for(var f=1,p=!0;f<n.length;f+=1){var m=n[f],y=Ip(m,0,1),_=Ip(m,-1);if((y==='"'||y==="'"||y==="`"||_==='"'||_==="'"||_==="`")&&y!==_)throw new Wl("property names with quotes must have matching quotes");if((m==="constructor"||!p)&&(c=!0),i+="."+m,o="%"+i+"%",Pp(Ko,o))a=Ko[o];else if(a!=null){if(!(m in a)){if(!r)throw new Tl("base intrinsic for "+e+" exists, but the property is not available.");return}if(Yo&&f+1>=n.length){var S=Yo(a,m);p=!!S,p&&"get"in S&&!("originalValue"in S.get)?a=S.get:a=a[m]}else p=Pp(a,m),a=a[m];p&&!c&&(Ko[o]=a)}}return a},IR={exports:{}},Hv,AE;function dx(){if(AE)return Hv;AE=1;var t=ou,e=t("%Object.defineProperty%",!0)||!1;if(e)try{e({},"a",{value:1})}catch{e=!1}return Hv=e,Hv}var XL=ou,kf=XL("%Object.getOwnPropertyDescriptor%",!0);if(kf)try{kf([],"length")}catch{kf=null}var RR=kf,CE=dx(),YL=CR,Ua=bh,PE=RR,KL=function(e,r,n){if(!e||typeof e!="object"&&typeof e!="function")throw new Ua("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new Ua("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new Ua("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new Ua("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new Ua("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new Ua("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,s=arguments.length>4?arguments[4]:null,o=arguments.length>5?arguments[5]:null,a=arguments.length>6?arguments[6]:!1,c=!!PE&&PE(e,r);if(CE)CE(e,r,{configurable:o===null&&c?c.configurable:!o,enumerable:i===null&&c?c.enumerable:!i,value:n,writable:s===null&&c?c.writable:!s});else if(a||!i&&!s&&!o)e[r]=n;else throw new YL("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},e_=dx(),OR=function(){return!!e_};OR.hasArrayLengthDefineBug=function(){if(!e_)return null;try{return e_([],"length",{value:1}).length!==1}catch{return!0}};var QL=OR,qL=ou,IE=KL,ZL=QL(),RE=RR,OE=bh,JL=qL("%Math.floor%"),e4=function(e,r){if(typeof e!="function")throw new OE("`fn` is not a function");if(typeof r!="number"||r<0||r>4294967295||JL(r)!==r)throw new OE("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],i=!0,s=!0;if("length"in e&&RE){var o=RE(e,"length");o&&!o.configurable&&(i=!1),o&&!o.writable&&(s=!1)}return(i||s||!n)&&(ZL?IE(e,"length",r,!0,!0):IE(e,"length",r)),e};(function(t){var e=hx,r=ou,n=e4,i=bh,s=r("%Function.prototype.apply%"),o=r("%Function.prototype.call%"),a=r("%Reflect.apply%",!0)||e.call(o,s),c=dx(),h=r("%Math.max%");t.exports=function(m){if(typeof m!="function")throw new i("a function is required");var y=a(e,o,arguments);return n(y,1+h(0,m.length-(arguments.length-1)),!0)};var f=function(){return a(e,s,arguments)};c?c(t.exports,"apply",{value:f}):t.exports.apply=f})(IR);var t4=IR.exports,MR=ou,kR=t4,r4=kR(MR("String.prototype.indexOf")),n4=function(e,r){var n=MR(e,!!r);return typeof n=="function"&&r4(e,".prototype.")>-1?kR(n):n};const i4={},s4=Object.freeze(Object.defineProperty({__proto__:null,default:i4},Symbol.toStringTag,{value:"Module"})),o4=YA(s4);var fx=typeof Map=="function"&&Map.prototype,Vv=Object.getOwnPropertyDescriptor&&fx?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Rp=fx&&Vv&&typeof Vv.get=="function"?Vv.get:null,ME=fx&&Map.prototype.forEach,px=typeof Set=="function"&&Set.prototype,Wv=Object.getOwnPropertyDescriptor&&px?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,Op=px&&Wv&&typeof Wv.get=="function"?Wv.get:null,kE=px&&Set.prototype.forEach,a4=typeof WeakMap=="function"&&WeakMap.prototype,bc=a4?WeakMap.prototype.has:null,l4=typeof WeakSet=="function"&&WeakSet.prototype,wc=l4?WeakSet.prototype.has:null,u4=typeof WeakRef=="function"&&WeakRef.prototype,DE=u4?WeakRef.prototype.deref:null,c4=Boolean.prototype.valueOf,h4=Object.prototype.toString,d4=Function.prototype.toString,f4=String.prototype.match,mx=String.prototype.slice,js=String.prototype.replace,p4=String.prototype.toUpperCase,NE=String.prototype.toLowerCase,DR=RegExp.prototype.test,FE=Array.prototype.concat,wi=Array.prototype.join,m4=Array.prototype.slice,BE=Math.floor,t_=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Xv=Object.getOwnPropertySymbols,r_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Xl=typeof Symbol=="function"&&typeof Symbol.iterator=="object",mr=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Xl||!0)?Symbol.toStringTag:null,NR=Object.prototype.propertyIsEnumerable,LE=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function UE(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||DR.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var n=t<0?-BE(-t):BE(t);if(n!==t){var i=String(n),s=mx.call(e,i.length+1);return js.call(i,r,"$&_")+"."+js.call(js.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return js.call(e,r,"$&_")}var n_=o4,zE=n_.custom,$E=BR(zE)?zE:null,g4=function t(e,r,n,i){var s=r||{};if(Ns(s,"quoteStyle")&&s.quoteStyle!=="single"&&s.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Ns(s,"maxStringLength")&&(typeof s.maxStringLength=="number"?s.maxStringLength<0&&s.maxStringLength!==1/0:s.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=Ns(s,"customInspect")?s.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Ns(s,"indent")&&s.indent!==null&&s.indent!=="	"&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Ns(s,"numericSeparator")&&typeof s.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=s.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return UR(e,s);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var c=String(e);return a?UE(e,c):c}if(typeof e=="bigint"){var h=String(e)+"n";return a?UE(e,h):h}var f=typeof s.depth>"u"?5:s.depth;if(typeof n>"u"&&(n=0),n>=f&&f>0&&typeof e=="object")return i_(e)?"[Array]":"[Object]";var p=D4(s,n);if(typeof i>"u")i=[];else if(LR(i,e)>=0)return"[Circular]";function m(B,X,ie){if(X&&(i=m4.call(i),i.push(X)),ie){var me={depth:s.depth};return Ns(s,"quoteStyle")&&(me.quoteStyle=s.quoteStyle),t(B,me,n+1,i)}return t(B,s,n+1,i)}if(typeof e=="function"&&!GE(e)){var y=T4(e),_=Ud(e,m);return"[Function"+(y?": "+y:" (anonymous)")+"]"+(_.length>0?" { "+wi.call(_,", ")+" }":"")}if(BR(e)){var S=Xl?js.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):r_.call(e);return typeof e=="object"&&!Xl?zu(S):S}if(O4(e)){for(var A="<"+NE.call(String(e.nodeName)),E=e.attributes||[],w=0;w<E.length;w++)A+=" "+E[w].name+"="+FR(v4(E[w].value),"double",s);return A+=">",e.childNodes&&e.childNodes.length&&(A+="..."),A+="</"+NE.call(String(e.nodeName))+">",A}if(i_(e)){if(e.length===0)return"[]";var x=Ud(e,m);return p&&!k4(x)?"["+s_(x,p)+"]":"[ "+wi.call(x,", ")+" ]"}if(_4(e)){var T=Ud(e,m);return!("cause"in Error.prototype)&&"cause"in e&&!NR.call(e,"cause")?"{ ["+String(e)+"] "+wi.call(FE.call("[cause]: "+m(e.cause),T),", ")+" }":T.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+wi.call(T,", ")+" }"}if(typeof e=="object"&&o){if($E&&typeof e[$E]=="function"&&n_)return n_(e,{depth:f-n});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(A4(e)){var P=[];return ME&&ME.call(e,function(B,X){P.push(m(X,e,!0)+" => "+m(B,e))}),jE("Map",Rp.call(e),P,p)}if(I4(e)){var M=[];return kE&&kE.call(e,function(B){M.push(m(B,e))}),jE("Set",Op.call(e),M,p)}if(C4(e))return Yv("WeakMap");if(R4(e))return Yv("WeakSet");if(P4(e))return Yv("WeakRef");if(b4(e))return zu(m(Number(e)));if(S4(e))return zu(m(t_.call(e)));if(w4(e))return zu(c4.call(e));if(x4(e))return zu(m(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(typeof globalThis<"u"&&e===globalThis||typeof lc<"u"&&e===lc)return"{ [object globalThis] }";if(!y4(e)&&!GE(e)){var R=Ud(e,m),D=LE?LE(e)===Object.prototype:e instanceof Object||e.constructor===Object,V=e instanceof Object?"":"null prototype",W=!D&&mr&&Object(e)===e&&mr in e?mx.call(ho(e),8,-1):V?"Object":"",pe=D||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",J=pe+(W||V?"["+wi.call(FE.call([],W||[],V||[]),": ")+"] ":"");return R.length===0?J+"{}":p?J+"{"+s_(R,p)+"}":J+"{ "+wi.call(R,", ")+" }"}return String(e)};function FR(t,e,r){var n=(r.quoteStyle||e)==="double"?'"':"'";return n+t+n}function v4(t){return js.call(String(t),/"/g,"&quot;")}function i_(t){return ho(t)==="[object Array]"&&(!mr||!(typeof t=="object"&&mr in t))}function y4(t){return ho(t)==="[object Date]"&&(!mr||!(typeof t=="object"&&mr in t))}function GE(t){return ho(t)==="[object RegExp]"&&(!mr||!(typeof t=="object"&&mr in t))}function _4(t){return ho(t)==="[object Error]"&&(!mr||!(typeof t=="object"&&mr in t))}function x4(t){return ho(t)==="[object String]"&&(!mr||!(typeof t=="object"&&mr in t))}function b4(t){return ho(t)==="[object Number]"&&(!mr||!(typeof t=="object"&&mr in t))}function w4(t){return ho(t)==="[object Boolean]"&&(!mr||!(typeof t=="object"&&mr in t))}function BR(t){if(Xl)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!r_)return!1;try{return r_.call(t),!0}catch{}return!1}function S4(t){if(!t||typeof t!="object"||!t_)return!1;try{return t_.call(t),!0}catch{}return!1}var E4=Object.prototype.hasOwnProperty||function(t){return t in this};function Ns(t,e){return E4.call(t,e)}function ho(t){return h4.call(t)}function T4(t){if(t.name)return t.name;var e=f4.call(d4.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function LR(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function A4(t){if(!Rp||!t||typeof t!="object")return!1;try{Rp.call(t);try{Op.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function C4(t){if(!bc||!t||typeof t!="object")return!1;try{bc.call(t,bc);try{wc.call(t,wc)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function P4(t){if(!DE||!t||typeof t!="object")return!1;try{return DE.call(t),!0}catch{}return!1}function I4(t){if(!Op||!t||typeof t!="object")return!1;try{Op.call(t);try{Rp.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function R4(t){if(!wc||!t||typeof t!="object")return!1;try{wc.call(t,wc);try{bc.call(t,bc)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function O4(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function UR(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return UR(mx.call(t,0,e.maxStringLength),e)+n}var i=js.call(js.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,M4);return FR(i,"single",e)}function M4(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+p4.call(e.toString(16))}function zu(t){return"Object("+t+")"}function Yv(t){return t+" { ? }"}function jE(t,e,r,n){var i=n?s_(r,n):wi.call(r,", ");return t+" ("+e+") {"+i+"}"}function k4(t){for(var e=0;e<t.length;e++)if(LR(t[e],`
`)>=0)return!1;return!0}function D4(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=wi.call(Array(t.indent+1)," ");else return null;return{base:r,prev:wi.call(Array(e+1),r)}}function s_(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+wi.call(t,","+r)+`
`+e.prev}function Ud(t,e){var r=i_(t),n=[];if(r){n.length=t.length;for(var i=0;i<t.length;i++)n[i]=Ns(t,i)?e(t[i],t):""}var s=typeof Xv=="function"?Xv(t):[],o;if(Xl){o={};for(var a=0;a<s.length;a++)o["$"+s[a]]=s[a]}for(var c in t)Ns(t,c)&&(r&&String(Number(c))===c&&c<t.length||Xl&&o["$"+c]instanceof Symbol||(DR.call(/[^\w$]/,c)?n.push(e(c,t)+": "+e(t[c],t)):n.push(c+": "+e(t[c],t))));if(typeof Xv=="function")for(var h=0;h<s.length;h++)NR.call(t,s[h])&&n.push("["+e(s[h])+"]: "+e(t[s[h]],t));return n}var zR=ou,au=n4,N4=g4,F4=bh,zd=zR("%WeakMap%",!0),$d=zR("%Map%",!0),B4=au("WeakMap.prototype.get",!0),L4=au("WeakMap.prototype.set",!0),U4=au("WeakMap.prototype.has",!0),z4=au("Map.prototype.get",!0),$4=au("Map.prototype.set",!0),G4=au("Map.prototype.has",!0),gx=function(t,e){for(var r=t,n;(n=r.next)!==null;r=n)if(n.key===e)return r.next=n.next,n.next=t.next,t.next=n,n},j4=function(t,e){var r=gx(t,e);return r&&r.value},H4=function(t,e,r){var n=gx(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},V4=function(t,e){return!!gx(t,e)},W4=function(){var e,r,n,i={assert:function(s){if(!i.has(s))throw new F4("Side channel does not contain "+N4(s))},get:function(s){if(zd&&s&&(typeof s=="object"||typeof s=="function")){if(e)return B4(e,s)}else if($d){if(r)return z4(r,s)}else if(n)return j4(n,s)},has:function(s){if(zd&&s&&(typeof s=="object"||typeof s=="function")){if(e)return U4(e,s)}else if($d){if(r)return G4(r,s)}else if(n)return V4(n,s);return!1},set:function(s,o){zd&&s&&(typeof s=="object"||typeof s=="function")?(e||(e=new zd),L4(e,s,o)):$d?(r||(r=new $d),$4(r,s,o)):(n||(n={key:{},next:null}),H4(n,s,o))}};return i},X4=String.prototype.replace,Y4=/%20/g,Kv={RFC1738:"RFC1738",RFC3986:"RFC3986"},vx={default:Kv.RFC3986,formatters:{RFC1738:function(t){return X4.call(t,Y4,"+")},RFC3986:function(t){return String(t)}},RFC1738:Kv.RFC1738,RFC3986:Kv.RFC3986},K4=vx,Qv=Object.prototype.hasOwnProperty,Bo=Array.isArray,ci=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),Q4=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(Bo(n)){for(var i=[],s=0;s<n.length;++s)typeof n[s]<"u"&&i.push(n[s]);r.obj[r.prop]=i}}},$R=function(e,r){for(var n=r&&r.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(n[i]=e[i]);return n},q4=function t(e,r,n){if(!r)return e;if(typeof r!="object"){if(Bo(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!Qv.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var i=e;return Bo(e)&&!Bo(r)&&(i=$R(e,n)),Bo(e)&&Bo(r)?(r.forEach(function(s,o){if(Qv.call(e,o)){var a=e[o];a&&typeof a=="object"&&s&&typeof s=="object"?e[o]=t(a,s,n):e.push(s)}else e[o]=s}),e):Object.keys(r).reduce(function(s,o){var a=r[o];return Qv.call(s,o)?s[o]=t(s[o],a,n):s[o]=a,s},i)},Z4=function(e,r){return Object.keys(r).reduce(function(n,i){return n[i]=r[i],n},e)},J4=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},qv=1024,eU=function(e,r,n,i,s){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),n==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(y){return"%26%23"+parseInt(y.slice(2),16)+"%3B"});for(var a="",c=0;c<o.length;c+=qv){for(var h=o.length>=qv?o.slice(c,c+qv):o,f=[],p=0;p<h.length;++p){var m=h.charCodeAt(p);if(m===45||m===46||m===95||m===126||m>=48&&m<=57||m>=65&&m<=90||m>=97&&m<=122||s===K4.RFC1738&&(m===40||m===41)){f[f.length]=h.charAt(p);continue}if(m<128){f[f.length]=ci[m];continue}if(m<2048){f[f.length]=ci[192|m>>6]+ci[128|m&63];continue}if(m<55296||m>=57344){f[f.length]=ci[224|m>>12]+ci[128|m>>6&63]+ci[128|m&63];continue}p+=1,m=65536+((m&1023)<<10|h.charCodeAt(p)&1023),f[f.length]=ci[240|m>>18]+ci[128|m>>12&63]+ci[128|m>>6&63]+ci[128|m&63]}a+=f.join("")}return a},tU=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],i=0;i<r.length;++i)for(var s=r[i],o=s.obj[s.prop],a=Object.keys(o),c=0;c<a.length;++c){var h=a[c],f=o[h];typeof f=="object"&&f!==null&&n.indexOf(f)===-1&&(r.push({obj:o,prop:h}),n.push(f))}return Q4(r),e},rU=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},nU=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},iU=function(e,r){return[].concat(e,r)},sU=function(e,r){if(Bo(e)){for(var n=[],i=0;i<e.length;i+=1)n.push(r(e[i]));return n}return r(e)},GR={arrayToObject:$R,assign:Z4,combine:iU,compact:tU,decode:J4,encode:eU,isBuffer:nU,isRegExp:rU,maybeMap:sU,merge:q4},jR=W4,Df=GR,Sc=vx,oU=Object.prototype.hasOwnProperty,HR={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},_i=Array.isArray,aU=Array.prototype.push,VR=function(t,e){aU.apply(t,_i(e)?e:[e])},lU=Date.prototype.toISOString,HE=Sc.default,Ft={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:Df.encode,encodeValuesOnly:!1,format:HE,formatter:Sc.formatters[HE],indices:!1,serializeDate:function(e){return lU.call(e)},skipNulls:!1,strictNullHandling:!1},uU=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},Zv={},cU=function t(e,r,n,i,s,o,a,c,h,f,p,m,y,_,S,A,E,w){for(var x=e,T=w,P=0,M=!1;(T=T.get(Zv))!==void 0&&!M;){var R=T.get(e);if(P+=1,typeof R<"u"){if(R===P)throw new RangeError("Cyclic object value");M=!0}typeof T.get(Zv)>"u"&&(P=0)}if(typeof f=="function"?x=f(r,x):x instanceof Date?x=y(x):n==="comma"&&_i(x)&&(x=Df.maybeMap(x,function(N){return N instanceof Date?y(N):N})),x===null){if(o)return h&&!A?h(r,Ft.encoder,E,"key",_):r;x=""}if(uU(x)||Df.isBuffer(x)){if(h){var D=A?r:h(r,Ft.encoder,E,"key",_);return[S(D)+"="+S(h(x,Ft.encoder,E,"value",_))]}return[S(r)+"="+S(String(x))]}var V=[];if(typeof x>"u")return V;var W;if(n==="comma"&&_i(x))A&&h&&(x=Df.maybeMap(x,h)),W=[{value:x.length>0?x.join(",")||null:void 0}];else if(_i(f))W=f;else{var pe=Object.keys(x);W=p?pe.sort(p):pe}var J=c?r.replace(/\./g,"%2E"):r,B=i&&_i(x)&&x.length===1?J+"[]":J;if(s&&_i(x)&&x.length===0)return B+"[]";for(var X=0;X<W.length;++X){var ie=W[X],me=typeof ie=="object"&&typeof ie.value<"u"?ie.value:x[ie];if(!(a&&me===null)){var ae=m&&c?ie.replace(/\./g,"%2E"):ie,O=_i(x)?typeof n=="function"?n(B,ae):B:B+(m?"."+ae:"["+ae+"]");w.set(e,P);var $=jR();$.set(Zv,w),VR(V,t(me,O,n,i,s,o,a,c,n==="comma"&&A&&_i(x)?null:h,f,p,m,y,_,S,A,E,$))}}return V},hU=function(e){if(!e)return Ft;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||Ft.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=Sc.default;if(typeof e.format<"u"){if(!oU.call(Sc.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=Sc.formatters[n],s=Ft.filter;(typeof e.filter=="function"||_i(e.filter))&&(s=e.filter);var o;if(e.arrayFormat in HR?o=e.arrayFormat:"indices"in e?o=e.indices?"indices":"repeat":o=Ft.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var a=typeof e.allowDots>"u"?e.encodeDotInKeys===!0?!0:Ft.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:Ft.addQueryPrefix,allowDots:a,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:Ft.allowEmptyArrays,arrayFormat:o,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Ft.charsetSentinel,commaRoundTrip:e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?Ft.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:Ft.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:Ft.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:Ft.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:Ft.encodeValuesOnly,filter:s,format:n,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:Ft.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:Ft.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Ft.strictNullHandling}},dU=function(t,e){var r=t,n=hU(e),i,s;typeof n.filter=="function"?(s=n.filter,r=s("",r)):_i(n.filter)&&(s=n.filter,i=s);var o=[];if(typeof r!="object"||r===null)return"";var a=HR[n.arrayFormat],c=a==="comma"&&n.commaRoundTrip;i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var h=jR(),f=0;f<i.length;++f){var p=i[f];n.skipNulls&&r[p]===null||VR(o,cU(r[p],p,a,c,n.allowEmptyArrays,n.strictNullHandling,n.skipNulls,n.encodeDotInKeys,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,h))}var m=o.join(n.delimiter),y=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?y+="utf8=%26%2310003%3B&":y+="utf8=%E2%9C%93&"),m.length>0?y+m:""},Yl=GR,o_=Object.prototype.hasOwnProperty,fU=Array.isArray,Et={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:Yl.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1},pU=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},WR=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},mU="utf8=%26%2310003%3B",gU="utf8=%E2%9C%93",vU=function(e,r){var n={__proto__:null},i=r.ignoreQueryPrefix?e.replace(/^\?/,""):e;i=i.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var s=r.parameterLimit===1/0?void 0:r.parameterLimit,o=i.split(r.delimiter,s),a=-1,c,h=r.charset;if(r.charsetSentinel)for(c=0;c<o.length;++c)o[c].indexOf("utf8=")===0&&(o[c]===gU?h="utf-8":o[c]===mU&&(h="iso-8859-1"),a=c,c=o.length);for(c=0;c<o.length;++c)if(c!==a){var f=o[c],p=f.indexOf("]="),m=p===-1?f.indexOf("="):p+1,y,_;m===-1?(y=r.decoder(f,Et.decoder,h,"key"),_=r.strictNullHandling?null:""):(y=r.decoder(f.slice(0,m),Et.decoder,h,"key"),_=Yl.maybeMap(WR(f.slice(m+1),r),function(A){return r.decoder(A,Et.decoder,h,"value")})),_&&r.interpretNumericEntities&&h==="iso-8859-1"&&(_=pU(_)),f.indexOf("[]=")>-1&&(_=fU(_)?[_]:_);var S=o_.call(n,y);S&&r.duplicates==="combine"?n[y]=Yl.combine(n[y],_):(!S||r.duplicates==="last")&&(n[y]=_)}return n},yU=function(t,e,r,n){for(var i=n?e:WR(e,r),s=t.length-1;s>=0;--s){var o,a=t[s];if(a==="[]"&&r.parseArrays)o=r.allowEmptyArrays&&(i===""||r.strictNullHandling&&i===null)?[]:[].concat(i);else{o=r.plainObjects?Object.create(null):{};var c=a.charAt(0)==="["&&a.charAt(a.length-1)==="]"?a.slice(1,-1):a,h=r.decodeDotInKeys?c.replace(/%2E/g,"."):c,f=parseInt(h,10);!r.parseArrays&&h===""?o={0:i}:!isNaN(f)&&a!==h&&String(f)===h&&f>=0&&r.parseArrays&&f<=r.arrayLimit?(o=[],o[f]=i):h!=="__proto__"&&(o[h]=i)}i=o}return i},_U=function(e,r,n,i){if(e){var s=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,c=n.depth>0&&o.exec(s),h=c?s.slice(0,c.index):s,f=[];if(h){if(!n.plainObjects&&o_.call(Object.prototype,h)&&!n.allowPrototypes)return;f.push(h)}for(var p=0;n.depth>0&&(c=a.exec(s))!==null&&p<n.depth;){if(p+=1,!n.plainObjects&&o_.call(Object.prototype,c[1].slice(1,-1))&&!n.allowPrototypes)return;f.push(c[1])}if(c){if(n.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+n.depth+" and strictDepth is true");f.push("["+s.slice(c.index)+"]")}return yU(f,r,n,i)}},xU=function(e){if(!e)return Et;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.decodeDotInKeys<"u"&&typeof e.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(e.decoder!==null&&typeof e.decoder<"u"&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset>"u"?Et.charset:e.charset,n=typeof e.duplicates>"u"?Et.duplicates:e.duplicates;if(n!=="combine"&&n!=="first"&&n!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var i=typeof e.allowDots>"u"?e.decodeDotInKeys===!0?!0:Et.allowDots:!!e.allowDots;return{allowDots:i,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:Et.allowEmptyArrays,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:Et.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:Et.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:Et.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Et.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:Et.comma,decodeDotInKeys:typeof e.decodeDotInKeys=="boolean"?e.decodeDotInKeys:Et.decodeDotInKeys,decoder:typeof e.decoder=="function"?e.decoder:Et.decoder,delimiter:typeof e.delimiter=="string"||Yl.isRegExp(e.delimiter)?e.delimiter:Et.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:Et.depth,duplicates:n,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:Et.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:Et.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:Et.plainObjects,strictDepth:typeof e.strictDepth=="boolean"?!!e.strictDepth:Et.strictDepth,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Et.strictNullHandling}},bU=function(t,e){var r=xU(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?Object.create(null):{};for(var n=typeof t=="string"?vU(t,r):t,i=r.plainObjects?Object.create(null):{},s=Object.keys(n),o=0;o<s.length;++o){var a=s[o],c=_U(a,n[a],r,typeof t=="string");i=Yl.merge(i,c,r)}return r.allowSparse===!0?i:Yl.compact(i)},wU=dU,SU=bU,EU=vx,TU={formats:EU,parse:SU,stringify:wU},AU=aL;function os(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var CU=/^([a-z0-9.+-]+:)/i,PU=/:[0-9]*$/,IU=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,RU=["<",">",'"',"`"," ","\r",`
`,"	"],OU=["{","}","|","\\","^","`"].concat(RU),a_=["'"].concat(OU),VE=["%","/","?",";","#"].concat(a_),WE=["/","?","#"],MU=255,XE=/^[+a-z0-9A-Z_-]{0,63}$/,kU=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,DU={javascript:!0,"javascript:":!0},l_={javascript:!0,"javascript:":!0},Al={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},u_=TU;function NU(t,e,r){if(t&&typeof t=="object"&&t instanceof os)return t;var n=new os;return n.parse(t,e,r),n}os.prototype.parse=function(t,e,r){if(typeof t!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var n=t.indexOf("?"),i=n!==-1&&n<t.indexOf("#")?"?":"#",s=t.split(i),o=/\\/g;s[0]=s[0].replace(o,"/"),t=s.join(i);var a=t;if(a=a.trim(),!r&&t.split("#").length===1){var c=IU.exec(a);if(c)return this.path=a,this.href=a,this.pathname=c[1],c[2]?(this.search=c[2],e?this.query=u_.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var h=CU.exec(a);if(h){h=h[0];var f=h.toLowerCase();this.protocol=f,a=a.substr(h.length)}if(r||h||a.match(/^\/\/[^@/]+@[^@/]+/)){var p=a.substr(0,2)==="//";p&&!(h&&l_[h])&&(a=a.substr(2),this.slashes=!0)}if(!l_[h]&&(p||h&&!Al[h])){for(var m=-1,y=0;y<WE.length;y++){var _=a.indexOf(WE[y]);_!==-1&&(m===-1||_<m)&&(m=_)}var S,A;m===-1?A=a.lastIndexOf("@"):A=a.lastIndexOf("@",m),A!==-1&&(S=a.slice(0,A),a=a.slice(A+1),this.auth=decodeURIComponent(S)),m=-1;for(var y=0;y<VE.length;y++){var _=a.indexOf(VE[y]);_!==-1&&(m===-1||_<m)&&(m=_)}m===-1&&(m=a.length),this.host=a.slice(0,m),a=a.slice(m),this.parseHost(),this.hostname=this.hostname||"";var E=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!E)for(var w=this.hostname.split(/\./),y=0,x=w.length;y<x;y++){var T=w[y];if(T&&!T.match(XE)){for(var P="",M=0,R=T.length;M<R;M++)T.charCodeAt(M)>127?P+="x":P+=T[M];if(!P.match(XE)){var D=w.slice(0,y),V=w.slice(y+1),W=T.match(kU);W&&(D.push(W[1]),V.unshift(W[2])),V.length&&(a="/"+V.join(".")+a),this.hostname=D.join(".");break}}}this.hostname.length>MU?this.hostname="":this.hostname=this.hostname.toLowerCase(),E||(this.hostname=AU.toASCII(this.hostname));var pe=this.port?":"+this.port:"",J=this.hostname||"";this.host=J+pe,this.href+=this.host,E&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),a[0]!=="/"&&(a="/"+a))}if(!DU[f])for(var y=0,x=a_.length;y<x;y++){var B=a_[y];if(a.indexOf(B)!==-1){var X=encodeURIComponent(B);X===B&&(X=escape(B)),a=a.split(B).join(X)}}var ie=a.indexOf("#");ie!==-1&&(this.hash=a.substr(ie),a=a.slice(0,ie));var me=a.indexOf("?");if(me!==-1?(this.search=a.substr(me),this.query=a.substr(me+1),e&&(this.query=u_.parse(this.query)),a=a.slice(0,me)):e&&(this.search="",this.query={}),a&&(this.pathname=a),Al[f]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var pe=this.pathname||"",ae=this.search||"";this.path=pe+ae}return this.href=this.format(),this};os.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,s="";this.host?i=t+this.host:this.hostname&&(i=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(s=u_.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var o=this.search||s&&"?"+s||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||Al[e])&&i!==!1?(i="//"+(i||""),r&&r.charAt(0)!=="/"&&(r="/"+r)):i||(i=""),n&&n.charAt(0)!=="#"&&(n="#"+n),o&&o.charAt(0)!=="?"&&(o="?"+o),r=r.replace(/[?#]/g,function(a){return encodeURIComponent(a)}),o=o.replace("#","%23"),e+i+r+o+n};os.prototype.resolve=function(t){return this.resolveObject(NU(t,!1,!0)).format()};os.prototype.resolveObject=function(t){if(typeof t=="string"){var e=new os;e.parse(t,!1,!0),t=e}for(var r=new os,n=Object.keys(this),i=0;i<n.length;i++){var s=n[i];r[s]=this[s]}if(r.hash=t.hash,t.href==="")return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var o=Object.keys(t),a=0;a<o.length;a++){var c=o[a];c!=="protocol"&&(r[c]=t[c])}return Al[r.protocol]&&r.hostname&&!r.pathname&&(r.pathname="/",r.path=r.pathname),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!Al[t.protocol]){for(var h=Object.keys(t),f=0;f<h.length;f++){var p=h[f];r[p]=t[p]}return r.href=r.format(),r}if(r.protocol=t.protocol,!t.host&&!l_[t.protocol]){for(var x=(t.pathname||"").split("/");x.length&&!(t.host=x.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),x[0]!==""&&x.unshift(""),x.length<2&&x.unshift(""),r.pathname=x.join("/")}else r.pathname=t.pathname;if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var m=r.pathname||"",y=r.search||"";r.path=m+y}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var _=r.pathname&&r.pathname.charAt(0)==="/",S=t.host||t.pathname&&t.pathname.charAt(0)==="/",A=S||_||r.host&&t.pathname,E=A,w=r.pathname&&r.pathname.split("/")||[],x=t.pathname&&t.pathname.split("/")||[],T=r.protocol&&!Al[r.protocol];if(T&&(r.hostname="",r.port=null,r.host&&(w[0]===""?w[0]=r.host:w.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(x[0]===""?x[0]=t.host:x.unshift(t.host)),t.host=null),A=A&&(x[0]===""||w[0]==="")),S)r.host=t.host||t.host===""?t.host:r.host,r.hostname=t.hostname||t.hostname===""?t.hostname:r.hostname,r.search=t.search,r.query=t.query,w=x;else if(x.length)w||(w=[]),w.pop(),w=w.concat(x),r.search=t.search,r.query=t.query;else if(t.search!=null){if(T){r.host=w.shift(),r.hostname=r.host;var P=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;P&&(r.auth=P.shift(),r.hostname=P.shift(),r.host=r.hostname)}return r.search=t.search,r.query=t.query,(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!w.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var M=w.slice(-1)[0],R=(r.host||t.host||w.length>1)&&(M==="."||M==="..")||M==="",D=0,V=w.length;V>=0;V--)M=w[V],M==="."?w.splice(V,1):M===".."?(w.splice(V,1),D++):D&&(w.splice(V,1),D--);if(!A&&!E)for(;D--;D)w.unshift("..");A&&w[0]!==""&&(!w[0]||w[0].charAt(0)!=="/")&&w.unshift(""),R&&w.join("/").substr(-1)!=="/"&&w.push("");var W=w[0]===""||w[0]&&w[0].charAt(0)==="/";if(T){r.hostname=W?"":w.length?w.shift():"",r.host=r.hostname;var P=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;P&&(r.auth=P.shift(),r.hostname=P.shift(),r.host=r.hostname)}return A=A||r.host&&w.length,A&&!W&&w.unshift(""),w.length>0?r.pathname=w.join("/"):(r.pathname=null,r.path=null),(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r};os.prototype.parseHost=function(){var t=this.host,e=PU.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};const YE={};function Oe(t,e,r=3){if(YE[e])return;let n=new Error().stack;typeof n>"u"?console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`):(n=n.split(`
`).splice(r).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${e}
Deprecated since v${t}`),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`),console.warn(n))),YE[e]=!0}function Rn(t){if(typeof t!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(t)}`)}function $u(t){return t.split("?")[0].split("#")[0]}function FU(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function BU(t,e,r){return t.replace(new RegExp(FU(e),"g"),r)}function LU(t,e){let r="",n=0,i=-1,s=0,o=-1;for(let a=0;a<=t.length;++a){if(a<t.length)o=t.charCodeAt(a);else{if(o===47)break;o=47}if(o===47){if(!(i===a-1||s===1))if(i!==a-1&&s===2){if(r.length<2||n!==2||r.charCodeAt(r.length-1)!==46||r.charCodeAt(r.length-2)!==46){if(r.length>2){const c=r.lastIndexOf("/");if(c!==r.length-1){c===-1?(r="",n=0):(r=r.slice(0,c),n=r.length-1-r.lastIndexOf("/")),i=a,s=0;continue}}else if(r.length===2||r.length===1){r="",n=0,i=a,s=0;continue}}}else r.length>0?r+=`/${t.slice(i+1,a)}`:r=t.slice(i+1,a),n=a-i-1;i=a,s=0}else o===46&&s!==-1?++s:s=-1}return r}const qt={toPosix(t){return BU(t,"\\","/")},isUrl(t){return/^https?:/.test(this.toPosix(t))},isDataUrl(t){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(t)},isBlobUrl(t){return t.startsWith("blob:")},hasProtocol(t){return/^[^/:]+:/.test(this.toPosix(t))},getProtocol(t){Rn(t),t=this.toPosix(t);const e=/^file:\/\/\//.exec(t);if(e)return e[0];const r=/^[^/:]+:\/{0,2}/.exec(t);return r?r[0]:""},toAbsolute(t,e,r){if(Rn(t),this.isDataUrl(t)||this.isBlobUrl(t))return t;const n=$u(this.toPosix(e??oe.ADAPTER.getBaseUrl())),i=$u(this.toPosix(r??this.rootname(n)));return t=this.toPosix(t),t.startsWith("/")?qt.join(i,t.slice(1)):this.isAbsolute(t)?t:this.join(n,t)},normalize(t){if(Rn(t),t.length===0)return".";if(this.isDataUrl(t)||this.isBlobUrl(t))return t;t=this.toPosix(t);let e="";const r=t.startsWith("/");this.hasProtocol(t)&&(e=this.rootname(t),t=t.slice(e.length));const n=t.endsWith("/");return t=LU(t),t.length>0&&n&&(t+="/"),r?`/${t}`:e+t},isAbsolute(t){return Rn(t),t=this.toPosix(t),this.hasProtocol(t)?!0:t.startsWith("/")},join(...t){if(t.length===0)return".";let e;for(let r=0;r<t.length;++r){const n=t[r];if(Rn(n),n.length>0)if(e===void 0)e=n;else{const i=t[r-1]??"";this.joinExtensions.includes(this.extname(i).toLowerCase())?e+=`/../${n}`:e+=`/${n}`}}return e===void 0?".":this.normalize(e)},dirname(t){if(Rn(t),t.length===0)return".";t=this.toPosix(t);let e=t.charCodeAt(0);const r=e===47;let n=-1,i=!0;const s=this.getProtocol(t),o=t;t=t.slice(s.length);for(let a=t.length-1;a>=1;--a)if(e=t.charCodeAt(a),e===47){if(!i){n=a;break}}else i=!1;return n===-1?r?"/":this.isUrl(o)?s+t:s:r&&n===1?"//":s+t.slice(0,n)},rootname(t){Rn(t),t=this.toPosix(t);let e="";if(t.startsWith("/")?e="/":e=this.getProtocol(t),this.isUrl(t)){const r=t.indexOf("/",e.length);r!==-1?e=t.slice(0,r):e=t,e.endsWith("/")||(e+="/")}return e},basename(t,e){Rn(t),e&&Rn(e),t=$u(this.toPosix(t));let r=0,n=-1,i=!0,s;if(e!==void 0&&e.length>0&&e.length<=t.length){if(e.length===t.length&&e===t)return"";let o=e.length-1,a=-1;for(s=t.length-1;s>=0;--s){const c=t.charCodeAt(s);if(c===47){if(!i){r=s+1;break}}else a===-1&&(i=!1,a=s+1),o>=0&&(c===e.charCodeAt(o)?--o===-1&&(n=s):(o=-1,n=a))}return r===n?n=a:n===-1&&(n=t.length),t.slice(r,n)}for(s=t.length-1;s>=0;--s)if(t.charCodeAt(s)===47){if(!i){r=s+1;break}}else n===-1&&(i=!1,n=s+1);return n===-1?"":t.slice(r,n)},extname(t){Rn(t),t=$u(this.toPosix(t));let e=-1,r=0,n=-1,i=!0,s=0;for(let o=t.length-1;o>=0;--o){const a=t.charCodeAt(o);if(a===47){if(!i){r=o+1;break}continue}n===-1&&(i=!1,n=o+1),a===46?e===-1?e=o:s!==1&&(s=1):e!==-1&&(s=-1)}return e===-1||n===-1||s===0||s===1&&e===n-1&&e===r+1?"":t.slice(e,n)},parse(t){Rn(t);const e={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return e;t=$u(this.toPosix(t));let r=t.charCodeAt(0);const n=this.isAbsolute(t);let i;e.root=this.rootname(t),n||this.hasProtocol(t)?i=1:i=0;let s=-1,o=0,a=-1,c=!0,h=t.length-1,f=0;for(;h>=i;--h){if(r=t.charCodeAt(h),r===47){if(!c){o=h+1;break}continue}a===-1&&(c=!1,a=h+1),r===46?s===-1?s=h:f!==1&&(f=1):s!==-1&&(f=-1)}return s===-1||a===-1||f===0||f===1&&s===a-1&&s===o+1?a!==-1&&(o===0&&n?e.base=e.name=t.slice(1,a):e.base=e.name=t.slice(o,a)):(o===0&&n?(e.name=t.slice(1,s),e.base=t.slice(1,a)):(e.name=t.slice(o,s),e.base=t.slice(o,a)),e.ext=t.slice(s,a)),e.dir=this.dirname(t),e},sep:"/",delimiter:":",joinExtensions:[".html"]};let Jv;async function UU(){return Jv??(Jv=(async()=>{var s;const t=document.createElement("canvas").getContext("webgl");if(!t)return Or.UNPACK;const e=await new Promise(o=>{const a=document.createElement("video");a.onloadeddata=()=>o(a),a.onerror=()=>o(null),a.autoplay=!1,a.crossOrigin="anonymous",a.preload="auto",a.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",a.load()});if(!e)return Or.UNPACK;const r=t.createTexture();t.bindTexture(t.TEXTURE_2D,r);const n=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,n),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,r,0),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.NONE),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e);const i=new Uint8Array(4);return t.readPixels(0,0,1,1,t.RGBA,t.UNSIGNED_BYTE,i),t.deleteFramebuffer(n),t.deleteTexture(r),(s=t.getExtension("WEBGL_lose_context"))==null||s.loseContext(),i[0]<=i[3]?Or.PMA:Or.UNPACK})()),Jv}let ey;function zU(){return typeof ey>"u"&&(ey=function(){var e;const t={stencil:!0,failIfMajorPerformanceCaveat:oe.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!oe.ADAPTER.getWebGLRenderingContext())return!1;const r=oe.ADAPTER.createCanvas();let n=r.getContext("webgl",t)||r.getContext("experimental-webgl",t);const i=!!((e=n==null?void 0:n.getContextAttributes())!=null&&e.stencil);if(n){const s=n.getExtension("WEBGL_lose_context");s&&s.loseContext()}return n=null,i}catch{return!1}}()),ey}var $U={grad:.9,turn:360,rad:360/(2*Math.PI)},Hi=function(t){return typeof t=="string"?t.length>0:typeof t=="number"},Yt=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=Math.pow(10,e)),Math.round(r*t)/r+0},_n=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=1),t>r?r:t>e?t:e},XR=function(t){return(t=isFinite(t)?t%360:0)>0?t:t+360},KE=function(t){return{r:_n(t.r,0,255),g:_n(t.g,0,255),b:_n(t.b,0,255),a:_n(t.a)}},ty=function(t){return{r:Yt(t.r),g:Yt(t.g),b:Yt(t.b),a:Yt(t.a,3)}},GU=/^#([0-9a-f]{3,8})$/i,Gd=function(t){var e=t.toString(16);return e.length<2?"0"+e:e},YR=function(t){var e=t.r,r=t.g,n=t.b,i=t.a,s=Math.max(e,r,n),o=s-Math.min(e,r,n),a=o?s===e?(r-n)/o:s===r?2+(n-e)/o:4+(e-r)/o:0;return{h:60*(a<0?a+6:a),s:s?o/s*100:0,v:s/255*100,a:i}},KR=function(t){var e=t.h,r=t.s,n=t.v,i=t.a;e=e/360*6,r/=100,n/=100;var s=Math.floor(e),o=n*(1-r),a=n*(1-(e-s)*r),c=n*(1-(1-e+s)*r),h=s%6;return{r:255*[n,a,o,o,c,n][h],g:255*[c,n,n,a,o,o][h],b:255*[o,o,c,n,n,a][h],a:i}},QE=function(t){return{h:XR(t.h),s:_n(t.s,0,100),l:_n(t.l,0,100),a:_n(t.a)}},qE=function(t){return{h:Yt(t.h),s:Yt(t.s),l:Yt(t.l),a:Yt(t.a,3)}},ZE=function(t){return KR((r=(e=t).s,{h:e.h,s:(r*=((n=e.l)<50?n:100-n)/100)>0?2*r/(n+r)*100:0,v:n+r,a:e.a}));var e,r,n},Ec=function(t){return{h:(e=YR(t)).h,s:(i=(200-(r=e.s))*(n=e.v)/100)>0&&i<200?r*n/100/(i<=100?i:200-i)*100:0,l:i/2,a:e.a};var e,r,n,i},jU=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,HU=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,VU=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,WU=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,c_={string:[[function(t){var e=GU.exec(t);return e?(t=e[1]).length<=4?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:t.length===4?Yt(parseInt(t[3]+t[3],16)/255,2):1}:t.length===6||t.length===8?{r:parseInt(t.substr(0,2),16),g:parseInt(t.substr(2,2),16),b:parseInt(t.substr(4,2),16),a:t.length===8?Yt(parseInt(t.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(t){var e=VU.exec(t)||WU.exec(t);return e?e[2]!==e[4]||e[4]!==e[6]?null:KE({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(t){var e=jU.exec(t)||HU.exec(t);if(!e)return null;var r,n,i=QE({h:(r=e[1],n=e[2],n===void 0&&(n="deg"),Number(r)*($U[n]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return ZE(i)},"hsl"]],object:[[function(t){var e=t.r,r=t.g,n=t.b,i=t.a,s=i===void 0?1:i;return Hi(e)&&Hi(r)&&Hi(n)?KE({r:Number(e),g:Number(r),b:Number(n),a:Number(s)}):null},"rgb"],[function(t){var e=t.h,r=t.s,n=t.l,i=t.a,s=i===void 0?1:i;if(!Hi(e)||!Hi(r)||!Hi(n))return null;var o=QE({h:Number(e),s:Number(r),l:Number(n),a:Number(s)});return ZE(o)},"hsl"],[function(t){var e=t.h,r=t.s,n=t.v,i=t.a,s=i===void 0?1:i;if(!Hi(e)||!Hi(r)||!Hi(n))return null;var o=function(a){return{h:XR(a.h),s:_n(a.s,0,100),v:_n(a.v,0,100),a:_n(a.a)}}({h:Number(e),s:Number(r),v:Number(n),a:Number(s)});return KR(o)},"hsv"]]},JE=function(t,e){for(var r=0;r<e.length;r++){var n=e[r][0](t);if(n)return[n,e[r][1]]}return[null,void 0]},XU=function(t){return typeof t=="string"?JE(t.trim(),c_.string):typeof t=="object"&&t!==null?JE(t,c_.object):[null,void 0]},ry=function(t,e){var r=Ec(t);return{h:r.h,s:_n(r.s+100*e,0,100),l:r.l,a:r.a}},ny=function(t){return(299*t.r+587*t.g+114*t.b)/1e3/255},eT=function(t,e){var r=Ec(t);return{h:r.h,s:r.s,l:_n(r.l+100*e,0,100),a:r.a}},h_=function(){function t(e){this.parsed=XU(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return t.prototype.isValid=function(){return this.parsed!==null},t.prototype.brightness=function(){return Yt(ny(this.rgba),2)},t.prototype.isDark=function(){return ny(this.rgba)<.5},t.prototype.isLight=function(){return ny(this.rgba)>=.5},t.prototype.toHex=function(){return e=ty(this.rgba),r=e.r,n=e.g,i=e.b,o=(s=e.a)<1?Gd(Yt(255*s)):"","#"+Gd(r)+Gd(n)+Gd(i)+o;var e,r,n,i,s,o},t.prototype.toRgb=function(){return ty(this.rgba)},t.prototype.toRgbString=function(){return e=ty(this.rgba),r=e.r,n=e.g,i=e.b,(s=e.a)<1?"rgba("+r+", "+n+", "+i+", "+s+")":"rgb("+r+", "+n+", "+i+")";var e,r,n,i,s},t.prototype.toHsl=function(){return qE(Ec(this.rgba))},t.prototype.toHslString=function(){return e=qE(Ec(this.rgba)),r=e.h,n=e.s,i=e.l,(s=e.a)<1?"hsla("+r+", "+n+"%, "+i+"%, "+s+")":"hsl("+r+", "+n+"%, "+i+"%)";var e,r,n,i,s},t.prototype.toHsv=function(){return e=YR(this.rgba),{h:Yt(e.h),s:Yt(e.s),v:Yt(e.v),a:Yt(e.a,3)};var e},t.prototype.invert=function(){return fi({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},t.prototype.saturate=function(e){return e===void 0&&(e=.1),fi(ry(this.rgba,e))},t.prototype.desaturate=function(e){return e===void 0&&(e=.1),fi(ry(this.rgba,-e))},t.prototype.grayscale=function(){return fi(ry(this.rgba,-1))},t.prototype.lighten=function(e){return e===void 0&&(e=.1),fi(eT(this.rgba,e))},t.prototype.darken=function(e){return e===void 0&&(e=.1),fi(eT(this.rgba,-e))},t.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},t.prototype.alpha=function(e){return typeof e=="number"?fi({r:(r=this.rgba).r,g:r.g,b:r.b,a:e}):Yt(this.rgba.a,3);var r},t.prototype.hue=function(e){var r=Ec(this.rgba);return typeof e=="number"?fi({h:e,s:r.s,l:r.l,a:r.a}):Yt(r.h)},t.prototype.isEqual=function(e){return this.toHex()===fi(e).toHex()},t}(),fi=function(t){return t instanceof h_?t:new h_(t)},tT=[],YU=function(t){t.forEach(function(e){tT.indexOf(e)<0&&(e(h_,c_),tT.push(e))})};function KU(t,e){var r={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},n={};for(var i in r)n[r[i]]=i;var s={};t.prototype.toName=function(o){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var a,c,h=n[this.toHex()];if(h)return h;if(o!=null&&o.closest){var f=this.toRgb(),p=1/0,m="black";if(!s.length)for(var y in r)s[y]=new t(r[y]).toRgb();for(var _ in r){var S=(a=f,c=s[_],Math.pow(a.r-c.r,2)+Math.pow(a.g-c.g,2)+Math.pow(a.b-c.b,2));S<p&&(p=S,m=_)}return m}},e.string.push([function(o){var a=o.toLowerCase(),c=a==="transparent"?"#0000":r[a];return c?new t(c).toRgb():null},"name"])}YU([KU]);const Wa=class Nf{constructor(e=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=e}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(e){return this.value=e,this}set value(e){if(e instanceof Nf)this._value=this.cloneSource(e._value),this._int=e._int,this._components.set(e._components);else{if(e===null)throw new Error("Cannot set PIXI.Color#value to null");(this._value===null||!this.isSourceEqual(this._value,e))&&(this.normalize(e),this._value=this.cloneSource(e))}}get value(){return this._value}cloneSource(e){return typeof e=="string"||typeof e=="number"||e instanceof Number||e===null?e:Array.isArray(e)||ArrayBuffer.isView(e)?e.slice(0):typeof e=="object"&&e!==null?{...e}:e}isSourceEqual(e,r){const n=typeof e;if(n!==typeof r)return!1;if(n==="number"||n==="string"||e instanceof Number)return e===r;if(Array.isArray(e)&&Array.isArray(r)||ArrayBuffer.isView(e)&&ArrayBuffer.isView(r))return e.length!==r.length?!1:e.every((i,s)=>i===r[s]);if(e!==null&&r!==null){const i=Object.keys(e),s=Object.keys(r);return i.length!==s.length?!1:i.every(o=>e[o]===r[o])}return e===r}toRgba(){const[e,r,n,i]=this._components;return{r:e,g:r,b:n,a:i}}toRgb(){const[e,r,n]=this._components;return{r:e,g:r,b:n}}toRgbaString(){const[e,r,n]=this.toUint8RgbArray();return`rgba(${e},${r},${n},${this.alpha})`}toUint8RgbArray(e){const[r,n,i]=this._components;return e=e??[],e[0]=Math.round(r*255),e[1]=Math.round(n*255),e[2]=Math.round(i*255),e}toRgbArray(e){e=e??[];const[r,n,i]=this._components;return e[0]=r,e[1]=n,e[2]=i,e}toNumber(){return this._int}toLittleEndianNumber(){const e=this._int;return(e>>16)+(e&65280)+((e&255)<<16)}multiply(e){const[r,n,i,s]=Nf.temp.setValue(e)._components;return this._components[0]*=r,this._components[1]*=n,this._components[2]*=i,this._components[3]*=s,this.refreshInt(),this._value=null,this}premultiply(e,r=!0){return r&&(this._components[0]*=e,this._components[1]*=e,this._components[2]*=e),this._components[3]=e,this.refreshInt(),this._value=null,this}toPremultiplied(e,r=!0){if(e===1)return(255<<24)+this._int;if(e===0)return r?0:this._int;let n=this._int>>16&255,i=this._int>>8&255,s=this._int&255;return r&&(n=n*e+.5|0,i=i*e+.5|0,s=s*e+.5|0),(e*255<<24)+(n<<16)+(i<<8)+s}toHex(){const e=this._int.toString(16);return`#${"000000".substring(0,6-e.length)+e}`}toHexa(){const e=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-e.length)+e}setAlpha(e){return this._components[3]=this._clamp(e),this}round(e){const[r,n,i]=this._components;return this._components[0]=Math.round(r*e)/e,this._components[1]=Math.round(n*e)/e,this._components[2]=Math.round(i*e)/e,this.refreshInt(),this._value=null,this}toArray(e){e=e??[];const[r,n,i,s]=this._components;return e[0]=r,e[1]=n,e[2]=i,e[3]=s,e}normalize(e){let r,n,i,s;if((typeof e=="number"||e instanceof Number)&&e>=0&&e<=16777215){const o=e;r=(o>>16&255)/255,n=(o>>8&255)/255,i=(o&255)/255,s=1}else if((Array.isArray(e)||e instanceof Float32Array)&&e.length>=3&&e.length<=4)e=this._clamp(e),[r,n,i,s=1]=e;else if((e instanceof Uint8Array||e instanceof Uint8ClampedArray)&&e.length>=3&&e.length<=4)e=this._clamp(e,0,255),[r,n,i,s=255]=e,r/=255,n/=255,i/=255,s/=255;else if(typeof e=="string"||typeof e=="object"){if(typeof e=="string"){const a=Nf.HEX_PATTERN.exec(e);a&&(e=`#${a[2]}`)}const o=fi(e);o.isValid()&&({r,g:n,b:i,a:s}=o.rgba,r/=255,n/=255,i/=255)}if(r!==void 0)this._components[0]=r,this._components[1]=n,this._components[2]=i,this._components[3]=s,this.refreshInt();else throw new Error(`Unable to convert color ${e}`)}refreshInt(){this._clamp(this._components);const[e,r,n]=this._components;this._int=(e*255<<16)+(r*255<<8)+(n*255|0)}_clamp(e,r=0,n=1){return typeof e=="number"?Math.min(Math.max(e,r),n):(e.forEach((i,s)=>{e[s]=Math.min(Math.max(i,r),n)}),e)}};Wa.shared=new Wa,Wa.temp=new Wa,Wa.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let Je=Wa;function QU(t){return Oe("7.2.0","utils.hex2string is deprecated, use Color#toHex instead"),Je.shared.setValue(t).toHex()}function qU(t){return Oe("7.2.0","utils.rgb2hex is deprecated, use Color#toNumber instead"),Je.shared.setValue(t).toNumber()}function ZU(){const t=[],e=[];for(let n=0;n<32;n++)t[n]=n,e[n]=n;t[_e.NORMAL_NPM]=_e.NORMAL,t[_e.ADD_NPM]=_e.ADD,t[_e.SCREEN_NPM]=_e.SCREEN,e[_e.NORMAL]=_e.NORMAL_NPM,e[_e.ADD]=_e.ADD_NPM,e[_e.SCREEN]=_e.SCREEN_NPM;const r=[];return r.push(e),r.push(t),r}const QR=ZU();function qR(t,e){return QR[e?1:0][t]}function JU(t,e=null){const r=t*6;if(e=e||new Uint16Array(r),e.length!==r)throw new Error(`Out buffer length is incorrect, got ${e.length} and expected ${r}`);for(let n=0,i=0;n<r;n+=6,i+=4)e[n+0]=i+0,e[n+1]=i+1,e[n+2]=i+2,e[n+3]=i+0,e[n+4]=i+2,e[n+5]=i+3;return e}function ZR(t){if(t.BYTES_PER_ELEMENT===4)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(t.BYTES_PER_ELEMENT===2){if(t instanceof Uint16Array)return"Uint16Array"}else if(t.BYTES_PER_ELEMENT===1&&t instanceof Uint8Array)return"Uint8Array";return null}function Mp(t){return t+=t===0?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1}function rT(t){return!(t&t-1)&&!!t}function nT(t){let e=(t>65535?1:0)<<4;t>>>=e;let r=(t>255?1:0)<<3;return t>>>=r,e|=r,r=(t>15?1:0)<<2,t>>>=r,e|=r,r=(t>3?1:0)<<1,t>>>=r,e|=r,e|t>>1}function Cl(t,e,r){const n=t.length;let i;if(e>=n||r===0)return;r=e+r>n?n-e:r;const s=n-r;for(i=e;i<s;++i)t[i]=t[i+r];t.length=s}function Hs(t){return t===0?0:t<0?-1:1}let e5=0;function la(){return++e5}const d_=class{constructor(t,e,r,n){this.left=t,this.top=e,this.right=r,this.bottom=n}get width(){return this.right-this.left}get height(){return this.bottom-this.top}isEmpty(){return this.left===this.right||this.top===this.bottom}};d_.EMPTY=new d_(0,0,0,0);let iT=d_;const sT={},pi=Object.create(null),Is=Object.create(null);class t5{constructor(e,r,n){this._canvas=oe.ADAPTER.createCanvas(),this._context=this._canvas.getContext("2d"),this.resolution=n||oe.RESOLUTION,this.resize(e,r)}clear(){this._checkDestroyed(),this._context.setTransform(1,0,0,1,0,0),this._context.clearRect(0,0,this._canvas.width,this._canvas.height)}resize(e,r){this._checkDestroyed(),this._canvas.width=Math.round(e*this.resolution),this._canvas.height=Math.round(r*this.resolution)}destroy(){this._context=null,this._canvas=null}get width(){return this._checkDestroyed(),this._canvas.width}set width(e){this._checkDestroyed(),this._canvas.width=Math.round(e)}get height(){return this._checkDestroyed(),this._canvas.height}set height(e){this._checkDestroyed(),this._canvas.height=Math.round(e)}get canvas(){return this._checkDestroyed(),this._canvas}get context(){return this._checkDestroyed(),this._context}_checkDestroyed(){if(this._canvas===null)throw new TypeError("The CanvasRenderTarget has already been destroyed")}}function oT(t,e,r){for(let n=0,i=4*r*e;n<e;++n,i+=4)if(t[i+3]!==0)return!1;return!0}function aT(t,e,r,n,i){const s=4*e;for(let o=n,a=n*s+4*r;o<=i;++o,a+=s)if(t[a+3]!==0)return!1;return!0}function r5(t){const{width:e,height:r}=t,n=t.getContext("2d",{willReadFrequently:!0});if(n===null)throw new TypeError("Failed to get canvas 2D context");const i=n.getImageData(0,0,e,r).data;let s=0,o=0,a=e-1,c=r-1;for(;o<r&&oT(i,e,o);)++o;if(o===r)return iT.EMPTY;for(;oT(i,e,c);)--c;for(;aT(i,e,s,o,c);)++s;for(;aT(i,e,a,o,c);)--a;return++a,++c,new iT(s,o,a,c)}function n5(t){const e=r5(t),{width:r,height:n}=e;let i=null;if(!e.isEmpty()){const s=t.getContext("2d");if(s===null)throw new TypeError("Failed to get canvas 2D context");i=s.getImageData(e.left,e.top,r,n)}return{width:r,height:n,data:i}}function i5(t,e=globalThis.location){if(t.startsWith("data:"))return"";e=e||globalThis.location;const r=new URL(t,document.baseURI);return r.hostname!==e.hostname||r.port!==e.port||r.protocol!==e.protocol?"anonymous":""}function ds(t,e=1){var n;const r=(n=oe.RETINA_PREFIX)==null?void 0:n.exec(t);return r?parseFloat(r[1]):e}var ne=(t=>(t.Renderer="renderer",t.Application="application",t.RendererSystem="renderer-webgl-system",t.RendererPlugin="renderer-webgl-plugin",t.CanvasRendererSystem="renderer-canvas-system",t.CanvasRendererPlugin="renderer-canvas-plugin",t.Asset="asset",t.LoadParser="load-parser",t.ResolveParser="resolve-parser",t.CacheParser="cache-parser",t.DetectionParser="detection-parser",t))(ne||{});const f_=t=>{if(typeof t=="function"||typeof t=="object"&&t.extension){if(!t.extension)throw new Error("Extension class must have an extension object");t={...typeof t.extension!="object"?{type:t.extension}:t.extension,ref:t}}if(typeof t=="object")t={...t};else throw new Error("Invalid extension type");return typeof t.type=="string"&&(t.type=[t.type]),t},lT=(t,e)=>f_(t).priority??e,he={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...t){return t.map(f_).forEach(e=>{e.type.forEach(r=>{var n,i;return(i=(n=this._removeHandlers)[r])==null?void 0:i.call(n,e)})}),this},add(...t){return t.map(f_).forEach(e=>{e.type.forEach(r=>{var s,o;const n=this._addHandlers,i=this._queue;n[r]?(s=n[r])==null||s.call(n,e):(i[r]=i[r]||[],(o=i[r])==null||o.push(e))})}),this},handle(t,e,r){var o;const n=this._addHandlers,i=this._removeHandlers;if(n[t]||i[t])throw new Error(`Extension type ${t} already has a handler`);n[t]=e,i[t]=r;const s=this._queue;return s[t]&&((o=s[t])==null||o.forEach(a=>e(a)),delete s[t]),this},handleByMap(t,e){return this.handle(t,r=>{r.name&&(e[r.name]=r.ref)},r=>{r.name&&delete e[r.name]})},handleByList(t,e,r=-1){return this.handle(t,n=>{e.includes(n.ref)||(e.push(n.ref),e.sort((i,s)=>lT(s,r)-lT(i,r)))},n=>{const i=e.indexOf(n.ref);i!==-1&&e.splice(i,1)})}};class p_{constructor(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get uint16View(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}view(e){return this[`${e}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${e} isn't a valid view type`)}}}const s5=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function o5(t){let e="";for(let r=0;r<t;++r)r>0&&(e+=`
else `),r<t-1&&(e+=`if(test == ${r}.0){}`);return e}function a5(t,e){if(t===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const r=e.createShader(e.FRAGMENT_SHADER);for(;;){const n=s5.replace(/%forloop%/gi,o5(t));if(e.shaderSource(r,n),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS))t=t/2|0;else break}return t}const iy=0,sy=1,oy=2,ay=3,ly=4,uy=5;class Bi{constructor(){this.data=0,this.blendMode=_e.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<iy)}set blend(e){!!(this.data&1<<iy)!==e&&(this.data^=1<<iy)}get offsets(){return!!(this.data&1<<sy)}set offsets(e){!!(this.data&1<<sy)!==e&&(this.data^=1<<sy)}get culling(){return!!(this.data&1<<oy)}set culling(e){!!(this.data&1<<oy)!==e&&(this.data^=1<<oy)}get depthTest(){return!!(this.data&1<<ay)}set depthTest(e){!!(this.data&1<<ay)!==e&&(this.data^=1<<ay)}get depthMask(){return!!(this.data&1<<uy)}set depthMask(e){!!(this.data&1<<uy)!==e&&(this.data^=1<<uy)}get clockwiseFrontFace(){return!!(this.data&1<<ly)}set clockwiseFrontFace(e){!!(this.data&1<<ly)!==e&&(this.data^=1<<ly)}get blendMode(){return this._blendMode}set blendMode(e){this.blend=e!==_e.NONE,this._blendMode=e}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){this.offsets=!!e,this._polygonOffset=e}static for2d(){const e=new Bi;return e.depthTest=!1,e.blend=!0,e}}Bi.prototype.toString=function(){return`[@pixi/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`};const m_=[];function JR(t,e){if(!t)return null;let r="";if(typeof t=="string"){const n=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);n&&(r=n[1].toLowerCase())}for(let n=m_.length-1;n>=0;--n){const i=m_[n];if(i.test&&i.test(t,r))return new i(t,e)}throw new Error("Unrecognized source type to auto-detect Resource")}class Wn{constructor(e){this.items=[],this._name=e,this._aliasCount=0}emit(e,r,n,i,s,o,a,c){if(arguments.length>8)throw new Error("max arguments reached");const{name:h,items:f}=this;this._aliasCount++;for(let p=0,m=f.length;p<m;p++)f[p][h](e,r,n,i,s,o,a,c);return f===this.items&&this._aliasCount--,this}ensureNonAliasedItems(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))}add(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this}remove(e){const r=this.items.indexOf(e);return r!==-1&&(this.ensureNonAliasedItems(),this.items.splice(r,1)),this}contains(e){return this.items.includes(e)}removeAll(){return this.ensureNonAliasedItems(),this.items.length=0,this}destroy(){this.removeAll(),this.items.length=0,this._name=""}get empty(){return this.items.length===0}get name(){return this._name}}Object.defineProperties(Wn.prototype,{dispatch:{value:Wn.prototype.emit},run:{value:Wn.prototype.emit}});class Jc{constructor(e=0,r=0){this._width=e,this._height=r,this.destroyed=!1,this.internal=!1,this.onResize=new Wn("setRealSize"),this.onUpdate=new Wn("update"),this.onError=new Wn("onError")}bind(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)}unbind(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)}resize(e,r){(e!==this._width||r!==this._height)&&(this._width=e,this._height=r,this.onResize.emit(e,r))}get valid(){return!!this._width&&!!this._height}update(){this.destroyed||this.onUpdate.emit()}load(){return Promise.resolve(this)}get width(){return this._width}get height(){return this._height}style(e,r,n){return!1}dispose(){}destroy(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)}static test(e,r){return!1}}class Om extends Jc{constructor(e,r){const{width:n,height:i}=r||{};if(!n||!i)throw new Error("BufferResource width or height invalid");super(n,i),this.data=e,this.unpackAlignment=r.unpackAlignment??4}upload(e,r,n){const i=e.gl;i.pixelStorei(i.UNPACK_ALIGNMENT,this.unpackAlignment),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===Or.UNPACK);const s=r.realWidth,o=r.realHeight;return n.width===s&&n.height===o?i.texSubImage2D(r.target,0,0,0,s,o,r.format,n.type,this.data):(n.width=s,n.height=o,i.texImage2D(r.target,0,n.internalFormat,s,o,0,r.format,n.type,this.data)),!0}dispose(){this.data=null}static test(e){return e===null||e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array}}const l5={scaleMode:Ji.NEAREST,alphaMode:Or.NPM},g_=class Xa extends xh{constructor(e=null,r=null){super(),r=Object.assign({},Xa.defaultOptions,r);const{alphaMode:n,mipmap:i,anisotropicLevel:s,scaleMode:o,width:a,height:c,wrapMode:h,format:f,type:p,target:m,resolution:y,resourceOptions:_}=r;e&&!(e instanceof Jc)&&(e=JR(e,_),e.internal=!0),this.resolution=y||oe.RESOLUTION,this.width=Math.round((a||0)*this.resolution)/this.resolution,this.height=Math.round((c||0)*this.resolution)/this.resolution,this._mipmap=i,this.anisotropicLevel=s,this._wrapMode=h,this._scaleMode=o,this.format=f,this.type=p,this.target=m,this.alphaMode=n,this.uid=la(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=a>0&&c>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.parentTextureArray=null,this.setResource(e)}get realWidth(){return Math.round(this.width*this.resolution)}get realHeight(){return Math.round(this.height*this.resolution)}get mipmap(){return this._mipmap}set mipmap(e){this._mipmap!==e&&(this._mipmap=e,this.dirtyStyleId++)}get scaleMode(){return this._scaleMode}set scaleMode(e){this._scaleMode!==e&&(this._scaleMode=e,this.dirtyStyleId++)}get wrapMode(){return this._wrapMode}set wrapMode(e){this._wrapMode!==e&&(this._wrapMode=e,this.dirtyStyleId++)}setStyle(e,r){let n;return e!==void 0&&e!==this.scaleMode&&(this.scaleMode=e,n=!0),r!==void 0&&r!==this.mipmap&&(this.mipmap=r,n=!0),n&&this.dirtyStyleId++,this}setSize(e,r,n){return n=n||this.resolution,this.setRealSize(e*n,r*n,n)}setRealSize(e,r,n){return this.resolution=n||this.resolution,this.width=Math.round(e)/this.resolution,this.height=Math.round(r)/this.resolution,this._refreshPOT(),this.update(),this}_refreshPOT(){this.isPowerOfTwo=rT(this.realWidth)&&rT(this.realHeight)}setResolution(e){const r=this.resolution;return r===e?this:(this.resolution=e,this.valid&&(this.width=Math.round(this.width*r)/e,this.height=Math.round(this.height*r)/e,this.emit("update",this)),this._refreshPOT(),this)}setResource(e){if(this.resource===e)return this;if(this.resource)throw new Error("Resource can be set only once");return e.bind(this),this.resource=e,this}update(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}onError(e){this.emit("error",this,e)}destroy(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete Is[this.cacheId],delete pi[this.cacheId],this.cacheId=null),this.valid=!1,this.dispose(),Xa.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}dispose(){this.emit("dispose",this)}castToBaseTexture(){return this}static from(e,r,n=oe.STRICT_TEXTURE_CACHE){const i=typeof e=="string";let s=null;if(i)s=e;else{if(!e._pixiId){const a=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e._pixiId=`${a}_${la()}`}s=e._pixiId}let o=Is[s];if(i&&n&&!o)throw new Error(`The cacheId "${s}" does not exist in BaseTextureCache.`);return o||(o=new Xa(e,r),o.cacheId=s,Xa.addToCache(o,s)),o}static fromBuffer(e,r,n,i){e=e||new Float32Array(r*n*4);const s=new Om(e,{width:r,height:n,...i==null?void 0:i.resourceOptions});let o,a;return e instanceof Float32Array?(o=q.RGBA,a=ge.FLOAT):e instanceof Int32Array?(o=q.RGBA_INTEGER,a=ge.INT):e instanceof Uint32Array?(o=q.RGBA_INTEGER,a=ge.UNSIGNED_INT):e instanceof Int16Array?(o=q.RGBA_INTEGER,a=ge.SHORT):e instanceof Uint16Array?(o=q.RGBA_INTEGER,a=ge.UNSIGNED_SHORT):e instanceof Int8Array?(o=q.RGBA,a=ge.BYTE):(o=q.RGBA,a=ge.UNSIGNED_BYTE),s.internal=!0,new Xa(s,Object.assign({},l5,{type:a,format:o},i))}static addToCache(e,r){r&&(e.textureCacheIds.includes(r)||e.textureCacheIds.push(r),Is[r]&&Is[r]!==e&&console.warn(`BaseTexture added to the cache with an id [${r}] that already had an entry`),Is[r]=e)}static removeFromCache(e){if(typeof e=="string"){const r=Is[e];if(r){const n=r.textureCacheIds.indexOf(e);return n>-1&&r.textureCacheIds.splice(n,1),delete Is[e],r}}else if(e!=null&&e.textureCacheIds){for(let r=0;r<e.textureCacheIds.length;++r)delete Is[e.textureCacheIds[r]];return e.textureCacheIds.length=0,e}return null}};g_.defaultOptions={mipmap:Di.POW2,anisotropicLevel:0,scaleMode:Ji.LINEAR,wrapMode:ss.CLAMP,alphaMode:Or.UNPACK,target:El.TEXTURE_2D,format:q.RGBA,type:ge.UNSIGNED_BYTE},g_._globalBatch=0;let Te=g_;class v_{constructor(){this.texArray=null,this.blend=0,this.type=Un.TRIANGLES,this.start=0,this.size=0,this.data=null}}let u5=0;class It{constructor(e,r=!0,n=!1){this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=n,this.static=r,this.id=u5++,this.disposeRunner=new Wn("disposeBuffer")}update(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.data=null}set index(e){this.type=e?Oi.ELEMENT_ARRAY_BUFFER:Oi.ARRAY_BUFFER}get index(){return this.type===Oi.ELEMENT_ARRAY_BUFFER}static from(e){return e instanceof Array&&(e=new Float32Array(e)),new It(e)}}class kp{constructor(e,r=0,n=!1,i=ge.FLOAT,s,o,a,c=1){this.buffer=e,this.size=r,this.normalized=n,this.type=i,this.stride=s,this.start=o,this.instance=a,this.divisor=c}destroy(){this.buffer=null}static from(e,r,n,i,s){return new kp(e,r,n,i,s)}}const c5={Float32Array,Uint32Array,Int32Array,Uint8Array};function h5(t,e){let r=0,n=0;const i={};for(let c=0;c<t.length;c++)n+=e[c],r+=t[c].length;const s=new ArrayBuffer(r*4);let o=null,a=0;for(let c=0;c<t.length;c++){const h=e[c],f=t[c],p=ZR(f);i[p]||(i[p]=new c5[p](s)),o=i[p];for(let m=0;m<f.length;m++){const y=(m/h|0)*n+a,_=m%h;o[y+_]=f[m]}a+=h}return new Float32Array(s)}const uT={5126:4,5123:2,5121:1};let d5=0;const f5={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array};class io{constructor(e=[],r={}){this.buffers=e,this.indexBuffer=null,this.attributes=r,this.glVertexArrayObjects={},this.id=d5++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new Wn("disposeGeometry"),this.refCount=0}addAttribute(e,r,n=0,i=!1,s,o,a,c=!1){if(!r)throw new Error("You must pass a buffer when creating an attribute");r instanceof It||(r instanceof Array&&(r=new Float32Array(r)),r=new It(r));const h=e.split("|");if(h.length>1){for(let p=0;p<h.length;p++)this.addAttribute(h[p],r,n,i,s);return this}let f=this.buffers.indexOf(r);return f===-1&&(this.buffers.push(r),f=this.buffers.length-1),this.attributes[e]=new kp(f,n,i,s,o,a,c),this.instanced=this.instanced||c,this}getAttribute(e){return this.attributes[e]}getBuffer(e){return this.buffers[this.getAttribute(e).buffer]}addIndex(e){return e instanceof It||(e instanceof Array&&(e=new Uint16Array(e)),e=new It(e)),e.type=Oi.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,this.buffers.includes(e)||this.buffers.push(e),this}getIndex(){return this.indexBuffer}interleave(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;const e=[],r=[],n=new It;let i;for(i in this.attributes){const s=this.attributes[i],o=this.buffers[s.buffer];e.push(o.data),r.push(s.size*uT[s.type]/4),s.buffer=0}for(n.data=h5(e,r),i=0;i<this.buffers.length;i++)this.buffers[i]!==this.indexBuffer&&this.buffers[i].destroy();return this.buffers=[n],this.indexBuffer&&this.buffers.push(this.indexBuffer),this}getSize(){for(const e in this.attributes){const r=this.attributes[e];return this.buffers[r.buffer].data.length/(r.stride/4||r.size)}return 0}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null}clone(){const e=new io;for(let r=0;r<this.buffers.length;r++)e.buffers[r]=new It(this.buffers[r].data.slice(0));for(const r in this.attributes){const n=this.attributes[r];e.attributes[r]=new kp(n.buffer,n.size,n.normalized,n.type,n.stride,n.start,n.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=Oi.ELEMENT_ARRAY_BUFFER),e}static merge(e){const r=new io,n=[],i=[],s=[];let o;for(let a=0;a<e.length;a++){o=e[a];for(let c=0;c<o.buffers.length;c++)i[c]=i[c]||0,i[c]+=o.buffers[c].data.length,s[c]=0}for(let a=0;a<o.buffers.length;a++)n[a]=new f5[ZR(o.buffers[a].data)](i[a]),r.buffers[a]=new It(n[a]);for(let a=0;a<e.length;a++){o=e[a];for(let c=0;c<o.buffers.length;c++)n[c].set(o.buffers[c].data,s[c]),s[c]+=o.buffers[c].data.length}if(r.attributes=o.attributes,o.indexBuffer){r.indexBuffer=r.buffers[o.buffers.indexOf(o.indexBuffer)],r.indexBuffer.type=Oi.ELEMENT_ARRAY_BUFFER;let a=0,c=0,h=0,f=0;for(let p=0;p<o.buffers.length;p++)if(o.buffers[p]!==o.indexBuffer){f=p;break}for(const p in o.attributes){const m=o.attributes[p];(m.buffer|0)===f&&(c+=m.size*uT[m.type]/4)}for(let p=0;p<e.length;p++){const m=e[p].indexBuffer.data;for(let y=0;y<m.length;y++)r.indexBuffer.data[y+h]+=a;a+=e[p].buffers[f].data.length/c,h+=m.length}}return r}}class eO extends io{constructor(e=!1){super(),this._buffer=new It(null,e,!1),this._indexBuffer=new It(null,e,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,ge.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,ge.FLOAT).addAttribute("aColor",this._buffer,4,!0,ge.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,ge.FLOAT).addIndex(this._indexBuffer)}}const Dp=Math.PI*2,p5=180/Math.PI,m5=Math.PI/180;var rr=(t=>(t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC",t))(rr||{});class Ne{constructor(e=0,r=0){this.x=0,this.y=0,this.x=e,this.y=r}clone(){return new Ne(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(e=0,r=e){return this.x=e,this.y=r,this}}Ne.prototype.toString=function(){return`[@pixi/math:Point x=${this.x} y=${this.y}]`};const jd=[new Ne,new Ne,new Ne,new Ne];class Ce{constructor(e=0,r=0,n=0,i=0){this.x=Number(e),this.y=Number(r),this.width=Number(n),this.height=Number(i),this.type=rr.RECT}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}static get EMPTY(){return new Ce(0,0,0,0)}clone(){return new Ce(this.x,this.y,this.width,this.height)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}contains(e,r){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&r>=this.y&&r<this.y+this.height}intersects(e,r){if(!r){const D=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=D)return!1;const V=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>V}const n=this.left,i=this.right,s=this.top,o=this.bottom;if(i<=n||o<=s)return!1;const a=jd[0].set(e.left,e.top),c=jd[1].set(e.left,e.bottom),h=jd[2].set(e.right,e.top),f=jd[3].set(e.right,e.bottom);if(h.x<=a.x||c.y<=a.y)return!1;const p=Math.sign(r.a*r.d-r.b*r.c);if(p===0||(r.apply(a,a),r.apply(c,c),r.apply(h,h),r.apply(f,f),Math.max(a.x,c.x,h.x,f.x)<=n||Math.min(a.x,c.x,h.x,f.x)>=i||Math.max(a.y,c.y,h.y,f.y)<=s||Math.min(a.y,c.y,h.y,f.y)>=o))return!1;const m=p*(c.y-a.y),y=p*(a.x-c.x),_=m*n+y*s,S=m*i+y*s,A=m*n+y*o,E=m*i+y*o;if(Math.max(_,S,A,E)<=m*a.x+y*a.y||Math.min(_,S,A,E)>=m*f.x+y*f.y)return!1;const w=p*(a.y-h.y),x=p*(h.x-a.x),T=w*n+x*s,P=w*i+x*s,M=w*n+x*o,R=w*i+x*o;return!(Math.max(T,P,M,R)<=w*a.x+x*a.y||Math.min(T,P,M,R)>=w*f.x+x*f.y)}pad(e=0,r=e){return this.x-=e,this.y-=r,this.width+=e*2,this.height+=r*2,this}fit(e){const r=Math.max(this.x,e.x),n=Math.min(this.x+this.width,e.x+e.width),i=Math.max(this.y,e.y),s=Math.min(this.y+this.height,e.y+e.height);return this.x=r,this.width=Math.max(n-r,0),this.y=i,this.height=Math.max(s-i,0),this}ceil(e=1,r=.001){const n=Math.ceil((this.x+this.width-r)*e)/e,i=Math.ceil((this.y+this.height-r)*e)/e;return this.x=Math.floor((this.x+r)*e)/e,this.y=Math.floor((this.y+r)*e)/e,this.width=n-this.x,this.height=i-this.y,this}enlarge(e){const r=Math.min(this.x,e.x),n=Math.max(this.x+this.width,e.x+e.width),i=Math.min(this.y,e.y),s=Math.max(this.y+this.height,e.y+e.height);return this.x=r,this.width=n-r,this.y=i,this.height=s-i,this}}Ce.prototype.toString=function(){return`[@pixi/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};class Mm{constructor(e=0,r=0,n=0){this.x=e,this.y=r,this.radius=n,this.type=rr.CIRC}clone(){return new Mm(this.x,this.y,this.radius)}contains(e,r){if(this.radius<=0)return!1;const n=this.radius*this.radius;let i=this.x-e,s=this.y-r;return i*=i,s*=s,i+s<=n}getBounds(){return new Ce(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)}}Mm.prototype.toString=function(){return`[@pixi/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`};class km{constructor(e=0,r=0,n=0,i=0){this.x=e,this.y=r,this.width=n,this.height=i,this.type=rr.ELIP}clone(){return new km(this.x,this.y,this.width,this.height)}contains(e,r){if(this.width<=0||this.height<=0)return!1;let n=(e-this.x)/this.width,i=(r-this.y)/this.height;return n*=n,i*=i,n+i<=1}getBounds(){return new Ce(this.x-this.width,this.y-this.height,this.width,this.height)}}km.prototype.toString=function(){return`[@pixi/math:Ellipse x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};class Qo{constructor(...e){let r=Array.isArray(e[0])?e[0]:e;if(typeof r[0]!="number"){const n=[];for(let i=0,s=r.length;i<s;i++)n.push(r[i].x,r[i].y);r=n}this.points=r,this.type=rr.POLY,this.closeStroke=!0}clone(){const e=this.points.slice(),r=new Qo(e);return r.closeStroke=this.closeStroke,r}contains(e,r){let n=!1;const i=this.points.length/2;for(let s=0,o=i-1;s<i;o=s++){const a=this.points[s*2],c=this.points[s*2+1],h=this.points[o*2],f=this.points[o*2+1];c>r!=f>r&&e<(h-a)*((r-c)/(f-c))+a&&(n=!n)}return n}}Qo.prototype.toString=function(){return`[@pixi/math:PolygoncloseStroke=${this.closeStroke}points=${this.points.reduce((t,e)=>`${t}, ${e}`,"")}]`};class Dm{constructor(e=0,r=0,n=0,i=0,s=20){this.x=e,this.y=r,this.width=n,this.height=i,this.radius=s,this.type=rr.RREC}clone(){return new Dm(this.x,this.y,this.width,this.height,this.radius)}contains(e,r){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&r>=this.y&&r<=this.y+this.height){const n=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(r>=this.y+n&&r<=this.y+this.height-n||e>=this.x+n&&e<=this.x+this.width-n)return!0;let i=e-(this.x+n),s=r-(this.y+n);const o=n*n;if(i*i+s*s<=o||(i=e-(this.x+this.width-n),i*i+s*s<=o)||(s=r-(this.y+this.height-n),i*i+s*s<=o)||(i=e-(this.x+n),i*i+s*s<=o))return!0}return!1}}Dm.prototype.toString=function(){return`[@pixi/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`};class ut{constructor(e=1,r=0,n=0,i=1,s=0,o=0){this.array=null,this.a=e,this.b=r,this.c=n,this.d=i,this.tx=s,this.ty=o}fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,r,n,i,s,o){return this.a=e,this.b=r,this.c=n,this.d=i,this.tx=s,this.ty=o,this}toArray(e,r){this.array||(this.array=new Float32Array(9));const n=r||this.array;return e?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n}apply(e,r){r=r||new Ne;const n=e.x,i=e.y;return r.x=this.a*n+this.c*i+this.tx,r.y=this.b*n+this.d*i+this.ty,r}applyInverse(e,r){r=r||new Ne;const n=1/(this.a*this.d+this.c*-this.b),i=e.x,s=e.y;return r.x=this.d*n*i+-this.c*n*s+(this.ty*this.c-this.tx*this.d)*n,r.y=this.a*n*s+-this.b*n*i+(-this.ty*this.a+this.tx*this.b)*n,r}translate(e,r){return this.tx+=e,this.ty+=r,this}scale(e,r){return this.a*=e,this.d*=r,this.c*=e,this.b*=r,this.tx*=e,this.ty*=r,this}rotate(e){const r=Math.cos(e),n=Math.sin(e),i=this.a,s=this.c,o=this.tx;return this.a=i*r-this.b*n,this.b=i*n+this.b*r,this.c=s*r-this.d*n,this.d=s*n+this.d*r,this.tx=o*r-this.ty*n,this.ty=o*n+this.ty*r,this}append(e){const r=this.a,n=this.b,i=this.c,s=this.d;return this.a=e.a*r+e.b*i,this.b=e.a*n+e.b*s,this.c=e.c*r+e.d*i,this.d=e.c*n+e.d*s,this.tx=e.tx*r+e.ty*i+this.tx,this.ty=e.tx*n+e.ty*s+this.ty,this}setTransform(e,r,n,i,s,o,a,c,h){return this.a=Math.cos(a+h)*s,this.b=Math.sin(a+h)*s,this.c=-Math.sin(a-c)*o,this.d=Math.cos(a-c)*o,this.tx=e-(n*this.a+i*this.c),this.ty=r-(n*this.b+i*this.d),this}prepend(e){const r=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){const n=this.a,i=this.c;this.a=n*e.a+this.b*e.c,this.b=n*e.b+this.b*e.d,this.c=i*e.a+this.d*e.c,this.d=i*e.b+this.d*e.d}return this.tx=r*e.a+this.ty*e.c+e.tx,this.ty=r*e.b+this.ty*e.d+e.ty,this}decompose(e){const r=this.a,n=this.b,i=this.c,s=this.d,o=e.pivot,a=-Math.atan2(-i,s),c=Math.atan2(n,r),h=Math.abs(a+c);return h<1e-5||Math.abs(Dp-h)<1e-5?(e.rotation=c,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=a,e.skew.y=c),e.scale.x=Math.sqrt(r*r+n*n),e.scale.y=Math.sqrt(i*i+s*s),e.position.x=this.tx+(o.x*r+o.y*i),e.position.y=this.ty+(o.x*n+o.y*s),e}invert(){const e=this.a,r=this.b,n=this.c,i=this.d,s=this.tx,o=e*i-r*n;return this.a=i/o,this.b=-r/o,this.c=-n/o,this.d=e/o,this.tx=(n*this.ty-i*s)/o,this.ty=-(e*this.ty-r*s)/o,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const e=new ut;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}static get IDENTITY(){return new ut}static get TEMP_MATRIX(){return new ut}}ut.prototype.toString=function(){return`[@pixi/math:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`};const Oo=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],Mo=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],ko=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Do=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],y_=[],tO=[],Hd=Math.sign;function g5(){for(let t=0;t<16;t++){const e=[];y_.push(e);for(let r=0;r<16;r++){const n=Hd(Oo[t]*Oo[r]+ko[t]*Mo[r]),i=Hd(Mo[t]*Oo[r]+Do[t]*Mo[r]),s=Hd(Oo[t]*ko[r]+ko[t]*Do[r]),o=Hd(Mo[t]*ko[r]+Do[t]*Do[r]);for(let a=0;a<16;a++)if(Oo[a]===n&&Mo[a]===i&&ko[a]===s&&Do[a]===o){e.push(a);break}}}for(let t=0;t<16;t++){const e=new ut;e.set(Oo[t],Mo[t],ko[t],Do[t],0,0),tO.push(e)}}g5();const vt={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:t=>Oo[t],uY:t=>Mo[t],vX:t=>ko[t],vY:t=>Do[t],inv:t=>t&8?t&15:-t&7,add:(t,e)=>y_[t][e],sub:(t,e)=>y_[t][vt.inv(e)],rotate180:t=>t^4,isVertical:t=>(t&3)===2,byDirection:(t,e)=>Math.abs(t)*2<=Math.abs(e)?e>=0?vt.S:vt.N:Math.abs(e)*2<=Math.abs(t)?t>0?vt.E:vt.W:e>0?t>0?vt.SE:vt.SW:t>0?vt.NE:vt.NW,matrixAppendRotationInv:(t,e,r=0,n=0)=>{const i=tO[vt.inv(e)];i.tx=r,i.ty=n,t.append(i)}};class Ti{constructor(e,r,n=0,i=0){this._x=n,this._y=i,this.cb=e,this.scope=r}clone(e=this.cb,r=this.scope){return new Ti(e,r,this._x,this._y)}set(e=0,r=e){return(this._x!==e||this._y!==r)&&(this._x=e,this._y=r,this.cb.call(this.scope)),this}copyFrom(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))}}Ti.prototype.toString=function(){return`[@pixi/math:ObservablePoint x=${this.x} y=${this.y} scope=${this.scope}]`};const __=class{constructor(){this.worldTransform=new ut,this.localTransform=new ut,this.position=new Ti(this.onChange,this,0,0),this.scale=new Ti(this.onChange,this,1,1),this.pivot=new Ti(this.onChange,this,0,0),this.skew=new Ti(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}onChange(){this._localID++}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}updateLocalTransform(){const t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)}updateTransform(t){const e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){const r=t.worldTransform,n=this.worldTransform;n.a=e.a*r.a+e.b*r.c,n.b=e.a*r.b+e.b*r.d,n.c=e.c*r.a+e.d*r.c,n.d=e.c*r.b+e.d*r.d,n.tx=e.tx*r.a+e.ty*r.c+r.tx,n.ty=e.tx*r.b+e.ty*r.d+r.ty,this._parentID=t._worldID,this._worldID++}}setFromMatrix(t){t.decompose(this),this._localID++}get rotation(){return this._rotation}set rotation(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())}};__.IDENTITY=new __;let Nm=__;Nm.prototype.toString=function(){return`[@pixi/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`};var v5=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,y5=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`;function cT(t,e,r){const n=t.createShader(e);return t.shaderSource(n,r),t.compileShader(n),n}function cy(t){const e=new Array(t);for(let r=0;r<e.length;r++)e[r]=!1;return e}function rO(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return cy(2*e);case"bvec3":return cy(3*e);case"bvec4":return cy(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const Pl=[{test:t=>t.type==="float"&&t.size===1&&!t.isArray,code:t=>`
            if(uv["${t}"] !== ud["${t}"].value)
            {
                ud["${t}"].value = uv["${t}"]
                gl.uniform1f(ud["${t}"].location, uv["${t}"])
            }
            `},{test:(t,e)=>(t.type==="sampler2D"||t.type==="samplerCube"||t.type==="sampler2DArray")&&t.size===1&&!t.isArray&&(e==null||e.castToBaseTexture!==void 0),code:t=>`t = syncData.textureCount++;

            renderer.texture.bind(uv["${t}"], t);

            if(ud["${t}"].value !== t)
            {
                ud["${t}"].value = t;
                gl.uniform1i(ud["${t}"].location, t);
; // eslint-disable-line max-len
            }`},{test:(t,e)=>t.type==="mat3"&&t.size===1&&!t.isArray&&e.a!==void 0,code:t=>`
            gl.uniformMatrix3fv(ud["${t}"].location, false, uv["${t}"].toArray(true));
            `,codeUbo:t=>`
                var ${t}_matrix = uv.${t}.toArray(true);

                data[offset] = ${t}_matrix[0];
                data[offset+1] = ${t}_matrix[1];
                data[offset+2] = ${t}_matrix[2];
        
                data[offset + 4] = ${t}_matrix[3];
                data[offset + 5] = ${t}_matrix[4];
                data[offset + 6] = ${t}_matrix[5];
        
                data[offset + 8] = ${t}_matrix[6];
                data[offset + 9] = ${t}_matrix[7];
                data[offset + 10] = ${t}_matrix[8];
            `},{test:(t,e)=>t.type==="vec2"&&t.size===1&&!t.isArray&&e.x!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["${t}"].location, v.x, v.y);
                }`,codeUbo:t=>`
                v = uv.${t};

                data[offset] = v.x;
                data[offset+1] = v.y;
            `},{test:t=>t.type==="vec2"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["${t}"].location, v[0], v[1]);
                }
            `},{test:(t,e)=>t.type==="vec4"&&t.size===1&&!t.isArray&&e.width!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["${t}"].location, v.x, v.y, v.width, v.height)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `},{test:(t,e)=>t.type==="vec4"&&t.size===1&&!t.isArray&&e.red!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
                    cv[3] = v.alpha;
                    gl.uniform4f(ud["${t}"].location, v.red, v.green, v.blue, v.alpha)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                    data[offset+3] = v.alpha;
                `},{test:(t,e)=>t.type==="vec3"&&t.size===1&&!t.isArray&&e.red!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.a)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
    
                    gl.uniform3f(ud["${t}"].location, v.red, v.green, v.blue)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                `},{test:t=>t.type==="vec4"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["${t}"].location, v[0], v[1], v[2], v[3])
                }`}],_5={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,samplerCube:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,sampler2DArray:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`},x5={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function b5(t,e){var n;const r=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(const i in t.uniforms){const s=e[i];if(!s){((n=t.uniforms[i])==null?void 0:n.group)===!0&&(t.uniforms[i].ubo?r.push(`
                        renderer.shader.syncUniformBufferGroup(uv.${i}, '${i}');
                    `):r.push(`
                        renderer.shader.syncUniformGroup(uv.${i}, syncData);
                    `));continue}const o=t.uniforms[i];let a=!1;for(let c=0;c<Pl.length;c++)if(Pl[c].test(s,o)){r.push(Pl[c].code(i,o)),a=!0;break}if(!a){const c=(s.size===1&&!s.isArray?_5:x5)[s.type].replace("location",`ud["${i}"].location`);r.push(`
            cu = ud["${i}"];
            cv = cu.value;
            v = uv["${i}"];
            ${c};`)}}return new Function("ud","uv","renderer","syncData",r.join(`
`))}const nO={};let za=nO;function w5(){if(za===nO||za!=null&&za.isContextLost()){const t=oe.ADAPTER.createCanvas();let e;oe.PREFER_ENV>=ma.WEBGL2&&(e=t.getContext("webgl2",{})),e||(e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}),e?e.getExtension("WEBGL_draw_buffers"):e=null),za=e}return za}let Vd;function S5(){if(!Vd){Vd=yn.MEDIUM;const t=w5();if(t&&t.getShaderPrecisionFormat){const e=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT);e&&(Vd=e.precision?yn.HIGH:yn.MEDIUM)}}return Vd}function hT(t,e){const r=t.getShaderSource(e).split(`
`).map((h,f)=>`${f}: ${h}`),n=t.getShaderInfoLog(e),i=n.split(`
`),s={},o=i.map(h=>parseFloat(h.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))).filter(h=>h&&!s[h]?(s[h]=!0,!0):!1),a=[""];o.forEach(h=>{r[h-1]=`%c${r[h-1]}%c`,a.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});const c=r.join(`
`);a[0]=c,console.error(n),console.groupCollapsed("click to view full shader code"),console.warn(...a),console.groupEnd()}function E5(t,e,r,n){t.getProgramParameter(e,t.LINK_STATUS)||(t.getShaderParameter(r,t.COMPILE_STATUS)||hT(t,r),t.getShaderParameter(n,t.COMPILE_STATUS)||hT(t,n),console.error("PixiJS Error: Could not initialize shader."),t.getProgramInfoLog(e)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(e)))}const T5={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function iO(t){return T5[t]}let Wd=null;const dT={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function sO(t,e){if(!Wd){const r=Object.keys(dT);Wd={};for(let n=0;n<r.length;++n){const i=r[n];Wd[t[i]]=dT[i]}}return Wd[e]}function fT(t,e,r){if(t.substring(0,9)!=="precision"){let n=e;return e===yn.HIGH&&r!==yn.HIGH&&(n=yn.MEDIUM),`precision ${n} float;
${t}`}else if(r!==yn.HIGH&&t.substring(0,15)==="precision highp")return t.replace("precision highp","precision mediump");return t}let Gu;function A5(){if(typeof Gu=="boolean")return Gu;try{Gu=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{Gu=!1}return Gu}let C5=0;const Xd={},x_=class Ya{constructor(e,r,n="pixi-shader",i={}){this.extra={},this.id=C5++,this.vertexSrc=e||Ya.defaultVertexSrc,this.fragmentSrc=r||Ya.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.extra=i,this.vertexSrc.substring(0,8)!=="#version"&&(n=n.replace(/\s+/g,"-"),Xd[n]?(Xd[n]++,n+=`-${Xd[n]}`):Xd[n]=1,this.vertexSrc=`#define SHADER_NAME ${n}
${this.vertexSrc}`,this.fragmentSrc=`#define SHADER_NAME ${n}
${this.fragmentSrc}`,this.vertexSrc=fT(this.vertexSrc,Ya.defaultVertexPrecision,yn.HIGH),this.fragmentSrc=fT(this.fragmentSrc,Ya.defaultFragmentPrecision,S5())),this.glPrograms={},this.syncUniforms=null}static get defaultVertexSrc(){return y5}static get defaultFragmentSrc(){return v5}static from(e,r,n){const i=e+r;let s=sT[i];return s||(sT[i]=s=new Ya(e,r,n)),s}};x_.defaultVertexPrecision=yn.HIGH,x_.defaultFragmentPrecision=es.apple.device?yn.HIGH:yn.MEDIUM;let ts=x_,P5=0;class Xn{constructor(e,r,n){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=P5++,this.static=!!r,this.ubo=!!n,e instanceof It?(this.buffer=e,this.buffer.type=Oi.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new It(new Float32Array(1)),this.buffer.type=Oi.UNIFORM_BUFFER,this.autoManage=!0))}update(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()}add(e,r,n){if(!this.ubo)this.uniforms[e]=new Xn(r,n);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")}static from(e,r,n){return new Xn(e,r,n)}static uboFrom(e,r){return new Xn(e,r??!0,!0)}}class Mi{constructor(e,r){this.uniformBindCount=0,this.program=e,r?r instanceof Xn?this.uniformGroup=r:this.uniformGroup=new Xn(r):this.uniformGroup=new Xn({}),this.disposeRunner=new Wn("disposeShader")}checkUniformExists(e,r){if(r.uniforms[e])return!0;for(const n in r.uniforms){const i=r.uniforms[n];if(i.group===!0&&this.checkUniformExists(e,i))return!0}return!1}destroy(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()}get uniforms(){return this.uniformGroup.uniforms}static from(e,r,n){const i=ts.from(e,r);return new Mi(i,n)}}class I5{constructor(e,r){if(this.vertexSrc=e,this.fragTemplate=r,this.programCache={},this.defaultGroupCache={},!r.includes("%count%"))throw new Error('Fragment template must contain "%count%".');if(!r.includes("%forloop%"))throw new Error('Fragment template must contain "%forloop%".')}generateShader(e){if(!this.programCache[e]){const n=new Int32Array(e);for(let s=0;s<e;s++)n[s]=s;this.defaultGroupCache[e]=Xn.from({uSamplers:n},!0);let i=this.fragTemplate;i=i.replace(/%count%/gi,`${e}`),i=i.replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new ts(this.vertexSrc,i)}const r={tint:new Float32Array([1,1,1,1]),translationMatrix:new ut,default:this.defaultGroupCache[e]};return new Mi(this.programCache[e],r)}generateSampleSrc(e){let r="";r+=`
`,r+=`
`;for(let n=0;n<e;n++)n>0&&(r+=`
else `),n<e-1&&(r+=`if(vTextureId < ${n}.5)`),r+=`
{`,r+=`
	color = texture2D(uSamplers[${n}], vTextureCoord);`,r+=`
}`;return r+=`
`,r+=`
`,r}}class b_{constructor(){this.elements=[],this.ids=[],this.count=0}clear(){for(let e=0;e<this.count;e++)this.elements[e]=null;this.count=0}}function R5(){return!es.apple.device}function O5(t){let e=!0;const r=oe.ADAPTER.getNavigator();if(es.tablet||es.phone){if(es.apple.device){const n=r.userAgent.match(/OS (\d+)_(\d+)?/);n&&parseInt(n[1],10)<11&&(e=!1)}if(es.android.device){const n=r.userAgent.match(/Android\s([0-9.]*)/);n&&parseInt(n[1],10)<7&&(e=!1)}}return e?t:4}class Fm{constructor(e){this.renderer=e}flush(){}destroy(){this.renderer=null}start(){}stop(){this.flush()}render(e){}}var M5=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,k5=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`;const Zu=class kn extends Fm{constructor(e){super(e),this.setShaderGenerator(),this.geometryClass=eO,this.vertexSize=6,this.state=Bi.for2d(),this.size=kn.defaultBatchSize*4,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.maxTextures=1,this.renderer.on("prerender",this.onPrerender,this),e.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}static get defaultMaxTextures(){return this._defaultMaxTextures=this._defaultMaxTextures??O5(32),this._defaultMaxTextures}static set defaultMaxTextures(e){this._defaultMaxTextures=e}static get canUploadSameBuffer(){return this._canUploadSameBuffer=this._canUploadSameBuffer??R5(),this._canUploadSameBuffer}static set canUploadSameBuffer(e){this._canUploadSameBuffer=e}get MAX_TEXTURES(){return Oe("7.1.0","BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures"),this.maxTextures}static get defaultVertexSrc(){return k5}static get defaultFragmentTemplate(){return M5}setShaderGenerator({vertex:e=kn.defaultVertexSrc,fragment:r=kn.defaultFragmentTemplate}={}){this.shaderGenerator=new I5(e,r)}contextChange(){const e=this.renderer.gl;oe.PREFER_ENV===ma.WEBGL_LEGACY?this.maxTextures=1:(this.maxTextures=Math.min(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),kn.defaultMaxTextures),this.maxTextures=a5(this.maxTextures,e)),this._shader=this.shaderGenerator.generateShader(this.maxTextures);for(let r=0;r<this._packedGeometryPoolSize;r++)this._packedGeometries[r]=new this.geometryClass;this.initFlushBuffers()}initFlushBuffers(){const{_drawCallPool:e,_textureArrayPool:r}=kn,n=this.size/4,i=Math.floor(n/this.maxTextures)+1;for(;e.length<n;)e.push(new v_);for(;r.length<i;)r.push(new b_);for(let s=0;s<this.maxTextures;s++)this._tempBoundTextures[s]=null}onPrerender(){this._flushId=0}render(e){e._texture.valid&&(this._vertexCount+e.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=e.vertexData.length/2,this._indexCount+=e.indices.length,this._bufferedTextures[this._bufferSize]=e._texture.baseTexture,this._bufferedElements[this._bufferSize++]=e)}buildTexturesAndDrawCalls(){const{_bufferedTextures:e,maxTextures:r}=this,n=kn._textureArrayPool,i=this.renderer.batch,s=this._tempBoundTextures,o=this.renderer.textureGC.count;let a=++Te._globalBatch,c=0,h=n[0],f=0;i.copyBoundTextures(s,r);for(let p=0;p<this._bufferSize;++p){const m=e[p];e[p]=null,m._batchEnabled!==a&&(h.count>=r&&(i.boundArray(h,s,a,r),this.buildDrawCalls(h,f,p),f=p,h=n[++c],++a),m._batchEnabled=a,m.touched=o,h.elements[h.count++]=m)}h.count>0&&(i.boundArray(h,s,a,r),this.buildDrawCalls(h,f,this._bufferSize),++c,++a);for(let p=0;p<s.length;p++)s[p]=null;Te._globalBatch=a}buildDrawCalls(e,r,n){const{_bufferedElements:i,_attributeBuffer:s,_indexBuffer:o,vertexSize:a}=this,c=kn._drawCallPool;let h=this._dcIndex,f=this._aIndex,p=this._iIndex,m=c[h];m.start=this._iIndex,m.texArray=e;for(let y=r;y<n;++y){const _=i[y],S=_._texture.baseTexture,A=QR[S.alphaMode?1:0][_.blendMode];i[y]=null,r<y&&m.blend!==A&&(m.size=p-m.start,r=y,m=c[++h],m.texArray=e,m.start=p),this.packInterleavedGeometry(_,s,o,f,p),f+=_.vertexData.length/2*a,p+=_.indices.length,m.blend=A}r<n&&(m.size=p-m.start,++h),this._dcIndex=h,this._aIndex=f,this._iIndex=p}bindAndClearTexArray(e){const r=this.renderer.texture;for(let n=0;n<e.count;n++)r.bind(e.elements[n],e.ids[n]),e.elements[n]=null;e.count=0}updateGeometry(){const{_packedGeometries:e,_attributeBuffer:r,_indexBuffer:n}=this;kn.canUploadSameBuffer?(e[this._flushId]._buffer.update(r.rawBinaryData),e[this._flushId]._indexBuffer.update(n),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,e[this._flushId]=new this.geometryClass),e[this._flushId]._buffer.update(r.rawBinaryData),e[this._flushId]._indexBuffer.update(n),this.renderer.geometry.bind(e[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}drawBatches(){const e=this._dcIndex,{gl:r,state:n}=this.renderer,i=kn._drawCallPool;let s=null;for(let o=0;o<e;o++){const{texArray:a,type:c,size:h,start:f,blend:p}=i[o];s!==a&&(s=a,this.bindAndClearTexArray(a)),this.state.blendMode=p,n.set(this.state),r.drawElements(c,h,r.UNSIGNED_SHORT,f*2)}}flush(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)}start(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.maxTextures),this.renderer.shader.bind(this._shader),kn.canUploadSameBuffer&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}stop(){this.flush()}destroy(){for(let e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),super.destroy()}getAttributeBuffer(e){const r=Mp(Math.ceil(e/8)),n=nT(r),i=r*8;this._aBuffers.length<=n&&(this._iBuffers.length=n+1);let s=this._aBuffers[i];return s||(this._aBuffers[i]=s=new p_(i*this.vertexSize*4)),s}getIndexBuffer(e){const r=Mp(Math.ceil(e/12)),n=nT(r),i=r*12;this._iBuffers.length<=n&&(this._iBuffers.length=n+1);let s=this._iBuffers[n];return s||(this._iBuffers[n]=s=new Uint16Array(i)),s}packInterleavedGeometry(e,r,n,i,s){const{uint32View:o,float32View:a}=r,c=i/this.vertexSize,h=e.uvs,f=e.indices,p=e.vertexData,m=e._texture.baseTexture._batchLocation,y=Math.min(e.worldAlpha,1),_=Je.shared.setValue(e._tintRGB).toPremultiplied(y,e._texture.baseTexture.alphaMode>0);for(let S=0;S<p.length;S+=2)a[i++]=p[S],a[i++]=p[S+1],a[i++]=h[S],a[i++]=h[S+1],o[i++]=_,a[i++]=m;for(let S=0;S<f.length;S++)n[s++]=c+f[S]}};Zu.defaultBatchSize=4096,Zu.extension={name:"batch",type:ne.RendererPlugin},Zu._drawCallPool=[],Zu._textureArrayPool=[];let No=Zu;he.add(No);var D5=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,N5=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const w_=class Ju extends Mi{constructor(e,r,n){const i=ts.from(e||Ju.defaultVertexSrc,r||Ju.defaultFragmentSrc);super(i,n),this.padding=0,this.resolution=Ju.defaultResolution,this.multisample=Ju.defaultMultisample,this.enabled=!0,this.autoFit=!0,this.state=new Bi}apply(e,r,n,i,s){e.applyFilter(this,r,n,i)}get blendMode(){return this.state.blendMode}set blendMode(e){this.state.blendMode=e}get resolution(){return this._resolution}set resolution(e){this._resolution=e}static get defaultVertexSrc(){return N5}static get defaultFragmentSrc(){return D5}};w_.defaultResolution=1,w_.defaultMultisample=Mt.NONE;let xr=w_;class Np{constructor(){this.clearBeforeRender=!0,this._backgroundColor=new Je(0),this.alpha=1}init(e){this.clearBeforeRender=e.clearBeforeRender;const{backgroundColor:r,background:n,backgroundAlpha:i}=e,s=n??r;s!==void 0&&(this.color=s),this.alpha=i}get color(){return this._backgroundColor.value}set color(e){this._backgroundColor.setValue(e)}get alpha(){return this._backgroundColor.alpha}set alpha(e){this._backgroundColor.setAlpha(e)}get backgroundColor(){return this._backgroundColor}destroy(){}}Np.defaultOptions={backgroundAlpha:1,backgroundColor:0,clearBeforeRender:!0},Np.extension={type:[ne.RendererSystem,ne.CanvasRendererSystem],name:"background"};he.add(Np);class oO{constructor(e){this.renderer=e,this.emptyRenderer=new Fm(e),this.currentRenderer=this.emptyRenderer}setObjectRenderer(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())}flush(){this.setObjectRenderer(this.emptyRenderer)}reset(){this.setObjectRenderer(this.emptyRenderer)}copyBoundTextures(e,r){const{boundTextures:n}=this.renderer.texture;for(let i=r-1;i>=0;--i)e[i]=n[i]||null,e[i]&&(e[i]._batchLocation=i)}boundArray(e,r,n,i){const{elements:s,ids:o,count:a}=e;let c=0;for(let h=0;h<a;h++){const f=s[h],p=f._batchLocation;if(p>=0&&p<i&&r[p]===f){o[h]=p;continue}for(;c<i;){const m=r[c];if(m&&m._batchEnabled===n&&m._batchLocation===c){c++;continue}o[h]=c,f._batchLocation=c,r[c]=f;break}}}destroy(){this.renderer=null}}oO.extension={type:ne.RendererSystem,name:"batch"};he.add(oO);let pT=0;class Fp{constructor(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=pT++}init(e){if(e.context)this.initFromContext(e.context);else{const r=this.renderer.background.alpha<1,n=e.premultipliedAlpha;this.preserveDrawingBuffer=e.preserveDrawingBuffer,this.useContextAlpha=e.useContextAlpha,this.powerPreference=e.powerPreference,this.initFromOptions({alpha:r,premultipliedAlpha:n,antialias:e.antialias,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:e.powerPreference})}}initFromContext(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=pT++,this.renderer.runners.contextChange.emit(e);const r=this.renderer.view;r.addEventListener!==void 0&&(r.addEventListener("webglcontextlost",this.handleContextLost,!1),r.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}initFromOptions(e){const r=this.createContext(this.renderer.view,e);this.initFromContext(r)}createContext(e,r){let n;if(oe.PREFER_ENV>=ma.WEBGL2&&(n=e.getContext("webgl2",r)),n)this.webGLVersion=2;else if(this.webGLVersion=1,n=e.getContext("webgl",r)||e.getContext("experimental-webgl",r),!n)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=n,this.getExtensions(),this.gl}getExtensions(){const{gl:e}=this,r={loseContext:e.getExtension("WEBGL_lose_context"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc"),bptc:e.getExtension("EXT_texture_compression_bptc")};this.webGLVersion===1?Object.assign(this.extensions,r,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,r,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})}handleContextLost(e){e.preventDefault(),setTimeout(()=>{this.gl.isContextLost()&&this.extensions.loseContext&&this.extensions.loseContext.restoreContext()},0)}handleContextRestored(){this.renderer.runners.contextChange.emit(this.gl)}destroy(){const e=this.renderer.view;this.renderer=null,e.removeEventListener!==void 0&&(e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored)),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()}postrender(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}validateContext(e){const r=e.getContextAttributes(),n="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;n&&(this.webGLVersion=2),r&&!r.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");const i=n||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=i,i||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}}Fp.defaultOptions={context:null,antialias:!1,premultipliedAlpha:!0,preserveDrawingBuffer:!1,powerPreference:"default"},Fp.extension={type:ne.RendererSystem,name:"context"};he.add(Fp);class S_{constructor(e,r){if(this.width=Math.round(e),this.height=Math.round(r),!this.width||!this.height)throw new Error("Framebuffer width or height is zero");this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new Wn("disposeFramebuffer"),this.multisample=Mt.NONE}get colorTexture(){return this.colorTextures[0]}addColorTexture(e=0,r){return this.colorTextures[e]=r||new Te(null,{scaleMode:Ji.NEAREST,resolution:1,mipmap:Di.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this}addDepthTexture(e){return this.depthTexture=e||new Te(null,{scaleMode:Ji.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:Di.OFF,format:q.DEPTH_COMPONENT,type:ge.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this}enableDepth(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this}enableStencil(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this}resize(e,r){if(e=Math.round(e),r=Math.round(r),!e||!r)throw new Error("Framebuffer width and height must not be zero");if(!(e===this.width&&r===this.height)){this.width=e,this.height=r,this.dirtyId++,this.dirtySize++;for(let n=0;n<this.colorTextures.length;n++){const i=this.colorTextures[n],s=i.resolution;i.setSize(e/s,r/s)}if(this.depthTexture){const n=this.depthTexture.resolution;this.depthTexture.setSize(e/n,r/n)}}}dispose(){this.disposeRunner.emit(this,!1)}destroyDepthTexture(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}}class aO extends Te{constructor(e={}){if(typeof e=="number"){const r=arguments[0],n=arguments[1],i=arguments[2],s=arguments[3];e={width:r,height:n,scaleMode:i,resolution:s}}e.width=e.width??100,e.height=e.height??100,e.multisample??(e.multisample=Mt.NONE),super(null,e),this.mipmap=Di.OFF,this.valid=!0,this._clear=new Je([0,0,0,0]),this.framebuffer=new S_(this.realWidth,this.realHeight).addColorTexture(0,this),this.framebuffer.multisample=e.multisample,this.maskStack=[],this.filterStack=[{}]}set clearColor(e){this._clear.setValue(e)}get clearColor(){return this._clear.value}get clear(){return this._clear}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,r){this.framebuffer.resize(e*this.resolution,r*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)}dispose(){this.framebuffer.dispose(),super.dispose()}destroy(){super.destroy(),this.framebuffer.destroyDepthTexture(),this.framebuffer=null}}class fs extends Jc{constructor(e){const r=e,n=r.naturalWidth||r.videoWidth||r.displayWidth||r.width,i=r.naturalHeight||r.videoHeight||r.displayHeight||r.height;super(n,i),this.source=e,this.noSubImage=!1}static crossOrigin(e,r,n){n===void 0&&!r.startsWith("data:")?e.crossOrigin=i5(r):n!==!1&&(e.crossOrigin=typeof n=="string"?n:"anonymous")}upload(e,r,n,i){const s=e.gl,o=r.realWidth,a=r.realHeight;if(i=i||this.source,typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement){if(!i.complete||i.naturalWidth===0)return!1}else if(typeof HTMLVideoElement<"u"&&i instanceof HTMLVideoElement&&i.readyState<=1)return!1;return s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===Or.UNPACK),!this.noSubImage&&r.target===s.TEXTURE_2D&&n.width===o&&n.height===a?s.texSubImage2D(s.TEXTURE_2D,0,0,0,r.format,n.type,i):(n.width=o,n.height=a,s.texImage2D(r.target,0,n.internalFormat,r.format,n.type,i)),!0}update(){if(this.destroyed)return;const e=this.source,r=e.naturalWidth||e.videoWidth||e.width,n=e.naturalHeight||e.videoHeight||e.height;this.resize(r,n),super.update()}dispose(){this.source=null}}class lO extends fs{constructor(e,r){if(r=r||{},typeof e=="string"){const n=new Image;fs.crossOrigin(n,e,r.crossorigin),n.src=e,e=n}super(e),!e.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=e.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(r.createBitmap??oe.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,this.alphaMode=typeof r.alphaMode=="number"?r.alphaMode:null,this.bitmap=null,this._load=null,r.autoLoad!==!1&&this.load()}load(e){return this._load?this._load:(e!==void 0&&(this.createBitmap=e),this._load=new Promise((r,n)=>{const i=this.source;this.url=i.src;const s=()=>{this.destroyed||(i.onload=null,i.onerror=null,this.update(),this._load=null,this.createBitmap?r(this.process()):r(this))};i.complete&&i.src?s():(i.onload=s,i.onerror=o=>{n(o),this.onError.emit(o)})}),this._load)}process(){const e=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);const r=globalThis.createImageBitmap,n=!e.crossOrigin||e.crossOrigin==="anonymous";return this._process=fetch(e.src,{mode:n?"cors":"no-cors"}).then(i=>i.blob()).then(i=>r(i,0,0,e.width,e.height,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===Or.UNPACK?"premultiply":"none"})).then(i=>this.destroyed?Promise.reject():(this.bitmap=i,this.update(),this._process=null,Promise.resolve(this))),this._process}upload(e,r,n){if(typeof this.alphaMode=="number"&&(r.alphaMode=this.alphaMode),!this.createBitmap)return super.upload(e,r,n);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(super.upload(e,r,n,this.bitmap),!this.preserveBitmap){let i=!0;const s=r._glTextures;for(const o in s){const a=s[o];if(a!==n&&a.dirtyId!==r.dirtyId){i=!1;break}}i&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}dispose(){this.source.onload=null,this.source.onerror=null,super.dispose(),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null}static test(e){return typeof HTMLImageElement<"u"&&(typeof e=="string"||e instanceof HTMLImageElement)}}class yx{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}set(e,r,n){const i=r.width,s=r.height;if(n){const o=e.width/2/i,a=e.height/2/s,c=e.x/i+o,h=e.y/s+a;n=vt.add(n,vt.NW),this.x0=c+o*vt.uX(n),this.y0=h+a*vt.uY(n),n=vt.add(n,2),this.x1=c+o*vt.uX(n),this.y1=h+a*vt.uY(n),n=vt.add(n,2),this.x2=c+o*vt.uX(n),this.y2=h+a*vt.uY(n),n=vt.add(n,2),this.x3=c+o*vt.uX(n),this.y3=h+a*vt.uY(n)}else this.x0=e.x/i,this.y0=e.y/s,this.x1=(e.x+e.width)/i,this.y1=e.y/s,this.x2=(e.x+e.width)/i,this.y2=(e.y+e.height)/s,this.x3=e.x/i,this.y3=(e.y+e.height)/s;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}}yx.prototype.toString=function(){return`[@pixi/core:TextureUvs x0=${this.x0} y0=${this.y0} x1=${this.x1} y1=${this.y1} x2=${this.x2} y2=${this.y2} x3=${this.x3} y3=${this.y3}]`};const mT=new yx;function Yd(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}class re extends xh{constructor(e,r,n,i,s,o,a){if(super(),this.noFrame=!1,r||(this.noFrame=!0,r=new Ce(0,0,1,1)),e instanceof re&&(e=e.baseTexture),this.baseTexture=e,this._frame=r,this.trim=i,this.valid=!1,this.destroyed=!1,this._uvs=mT,this.uvMatrix=null,this.orig=n||r,this._rotate=Number(s||0),s===!0)this._rotate=2;else if(this._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=o?new Ne(o.x,o.y):new Ne(0,0),this.defaultBorders=a,this._updateID=0,this.textureCacheIds=[],e.valid?this.noFrame?e.valid&&this.onBaseTextureUpdated(e):this.frame=r:e.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&e.on("update",this.onBaseTextureUpdated,this)}update(){this.baseTexture.resource&&this.baseTexture.resource.update()}onBaseTextureUpdated(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}destroy(e){if(this.baseTexture){if(e){const{resource:r}=this.baseTexture;r!=null&&r.url&&pi[r.url]&&re.removeFromCache(r.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,re.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}clone(){var i;const e=this._frame.clone(),r=this._frame===this.orig?e:this.orig.clone(),n=new re(this.baseTexture,!this.noFrame&&e,r,(i=this.trim)==null?void 0:i.clone(),this.rotate,this.defaultAnchor,this.defaultBorders);return this.noFrame&&(n._frame=e),n}updateUvs(){this._uvs===mT&&(this._uvs=new yx),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}static from(e,r={},n=oe.STRICT_TEXTURE_CACHE){const i=typeof e=="string";let s=null;if(i)s=e;else if(e instanceof Te){if(!e.cacheId){const a=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e.cacheId=`${a}-${la()}`,Te.addToCache(e,e.cacheId)}s=e.cacheId}else{if(!e._pixiId){const a=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e._pixiId=`${a}_${la()}`}s=e._pixiId}let o=pi[s];if(i&&n&&!o)throw new Error(`The cacheId "${s}" does not exist in TextureCache.`);return!o&&!(e instanceof Te)?(r.resolution||(r.resolution=ds(e)),o=new re(new Te(e,r)),o.baseTexture.cacheId=s,Te.addToCache(o.baseTexture,s),re.addToCache(o,s)):!o&&e instanceof Te&&(o=new re(e),re.addToCache(o,s)),o}static fromURL(e,r){const n=Object.assign({autoLoad:!1},r==null?void 0:r.resourceOptions),i=re.from(e,Object.assign({resourceOptions:n},r),!1),s=i.baseTexture.resource;return i.baseTexture.valid?Promise.resolve(i):s.load().then(()=>Promise.resolve(i))}static fromBuffer(e,r,n,i){return new re(Te.fromBuffer(e,r,n,i))}static fromLoader(e,r,n,i){const s=new Te(e,Object.assign({scaleMode:Te.defaultOptions.scaleMode,resolution:ds(r)},i)),{resource:o}=s;o instanceof lO&&(o.url=r);const a=new re(s);return n||(n=r),Te.addToCache(a.baseTexture,n),re.addToCache(a,n),n!==r&&(Te.addToCache(a.baseTexture,r),re.addToCache(a,r)),a.baseTexture.valid?Promise.resolve(a):new Promise(c=>{a.baseTexture.once("loaded",()=>c(a))})}static addToCache(e,r){r&&(e.textureCacheIds.includes(r)||e.textureCacheIds.push(r),pi[r]&&pi[r]!==e&&console.warn(`Texture added to the cache with an id [${r}] that already had an entry`),pi[r]=e)}static removeFromCache(e){if(typeof e=="string"){const r=pi[e];if(r){const n=r.textureCacheIds.indexOf(e);return n>-1&&r.textureCacheIds.splice(n,1),delete pi[e],r}}else if(e!=null&&e.textureCacheIds){for(let r=0;r<e.textureCacheIds.length;++r)pi[e.textureCacheIds[r]]===e&&delete pi[e.textureCacheIds[r]];return e.textureCacheIds.length=0,e}return null}get resolution(){return this.baseTexture.resolution}get frame(){return this._frame}set frame(e){this._frame=e,this.noFrame=!1;const{x:r,y:n,width:i,height:s}=e,o=r+i>this.baseTexture.width,a=n+s>this.baseTexture.height;if(o||a){const c=o&&a?"and":"or",h=`X: ${r} + ${i} = ${r+i} > ${this.baseTexture.width}`,f=`Y: ${n} + ${s} = ${n+s} > ${this.baseTexture.height}`;throw new Error(`Texture Error: frame does not fit inside the base Texture dimensions: ${h} ${c} ${f}`)}this.valid=i&&s&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()}get rotate(){return this._rotate}set rotate(e){this._rotate=e,this.valid&&this.updateUvs()}get width(){return this.orig.width}get height(){return this.orig.height}castToBaseTexture(){return this.baseTexture}static get EMPTY(){return re._EMPTY||(re._EMPTY=new re(new Te),Yd(re._EMPTY),Yd(re._EMPTY.baseTexture)),re._EMPTY}static get WHITE(){if(!re._WHITE){const e=oe.ADAPTER.createCanvas(16,16),r=e.getContext("2d");e.width=16,e.height=16,r.fillStyle="white",r.fillRect(0,0,16,16),re._WHITE=new re(Te.from(e)),Yd(re._WHITE),Yd(re._WHITE.baseTexture)}return re._WHITE}}class ga extends re{constructor(e,r){super(e,r),this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}get framebuffer(){return this.baseTexture.framebuffer}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,r,n=!0){const i=this.baseTexture.resolution,s=Math.round(e*i)/i,o=Math.round(r*i)/i;this.valid=s>0&&o>0,this._frame.width=this.orig.width=s,this._frame.height=this.orig.height=o,n&&this.baseTexture.resize(s,o),this.updateUvs()}setResolution(e){const{baseTexture:r}=this;r.resolution!==e&&(r.setResolution(e),this.resize(r.width,r.height,!1))}static create(e){return new ga(new aO(e))}}class uO{constructor(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}createTexture(e,r,n=Mt.NONE){const i=new aO(Object.assign({width:e,height:r,resolution:1,multisample:n},this.textureOptions));return new ga(i)}getOptimalTexture(e,r,n=1,i=Mt.NONE){let s;e=Math.max(Math.ceil(e*n-1e-6),1),r=Math.max(Math.ceil(r*n-1e-6),1),!this.enableFullScreen||e!==this._pixelsWidth||r!==this._pixelsHeight?(e=Mp(e),r=Mp(r),s=((e&65535)<<16|r&65535)>>>0,i>1&&(s+=i*4294967296)):s=i>1?-i:-1,this.texturePool[s]||(this.texturePool[s]=[]);let o=this.texturePool[s].pop();return o||(o=this.createTexture(e,r,i)),o.filterPoolKey=s,o.setResolution(n),o}getFilterTexture(e,r,n){const i=this.getOptimalTexture(e.width,e.height,r||e.resolution,n||Mt.NONE);return i.filterFrame=e.filterFrame,i}returnTexture(e){const r=e.filterPoolKey;e.filterFrame=null,this.texturePool[r].push(e)}returnFilterTexture(e){this.returnTexture(e)}clear(e){if(e=e!==!1,e)for(const r in this.texturePool){const n=this.texturePool[r];if(n)for(let i=0;i<n.length;i++)n[i].destroy(!0)}this.texturePool={}}setScreenSize(e){if(!(e.width===this._pixelsWidth&&e.height===this._pixelsHeight)){this.enableFullScreen=e.width>0&&e.height>0;for(const r in this.texturePool){if(!(Number(r)<0))continue;const n=this.texturePool[r];if(n)for(let i=0;i<n.length;i++)n[i].destroy(!0);this.texturePool[r]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}}}uO.SCREEN_KEY=-1;class F5 extends io{constructor(){super(),this.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2])}}class cO extends io{constructor(){super(),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new It(this.vertices),this.uvBuffer=new It(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}map(e,r){let n=0,i=0;return this.uvs[0]=n,this.uvs[1]=i,this.uvs[2]=n+r.width/e.width,this.uvs[3]=i,this.uvs[4]=n+r.width/e.width,this.uvs[5]=i+r.height/e.height,this.uvs[6]=n,this.uvs[7]=i+r.height/e.height,n=r.x,i=r.y,this.vertices[0]=n,this.vertices[1]=i,this.vertices[2]=n+r.width,this.vertices[3]=i,this.vertices[4]=n+r.width,this.vertices[5]=i+r.height,this.vertices[6]=n,this.vertices[7]=i+r.height,this.invalidate(),this}invalidate(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this}}class B5{constructor(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=Mt.NONE,this.sourceFrame=new Ce,this.destinationFrame=new Ce,this.bindingSourceFrame=new Ce,this.bindingDestinationFrame=new Ce,this.filters=[],this.transform=null}clear(){this.target=null,this.filters=null,this.renderTexture=null}}const Kd=[new Ne,new Ne,new Ne,new Ne],hy=new ut;class hO{constructor(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new uO,this.statePool=[],this.quad=new F5,this.quadUv=new cO,this.tempRect=new Ce,this.activeState={},this.globalUniforms=new Xn({outputFrame:new Ce,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}init(){this.texturePool.setScreenSize(this.renderer.view)}push(e,r){const n=this.renderer,i=this.defaultFilterStack,s=this.statePool.pop()||new B5,o=n.renderTexture;let a,c;if(o.current){const A=o.current;a=A.resolution,c=A.multisample}else a=n.resolution,c=n.multisample;let h=r[0].resolution||a,f=r[0].multisample??c,p=r[0].padding,m=r[0].autoFit,y=r[0].legacy??!0;for(let A=1;A<r.length;A++){const E=r[A];h=Math.min(h,E.resolution||a),f=Math.min(f,E.multisample??c),p=this.useMaxPadding?Math.max(p,E.padding):p+E.padding,m=m&&E.autoFit,y=y||(E.legacy??!0)}i.length===1&&(this.defaultFilterStack[0].renderTexture=o.current),i.push(s),s.resolution=h,s.multisample=f,s.legacy=y,s.target=e,s.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),s.sourceFrame.pad(p);const _=this.tempRect.copyFrom(o.sourceFrame);n.projection.transform&&this.transformAABB(hy.copyFrom(n.projection.transform).invert(),_),m?(s.sourceFrame.fit(_),(s.sourceFrame.width<=0||s.sourceFrame.height<=0)&&(s.sourceFrame.width=0,s.sourceFrame.height=0)):s.sourceFrame.intersects(_)||(s.sourceFrame.width=0,s.sourceFrame.height=0),this.roundFrame(s.sourceFrame,o.current?o.current.resolution:n.resolution,o.sourceFrame,o.destinationFrame,n.projection.transform),s.renderTexture=this.getOptimalFilterTexture(s.sourceFrame.width,s.sourceFrame.height,h,f),s.filters=r,s.destinationFrame.width=s.renderTexture.width,s.destinationFrame.height=s.renderTexture.height;const S=this.tempRect;S.x=0,S.y=0,S.width=s.sourceFrame.width,S.height=s.sourceFrame.height,s.renderTexture.filterFrame=s.sourceFrame,s.bindingSourceFrame.copyFrom(o.sourceFrame),s.bindingDestinationFrame.copyFrom(o.destinationFrame),s.transform=n.projection.transform,n.projection.transform=null,o.bind(s.renderTexture,s.sourceFrame,S),n.framebuffer.clear(0,0,0,0)}pop(){const e=this.defaultFilterStack,r=e.pop(),n=r.filters;this.activeState=r;const i=this.globalUniforms.uniforms;i.outputFrame=r.sourceFrame,i.resolution=r.resolution;const s=i.inputSize,o=i.inputPixel,a=i.inputClamp;if(s[0]=r.destinationFrame.width,s[1]=r.destinationFrame.height,s[2]=1/s[0],s[3]=1/s[1],o[0]=Math.round(s[0]*r.resolution),o[1]=Math.round(s[1]*r.resolution),o[2]=1/o[0],o[3]=1/o[1],a[0]=.5*o[2],a[1]=.5*o[3],a[2]=r.sourceFrame.width*s[2]-.5*o[2],a[3]=r.sourceFrame.height*s[3]-.5*o[3],r.legacy){const h=i.filterArea;h[0]=r.destinationFrame.width,h[1]=r.destinationFrame.height,h[2]=r.sourceFrame.x,h[3]=r.sourceFrame.y,i.filterClamp=i.inputClamp}this.globalUniforms.update();const c=e[e.length-1];if(this.renderer.framebuffer.blit(),n.length===1)n[0].apply(this,r.renderTexture,c.renderTexture,bi.BLEND,r),this.returnFilterTexture(r.renderTexture);else{let h=r.renderTexture,f=this.getOptimalFilterTexture(h.width,h.height,r.resolution);f.filterFrame=h.filterFrame;let p=0;for(p=0;p<n.length-1;++p){p===1&&r.multisample>1&&(f=this.getOptimalFilterTexture(h.width,h.height,r.resolution),f.filterFrame=h.filterFrame),n[p].apply(this,h,f,bi.CLEAR,r);const m=h;h=f,f=m}n[p].apply(this,h,c.renderTexture,bi.BLEND,r),p>1&&r.multisample>1&&this.returnFilterTexture(r.renderTexture),this.returnFilterTexture(h),this.returnFilterTexture(f)}r.clear(),this.statePool.push(r)}bindAndClear(e,r=bi.CLEAR){const{renderTexture:n,state:i}=this.renderer;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,e==null?void 0:e.filterFrame){const o=this.tempRect;o.x=0,o.y=0,o.width=e.filterFrame.width,o.height=e.filterFrame.height,n.bind(e,e.filterFrame,o)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?n.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);const s=i.stateId&1||this.forceClear;(r===bi.CLEAR||r===bi.BLIT&&s)&&this.renderer.framebuffer.clear(0,0,0,0)}applyFilter(e,r,n,i){const s=this.renderer;s.state.set(e.state),this.bindAndClear(n,i),e.uniforms.uSampler=r,e.uniforms.filterGlobals=this.globalUniforms,s.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(r._frame,r.filterFrame),s.geometry.bind(this.quadUv),s.geometry.draw(Un.TRIANGLES)):(s.geometry.bind(this.quad),s.geometry.draw(Un.TRIANGLE_STRIP))}calculateSpriteMatrix(e,r){const{sourceFrame:n,destinationFrame:i}=this.activeState,{orig:s}=r._texture,o=e.set(i.width,0,0,i.height,n.x,n.y),a=r.worldTransform.copyTo(ut.TEMP_MATRIX);return a.invert(),o.prepend(a),o.scale(1/s.width,1/s.height),o.translate(r.anchor.x,r.anchor.y),o}destroy(){this.renderer=null,this.texturePool.clear(!1)}getOptimalFilterTexture(e,r,n=1,i=Mt.NONE){return this.texturePool.getOptimalTexture(e,r,n,i)}getFilterTexture(e,r,n){if(typeof e=="number"){const s=e;e=r,r=s}e=e||this.activeState.renderTexture;const i=this.texturePool.getOptimalTexture(e.width,e.height,r||e.resolution,n||Mt.NONE);return i.filterFrame=e.filterFrame,i}returnFilterTexture(e){this.texturePool.returnTexture(e)}emptyPool(){this.texturePool.clear(!0)}resize(){this.texturePool.setScreenSize(this.renderer.view)}transformAABB(e,r){const n=Kd[0],i=Kd[1],s=Kd[2],o=Kd[3];n.set(r.left,r.top),i.set(r.left,r.bottom),s.set(r.right,r.top),o.set(r.right,r.bottom),e.apply(n,n),e.apply(i,i),e.apply(s,s),e.apply(o,o);const a=Math.min(n.x,i.x,s.x,o.x),c=Math.min(n.y,i.y,s.y,o.y),h=Math.max(n.x,i.x,s.x,o.x),f=Math.max(n.y,i.y,s.y,o.y);r.x=a,r.y=c,r.width=h-a,r.height=f-c}roundFrame(e,r,n,i,s){if(!(e.width<=0||e.height<=0||n.width<=0||n.height<=0)){if(s){const{a:o,b:a,c,d:h}=s;if((Math.abs(a)>1e-4||Math.abs(c)>1e-4)&&(Math.abs(o)>1e-4||Math.abs(h)>1e-4))return}s=s?hy.copyFrom(s):hy.identity(),s.translate(-n.x,-n.y).scale(i.width/n.width,i.height/n.height).translate(i.x,i.y),this.transformAABB(s,e),e.ceil(r),this.transformAABB(s.invert(),e)}}}hO.extension={type:ne.RendererSystem,name:"filter"};he.add(hO);class L5{constructor(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=Mt.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}}const U5=new Ce;class dO{constructor(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new S_(10,10),this.msaaSamples=null}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new Ce,this.hasMRT=!0,this.writeDepthTexture=!0,this.renderer.context.webGLVersion===1){let r=this.renderer.context.extensions.drawBuffers,n=this.renderer.context.extensions.depthTexture;oe.PREFER_ENV===ma.WEBGL_LEGACY&&(r=null,n=null),r?e.drawBuffers=i=>r.drawBuffersWEBGL(i):(this.hasMRT=!1,e.drawBuffers=()=>{}),n||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)}bind(e,r,n=0){const{gl:i}=this;if(e){const s=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,i.bindFramebuffer(i.FRAMEBUFFER,s.framebuffer)),s.mipLevel!==n&&(e.dirtyId++,e.dirtyFormat++,s.mipLevel=n),s.dirtyId!==e.dirtyId&&(s.dirtyId=e.dirtyId,s.dirtyFormat!==e.dirtyFormat?(s.dirtyFormat=e.dirtyFormat,s.dirtySize=e.dirtySize,this.updateFramebuffer(e,n)):s.dirtySize!==e.dirtySize&&(s.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(let o=0;o<e.colorTextures.length;o++){const a=e.colorTextures[o];this.renderer.texture.unbind(a.parentTextureArray||a)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),r){const o=r.width>>n,a=r.height>>n,c=o/r.width;this.setViewport(r.x*c,r.y*c,o,a)}else{const o=e.width>>n,a=e.height>>n;this.setViewport(0,0,o,a)}}else this.current&&(this.current=null,i.bindFramebuffer(i.FRAMEBUFFER,null)),r?this.setViewport(r.x,r.y,r.width,r.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}setViewport(e,r,n,i){const s=this.viewport;e=Math.round(e),r=Math.round(r),n=Math.round(n),i=Math.round(i),(s.width!==n||s.height!==i||s.x!==e||s.y!==r)&&(s.x=e,s.y=r,s.width=n,s.height=i,this.gl.viewport(e,r,n,i))}get size(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}clear(e,r,n,i,s=Q0.COLOR|Q0.DEPTH){const{gl:o}=this;o.clearColor(e,r,n,i),o.clear(s)}initFramebuffer(e){const{gl:r}=this,n=new L5(r.createFramebuffer());return n.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=n,this.managedFramebuffers.push(e),e.disposeRunner.add(this),n}resizeFramebuffer(e){const{gl:r}=this,n=e.glFramebuffers[this.CONTEXT_UID];if(n.stencil){r.bindRenderbuffer(r.RENDERBUFFER,n.stencil);let o;this.renderer.context.webGLVersion===1?o=r.DEPTH_STENCIL:e.depth&&e.stencil?o=r.DEPTH24_STENCIL8:e.depth?o=r.DEPTH_COMPONENT24:o=r.STENCIL_INDEX8,n.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,o,e.width,e.height):r.renderbufferStorage(r.RENDERBUFFER,o,e.width,e.height)}const i=e.colorTextures;let s=i.length;r.drawBuffers||(s=Math.min(s,1));for(let o=0;o<s;o++){const a=i[o],c=a.parentTextureArray||a;this.renderer.texture.bind(c,0),o===0&&n.msaaBuffer&&(r.bindRenderbuffer(r.RENDERBUFFER,n.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,c._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height))}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)}updateFramebuffer(e,r){const{gl:n}=this,i=e.glFramebuffers[this.CONTEXT_UID],s=e.colorTextures;let o=s.length;n.drawBuffers||(o=Math.min(o,1)),i.multisample>1&&this.canMultisampleFramebuffer(e)?i.msaaBuffer=i.msaaBuffer||n.createRenderbuffer():i.msaaBuffer&&(n.deleteRenderbuffer(i.msaaBuffer),i.msaaBuffer=null,i.blitFramebuffer&&(i.blitFramebuffer.dispose(),i.blitFramebuffer=null));const a=[];for(let c=0;c<o;c++){const h=s[c],f=h.parentTextureArray||h;this.renderer.texture.bind(f,0),c===0&&i.msaaBuffer?(n.bindRenderbuffer(n.RENDERBUFFER,i.msaaBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,f._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,i.msaaBuffer)):(n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+c,h.target,f._glTextures[this.CONTEXT_UID].texture,r),a.push(n.COLOR_ATTACHMENT0+c))}if(a.length>1&&n.drawBuffers(a),e.depthTexture&&this.writeDepthTexture){const c=e.depthTexture;this.renderer.texture.bind(c,0),n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,c._glTextures[this.CONTEXT_UID].texture,r)}if((e.stencil||e.depth)&&!(e.depthTexture&&this.writeDepthTexture)){i.stencil=i.stencil||n.createRenderbuffer();let c,h;this.renderer.context.webGLVersion===1?(c=n.DEPTH_STENCIL_ATTACHMENT,h=n.DEPTH_STENCIL):e.depth&&e.stencil?(c=n.DEPTH_STENCIL_ATTACHMENT,h=n.DEPTH24_STENCIL8):e.depth?(c=n.DEPTH_ATTACHMENT,h=n.DEPTH_COMPONENT24):(c=n.STENCIL_ATTACHMENT,h=n.STENCIL_INDEX8),n.bindRenderbuffer(n.RENDERBUFFER,i.stencil),i.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,h,e.width,e.height):n.renderbufferStorage(n.RENDERBUFFER,h,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,c,n.RENDERBUFFER,i.stencil)}else i.stencil&&(n.deleteRenderbuffer(i.stencil),i.stencil=null)}canMultisampleFramebuffer(e){return this.renderer.context.webGLVersion!==1&&e.colorTextures.length<=1&&!e.depthTexture}detectSamples(e){const{msaaSamples:r}=this;let n=Mt.NONE;if(e<=1||r===null)return n;for(let i=0;i<r.length;i++)if(r[i]<=e){n=r[i];break}return n===1&&(n=Mt.NONE),n}blit(e,r,n){const{current:i,renderer:s,gl:o,CONTEXT_UID:a}=this;if(s.context.webGLVersion!==2||!i)return;const c=i.glFramebuffers[a];if(!c)return;if(!e){if(!c.msaaBuffer)return;const f=i.colorTextures[0];if(!f)return;c.blitFramebuffer||(c.blitFramebuffer=new S_(i.width,i.height),c.blitFramebuffer.addColorTexture(0,f)),e=c.blitFramebuffer,e.colorTextures[0]!==f&&(e.colorTextures[0]=f,e.dirtyId++,e.dirtyFormat++),(e.width!==i.width||e.height!==i.height)&&(e.width=i.width,e.height=i.height,e.dirtyId++,e.dirtySize++)}r||(r=U5,r.width=i.width,r.height=i.height),n||(n=r);const h=r.width===n.width&&r.height===n.height;this.bind(e),o.bindFramebuffer(o.READ_FRAMEBUFFER,c.framebuffer),o.blitFramebuffer(r.left,r.top,r.right,r.bottom,n.left,n.top,n.right,n.bottom,o.COLOR_BUFFER_BIT,h?o.NEAREST:o.LINEAR),o.bindFramebuffer(o.READ_FRAMEBUFFER,e.glFramebuffers[this.CONTEXT_UID].framebuffer)}disposeFramebuffer(e,r){const n=e.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(!n)return;delete e.glFramebuffers[this.CONTEXT_UID];const s=this.managedFramebuffers.indexOf(e);s>=0&&this.managedFramebuffers.splice(s,1),e.disposeRunner.remove(this),r||(i.deleteFramebuffer(n.framebuffer),n.msaaBuffer&&i.deleteRenderbuffer(n.msaaBuffer),n.stencil&&i.deleteRenderbuffer(n.stencil)),n.blitFramebuffer&&this.disposeFramebuffer(n.blitFramebuffer,r)}disposeAll(e){const r=this.managedFramebuffers;this.managedFramebuffers=[];for(let n=0;n<r.length;n++)this.disposeFramebuffer(r[n],e)}forceStencil(){const e=this.current;if(!e)return;const r=e.glFramebuffers[this.CONTEXT_UID];if(!r||r.stencil&&e.stencil)return;e.stencil=!0;const n=e.width,i=e.height,s=this.gl,o=r.stencil=s.createRenderbuffer();s.bindRenderbuffer(s.RENDERBUFFER,o);let a,c;this.renderer.context.webGLVersion===1?(a=s.DEPTH_STENCIL_ATTACHMENT,c=s.DEPTH_STENCIL):e.depth?(a=s.DEPTH_STENCIL_ATTACHMENT,c=s.DEPTH24_STENCIL8):(a=s.STENCIL_ATTACHMENT,c=s.STENCIL_INDEX8),r.msaaBuffer?s.renderbufferStorageMultisample(s.RENDERBUFFER,r.multisample,c,n,i):s.renderbufferStorage(s.RENDERBUFFER,c,n,i),s.framebufferRenderbuffer(s.FRAMEBUFFER,a,s.RENDERBUFFER,o)}reset(){this.current=this.unknownFramebuffer,this.viewport=new Ce}destroy(){this.renderer=null}}dO.extension={type:ne.RendererSystem,name:"framebuffer"};he.add(dO);const dy={5126:4,5123:2,5121:1};class fO{constructor(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl,r=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,r.webGLVersion!==2){let n=this.renderer.context.extensions.vertexArrayObject;oe.PREFER_ENV===ma.WEBGL_LEGACY&&(n=null),n?(e.createVertexArray=()=>n.createVertexArrayOES(),e.bindVertexArray=i=>n.bindVertexArrayOES(i),e.deleteVertexArray=i=>n.deleteVertexArrayOES(i)):(this.hasVao=!1,e.createVertexArray=()=>null,e.bindVertexArray=()=>null,e.deleteVertexArray=()=>null)}if(r.webGLVersion!==2){const n=e.getExtension("ANGLE_instanced_arrays");n?(e.vertexAttribDivisor=(i,s)=>n.vertexAttribDivisorANGLE(i,s),e.drawElementsInstanced=(i,s,o,a,c)=>n.drawElementsInstancedANGLE(i,s,o,a,c),e.drawArraysInstanced=(i,s,o,a)=>n.drawArraysInstancedANGLE(i,s,o,a)):this.hasInstance=!1}this.canUseUInt32ElementIndex=r.webGLVersion===2||!!r.extensions.uint32ElementIndex}bind(e,r){r=r||this.renderer.shader.shader;const{gl:n}=this;let i=e.glVertexArrayObjects[this.CONTEXT_UID],s=!1;i||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=i={},s=!0);const o=i[r.program.id]||this.initGeometryVao(e,r,s);this._activeGeometry=e,this._activeVao!==o&&(this._activeVao=o,this.hasVao?n.bindVertexArray(o):this.activateVao(e,r.program)),this.updateBuffers()}reset(){this.unbind()}updateBuffers(){const e=this._activeGeometry,r=this.renderer.buffer;for(let n=0;n<e.buffers.length;n++){const i=e.buffers[n];r.update(i)}}checkCompatibility(e,r){const n=e.attributes,i=r.attributeData;for(const s in i)if(!n[s])throw new Error(`shader and geometry incompatible, geometry missing the "${s}" attribute`)}getSignature(e,r){const n=e.attributes,i=r.attributeData,s=["g",e.id];for(const o in n)i[o]&&s.push(o,i[o].location);return s.join("-")}initGeometryVao(e,r,n=!0){const i=this.gl,s=this.CONTEXT_UID,o=this.renderer.buffer,a=r.program;a.glPrograms[s]||this.renderer.shader.generateProgram(r),this.checkCompatibility(e,a);const c=this.getSignature(e,a),h=e.glVertexArrayObjects[this.CONTEXT_UID];let f=h[c];if(f)return h[a.id]=f,f;const p=e.buffers,m=e.attributes,y={},_={};for(const S in p)y[S]=0,_[S]=0;for(const S in m)!m[S].size&&a.attributeData[S]?m[S].size=a.attributeData[S].size:m[S].size||console.warn(`PIXI Geometry attribute '${S}' size cannot be determined (likely the bound shader does not have the attribute)`),y[m[S].buffer]+=m[S].size*dy[m[S].type];for(const S in m){const A=m[S],E=A.size;A.stride===void 0&&(y[A.buffer]===E*dy[A.type]?A.stride=0:A.stride=y[A.buffer]),A.start===void 0&&(A.start=_[A.buffer],_[A.buffer]+=E*dy[A.type])}f=i.createVertexArray(),i.bindVertexArray(f);for(let S=0;S<p.length;S++){const A=p[S];o.bind(A),n&&A._glBuffers[s].refCount++}return this.activateVao(e,a),h[a.id]=f,h[c]=f,i.bindVertexArray(null),o.unbind(Oi.ARRAY_BUFFER),f}disposeGeometry(e,r){var a;if(!this.managedGeometries[e.id])return;delete this.managedGeometries[e.id];const n=e.glVertexArrayObjects[this.CONTEXT_UID],i=this.gl,s=e.buffers,o=(a=this.renderer)==null?void 0:a.buffer;if(e.disposeRunner.remove(this),!!n){if(o)for(let c=0;c<s.length;c++){const h=s[c]._glBuffers[this.CONTEXT_UID];h&&(h.refCount--,h.refCount===0&&!r&&o.dispose(s[c],r))}if(!r){for(const c in n)if(c[0]==="g"){const h=n[c];this._activeVao===h&&this.unbind(),i.deleteVertexArray(h)}}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}disposeAll(e){const r=Object.keys(this.managedGeometries);for(let n=0;n<r.length;n++)this.disposeGeometry(this.managedGeometries[r[n]],e)}activateVao(e,r){const n=this.gl,i=this.CONTEXT_UID,s=this.renderer.buffer,o=e.buffers,a=e.attributes;e.indexBuffer&&s.bind(e.indexBuffer);let c=null;for(const h in a){const f=a[h],p=o[f.buffer],m=p._glBuffers[i];if(r.attributeData[h]){c!==m&&(s.bind(p),c=m);const y=r.attributeData[h].location;if(n.enableVertexAttribArray(y),n.vertexAttribPointer(y,f.size,f.type||n.FLOAT,f.normalized,f.stride,f.start),f.instance)if(this.hasInstance)n.vertexAttribDivisor(y,f.divisor);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}}draw(e,r,n,i){const{gl:s}=this,o=this._activeGeometry;if(o.indexBuffer){const a=o.indexBuffer.data.BYTES_PER_ELEMENT,c=a===2?s.UNSIGNED_SHORT:s.UNSIGNED_INT;a===2||a===4&&this.canUseUInt32ElementIndex?o.instanced?s.drawElementsInstanced(e,r||o.indexBuffer.data.length,c,(n||0)*a,i||1):s.drawElements(e,r||o.indexBuffer.data.length,c,(n||0)*a):console.warn("unsupported index buffer type: uint32")}else o.instanced?s.drawArraysInstanced(e,n,r||o.getSize(),i||1):s.drawArrays(e,n,r||o.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this.renderer=null}}fO.extension={type:ne.RendererSystem,name:"geometry"};he.add(fO);const gT=new ut;class _x{constructor(e,r){this._texture=e,this.mapCoord=new ut,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof r>"u"?.5:r,this.isSimple=!1}get texture(){return this._texture}set texture(e){this._texture=e,this._textureID=-1}multiplyUvs(e,r){r===void 0&&(r=e);const n=this.mapCoord;for(let i=0;i<e.length;i+=2){const s=e[i],o=e[i+1];r[i]=s*n.a+o*n.c+n.tx,r[i+1]=s*n.b+o*n.d+n.ty}return r}update(e){const r=this._texture;if(!r||!r.valid||!e&&this._textureID===r._updateID)return!1;this._textureID=r._updateID,this._updateID++;const n=r._uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);const i=r.orig,s=r.trim;s&&(gT.set(i.width/s.width,0,0,i.height/s.height,-s.x/s.width,-s.y/s.height),this.mapCoord.append(gT));const o=r.baseTexture,a=this.uClampFrame,c=this.clampMargin/o.resolution,h=this.clampOffset;return a[0]=(r._frame.x+c+h)/o.width,a[1]=(r._frame.y+c+h)/o.height,a[2]=(r._frame.x+r._frame.width-c+h)/o.width,a[3]=(r._frame.y+r._frame.height-c+h)/o.height,this.uClampOffset[0]=h/o.realWidth,this.uClampOffset[1]=h/o.realHeight,this.isSimple=r._frame.width===o.width&&r._frame.height===o.height&&r.rotate===0,!0}}var z5=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,$5=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`;class G5 extends xr{constructor(e,r,n){let i=null;typeof e!="string"&&r===void 0&&n===void 0&&(i=e,e=void 0,r=void 0,n=void 0),super(e||$5,r||z5,n),this.maskSprite=i,this.maskMatrix=new ut}get maskSprite(){return this._maskSprite}set maskSprite(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)}apply(e,r,n,i){const s=this._maskSprite,o=s._texture;o.valid&&(o.uvMatrix||(o.uvMatrix=new _x(o,0)),o.uvMatrix.update(),this.uniforms.npmAlpha=o.baseTexture.alphaMode?0:1,this.uniforms.mask=o,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,s).prepend(o.uvMatrix.mapCoord),this.uniforms.alpha=s.worldAlpha,this.uniforms.maskClamp=o.uvMatrix.uClampFrame,e.applyFilter(this,r,n,i))}}class j5{constructor(e=null){this.type=Bt.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=xr.defaultMultisample,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}get filter(){return this._filters?this._filters[0]:null}set filter(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null}reset(){this.pooled&&(this.maskObject=null,this.type=Bt.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null}copyCountersOrReset(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)}}class pO{constructor(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}setMaskStack(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)}push(e,r){let n=r;if(!n.isMaskData){const s=this.maskDataPool.pop()||new j5;s.pooled=!0,s.maskObject=r,n=s}const i=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(n.copyCountersOrReset(i),n._colorMask=i?i._colorMask:15,n.autoDetect&&this.detect(n),n._target=e,n.type!==Bt.SPRITE&&this.maskStack.push(n),n.enabled)switch(n.type){case Bt.SCISSOR:this.renderer.scissor.push(n);break;case Bt.STENCIL:this.renderer.stencil.push(n);break;case Bt.SPRITE:n.copyCountersOrReset(null),this.pushSpriteMask(n);break;case Bt.COLOR:this.pushColorMask(n);break}n.type===Bt.SPRITE&&this.maskStack.push(n)}pop(e){const r=this.maskStack.pop();if(!(!r||r._target!==e)){if(r.enabled)switch(r.type){case Bt.SCISSOR:this.renderer.scissor.pop(r);break;case Bt.STENCIL:this.renderer.stencil.pop(r.maskObject);break;case Bt.SPRITE:this.popSpriteMask(r);break;case Bt.COLOR:this.popColorMask(r);break}if(r.reset(),r.pooled&&this.maskDataPool.push(r),this.maskStack.length!==0){const n=this.maskStack[this.maskStack.length-1];n.type===Bt.SPRITE&&n._filters&&(n._filters[0].maskSprite=n.maskObject)}}}detect(e){const r=e.maskObject;r?r.isSprite?e.type=Bt.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=Bt.SCISSOR:e.type=Bt.STENCIL:e.type=Bt.COLOR}pushSpriteMask(e){const{maskObject:r}=e,n=e._target;let i=e._filters;i||(i=this.alphaMaskPool[this.alphaMaskIndex],i||(i=this.alphaMaskPool[this.alphaMaskIndex]=[new G5])),i[0].resolution=e.resolution,i[0].multisample=e.multisample,i[0].maskSprite=r;const s=n.filterArea;n.filterArea=r.getBounds(!0),this.renderer.filter.push(n,i),n.filterArea=s,e._filters||this.alphaMaskIndex++}popSpriteMask(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}pushColorMask(e){const r=e._colorMask,n=e._colorMask=r&e.colorMask;n!==r&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)}popColorMask(e){const r=e._colorMask,n=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;n!==r&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)}destroy(){this.renderer=null}}pO.extension={type:ne.RendererSystem,name:"mask"};he.add(pO);class mO{constructor(e){this.renderer=e,this.maskStack=[],this.glConst=0}getStackLength(){return this.maskStack.length}setMaskStack(e){const{gl:r}=this.renderer,n=this.getStackLength();this.maskStack=e;const i=this.getStackLength();i!==n&&(i===0?r.disable(this.glConst):(r.enable(this.glConst),this._useCurrent()))}_useCurrent(){}destroy(){this.renderer=null,this.maskStack=null}}const vT=new ut,yT=[],gO=class Ff extends mO{constructor(e){super(e),this.glConst=oe.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._scissorCounter:0}calcScissorRect(e){if(e._scissorRectLocal)return;const r=e._scissorRect,{maskObject:n}=e,{renderer:i}=this,s=i.renderTexture,o=n.getBounds(!0,yT.pop()??new Ce);this.roundFrameToPixels(o,s.current?s.current.resolution:i.resolution,s.sourceFrame,s.destinationFrame,i.projection.transform),r&&o.fit(r),e._scissorRectLocal=o}static isMatrixRotated(e){if(!e)return!1;const{a:r,b:n,c:i,d:s}=e;return(Math.abs(n)>1e-4||Math.abs(i)>1e-4)&&(Math.abs(r)>1e-4||Math.abs(s)>1e-4)}testScissor(e){const{maskObject:r}=e;if(!r.isFastRect||!r.isFastRect()||Ff.isMatrixRotated(r.worldTransform)||Ff.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(e);const n=e._scissorRectLocal;return n.width>0&&n.height>0}roundFrameToPixels(e,r,n,i,s){Ff.isMatrixRotated(s)||(s=s?vT.copyFrom(s):vT.identity(),s.translate(-n.x,-n.y).scale(i.width/n.width,i.height/n.height).translate(i.x,i.y),this.renderer.filter.transformAABB(s,e),e.fit(i),e.x=Math.round(e.x*r),e.y=Math.round(e.y*r),e.width=Math.round(e.width*r),e.height=Math.round(e.height*r))}push(e){e._scissorRectLocal||this.calcScissorRect(e);const{gl:r}=this.renderer;e._scissorRect||r.enable(r.SCISSOR_TEST),e._scissorCounter++,e._scissorRect=e._scissorRectLocal,this._useCurrent()}pop(e){const{gl:r}=this.renderer;e&&yT.push(e._scissorRectLocal),this.getStackLength()>0?this._useCurrent():r.disable(r.SCISSOR_TEST)}_useCurrent(){const e=this.maskStack[this.maskStack.length-1]._scissorRect;let r;this.renderer.renderTexture.current?r=e.y:r=this.renderer.height-e.height-e.y,this.renderer.gl.scissor(e.x,r,e.width,e.height)}};gO.extension={type:ne.RendererSystem,name:"scissor"};let H5=gO;he.add(H5);class vO extends mO{constructor(e){super(e),this.glConst=oe.ADAPTER.getWebGLRenderingContext().STENCIL_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0}push(e){const r=e.maskObject,{gl:n}=this.renderer,i=e._stencilCounter;i===0&&(this.renderer.framebuffer.forceStencil(),n.clearStencil(0),n.clear(n.STENCIL_BUFFER_BIT),n.enable(n.STENCIL_TEST)),e._stencilCounter++;const s=e._colorMask;s!==0&&(e._colorMask=0,n.colorMask(!1,!1,!1,!1)),n.stencilFunc(n.EQUAL,i,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.INCR),r.renderable=!0,r.render(this.renderer),this.renderer.batch.flush(),r.renderable=!1,s!==0&&(e._colorMask=s,n.colorMask((s&1)!==0,(s&2)!==0,(s&4)!==0,(s&8)!==0)),this._useCurrent()}pop(e){const r=this.renderer.gl;if(this.getStackLength()===0)r.disable(r.STENCIL_TEST);else{const n=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null,i=n?n._colorMask:15;i!==0&&(n._colorMask=0,r.colorMask(!1,!1,!1,!1)),r.stencilOp(r.KEEP,r.KEEP,r.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,i!==0&&(n._colorMask=i,r.colorMask((i&1)!==0,(i&2)!==0,(i&4)!==0,(i&8)!==0)),this._useCurrent()}}_useCurrent(){const e=this.renderer.gl;e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)}}vO.extension={type:ne.RendererSystem,name:"stencil"};he.add(vO);class yO{constructor(e){this.renderer=e,this.plugins={},Object.defineProperties(this.plugins,{extract:{enumerable:!1,get(){return Oe("7.0.0","renderer.plugins.extract has moved to renderer.extract"),e.extract}},prepare:{enumerable:!1,get(){return Oe("7.0.0","renderer.plugins.prepare has moved to renderer.prepare"),e.prepare}},interaction:{enumerable:!1,get(){return Oe("7.0.0","renderer.plugins.interaction has been deprecated, use renderer.events"),e.events}}})}init(){const e=this.rendererPlugins;for(const r in e)this.plugins[r]=new e[r](this.renderer)}destroy(){for(const e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null}}yO.extension={type:[ne.RendererSystem,ne.CanvasRendererSystem],name:"_plugin"};he.add(yO);class _O{constructor(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new ut,this.transform=null}update(e,r,n,i){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=r||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,n,i),this.transform&&this.projectionMatrix.append(this.transform);const s=this.renderer;s.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,s.globalUniforms.update(),s.shader.shader&&s.shader.syncUniformGroup(s.shader.shader.uniforms.globals)}calculateProjection(e,r,n,i){const s=this.projectionMatrix,o=i?-1:1;s.identity(),s.a=1/r.width*2,s.d=o*(1/r.height*2),s.tx=-1-r.x*s.a,s.ty=-o-r.y*s.d}setTransform(e){}destroy(){this.renderer=null}}_O.extension={type:ne.RendererSystem,name:"projection"};he.add(_O);const V5=new Nm,_T=new Ce;class xO{constructor(e){this.renderer=e,this._tempMatrix=new ut}generateTexture(e,r){const{region:n,...i}=r||{},s=(n==null?void 0:n.copyTo(_T))||e.getLocalBounds(_T,!0),o=i.resolution||this.renderer.resolution;s.width=Math.max(s.width,1/o),s.height=Math.max(s.height,1/o),i.width=s.width,i.height=s.height,i.resolution=o,i.multisample??(i.multisample=this.renderer.multisample);const a=ga.create(i);this._tempMatrix.tx=-s.x,this._tempMatrix.ty=-s.y;const c=e.transform;return e.transform=V5,this.renderer.render(e,{renderTexture:a,transform:this._tempMatrix,skipUpdateTransform:!!e.parent,blit:!0}),e.transform=c,a}destroy(){}}xO.extension={type:[ne.RendererSystem,ne.CanvasRendererSystem],name:"textureGenerator"};he.add(xO);const Ao=new Ce,ju=new Ce;class bO{constructor(e){this.renderer=e,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new Ce,this.destinationFrame=new Ce,this.viewportFrame=new Ce}contextChange(){var r;const e=(r=this.renderer)==null?void 0:r.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(e&&e.alpha&&e.premultipliedAlpha)}bind(e=null,r,n){const i=this.renderer;this.current=e;let s,o,a;e?(s=e.baseTexture,a=s.resolution,r||(Ao.width=e.frame.width,Ao.height=e.frame.height,r=Ao),n||(ju.x=e.frame.x,ju.y=e.frame.y,ju.width=r.width,ju.height=r.height,n=ju),o=s.framebuffer):(a=i.resolution,r||(Ao.width=i._view.screen.width,Ao.height=i._view.screen.height,r=Ao),n||(n=Ao,n.width=r.width,n.height=r.height));const c=this.viewportFrame;c.x=n.x*a,c.y=n.y*a,c.width=n.width*a,c.height=n.height*a,e||(c.y=i.view.height-(c.y+c.height)),c.ceil(),this.renderer.framebuffer.bind(o,c),this.renderer.projection.update(n,r,a,!o),e?this.renderer.mask.setMaskStack(s.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(r),this.destinationFrame.copyFrom(n)}clear(e,r){const n=this.current?this.current.baseTexture.clear:this.renderer.background.backgroundColor,i=Je.shared.setValue(e||n);(this.current&&this.current.baseTexture.alphaMode>0||!this.current&&this._rendererPremultipliedAlpha)&&i.premultiply(i.alpha);const s=this.destinationFrame,o=this.current?this.current.baseTexture:this.renderer._view.screen,a=s.width!==o.width||s.height!==o.height;if(a){let{x:c,y:h,width:f,height:p}=this.viewportFrame;c=Math.round(c),h=Math.round(h),f=Math.round(f),p=Math.round(p),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(c,h,f,p)}this.renderer.framebuffer.clear(i.red,i.green,i.blue,i.alpha,r),a&&this.renderer.scissor.pop()}resize(){this.bind(null)}reset(){this.bind(null)}destroy(){this.renderer=null}}bO.extension={type:ne.RendererSystem,name:"renderTexture"};he.add(bO);class W5{constructor(e,r){this.program=e,this.uniformData=r,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null}}function X5(t,e){const r={},n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES);for(let i=0;i<n;i++){const s=e.getActiveAttrib(t,i);if(s.name.startsWith("gl_"))continue;const o=sO(e,s.type),a={type:o,name:s.name,size:iO(o),location:e.getAttribLocation(t,s.name)};r[s.name]=a}return r}function Y5(t,e){const r={},n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let i=0;i<n;i++){const s=e.getActiveUniform(t,i),o=s.name.replace(/\[.*?\]$/,""),a=!!s.name.match(/\[.*?\]$/),c=sO(e,s.type);r[o]={name:o,index:i,type:c,size:s.size,isArray:a,value:rO(c,s.size)}}return r}function K5(t,e){var a;const r=cT(t,t.VERTEX_SHADER,e.vertexSrc),n=cT(t,t.FRAGMENT_SHADER,e.fragmentSrc),i=t.createProgram();t.attachShader(i,r),t.attachShader(i,n);const s=(a=e.extra)==null?void 0:a.transformFeedbackVaryings;if(s&&(typeof t.transformFeedbackVaryings!="function"?console.warn("TransformFeedback is not supported but TransformFeedbackVaryings are given."):t.transformFeedbackVaryings(i,s.names,s.bufferMode==="separate"?t.SEPARATE_ATTRIBS:t.INTERLEAVED_ATTRIBS)),t.linkProgram(i),t.getProgramParameter(i,t.LINK_STATUS)||E5(t,i,r,n),e.attributeData=X5(i,t),e.uniformData=Y5(i,t),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertexSrc)){const c=Object.keys(e.attributeData);c.sort((h,f)=>h>f?1:-1);for(let h=0;h<c.length;h++)e.attributeData[c[h]].location=h,t.bindAttribLocation(i,h,c[h]);t.linkProgram(i)}t.deleteShader(r),t.deleteShader(n);const o={};for(const c in e.uniformData){const h=e.uniformData[c];o[c]={location:t.getUniformLocation(i,c),value:rO(h.type,h.size)}}return new W5(i,o)}function Q5(t,e,r,n,i){r.buffer.update(i)}const q5={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},wO={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function Z5(t){const e=t.map(s=>({data:s,offset:0,dataLen:0,dirty:0}));let r=0,n=0,i=0;for(let s=0;s<e.length;s++){const o=e[s];if(r=wO[o.data.type],o.data.size>1&&(r=Math.max(r,16)*o.data.size),o.dataLen=r,n%r!==0&&n<16){const a=n%r%16;n+=a,i+=a}n+r>16?(i=Math.ceil(i/16)*16,o.offset=i,i+=r,n=r):(o.offset=i,n+=r,i+=r)}return i=Math.ceil(i/16)*16,{uboElements:e,size:i}}function J5(t,e){const r=[];for(const n in t)e[n]&&r.push(e[n]);return r.sort((n,i)=>n.index-i.index),r}function e6(t,e){if(!t.autoManage)return{size:0,syncFunc:Q5};const r=J5(t.uniforms,e),{uboElements:n,size:i}=Z5(r),s=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `];for(let o=0;o<n.length;o++){const a=n[o],c=t.uniforms[a.data.name],h=a.data.name;let f=!1;for(let p=0;p<Pl.length;p++){const m=Pl[p];if(m.codeUbo&&m.test(a.data,c)){s.push(`offset = ${a.offset/4};`,Pl[p].codeUbo(a.data.name,c)),f=!0;break}}if(!f)if(a.data.size>1){const p=iO(a.data.type),m=Math.max(wO[a.data.type]/16,1),y=p/m,_=(4-y%4)%4;s.push(`
                cv = ud.${h}.value;
                v = uv.${h};
                offset = ${a.offset/4};

                t = 0;

                for(var i=0; i < ${a.data.size*m}; i++)
                {
                    for(var j = 0; j < ${y}; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += ${_};
                }

                `)}else{const p=q5[a.data.type];s.push(`
                cv = ud.${h}.value;
                v = uv.${h};
                offset = ${a.offset/4};
                ${p};
                `)}}return s.push(`
       renderer.buffer.update(buffer);
    `),{size:i,syncFunc:new Function("ud","uv","renderer","syncData","buffer",s.join(`
`))}}let t6=0;const Qd={textureCount:0,uboCount:0};class SO{constructor(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=t6++}systemCheck(){if(!A5())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")}contextChange(e){this.gl=e,this.reset()}bind(e,r){e.disposeRunner.add(this),e.uniforms.globals=this.renderer.globalUniforms;const n=e.program,i=n.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==n&&(this.program=n,this.gl.useProgram(i.program)),r||(Qd.textureCount=0,Qd.uboCount=0,this.syncUniformGroup(e.uniformGroup,Qd)),i}setUniforms(e){const r=this.shader.program,n=r.glPrograms[this.renderer.CONTEXT_UID];r.syncUniforms(n.uniformData,e,this.renderer)}syncUniformGroup(e,r){const n=this.getGlProgram();(!e.static||e.dirtyId!==n.uniformDirtyGroups[e.id])&&(n.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,n,r))}syncUniforms(e,r,n){(e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e))(r.uniformData,e.uniforms,this.renderer,n)}createSyncGroups(e){const r=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[r]||(this.cache[r]=b5(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[r],e.syncUniforms[this.shader.program.id]}syncUniformBufferGroup(e,r){const n=this.getGlProgram();if(!e.static||e.dirtyId!==0||!n.uniformGroups[e.id]){e.dirtyId=0;const i=n.uniformGroups[e.id]||this.createSyncBufferGroup(e,n,r);e.buffer.update(),i(n.uniformData,e.uniforms,this.renderer,Qd,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,n.uniformBufferBindings[r])}createSyncBufferGroup(e,r,n){const{gl:i}=this.renderer;this.renderer.buffer.bind(e.buffer);const s=this.gl.getUniformBlockIndex(r.program,n);r.uniformBufferBindings[n]=this.shader.uniformBindCount,i.uniformBlockBinding(r.program,s,this.shader.uniformBindCount),this.shader.uniformBindCount++;const o=this.getSignature(e,this.shader.program.uniformData,"ubo");let a=this._uboCache[o];if(a||(a=this._uboCache[o]=e6(e,this.shader.program.uniformData)),e.autoManage){const c=new Float32Array(a.size/4);e.buffer.update(c)}return r.uniformGroups[e.id]=a.syncFunc,r.uniformGroups[e.id]}getSignature(e,r,n){const i=e.uniforms,s=[`${n}-`];for(const o in i)s.push(o),r[o]&&s.push(r[o].type);return s.join("-")}getGlProgram(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}generateProgram(e){const r=this.gl,n=e.program,i=K5(r,n);return n.glPrograms[this.renderer.CONTEXT_UID]=i,i}reset(){this.program=null,this.shader=null}disposeShader(e){this.shader===e&&(this.shader=null)}destroy(){this.renderer=null,this.destroyed=!0}}SO.extension={type:ne.RendererSystem,name:"shader"};he.add(SO);class Bp{constructor(e){this.renderer=e}run(e){const{renderer:r}=this;r.runners.init.emit(r.options),e.hello&&console.log(`PixiJS 7.4.2 - ${r.rendererLogId} - https://pixijs.com`),r.resize(r.screen.width,r.screen.height)}destroy(){}}Bp.defaultOptions={hello:!1},Bp.extension={type:[ne.RendererSystem,ne.CanvasRendererSystem],name:"startup"};he.add(Bp);function r6(t,e=[]){return e[_e.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.ADD]=[t.ONE,t.ONE],e[_e.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.NONE]=[0,0],e[_e.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[_e.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[_e.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[_e.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[_e.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[_e.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[_e.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[_e.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[_e.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[_e.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}const n6=0,i6=1,s6=2,o6=3,a6=4,l6=5,EO=class E_{constructor(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=_e.NONE,this._blendEq=!1,this.map=[],this.map[n6]=this.setBlend,this.map[i6]=this.setOffset,this.map[s6]=this.setCullFace,this.map[o6]=this.setDepthTest,this.map[a6]=this.setFrontFace,this.map[l6]=this.setDepthMask,this.checks=[],this.defaultState=new Bi,this.defaultState.blend=!0}contextChange(e){this.gl=e,this.blendModes=r6(e),this.set(this.defaultState),this.reset()}set(e){if(e=e||this.defaultState,this.stateId!==e.data){let r=this.stateId^e.data,n=0;for(;r;)r&1&&this.map[n].call(this,!!(e.data&1<<n)),r=r>>1,n++;this.stateId=e.data}for(let r=0;r<this.checks.length;r++)this.checks[r](this,e)}forceState(e){e=e||this.defaultState;for(let r=0;r<this.map.length;r++)this.map[r].call(this,!!(e.data&1<<r));for(let r=0;r<this.checks.length;r++)this.checks[r](this,e);this.stateId=e.data}setBlend(e){this.updateCheck(E_.checkBlendMode,e),this.gl[e?"enable":"disable"](this.gl.BLEND)}setOffset(e){this.updateCheck(E_.checkPolygonOffset,e),this.gl[e?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(e){this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(e){this.gl.depthMask(e)}setCullFace(e){this.gl[e?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(e){this.gl.frontFace(this.gl[e?"CW":"CCW"])}setBlendMode(e){if(e===this.blendMode)return;this.blendMode=e;const r=this.blendModes[e],n=this.gl;r.length===2?n.blendFunc(r[0],r[1]):n.blendFuncSeparate(r[0],r[1],r[2],r[3]),r.length===6?(this._blendEq=!0,n.blendEquationSeparate(r[4],r[5])):this._blendEq&&(this._blendEq=!1,n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD))}setPolygonOffset(e,r){this.gl.polygonOffset(e,r)}reset(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)}updateCheck(e,r){const n=this.checks.indexOf(e);r&&n===-1?this.checks.push(e):!r&&n!==-1&&this.checks.splice(n,1)}static checkBlendMode(e,r){e.setBlendMode(r.blendMode)}static checkPolygonOffset(e,r){e.setPolygonOffset(1,r.polygonOffset)}destroy(){this.gl=null}};EO.extension={type:ne.RendererSystem,name:"state"};let u6=EO;he.add(u6);class c6 extends xh{constructor(){super(...arguments),this.runners={},this._systemsHash={}}setup(e){this.addRunners(...e.runners);const r=(e.priority??[]).filter(i=>e.systems[i]),n=[...r,...Object.keys(e.systems).filter(i=>!r.includes(i))];for(const i of n)this.addSystem(e.systems[i],i)}addRunners(...e){e.forEach(r=>{this.runners[r]=new Wn(r)})}addSystem(e,r){const n=new e(this);if(this[r])throw new Error(`Whoops! The name "${r}" is already in use`);this[r]=n,this._systemsHash[r]=n;for(const i in this.runners)this.runners[i].add(n);return this}emitWithCustomOptions(e,r){const n=Object.keys(this._systemsHash);e.items.forEach(i=>{const s=n.find(o=>this._systemsHash[o]===i);i[e.name](r[s])})}destroy(){Object.values(this.runners).forEach(e=>{e.destroy()}),this._systemsHash={}}}const ec=class Bf{constructor(e){this.renderer=e,this.count=0,this.checkCount=0,this.maxIdle=Bf.defaultMaxIdle,this.checkCountMax=Bf.defaultCheckCountMax,this.mode=Bf.defaultMode}postrender(){this.renderer.objectRenderer.renderingToScreen&&(this.count++,this.mode!==ux.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const e=this.renderer.texture,r=e.managedTextures;let n=!1;for(let i=0;i<r.length;i++){const s=r[i];s.resource&&this.count-s.touched>this.maxIdle&&(e.destroyTexture(s,!0),r[i]=null,n=!0)}if(n){let i=0;for(let s=0;s<r.length;s++)r[s]!==null&&(r[i++]=r[s]);r.length=i}}unload(e){const r=this.renderer.texture,n=e._texture;n&&!n.framebuffer&&r.destroyTexture(n);for(let i=e.children.length-1;i>=0;i--)this.unload(e.children[i])}destroy(){this.renderer=null}};ec.defaultMode=ux.AUTO,ec.defaultMaxIdle=60*60,ec.defaultCheckCountMax=60*10,ec.extension={type:ne.RendererSystem,name:"textureGC"};let Fo=ec;he.add(Fo);class fy{constructor(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=ge.UNSIGNED_BYTE,this.internalFormat=q.RGBA,this.samplerType=0}}function h6(t){let e;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?e={[t.RGB]:se.FLOAT,[t.RGBA]:se.FLOAT,[t.ALPHA]:se.FLOAT,[t.LUMINANCE]:se.FLOAT,[t.LUMINANCE_ALPHA]:se.FLOAT,[t.R8]:se.FLOAT,[t.R8_SNORM]:se.FLOAT,[t.RG8]:se.FLOAT,[t.RG8_SNORM]:se.FLOAT,[t.RGB8]:se.FLOAT,[t.RGB8_SNORM]:se.FLOAT,[t.RGB565]:se.FLOAT,[t.RGBA4]:se.FLOAT,[t.RGB5_A1]:se.FLOAT,[t.RGBA8]:se.FLOAT,[t.RGBA8_SNORM]:se.FLOAT,[t.RGB10_A2]:se.FLOAT,[t.RGB10_A2UI]:se.FLOAT,[t.SRGB8]:se.FLOAT,[t.SRGB8_ALPHA8]:se.FLOAT,[t.R16F]:se.FLOAT,[t.RG16F]:se.FLOAT,[t.RGB16F]:se.FLOAT,[t.RGBA16F]:se.FLOAT,[t.R32F]:se.FLOAT,[t.RG32F]:se.FLOAT,[t.RGB32F]:se.FLOAT,[t.RGBA32F]:se.FLOAT,[t.R11F_G11F_B10F]:se.FLOAT,[t.RGB9_E5]:se.FLOAT,[t.R8I]:se.INT,[t.R8UI]:se.UINT,[t.R16I]:se.INT,[t.R16UI]:se.UINT,[t.R32I]:se.INT,[t.R32UI]:se.UINT,[t.RG8I]:se.INT,[t.RG8UI]:se.UINT,[t.RG16I]:se.INT,[t.RG16UI]:se.UINT,[t.RG32I]:se.INT,[t.RG32UI]:se.UINT,[t.RGB8I]:se.INT,[t.RGB8UI]:se.UINT,[t.RGB16I]:se.INT,[t.RGB16UI]:se.UINT,[t.RGB32I]:se.INT,[t.RGB32UI]:se.UINT,[t.RGBA8I]:se.INT,[t.RGBA8UI]:se.UINT,[t.RGBA16I]:se.INT,[t.RGBA16UI]:se.UINT,[t.RGBA32I]:se.INT,[t.RGBA32UI]:se.UINT,[t.DEPTH_COMPONENT16]:se.FLOAT,[t.DEPTH_COMPONENT24]:se.FLOAT,[t.DEPTH_COMPONENT32F]:se.FLOAT,[t.DEPTH_STENCIL]:se.FLOAT,[t.DEPTH24_STENCIL8]:se.FLOAT,[t.DEPTH32F_STENCIL8]:se.FLOAT}:e={[t.RGB]:se.FLOAT,[t.RGBA]:se.FLOAT,[t.ALPHA]:se.FLOAT,[t.LUMINANCE]:se.FLOAT,[t.LUMINANCE_ALPHA]:se.FLOAT,[t.DEPTH_STENCIL]:se.FLOAT},e}function d6(t){let e;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?e={[ge.UNSIGNED_BYTE]:{[q.RGBA]:t.RGBA8,[q.RGB]:t.RGB8,[q.RG]:t.RG8,[q.RED]:t.R8,[q.RGBA_INTEGER]:t.RGBA8UI,[q.RGB_INTEGER]:t.RGB8UI,[q.RG_INTEGER]:t.RG8UI,[q.RED_INTEGER]:t.R8UI,[q.ALPHA]:t.ALPHA,[q.LUMINANCE]:t.LUMINANCE,[q.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[ge.BYTE]:{[q.RGBA]:t.RGBA8_SNORM,[q.RGB]:t.RGB8_SNORM,[q.RG]:t.RG8_SNORM,[q.RED]:t.R8_SNORM,[q.RGBA_INTEGER]:t.RGBA8I,[q.RGB_INTEGER]:t.RGB8I,[q.RG_INTEGER]:t.RG8I,[q.RED_INTEGER]:t.R8I},[ge.UNSIGNED_SHORT]:{[q.RGBA_INTEGER]:t.RGBA16UI,[q.RGB_INTEGER]:t.RGB16UI,[q.RG_INTEGER]:t.RG16UI,[q.RED_INTEGER]:t.R16UI,[q.DEPTH_COMPONENT]:t.DEPTH_COMPONENT16},[ge.SHORT]:{[q.RGBA_INTEGER]:t.RGBA16I,[q.RGB_INTEGER]:t.RGB16I,[q.RG_INTEGER]:t.RG16I,[q.RED_INTEGER]:t.R16I},[ge.UNSIGNED_INT]:{[q.RGBA_INTEGER]:t.RGBA32UI,[q.RGB_INTEGER]:t.RGB32UI,[q.RG_INTEGER]:t.RG32UI,[q.RED_INTEGER]:t.R32UI,[q.DEPTH_COMPONENT]:t.DEPTH_COMPONENT24},[ge.INT]:{[q.RGBA_INTEGER]:t.RGBA32I,[q.RGB_INTEGER]:t.RGB32I,[q.RG_INTEGER]:t.RG32I,[q.RED_INTEGER]:t.R32I},[ge.FLOAT]:{[q.RGBA]:t.RGBA32F,[q.RGB]:t.RGB32F,[q.RG]:t.RG32F,[q.RED]:t.R32F,[q.DEPTH_COMPONENT]:t.DEPTH_COMPONENT32F},[ge.HALF_FLOAT]:{[q.RGBA]:t.RGBA16F,[q.RGB]:t.RGB16F,[q.RG]:t.RG16F,[q.RED]:t.R16F},[ge.UNSIGNED_SHORT_5_6_5]:{[q.RGB]:t.RGB565},[ge.UNSIGNED_SHORT_4_4_4_4]:{[q.RGBA]:t.RGBA4},[ge.UNSIGNED_SHORT_5_5_5_1]:{[q.RGBA]:t.RGB5_A1},[ge.UNSIGNED_INT_2_10_10_10_REV]:{[q.RGBA]:t.RGB10_A2,[q.RGBA_INTEGER]:t.RGB10_A2UI},[ge.UNSIGNED_INT_10F_11F_11F_REV]:{[q.RGB]:t.R11F_G11F_B10F},[ge.UNSIGNED_INT_5_9_9_9_REV]:{[q.RGB]:t.RGB9_E5},[ge.UNSIGNED_INT_24_8]:{[q.DEPTH_STENCIL]:t.DEPTH24_STENCIL8},[ge.FLOAT_32_UNSIGNED_INT_24_8_REV]:{[q.DEPTH_STENCIL]:t.DEPTH32F_STENCIL8}}:e={[ge.UNSIGNED_BYTE]:{[q.RGBA]:t.RGBA,[q.RGB]:t.RGB,[q.ALPHA]:t.ALPHA,[q.LUMINANCE]:t.LUMINANCE,[q.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[ge.UNSIGNED_SHORT_5_6_5]:{[q.RGB]:t.RGB},[ge.UNSIGNED_SHORT_4_4_4_4]:{[q.RGBA]:t.RGBA},[ge.UNSIGNED_SHORT_5_5_5_1]:{[q.RGBA]:t.RGBA}},e}class TO{constructor(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new Te,this.hasIntegerTextures=!1}contextChange(){const e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=d6(e),this.samplerTypes=h6(e);const r=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=r;for(let i=0;i<r;i++)this.boundTextures[i]=null;this.emptyTextures={};const n=new fy(e.createTexture());e.bindTexture(e.TEXTURE_2D,n.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=n,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new fy(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(let i=0;i<6;i++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+i,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(let i=0;i<this.boundTextures.length;i++)this.bind(null,i)}bind(e,r=0){const{gl:n}=this;if(e=e==null?void 0:e.castToBaseTexture(),(e==null?void 0:e.valid)&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;const i=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[r]!==e&&(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(e.target,i.texture)),i.dirtyId!==e.dirtyId?(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),this.updateTexture(e)):i.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(e),this.boundTextures[r]=e}else this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(n.TEXTURE_2D,this.emptyTextures[n.TEXTURE_2D].texture),this.boundTextures[r]=null}reset(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(let e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture}unbind(e){const{gl:r,boundTextures:n}=this;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(let i=0;i<n.length;i++)n[i]===this.unknownTexture&&this.bind(null,i)}for(let i=0;i<n.length;i++)n[i]===e&&(this.currentLocation!==i&&(r.activeTexture(r.TEXTURE0+i),this.currentLocation=i),r.bindTexture(e.target,this.emptyTextures[e.target].texture),n[i]=null)}ensureSamplerType(e){const{boundTextures:r,hasIntegerTextures:n,CONTEXT_UID:i}=this;if(n)for(let s=e-1;s>=0;--s){const o=r[s];o&&o._glTextures[i].samplerType!==se.FLOAT&&this.renderer.texture.unbind(o)}}initTexture(e){const r=new fy(this.gl.createTexture());return r.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=r,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),r}initTextureType(e,r){var n;r.internalFormat=((n=this.internalFormats[e.type])==null?void 0:n[e.format])??e.format,r.samplerType=this.samplerTypes[r.internalFormat]??se.FLOAT,this.webGLVersion===2&&e.type===ge.HALF_FLOAT?r.type=this.gl.HALF_FLOAT:r.type=e.type}updateTexture(e){var i;const r=e._glTextures[this.CONTEXT_UID];if(!r)return;const n=this.renderer;if(this.initTextureType(e,r),(i=e.resource)==null?void 0:i.upload(n,e,r))r.samplerType!==se.FLOAT&&(this.hasIntegerTextures=!0);else{const s=e.realWidth,o=e.realHeight,a=n.gl;(r.width!==s||r.height!==o||r.dirtyId<0)&&(r.width=s,r.height=o,a.texImage2D(e.target,0,r.internalFormat,s,o,0,e.format,r.type,null))}e.dirtyStyleId!==r.dirtyStyleId&&this.updateTextureStyle(e),r.dirtyId=e.dirtyId}destroyTexture(e,r){const{gl:n}=this;if(e=e.castToBaseTexture(),e._glTextures[this.CONTEXT_UID]&&(this.unbind(e),n.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!r)){const i=this.managedTextures.indexOf(e);i!==-1&&Cl(this.managedTextures,i,1)}}updateTextureStyle(e){var n;const r=e._glTextures[this.CONTEXT_UID];r&&((e.mipmap===Di.POW2||this.webGLVersion!==2)&&!e.isPowerOfTwo?r.mipmap=!1:r.mipmap=e.mipmap>=1,this.webGLVersion!==2&&!e.isPowerOfTwo?r.wrapMode=ss.CLAMP:r.wrapMode=e.wrapMode,(n=e.resource)!=null&&n.style(this.renderer,e,r)||this.setStyle(e,r),r.dirtyStyleId=e.dirtyStyleId)}setStyle(e,r){const n=this.gl;if(r.mipmap&&e.mipmap!==Di.ON_MANUAL&&n.generateMipmap(e.target),n.texParameteri(e.target,n.TEXTURE_WRAP_S,r.wrapMode),n.texParameteri(e.target,n.TEXTURE_WRAP_T,r.wrapMode),r.mipmap){n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===Ji.LINEAR?n.LINEAR_MIPMAP_LINEAR:n.NEAREST_MIPMAP_NEAREST);const i=this.renderer.context.extensions.anisotropicFiltering;if(i&&e.anisotropicLevel>0&&e.scaleMode===Ji.LINEAR){const s=Math.min(e.anisotropicLevel,n.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT));n.texParameterf(e.target,i.TEXTURE_MAX_ANISOTROPY_EXT,s)}}else n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===Ji.LINEAR?n.LINEAR:n.NEAREST);n.texParameteri(e.target,n.TEXTURE_MAG_FILTER,e.scaleMode===Ji.LINEAR?n.LINEAR:n.NEAREST)}destroy(){this.renderer=null}}TO.extension={type:ne.RendererSystem,name:"texture"};he.add(TO);class AO{constructor(e){this.renderer=e}contextChange(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:r,CONTEXT_UID:n}=this,i=e._glTransformFeedbacks[n]||this.createGLTransformFeedback(e);r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,i)}unbind(){const{gl:e}=this;e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null)}beginTransformFeedback(e,r){const{gl:n,renderer:i}=this;r&&i.shader.bind(r),n.beginTransformFeedback(e)}endTransformFeedback(){const{gl:e}=this;e.endTransformFeedback()}createGLTransformFeedback(e){const{gl:r,renderer:n,CONTEXT_UID:i}=this,s=r.createTransformFeedback();e._glTransformFeedbacks[i]=s,r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,s);for(let o=0;o<e.buffers.length;o++){const a=e.buffers[o];a&&(n.buffer.update(a),a._glBuffers[i].refCount++,r.bindBufferBase(r.TRANSFORM_FEEDBACK_BUFFER,o,a._glBuffers[i].buffer||null))}return r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,null),e.disposeRunner.add(this),s}disposeTransformFeedback(e,r){const n=e._glTransformFeedbacks[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this);const s=this.renderer.buffer;if(s)for(let o=0;o<e.buffers.length;o++){const a=e.buffers[o];if(!a)continue;const c=a._glBuffers[this.CONTEXT_UID];c&&(c.refCount--,c.refCount===0&&!r&&s.dispose(a,r))}n&&(r||i.deleteTransformFeedback(n),delete e._glTransformFeedbacks[this.CONTEXT_UID])}destroy(){this.renderer=null}}AO.extension={type:ne.RendererSystem,name:"transformFeedback"};he.add(AO);class Lp{constructor(e){this.renderer=e}init(e){this.screen=new Ce(0,0,e.width,e.height),this.element=e.view||oe.ADAPTER.createCanvas(),this.resolution=e.resolution||oe.RESOLUTION,this.autoDensity=!!e.autoDensity}resizeView(e,r){this.element.width=Math.round(e*this.resolution),this.element.height=Math.round(r*this.resolution);const n=this.element.width/this.resolution,i=this.element.height/this.resolution;this.screen.width=n,this.screen.height=i,this.autoDensity&&(this.element.style.width=`${n}px`,this.element.style.height=`${i}px`),this.renderer.emit("resize",n,i),this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}destroy(e){var r;e&&((r=this.element.parentNode)==null||r.removeChild(this.element)),this.renderer=null,this.element=null,this.screen=null}}Lp.defaultOptions={width:800,height:600,resolution:void 0,autoDensity:!1},Lp.extension={type:[ne.RendererSystem,ne.CanvasRendererSystem],name:"_view"};he.add(Lp);oe.PREFER_ENV=ma.WEBGL2;oe.STRICT_TEXTURE_CACHE=!1;oe.RENDER_OPTIONS={...Fp.defaultOptions,...Np.defaultOptions,...Lp.defaultOptions,...Bp.defaultOptions};Object.defineProperties(oe,{WRAP_MODE:{get(){return Te.defaultOptions.wrapMode},set(t){Oe("7.1.0","settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode"),Te.defaultOptions.wrapMode=t}},SCALE_MODE:{get(){return Te.defaultOptions.scaleMode},set(t){Oe("7.1.0","settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode"),Te.defaultOptions.scaleMode=t}},MIPMAP_TEXTURES:{get(){return Te.defaultOptions.mipmap},set(t){Oe("7.1.0","settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap"),Te.defaultOptions.mipmap=t}},ANISOTROPIC_LEVEL:{get(){return Te.defaultOptions.anisotropicLevel},set(t){Oe("7.1.0","settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel"),Te.defaultOptions.anisotropicLevel=t}},FILTER_RESOLUTION:{get(){return Oe("7.1.0","settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution"),xr.defaultResolution},set(t){xr.defaultResolution=t}},FILTER_MULTISAMPLE:{get(){return Oe("7.1.0","settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample"),xr.defaultMultisample},set(t){xr.defaultMultisample=t}},SPRITE_MAX_TEXTURES:{get(){return No.defaultMaxTextures},set(t){Oe("7.1.0","settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures"),No.defaultMaxTextures=t}},SPRITE_BATCH_SIZE:{get(){return No.defaultBatchSize},set(t){Oe("7.1.0","settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize"),No.defaultBatchSize=t}},CAN_UPLOAD_SAME_BUFFER:{get(){return No.canUploadSameBuffer},set(t){Oe("7.1.0","settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer"),No.canUploadSameBuffer=t}},GC_MODE:{get(){return Fo.defaultMode},set(t){Oe("7.1.0","settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode"),Fo.defaultMode=t}},GC_MAX_IDLE:{get(){return Fo.defaultMaxIdle},set(t){Oe("7.1.0","settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle"),Fo.defaultMaxIdle=t}},GC_MAX_CHECK_COUNT:{get(){return Fo.defaultCheckCountMax},set(t){Oe("7.1.0","settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax"),Fo.defaultCheckCountMax=t}},PRECISION_VERTEX:{get(){return ts.defaultVertexPrecision},set(t){Oe("7.1.0","settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision"),ts.defaultVertexPrecision=t}},PRECISION_FRAGMENT:{get(){return ts.defaultFragmentPrecision},set(t){Oe("7.1.0","settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision"),ts.defaultFragmentPrecision=t}}});var so=(t=>(t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY",t))(so||{});class py{constructor(e,r=null,n=0,i=!1){this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=r,this.priority=n,this.once=i}match(e,r=null){return this.fn===e&&this.context===r}emit(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));const r=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),r}connect(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(e=!1){this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const r=this.next;return this.next=e?null:r,this.previous=null,r}}const CO=class $r{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new py(null,null,1/0),this.deltaMS=1/$r.targetFPMS,this.elapsedMS=1/$r.targetFPMS,this._tick=e=>{this._requestId=null,this.started&&(this.update(e),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(e,r,n=so.NORMAL){return this._addListener(new py(e,r,n))}addOnce(e,r,n=so.NORMAL){return this._addListener(new py(e,r,n,!0))}_addListener(e){let r=this._head.next,n=this._head;if(!r)e.connect(n);else{for(;r;){if(e.priority>r.priority){e.connect(n);break}n=r,r=r.next}e.previous||e.connect(n)}return this._startIfPossible(),this}remove(e,r){let n=this._head.next;for(;n;)n.match(e,r)?n=n.destroy():n=n.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let e=0,r=this._head;for(;r=r.next;)e++;return e}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let e=this._head.next;for(;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}}update(e=performance.now()){let r;if(e>this.lastTime){if(r=this.elapsedMS=e-this.lastTime,r>this._maxElapsedMS&&(r=this._maxElapsedMS),r*=this.speed,this._minElapsedMS){const s=e-this._lastFrame|0;if(s<this._minElapsedMS)return;this._lastFrame=e-s%this._minElapsedMS}this.deltaMS=r,this.deltaTime=this.deltaMS*$r.targetFPMS;const n=this._head;let i=n.next;for(;i;)i=i.emit(this.deltaTime);n.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=e}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(e){const r=Math.min(this.maxFPS,e),n=Math.min(Math.max(0,r)/1e3,$r.targetFPMS);this._maxElapsedMS=1/n}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(e){if(e===0)this._minElapsedMS=0;else{const r=Math.max(this.minFPS,e);this._minElapsedMS=1/(r/1e3)}}static get shared(){if(!$r._shared){const e=$r._shared=new $r;e.autoStart=!0,e._protected=!0}return $r._shared}static get system(){if(!$r._system){const e=$r._system=new $r;e.autoStart=!0,e._protected=!0}return $r._system}};CO.targetFPMS=.06;let Kt=CO;Object.defineProperties(oe,{TARGET_FPMS:{get(){return Kt.targetFPMS},set(t){Oe("7.1.0","settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS"),Kt.targetFPMS=t}}});class PO{static init(e){e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set(r){this._ticker&&this._ticker.remove(this.render,this),this._ticker=r,r&&r.add(this.render,this,so.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?Kt.shared:new Kt,e.autoStart&&this.start()}static destroy(){if(this._ticker){const e=this._ticker;this.ticker=null,e.destroy()}}}PO.extension=ne.Application;he.add(PO);const IO=[];he.handleByList(ne.Renderer,IO);function f6(t){for(const e of IO)if(e.test(t))return new e(t);throw new Error("Unable to auto-detect a suitable renderer.")}var p6=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,m6=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const g6=p6,RO=m6;class OO{constructor(e){this.renderer=e}contextChange(e){let r;if(this.renderer.context.webGLVersion===1){const n=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),r=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,n)}else{const n=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING);e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),r=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,n)}r>=Mt.HIGH?this.multisample=Mt.HIGH:r>=Mt.MEDIUM?this.multisample=Mt.MEDIUM:r>=Mt.LOW?this.multisample=Mt.LOW:this.multisample=Mt.NONE}destroy(){}}OO.extension={type:ne.RendererSystem,name:"_multisample"};he.add(OO);class v6{constructor(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}class MO{constructor(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}destroy(){this.renderer=null}contextChange(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:r,CONTEXT_UID:n}=this,i=e._glBuffers[n]||this.createGLBuffer(e);r.bindBuffer(e.type,i.buffer)}unbind(e){const{gl:r}=this;r.bindBuffer(e,null)}bindBufferBase(e,r){const{gl:n,CONTEXT_UID:i}=this;if(this.boundBufferBases[r]!==e){const s=e._glBuffers[i]||this.createGLBuffer(e);this.boundBufferBases[r]=e,n.bindBufferBase(n.UNIFORM_BUFFER,r,s.buffer)}}bindBufferRange(e,r,n){const{gl:i,CONTEXT_UID:s}=this;n=n||0;const o=e._glBuffers[s]||this.createGLBuffer(e);i.bindBufferRange(i.UNIFORM_BUFFER,r||0,o.buffer,n*256,256)}update(e){const{gl:r,CONTEXT_UID:n}=this,i=e._glBuffers[n]||this.createGLBuffer(e);if(e._updateID!==i.updateID)if(i.updateID=e._updateID,r.bindBuffer(e.type,i.buffer),i.byteLength>=e.data.byteLength)r.bufferSubData(e.type,0,e.data);else{const s=e.static?r.STATIC_DRAW:r.DYNAMIC_DRAW;i.byteLength=e.data.byteLength,r.bufferData(e.type,e.data,s)}}dispose(e,r){if(!this.managedBuffers[e.id])return;delete this.managedBuffers[e.id];const n=e._glBuffers[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this),n&&(r||i.deleteBuffer(n.buffer),delete e._glBuffers[this.CONTEXT_UID])}disposeAll(e){const r=Object.keys(this.managedBuffers);for(let n=0;n<r.length;n++)this.dispose(this.managedBuffers[r[n]],e)}createGLBuffer(e){const{CONTEXT_UID:r,gl:n}=this;return e._glBuffers[r]=new v6(n.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[r]}}MO.extension={type:ne.RendererSystem,name:"buffer"};he.add(MO);class kO{constructor(e){this.renderer=e}render(e,r){const n=this.renderer;let i,s,o,a;if(r&&(i=r.renderTexture,s=r.clear,o=r.transform,a=r.skipUpdateTransform),this.renderingToScreen=!i,n.runners.prerender.emit(),n.emit("prerender"),n.projection.transform=o,!n.context.isLost){if(i||(this.lastObjectRendered=e),!a){const c=e.enableTempParent();e.updateTransform(),e.disableTempParent(c)}n.renderTexture.bind(i),n.batch.currentRenderer.start(),(s??n.background.clearBeforeRender)&&n.renderTexture.clear(),e.render(n),n.batch.currentRenderer.flush(),i&&(r.blit&&n.framebuffer.blit(),i.baseTexture.update()),n.runners.postrender.emit(),n.projection.transform=null,n.emit("postrender")}}destroy(){this.renderer=null,this.lastObjectRendered=null}}kO.extension={type:ne.RendererSystem,name:"objectRenderer"};he.add(kO);const Lf=class T_ extends c6{constructor(e){super(),this.type=wR.WEBGL,e=Object.assign({},oe.RENDER_OPTIONS,e),this.gl=null,this.CONTEXT_UID=0,this.globalUniforms=new Xn({projectionMatrix:new ut},!0);const r={runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:T_.__systems,priority:["_view","textureGenerator","background","_plugin","startup","context","state","texture","buffer","geometry","framebuffer","transformFeedback","mask","scissor","stencil","projection","textureGC","filter","renderTexture","batch","objectRenderer","_multisample"]};this.setup(r),"useContextAlpha"in e&&(Oe("7.0.0","options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"),e.premultipliedAlpha=e.useContextAlpha&&e.useContextAlpha!=="notMultiplied",e.backgroundAlpha=e.useContextAlpha===!1?1:e.backgroundAlpha),this._plugin.rendererPlugins=T_.__plugins,this.options=e,this.startup.run(this.options)}static test(e){return e!=null&&e.forceCanvas?!1:zU()}render(e,r){this.objectRenderer.render(e,r)}resize(e,r){this._view.resizeView(e,r)}reset(){return this.runners.reset.emit(),this}clear(){this.renderTexture.bind(),this.renderTexture.clear()}destroy(e=!1){this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:e}),super.destroy()}get plugins(){return this._plugin.plugins}get multisample(){return this._multisample.multisample}get width(){return this._view.element.width}get height(){return this._view.element.height}get resolution(){return this._view.resolution}set resolution(e){this._view.resolution=e,this.runners.resolutionChange.emit(e)}get autoDensity(){return this._view.autoDensity}get view(){return this._view.element}get screen(){return this._view.screen}get lastObjectRendered(){return this.objectRenderer.lastObjectRendered}get renderingToScreen(){return this.objectRenderer.renderingToScreen}get rendererLogId(){return`WebGL ${this.context.webGLVersion}`}get clearBeforeRender(){return Oe("7.0.0","renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead."),this.background.clearBeforeRender}get useContextAlpha(){return Oe("7.0.0","renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead."),this.context.useContextAlpha}get preserveDrawingBuffer(){return Oe("7.0.0","renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context"),this.context.preserveDrawingBuffer}get backgroundColor(){return Oe("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color}set backgroundColor(e){Oe("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=e}get backgroundAlpha(){return Oe("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha}set backgroundAlpha(e){Oe("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=e}get powerPreference(){return Oe("7.0.0","renderer.powerPreference has been deprecated, we can only know this if pixi creates the context"),this.context.powerPreference}generateTexture(e,r){return this.textureGenerator.generateTexture(e,r)}};Lf.extension={type:ne.Renderer,priority:1},Lf.__plugins={},Lf.__systems={};let xx=Lf;he.handleByMap(ne.RendererPlugin,xx.__plugins);he.handleByMap(ne.RendererSystem,xx.__systems);he.add(xx);class DO extends Jc{constructor(e,r){const{width:n,height:i}=r||{};super(n,i),this.items=[],this.itemDirtyIds=[];for(let s=0;s<e;s++){const o=new Te;this.items.push(o),this.itemDirtyIds.push(-2)}this.length=e,this._load=null,this.baseTexture=null}initFromArray(e,r){for(let n=0;n<this.length;n++)e[n]&&(e[n].castToBaseTexture?this.addBaseTextureAt(e[n].castToBaseTexture(),n):e[n]instanceof Jc?this.addResourceAt(e[n],n):this.addResourceAt(JR(e[n],r),n))}dispose(){for(let e=0,r=this.length;e<r;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null}addResourceAt(e,r){if(!this.items[r])throw new Error(`Index ${r} is out of bounds`);return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[r].setResource(e),this}bind(e){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");super.bind(e);for(let r=0;r<this.length;r++)this.items[r].parentTextureArray=e,this.items[r].on("update",e.update,e)}unbind(e){super.unbind(e);for(let r=0;r<this.length;r++)this.items[r].parentTextureArray=null,this.items[r].off("update",e.update,e)}load(){if(this._load)return this._load;const e=this.items.map(r=>r.resource).filter(r=>r).map(r=>r.load());return this._load=Promise.all(e).then(()=>{const{realWidth:r,realHeight:n}=this.items[0];return this.resize(r,n),this.update(),Promise.resolve(this)}),this._load}}class y6 extends DO{constructor(e,r){const{width:n,height:i}=r||{};let s,o;Array.isArray(e)?(s=e,o=e.length):o=e,super(o,{width:n,height:i}),s&&this.initFromArray(s,r)}addBaseTextureAt(e,r){if(e.resource)this.addResourceAt(e.resource,r);else throw new Error("ArrayResource does not support RenderTexture");return this}bind(e){super.bind(e),e.target=El.TEXTURE_2D_ARRAY}upload(e,r,n){const{length:i,itemDirtyIds:s,items:o}=this,{gl:a}=e;n.dirtyId<0&&a.texImage3D(a.TEXTURE_2D_ARRAY,0,n.internalFormat,this._width,this._height,i,0,r.format,n.type,null);for(let c=0;c<i;c++){const h=o[c];s[c]<h.dirtyId&&(s[c]=h.dirtyId,h.valid&&a.texSubImage3D(a.TEXTURE_2D_ARRAY,0,0,0,c,h.resource.width,h.resource.height,1,r.format,n.type,h.resource.source))}return!0}}class _6 extends fs{constructor(e){super(e)}static test(e){const{OffscreenCanvas:r}=globalThis;return r&&e instanceof r?!0:globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement}}const NO=class tc extends DO{constructor(e,r){const{width:n,height:i,autoLoad:s,linkBaseTexture:o}=r||{};if(e&&e.length!==tc.SIDES)throw new Error(`Invalid length. Got ${e.length}, expected 6`);super(6,{width:n,height:i});for(let a=0;a<tc.SIDES;a++)this.items[a].target=El.TEXTURE_CUBE_MAP_POSITIVE_X+a;this.linkBaseTexture=o!==!1,e&&this.initFromArray(e,r),s!==!1&&this.load()}bind(e){super.bind(e),e.target=El.TEXTURE_CUBE_MAP}addBaseTextureAt(e,r,n){if(n===void 0&&(n=this.linkBaseTexture),!this.items[r])throw new Error(`Index ${r} is out of bounds`);if(!this.linkBaseTexture||e.parentTextureArray||Object.keys(e._glTextures).length>0)if(e.resource)this.addResourceAt(e.resource,r);else throw new Error("CubeResource does not support copying of renderTexture.");else e.target=El.TEXTURE_CUBE_MAP_POSITIVE_X+r,e.parentTextureArray=this.baseTexture,this.items[r]=e;return e.valid&&!this.valid&&this.resize(e.realWidth,e.realHeight),this.items[r]=e,this}upload(e,r,n){const i=this.itemDirtyIds;for(let s=0;s<tc.SIDES;s++){const o=this.items[s];(i[s]<o.dirtyId||n.dirtyId<r.dirtyId)&&(o.valid&&o.resource?(o.resource.upload(e,o,n),i[s]=o.dirtyId):i[s]<-1&&(e.gl.texImage2D(o.target,0,n.internalFormat,r.realWidth,r.realHeight,0,r.format,n.type,null),i[s]=-1))}return!0}static test(e){return Array.isArray(e)&&e.length===tc.SIDES}};NO.SIDES=6;let x6=NO;class gl extends fs{constructor(e,r){r=r||{};let n,i,s;typeof e=="string"?(n=gl.EMPTY,i=e,s=!0):(n=e,i=null,s=!1),super(n),this.url=i,this.crossOrigin=r.crossOrigin??!0,this.alphaMode=typeof r.alphaMode=="number"?r.alphaMode:null,this.ownsImageBitmap=r.ownsImageBitmap??s,this._load=null,r.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(async(e,r)=>{if(this.url===null){e(this);return}try{const n=await oe.ADAPTER.fetch(this.url,{mode:this.crossOrigin?"cors":"no-cors"});if(this.destroyed)return;const i=await n.blob();if(this.destroyed)return;const s=await createImageBitmap(i,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===Or.UNPACK?"premultiply":"none"});if(this.destroyed){s.close();return}this.source=s,this.update(),e(this)}catch(n){if(this.destroyed)return;r(n),this.onError.emit(n)}}),this._load)}upload(e,r,n){return this.source instanceof ImageBitmap?(typeof this.alphaMode=="number"&&(r.alphaMode=this.alphaMode),super.upload(e,r,n)):(this.load(),!1)}dispose(){this.ownsImageBitmap&&this.source instanceof ImageBitmap&&this.source.close(),super.dispose(),this._load=null}static test(e){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&(typeof e=="string"||e instanceof ImageBitmap)}static get EMPTY(){return gl._EMPTY=gl._EMPTY??oe.ADAPTER.createCanvas(0,0),gl._EMPTY}}const A_=class Uf extends fs{constructor(e,r){r=r||{},super(oe.ADAPTER.createCanvas()),this._width=0,this._height=0,this.svg=e,this.scale=r.scale||1,this._overrideWidth=r.width,this._overrideHeight=r.height,this._resolve=null,this._crossorigin=r.crossorigin,this._load=null,r.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(e=>{if(this._resolve=()=>{this.update(),e(this)},Uf.SVG_XML.test(this.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");this.svg=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(this.svg)))}`}this._loadSvg()}),this._load)}_loadSvg(){const e=new Image;fs.crossOrigin(e,this.svg,this._crossorigin),e.src=this.svg,e.onerror=r=>{this._resolve&&(e.onerror=null,this.onError.emit(r))},e.onload=()=>{if(!this._resolve)return;const r=e.width,n=e.height;if(!r||!n)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");let i=r*this.scale,s=n*this.scale;(this._overrideWidth||this._overrideHeight)&&(i=this._overrideWidth||this._overrideHeight/n*r,s=this._overrideHeight||this._overrideWidth/r*n),i=Math.round(i),s=Math.round(s);const o=this.source;o.width=i,o.height=s,o._pixiId=`canvas_${la()}`,o.getContext("2d").drawImage(e,0,0,r,n,0,0,i,s),this._resolve(),this._resolve=null}}static getSize(e){const r=Uf.SVG_SIZE.exec(e),n={};return r&&(n[r[1]]=Math.round(parseFloat(r[3])),n[r[5]]=Math.round(parseFloat(r[7]))),n}dispose(){super.dispose(),this._resolve=null,this._crossorigin=null}static test(e,r){return r==="svg"||typeof e=="string"&&e.startsWith("data:image/svg+xml")||typeof e=="string"&&Uf.SVG_XML.test(e)}};A_.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,A_.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;let C_=A_;class b6 extends fs{constructor(e){super(e)}static test(e){return!!globalThis.VideoFrame&&e instanceof globalThis.VideoFrame}}const P_=class I_ extends fs{constructor(e,r){if(r=r||{},!(e instanceof HTMLVideoElement)){const n=document.createElement("video");r.autoLoad!==!1&&n.setAttribute("preload","auto"),r.playsinline!==!1&&(n.setAttribute("webkit-playsinline",""),n.setAttribute("playsinline","")),r.muted===!0&&(n.setAttribute("muted",""),n.muted=!0),r.loop===!0&&n.setAttribute("loop",""),r.autoPlay!==!1&&n.setAttribute("autoplay",""),typeof e=="string"&&(e=[e]);const i=e[0].src||e[0];fs.crossOrigin(n,i,r.crossorigin);for(let s=0;s<e.length;++s){const o=document.createElement("source");let{src:a,mime:c}=e[s];if(a=a||e[s],a.startsWith("data:"))c=a.slice(5,a.indexOf(";"));else if(!a.startsWith("blob:")){const h=a.split("?").shift().toLowerCase(),f=h.slice(h.lastIndexOf(".")+1);c=c||I_.MIME_TYPES[f]||`video/${f}`}o.src=a,c&&(o.type=c),n.appendChild(o)}e=n}super(e),this.noSubImage=!0,this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=r.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=r.autoPlay!==!1,this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),r.autoLoad!==!1&&this.load()}update(e=0){if(!this.destroyed){if(this._updateFPS){const r=Kt.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-r)}(!this._updateFPS||this._msToNextUpdate<=0)&&(super.update(),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}}_videoFrameRequestCallback(){this.update(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback)}load(){if(this._load)return this._load;const e=this.source;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart),e.addEventListener("pause",this._onPlayStop),e.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._onCanPlay():(e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlay),e.addEventListener("error",this._onError,!0)),this._load=new Promise((r,n)=>{this.valid?r(this):(this._resolve=r,this._reject=n,e.load())}),this._load}_onError(e){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(e),this._reject&&(this._reject(e),this._reject=null,this._resolve=null)}_isSourcePlaying(){const e=this.source;return!e.paused&&!e.ended}_isSourceReady(){return this.source.readyState>2}_onPlayStart(){this.valid||this._onCanPlay(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0)}_onCanPlay(){const e=this.source;e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay);const r=this.valid;this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0,!r&&this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&e.play()}dispose(){this._configureAutoUpdate();const e=this.source;e&&(e.removeEventListener("play",this._onPlayStart),e.removeEventListener("pause",this._onPlayStop),e.removeEventListener("seeked",this._onSeeked),e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay),e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),super.dispose()}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(e){e!==this._updateFPS&&(this._updateFPS=e,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.source.requestVideoFrameCallback?(this._isConnectedToTicker&&(Kt.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),this._videoFrameRequestCallbackHandle===null&&(this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback))):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(Kt.shared.add(this.update,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(Kt.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(e,r){return globalThis.HTMLVideoElement&&e instanceof HTMLVideoElement||I_.TYPES.includes(r)}};P_.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],P_.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let FO=P_;m_.push(gl,lO,_6,FO,b6,C_,Om,x6,y6);class Up{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}clear(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}getRectangle(e){return this.minX>this.maxX||this.minY>this.maxY?Ce.EMPTY:(e=e||new Ce(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)}addPoint(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)}addPointMatrix(e,r){const{a:n,b:i,c:s,d:o,tx:a,ty:c}=e,h=n*r.x+s*r.y+a,f=i*r.x+o*r.y+c;this.minX=Math.min(this.minX,h),this.maxX=Math.max(this.maxX,h),this.minY=Math.min(this.minY,f),this.maxY=Math.max(this.maxY,f)}addQuad(e){let r=this.minX,n=this.minY,i=this.maxX,s=this.maxY,o=e[0],a=e[1];r=o<r?o:r,n=a<n?a:n,i=o>i?o:i,s=a>s?a:s,o=e[2],a=e[3],r=o<r?o:r,n=a<n?a:n,i=o>i?o:i,s=a>s?a:s,o=e[4],a=e[5],r=o<r?o:r,n=a<n?a:n,i=o>i?o:i,s=a>s?a:s,o=e[6],a=e[7],r=o<r?o:r,n=a<n?a:n,i=o>i?o:i,s=a>s?a:s,this.minX=r,this.minY=n,this.maxX=i,this.maxY=s}addFrame(e,r,n,i,s){this.addFrameMatrix(e.worldTransform,r,n,i,s)}addFrameMatrix(e,r,n,i,s){const o=e.a,a=e.b,c=e.c,h=e.d,f=e.tx,p=e.ty;let m=this.minX,y=this.minY,_=this.maxX,S=this.maxY,A=o*r+c*n+f,E=a*r+h*n+p;m=A<m?A:m,y=E<y?E:y,_=A>_?A:_,S=E>S?E:S,A=o*i+c*n+f,E=a*i+h*n+p,m=A<m?A:m,y=E<y?E:y,_=A>_?A:_,S=E>S?E:S,A=o*r+c*s+f,E=a*r+h*s+p,m=A<m?A:m,y=E<y?E:y,_=A>_?A:_,S=E>S?E:S,A=o*i+c*s+f,E=a*i+h*s+p,m=A<m?A:m,y=E<y?E:y,_=A>_?A:_,S=E>S?E:S,this.minX=m,this.minY=y,this.maxX=_,this.maxY=S}addVertexData(e,r,n){let i=this.minX,s=this.minY,o=this.maxX,a=this.maxY;for(let c=r;c<n;c+=2){const h=e[c],f=e[c+1];i=h<i?h:i,s=f<s?f:s,o=h>o?h:o,a=f>a?f:a}this.minX=i,this.minY=s,this.maxX=o,this.maxY=a}addVertices(e,r,n,i){this.addVerticesMatrix(e.worldTransform,r,n,i)}addVerticesMatrix(e,r,n,i,s=0,o=s){const a=e.a,c=e.b,h=e.c,f=e.d,p=e.tx,m=e.ty;let y=this.minX,_=this.minY,S=this.maxX,A=this.maxY;for(let E=n;E<i;E+=2){const w=r[E],x=r[E+1],T=a*w+h*x+p,P=f*x+c*w+m;y=Math.min(y,T-s),S=Math.max(S,T+s),_=Math.min(_,P-o),A=Math.max(A,P+o)}this.minX=y,this.minY=_,this.maxX=S,this.maxY=A}addBounds(e){const r=this.minX,n=this.minY,i=this.maxX,s=this.maxY;this.minX=e.minX<r?e.minX:r,this.minY=e.minY<n?e.minY:n,this.maxX=e.maxX>i?e.maxX:i,this.maxY=e.maxY>s?e.maxY:s}addBoundsMask(e,r){const n=e.minX>r.minX?e.minX:r.minX,i=e.minY>r.minY?e.minY:r.minY,s=e.maxX<r.maxX?e.maxX:r.maxX,o=e.maxY<r.maxY?e.maxY:r.maxY;if(n<=s&&i<=o){const a=this.minX,c=this.minY,h=this.maxX,f=this.maxY;this.minX=n<a?n:a,this.minY=i<c?i:c,this.maxX=s>h?s:h,this.maxY=o>f?o:f}}addBoundsMatrix(e,r){this.addFrameMatrix(r,e.minX,e.minY,e.maxX,e.maxY)}addBoundsArea(e,r){const n=e.minX>r.x?e.minX:r.x,i=e.minY>r.y?e.minY:r.y,s=e.maxX<r.x+r.width?e.maxX:r.x+r.width,o=e.maxY<r.y+r.height?e.maxY:r.y+r.height;if(n<=s&&i<=o){const a=this.minX,c=this.minY,h=this.maxX,f=this.maxY;this.minX=n<a?n:a,this.minY=i<c?i:c,this.maxX=s>h?s:h,this.maxY=o>f?o:f}}pad(e=0,r=e){this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=r,this.maxY+=r)}addFramePad(e,r,n,i,s,o){e-=s,r-=o,n+=s,i+=o,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>n?this.maxX:n,this.minY=this.minY<r?this.minY:r,this.maxY=this.maxY>i?this.maxY:i}}class mt extends xh{constructor(){super(),this.tempDisplayObjectParent=null,this.transform=new Nm,this.alpha=1,this.visible=!0,this.renderable=!0,this.cullable=!1,this.cullArea=null,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new Up,this._localBounds=null,this._boundsID=0,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._maskRefCount=0,this._destroyed=!1,this.isSprite=!1,this.isMask=!1}static mixin(e){const r=Object.keys(e);for(let n=0;n<r.length;++n){const i=r[n];Object.defineProperty(mt.prototype,i,Object.getOwnPropertyDescriptor(e,i))}}get destroyed(){return this._destroyed}_recursivePostUpdateTransform(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}updateTransform(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha}getBounds(e,r){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),r||(this._boundsRect||(this._boundsRect=new Ce),r=this._boundsRect),this._bounds.getRectangle(r)}getLocalBounds(e){e||(this._localBoundsRect||(this._localBoundsRect=new Ce),e=this._localBoundsRect),this._localBounds||(this._localBounds=new Up);const r=this.transform,n=this.parent;this.parent=null,this._tempDisplayObjectParent.worldAlpha=(n==null?void 0:n.worldAlpha)??1,this.transform=this._tempDisplayObjectParent.transform;const i=this._bounds,s=this._boundsID;this._bounds=this._localBounds;const o=this.getBounds(!1,e);return this.parent=n,this.transform=r,this._bounds=i,this._bounds.updateID+=this._boundsID-s,o}toGlobal(e,r,n=!1){return n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,r)}toLocal(e,r,n,i){return r&&(e=r.toGlobal(e,n,i)),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,n)}setParent(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e}removeFromParent(){var e;(e=this.parent)==null||e.removeChild(this)}setTransform(e=0,r=0,n=1,i=1,s=0,o=0,a=0,c=0,h=0){return this.position.x=e,this.position.y=r,this.scale.x=n||1,this.scale.y=i||1,this.rotation=s,this.skew.x=o,this.skew.y=a,this.pivot.x=c,this.pivot.y=h,this}destroy(e){this.removeFromParent(),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.eventMode="auto",this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()}get _tempDisplayObjectParent(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new w6),this.tempDisplayObjectParent}enableTempParent(){const e=this.parent;return this.parent=this._tempDisplayObjectParent,e}disableTempParent(e){this.parent=e}get x(){return this.position.x}set x(e){this.transform.position.x=e}get y(){return this.position.y}set y(e){this.transform.position.y=e}get worldTransform(){return this.transform.worldTransform}get localTransform(){return this.transform.localTransform}get position(){return this.transform.position}set position(e){this.transform.position.copyFrom(e)}get scale(){return this.transform.scale}set scale(e){this.transform.scale.copyFrom(e)}get pivot(){return this.transform.pivot}set pivot(e){this.transform.pivot.copyFrom(e)}get skew(){return this.transform.skew}set skew(e){this.transform.skew.copyFrom(e)}get rotation(){return this.transform.rotation}set rotation(e){this.transform.rotation=e}get angle(){return this.transform.rotation*p5}set angle(e){this.transform.rotation=e*m5}get zIndex(){return this._zIndex}set zIndex(e){this._zIndex!==e&&(this._zIndex=e,this.parent&&(this.parent.sortDirty=!0))}get worldVisible(){let e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0}get mask(){return this._mask}set mask(e){if(this._mask!==e){if(this._mask){const r=this._mask.isMaskData?this._mask.maskObject:this._mask;r&&(r._maskRefCount--,r._maskRefCount===0&&(r.renderable=!0,r.isMask=!1))}if(this._mask=e,this._mask){const r=this._mask.isMaskData?this._mask.maskObject:this._mask;r&&(r._maskRefCount===0&&(r.renderable=!1,r.isMask=!0),r._maskRefCount++)}}}}class w6 extends mt{constructor(){super(...arguments),this.sortDirty=null}}mt.prototype.displayObjectUpdateTransform=mt.prototype.updateTransform;const S6=new ut;function E6(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}const BO=class R_ extends mt{constructor(){super(),this.children=[],this.sortableChildren=R_.defaultSortableChildren,this.sortDirty=!1}onChildrenChange(e){}addChild(...e){if(e.length>1)for(let r=0;r<e.length;r++)this.addChild(e[r]);else{const r=e[0];r.parent&&r.parent.removeChild(r),r.parent=this,this.sortDirty=!0,r.transform._parentID=-1,this.children.push(r),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",r,this,this.children.length-1),r.emit("added",this)}return e[0]}addChildAt(e,r){if(r<0||r>this.children.length)throw new Error(`${e}addChildAt: The index ${r} supplied is out of bounds ${this.children.length}`);return e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.splice(r,0,e),this._boundsID++,this.onChildrenChange(r),e.emit("added",this),this.emit("childAdded",e,this,r),e}swapChildren(e,r){if(e===r)return;const n=this.getChildIndex(e),i=this.getChildIndex(r);this.children[n]=r,this.children[i]=e,this.onChildrenChange(n<i?n:i)}getChildIndex(e){const r=this.children.indexOf(e);if(r===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return r}setChildIndex(e,r){if(r<0||r>=this.children.length)throw new Error(`The index ${r} supplied is out of bounds ${this.children.length}`);const n=this.getChildIndex(e);Cl(this.children,n,1),this.children.splice(r,0,e),this.onChildrenChange(r)}getChildAt(e){if(e<0||e>=this.children.length)throw new Error(`getChildAt: Index (${e}) does not exist.`);return this.children[e]}removeChild(...e){if(e.length>1)for(let r=0;r<e.length;r++)this.removeChild(e[r]);else{const r=e[0],n=this.children.indexOf(r);if(n===-1)return null;r.parent=null,r.transform._parentID=-1,Cl(this.children,n,1),this._boundsID++,this.onChildrenChange(n),r.emit("removed",this),this.emit("childRemoved",r,this,n)}return e[0]}removeChildAt(e){const r=this.getChildAt(e);return r.parent=null,r.transform._parentID=-1,Cl(this.children,e,1),this._boundsID++,this.onChildrenChange(e),r.emit("removed",this),this.emit("childRemoved",r,this,e),r}removeChildren(e=0,r=this.children.length){const n=e,i=r,s=i-n;let o;if(s>0&&s<=i){o=this.children.splice(n,s);for(let a=0;a<o.length;++a)o[a].parent=null,o[a].transform&&(o[a].transform._parentID=-1);this._boundsID++,this.onChildrenChange(e);for(let a=0;a<o.length;++a)o[a].emit("removed",this),this.emit("childRemoved",o[a],this,a);return o}else if(s===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")}sortChildren(){let e=!1;for(let r=0,n=this.children.length;r<n;++r){const i=this.children[r];i._lastSortedIndex=r,!e&&i.zIndex!==0&&(e=!0)}e&&this.children.length>1&&this.children.sort(E6),this.sortDirty=!1}updateTransform(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(let e=0,r=this.children.length;e<r;++e){const n=this.children[e];n.visible&&n.updateTransform()}}calculateBounds(){this._bounds.clear(),this._calculateBounds();for(let e=0;e<this.children.length;e++){const r=this.children[e];if(!(!r.visible||!r.renderable))if(r.calculateBounds(),r._mask){const n=r._mask.isMaskData?r._mask.maskObject:r._mask;n?(n.calculateBounds(),this._bounds.addBoundsMask(r._bounds,n._bounds)):this._bounds.addBounds(r._bounds)}else r.filterArea?this._bounds.addBoundsArea(r._bounds,r.filterArea):this._bounds.addBounds(r._bounds)}this._bounds.updateID=this._boundsID}getLocalBounds(e,r=!1){const n=super.getLocalBounds(e);if(!r)for(let i=0,s=this.children.length;i<s;++i){const o=this.children[i];o.visible&&o.updateTransform()}return n}_calculateBounds(){}_renderWithCulling(e){const r=e.renderTexture.sourceFrame;if(!(r.width>0&&r.height>0))return;let n,i;this.cullArea?(n=this.cullArea,i=this.worldTransform):this._render!==R_.prototype._render&&(n=this.getBounds(!0));const s=e.projection.transform;if(s&&(i?(i=S6.copyFrom(i),i.prepend(s)):i=s),n&&r.intersects(n,i))this._render(e);else if(this.cullArea)return;for(let o=0,a=this.children.length;o<a;++o){const c=this.children[o],h=c.cullable;c.cullable=h||!this.cullArea,c.render(e),c.cullable=h}}render(e){var r;if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||(r=this.filters)!=null&&r.length)this.renderAdvanced(e);else if(this.cullable)this._renderWithCulling(e);else{this._render(e);for(let n=0,i=this.children.length;n<i;++n)this.children[n].render(e)}}renderAdvanced(e){var s,o,a;const r=this.filters,n=this._mask;if(r){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(let c=0;c<r.length;c++)r[c].enabled&&this._enabledFilters.push(r[c])}const i=r&&((s=this._enabledFilters)==null?void 0:s.length)||n&&(!n.isMaskData||n.enabled&&(n.autoDetect||n.type!==Bt.NONE));if(i&&e.batch.flush(),r&&((o=this._enabledFilters)!=null&&o.length)&&e.filter.push(this,this._enabledFilters),n&&e.mask.push(this,this._mask),this.cullable)this._renderWithCulling(e);else{this._render(e);for(let c=0,h=this.children.length;c<h;++c)this.children[c].render(e)}i&&e.batch.flush(),n&&e.mask.pop(this),r&&((a=this._enabledFilters)!=null&&a.length)&&e.filter.pop()}_render(e){}destroy(e){super.destroy(),this.sortDirty=!1;const r=typeof e=="boolean"?e:e==null?void 0:e.children,n=this.removeChildren(0,this.children.length);if(r)for(let i=0;i<n.length;++i)n[i].destroy(e)}get width(){return this.scale.x*this.getLocalBounds().width}set width(e){const r=this.getLocalBounds().width;r!==0?this.scale.x=e/r:this.scale.x=1,this._width=e}get height(){return this.scale.y*this.getLocalBounds().height}set height(e){const r=this.getLocalBounds().height;r!==0?this.scale.y=e/r:this.scale.y=1,this._height=e}};BO.defaultSortableChildren=!1;let wr=BO;wr.prototype.containerUpdateTransform=wr.prototype.updateTransform;Object.defineProperties(oe,{SORTABLE_CHILDREN:{get(){return wr.defaultSortableChildren},set(t){Oe("7.1.0","settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren"),wr.defaultSortableChildren=t}}});var Bm=(t=>(t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",t))(Bm||{});const Hu=new Ne,T6=new Uint16Array([0,1,2,0,2,3]);class Li extends wr{constructor(e){super(),this._anchor=new Ti(this._onAnchorUpdate,this,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tintColor=new Je(16777215),this._tintRGB=null,this.tint=16777215,this.blendMode=_e.NORMAL,this._cachedTint=16777215,this.uvs=null,this.texture=e||re.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=T6,this.pluginName="batch",this.isSprite=!0,this._roundPixels=oe.ROUND_PIXELS}_onTextureUpdate(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=Hs(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=Hs(this.scale.y)*this._height/this._texture.orig.height)}_onAnchorUpdate(){this._transformID=-1,this._transformTrimmedID=-1}calculateVertices(){const e=this._texture;if(this._transformID===this.transform._worldID&&this._textureID===e._updateID)return;this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;const r=this.transform.worldTransform,n=r.a,i=r.b,s=r.c,o=r.d,a=r.tx,c=r.ty,h=this.vertexData,f=e.trim,p=e.orig,m=this._anchor;let y=0,_=0,S=0,A=0;if(f?(_=f.x-m._x*p.width,y=_+f.width,A=f.y-m._y*p.height,S=A+f.height):(_=-m._x*p.width,y=_+p.width,A=-m._y*p.height,S=A+p.height),h[0]=n*_+s*A+a,h[1]=o*A+i*_+c,h[2]=n*y+s*A+a,h[3]=o*A+i*y+c,h[4]=n*y+s*S+a,h[5]=o*S+i*y+c,h[6]=n*_+s*S+a,h[7]=o*S+i*_+c,this._roundPixels){const E=oe.RESOLUTION;for(let w=0;w<h.length;++w)h[w]=Math.round(h[w]*E)/E}}calculateTrimmedVertices(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;const e=this._texture,r=this.vertexTrimmedData,n=e.orig,i=this._anchor,s=this.transform.worldTransform,o=s.a,a=s.b,c=s.c,h=s.d,f=s.tx,p=s.ty,m=-i._x*n.width,y=m+n.width,_=-i._y*n.height,S=_+n.height;if(r[0]=o*m+c*_+f,r[1]=h*_+a*m+p,r[2]=o*y+c*_+f,r[3]=h*_+a*y+p,r[4]=o*y+c*S+f,r[5]=h*S+a*y+p,r[6]=o*m+c*S+f,r[7]=h*S+a*m+p,this._roundPixels){const A=oe.RESOLUTION;for(let E=0;E<r.length;++E)r[E]=Math.round(r[E]*A)/A}}_render(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)}_calculateBounds(){const e=this._texture.trim,r=this._texture.orig;!e||e.width===r.width&&e.height===r.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))}getLocalBounds(e){return this.children.length===0?(this._localBounds||(this._localBounds=new Up),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Ce),e=this._localBoundsRect),this._localBounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,Hu);const r=this._texture.orig.width,n=this._texture.orig.height,i=-r*this.anchor.x;let s=0;return Hu.x>=i&&Hu.x<i+r&&(s=-n*this.anchor.y,Hu.y>=s&&Hu.y<s+n)}destroy(e){if(super.destroy(e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,typeof e=="boolean"?e:e==null?void 0:e.texture){const r=typeof e=="boolean"?e:e==null?void 0:e.baseTexture;this._texture.destroy(!!r)}this._texture=null}static from(e,r){const n=e instanceof re?e:re.from(e,r);return new Li(n)}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1,this._transformTrimmedID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(e){const r=Hs(this.scale.x)||1;this.scale.x=r*e/this._texture.orig.width,this._width=e}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(e){const r=Hs(this.scale.y)||1;this.scale.y=r*e/this._texture.orig.height,this._height=e}get anchor(){return this._anchor}set anchor(e){this._anchor.copyFrom(e)}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber()}get tintValue(){return this._tintColor.toNumber()}get texture(){return this._texture}set texture(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||re.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))}}const qd={willReadFrequently:!0},mi=class fe{static get experimentalLetterSpacingSupported(){let e=fe._experimentalLetterSpacingSupported;if(e!==void 0){const r=oe.ADAPTER.getCanvasRenderingContext2D().prototype;e=fe._experimentalLetterSpacingSupported="letterSpacing"in r||"textLetterSpacing"in r}return e}constructor(e,r,n,i,s,o,a,c,h){this.text=e,this.style=r,this.width=n,this.height=i,this.lines=s,this.lineWidths=o,this.lineHeight=a,this.maxLineWidth=c,this.fontProperties=h}static measureText(e,r,n,i=fe._canvas){n=n??r.wordWrap;const s=r.toFontString(),o=fe.measureFont(s);o.fontSize===0&&(o.fontSize=r.fontSize,o.ascent=r.fontSize);const a=i.getContext("2d",qd);a.font=s;const c=(n?fe.wordWrap(e,r,i):e).split(/(?:\r\n|\r|\n)/),h=new Array(c.length);let f=0;for(let _=0;_<c.length;_++){const S=fe._measureText(c[_],r.letterSpacing,a);h[_]=S,f=Math.max(f,S)}let p=f+r.strokeThickness;r.dropShadow&&(p+=r.dropShadowDistance);const m=r.lineHeight||o.fontSize+r.strokeThickness;let y=Math.max(m,o.fontSize+r.strokeThickness*2)+r.leading+(c.length-1)*(m+r.leading);return r.dropShadow&&(y+=r.dropShadowDistance),new fe(e,r,p,y,c,h,m+r.leading,f,o)}static _measureText(e,r,n){let i=!1;fe.experimentalLetterSpacingSupported&&(fe.experimentalLetterSpacing?(n.letterSpacing=`${r}px`,n.textLetterSpacing=`${r}px`,i=!0):(n.letterSpacing="0px",n.textLetterSpacing="0px"));let s=n.measureText(e).width;return s>0&&(i?s-=r:s+=(fe.graphemeSegmenter(e).length-1)*r),s}static wordWrap(e,r,n=fe._canvas){const i=n.getContext("2d",qd);let s=0,o="",a="";const c=Object.create(null),{letterSpacing:h,whiteSpace:f}=r,p=fe.collapseSpaces(f),m=fe.collapseNewlines(f);let y=!p;const _=r.wordWrapWidth+h,S=fe.tokenize(e);for(let A=0;A<S.length;A++){let E=S[A];if(fe.isNewline(E)){if(!m){a+=fe.addLine(o),y=!p,o="",s=0;continue}E=" "}if(p){const x=fe.isBreakingSpace(E),T=fe.isBreakingSpace(o[o.length-1]);if(x&&T)continue}const w=fe.getFromCache(E,h,c,i);if(w>_)if(o!==""&&(a+=fe.addLine(o),o="",s=0),fe.canBreakWords(E,r.breakWords)){const x=fe.wordWrapSplit(E);for(let T=0;T<x.length;T++){let P=x[T],M=P,R=1;for(;x[T+R];){const V=x[T+R];if(!fe.canBreakChars(M,V,E,T,r.breakWords))P+=V;else break;M=V,R++}T+=R-1;const D=fe.getFromCache(P,h,c,i);D+s>_&&(a+=fe.addLine(o),y=!1,o="",s=0),o+=P,s+=D}}else{o.length>0&&(a+=fe.addLine(o),o="",s=0);const x=A===S.length-1;a+=fe.addLine(E,!x),y=!1,o="",s=0}else w+s>_&&(y=!1,a+=fe.addLine(o),o="",s=0),(o.length>0||!fe.isBreakingSpace(E)||y)&&(o+=E,s+=w)}return a+=fe.addLine(o,!1),a}static addLine(e,r=!0){return e=fe.trimRight(e),e=r?`${e}
`:e,e}static getFromCache(e,r,n,i){let s=n[e];return typeof s!="number"&&(s=fe._measureText(e,r,i)+r,n[e]=s),s}static collapseSpaces(e){return e==="normal"||e==="pre-line"}static collapseNewlines(e){return e==="normal"}static trimRight(e){if(typeof e!="string")return"";for(let r=e.length-1;r>=0;r--){const n=e[r];if(!fe.isBreakingSpace(n))break;e=e.slice(0,-1)}return e}static isNewline(e){return typeof e!="string"?!1:fe._newlines.includes(e.charCodeAt(0))}static isBreakingSpace(e,r){return typeof e!="string"?!1:fe._breakingSpaces.includes(e.charCodeAt(0))}static tokenize(e){const r=[];let n="";if(typeof e!="string")return r;for(let i=0;i<e.length;i++){const s=e[i],o=e[i+1];if(fe.isBreakingSpace(s,o)||fe.isNewline(s)){n!==""&&(r.push(n),n=""),r.push(s);continue}n+=s}return n!==""&&r.push(n),r}static canBreakWords(e,r){return r}static canBreakChars(e,r,n,i,s){return!0}static wordWrapSplit(e){return fe.graphemeSegmenter(e)}static measureFont(e){if(fe._fonts[e])return fe._fonts[e];const r={ascent:0,descent:0,fontSize:0},n=fe._canvas,i=fe._context;i.font=e;const s=fe.METRICS_STRING+fe.BASELINE_SYMBOL,o=Math.ceil(i.measureText(s).width);let a=Math.ceil(i.measureText(fe.BASELINE_SYMBOL).width);const c=Math.ceil(fe.HEIGHT_MULTIPLIER*a);if(a=a*fe.BASELINE_MULTIPLIER|0,o===0||c===0)return fe._fonts[e]=r,r;n.width=o,n.height=c,i.fillStyle="#f00",i.fillRect(0,0,o,c),i.font=e,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(s,0,a);const h=i.getImageData(0,0,o,c).data,f=h.length,p=o*4;let m=0,y=0,_=!1;for(m=0;m<a;++m){for(let S=0;S<p;S+=4)if(h[y+S]!==255){_=!0;break}if(!_)y+=p;else break}for(r.ascent=a-m,y=f-p,_=!1,m=c;m>a;--m){for(let S=0;S<p;S+=4)if(h[y+S]!==255){_=!0;break}if(!_)y-=p;else break}return r.descent=m-a,r.fontSize=r.ascent+r.descent,fe._fonts[e]=r,r}static clearMetrics(e=""){e?delete fe._fonts[e]:fe._fonts={}}static get _canvas(){var e;if(!fe.__canvas){let r;try{const n=new OffscreenCanvas(0,0);if((e=n.getContext("2d",qd))!=null&&e.measureText)return fe.__canvas=n,n;r=oe.ADAPTER.createCanvas()}catch{r=oe.ADAPTER.createCanvas()}r.width=r.height=10,fe.__canvas=r}return fe.__canvas}static get _context(){return fe.__context||(fe.__context=fe._canvas.getContext("2d",qd)),fe.__context}};mi.METRICS_STRING="|q",mi.BASELINE_SYMBOL="M",mi.BASELINE_MULTIPLIER=1.4,mi.HEIGHT_MULTIPLIER=2,mi.graphemeSegmenter=(()=>{if(typeof(Intl==null?void 0:Intl.Segmenter)=="function"){const t=new Intl.Segmenter;return e=>[...t.segment(e)].map(r=>r.segment)}return t=>[...t]})(),mi.experimentalLetterSpacing=!1,mi._fonts={},mi._newlines=[10,13],mi._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];let Fs=mi;const A6=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],LO=class rc{constructor(e){this.styleID=0,this.reset(),gy(this,e,e)}clone(){const e={};return gy(e,this,rc.defaultStyle),new rc(e)}reset(){gy(this,rc.defaultStyle,rc.defaultStyle)}get align(){return this._align}set align(e){this._align!==e&&(this._align=e,this.styleID++)}get breakWords(){return this._breakWords}set breakWords(e){this._breakWords!==e&&(this._breakWords=e,this.styleID++)}get dropShadow(){return this._dropShadow}set dropShadow(e){this._dropShadow!==e&&(this._dropShadow=e,this.styleID++)}get dropShadowAlpha(){return this._dropShadowAlpha}set dropShadowAlpha(e){this._dropShadowAlpha!==e&&(this._dropShadowAlpha=e,this.styleID++)}get dropShadowAngle(){return this._dropShadowAngle}set dropShadowAngle(e){this._dropShadowAngle!==e&&(this._dropShadowAngle=e,this.styleID++)}get dropShadowBlur(){return this._dropShadowBlur}set dropShadowBlur(e){this._dropShadowBlur!==e&&(this._dropShadowBlur=e,this.styleID++)}get dropShadowColor(){return this._dropShadowColor}set dropShadowColor(e){const r=my(e);this._dropShadowColor!==r&&(this._dropShadowColor=r,this.styleID++)}get dropShadowDistance(){return this._dropShadowDistance}set dropShadowDistance(e){this._dropShadowDistance!==e&&(this._dropShadowDistance=e,this.styleID++)}get fill(){return this._fill}set fill(e){const r=my(e);this._fill!==r&&(this._fill=r,this.styleID++)}get fillGradientType(){return this._fillGradientType}set fillGradientType(e){this._fillGradientType!==e&&(this._fillGradientType=e,this.styleID++)}get fillGradientStops(){return this._fillGradientStops}set fillGradientStops(e){C6(this._fillGradientStops,e)||(this._fillGradientStops=e,this.styleID++)}get fontFamily(){return this._fontFamily}set fontFamily(e){this.fontFamily!==e&&(this._fontFamily=e,this.styleID++)}get fontSize(){return this._fontSize}set fontSize(e){this._fontSize!==e&&(this._fontSize=e,this.styleID++)}get fontStyle(){return this._fontStyle}set fontStyle(e){this._fontStyle!==e&&(this._fontStyle=e,this.styleID++)}get fontVariant(){return this._fontVariant}set fontVariant(e){this._fontVariant!==e&&(this._fontVariant=e,this.styleID++)}get fontWeight(){return this._fontWeight}set fontWeight(e){this._fontWeight!==e&&(this._fontWeight=e,this.styleID++)}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.styleID++)}get lineHeight(){return this._lineHeight}set lineHeight(e){this._lineHeight!==e&&(this._lineHeight=e,this.styleID++)}get leading(){return this._leading}set leading(e){this._leading!==e&&(this._leading=e,this.styleID++)}get lineJoin(){return this._lineJoin}set lineJoin(e){this._lineJoin!==e&&(this._lineJoin=e,this.styleID++)}get miterLimit(){return this._miterLimit}set miterLimit(e){this._miterLimit!==e&&(this._miterLimit=e,this.styleID++)}get padding(){return this._padding}set padding(e){this._padding!==e&&(this._padding=e,this.styleID++)}get stroke(){return this._stroke}set stroke(e){const r=my(e);this._stroke!==r&&(this._stroke=r,this.styleID++)}get strokeThickness(){return this._strokeThickness}set strokeThickness(e){this._strokeThickness!==e&&(this._strokeThickness=e,this.styleID++)}get textBaseline(){return this._textBaseline}set textBaseline(e){this._textBaseline!==e&&(this._textBaseline=e,this.styleID++)}get trim(){return this._trim}set trim(e){this._trim!==e&&(this._trim=e,this.styleID++)}get whiteSpace(){return this._whiteSpace}set whiteSpace(e){this._whiteSpace!==e&&(this._whiteSpace=e,this.styleID++)}get wordWrap(){return this._wordWrap}set wordWrap(e){this._wordWrap!==e&&(this._wordWrap=e,this.styleID++)}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(e){this._wordWrapWidth!==e&&(this._wordWrapWidth=e,this.styleID++)}toFontString(){const e=typeof this.fontSize=="number"?`${this.fontSize}px`:this.fontSize;let r=this.fontFamily;Array.isArray(this.fontFamily)||(r=this.fontFamily.split(","));for(let n=r.length-1;n>=0;n--){let i=r[n].trim();!/([\"\'])[^\'\"]+\1/.test(i)&&!A6.includes(i)&&(i=`"${i}"`),r[n]=i}return`${this.fontStyle} ${this.fontVariant} ${this.fontWeight} ${e} ${r.join(",")}`}};LO.defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:Bm.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};let ps=LO;function my(t){const e=Je.shared,r=n=>{const i=e.setValue(n);return i.alpha===1?i.toHex():i.toRgbaString()};return Array.isArray(t)?t.map(r):r(t)}function C6(t,e){if(!Array.isArray(t)||!Array.isArray(e)||t.length!==e.length)return!1;for(let r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0}function gy(t,e,r){for(const n in r)Array.isArray(e[n])?t[n]=e[n].slice():t[n]=e[n]}const P6={texture:!0,children:!1,baseTexture:!0},UO=class O_ extends Li{constructor(e,r,n){let i=!1;n||(n=oe.ADAPTER.createCanvas(),i=!0),n.width=3,n.height=3;const s=re.from(n);s.orig=new Ce,s.trim=new Ce,super(s),this._ownCanvas=i,this.canvas=n,this.context=n.getContext("2d",{willReadFrequently:!0}),this._resolution=O_.defaultResolution??oe.RESOLUTION,this._autoResolution=O_.defaultAutoResolution,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=e,this.style=r,this.localStyleID=-1}static get experimentalLetterSpacing(){return Fs.experimentalLetterSpacing}static set experimentalLetterSpacing(e){Oe("7.1.0","Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing"),Fs.experimentalLetterSpacing=e}updateText(e){const r=this._style;if(this.localStyleID!==r.styleID&&(this.dirty=!0,this.localStyleID=r.styleID),!this.dirty&&e)return;this._font=this._style.toFontString();const n=this.context,i=Fs.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),s=i.width,o=i.height,a=i.lines,c=i.lineHeight,h=i.lineWidths,f=i.maxLineWidth,p=i.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,s)+r.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,o)+r.padding*2)*this._resolution),n.scale(this._resolution,this._resolution),n.clearRect(0,0,this.canvas.width,this.canvas.height),n.font=this._font,n.lineWidth=r.strokeThickness,n.textBaseline=r.textBaseline,n.lineJoin=r.lineJoin,n.miterLimit=r.miterLimit;let m,y;const _=r.dropShadow?2:1;for(let S=0;S<_;++S){const A=r.dropShadow&&S===0,E=A?Math.ceil(Math.max(1,o)+r.padding*2):0,w=E*this._resolution;if(A){n.fillStyle="black",n.strokeStyle="black";const T=r.dropShadowColor,P=r.dropShadowBlur*this._resolution,M=r.dropShadowDistance*this._resolution;n.shadowColor=Je.shared.setValue(T).setAlpha(r.dropShadowAlpha).toRgbaString(),n.shadowBlur=P,n.shadowOffsetX=Math.cos(r.dropShadowAngle)*M,n.shadowOffsetY=Math.sin(r.dropShadowAngle)*M+w}else n.fillStyle=this._generateFillStyle(r,a,i),n.strokeStyle=r.stroke,n.shadowColor="black",n.shadowBlur=0,n.shadowOffsetX=0,n.shadowOffsetY=0;let x=(c-p.fontSize)/2;c-p.fontSize<0&&(x=0);for(let T=0;T<a.length;T++)m=r.strokeThickness/2,y=r.strokeThickness/2+T*c+p.ascent+x,r.align==="right"?m+=f-h[T]:r.align==="center"&&(m+=(f-h[T])/2),r.stroke&&r.strokeThickness&&this.drawLetterSpacing(a[T],m+r.padding,y+r.padding-E,!0),r.fill&&this.drawLetterSpacing(a[T],m+r.padding,y+r.padding-E)}this.updateTexture()}drawLetterSpacing(e,r,n,i=!1){const s=this._style.letterSpacing;let o=!1;if(Fs.experimentalLetterSpacingSupported&&(Fs.experimentalLetterSpacing?(this.context.letterSpacing=`${s}px`,this.context.textLetterSpacing=`${s}px`,o=!0):(this.context.letterSpacing="0px",this.context.textLetterSpacing="0px")),s===0||o){i?this.context.strokeText(e,r,n):this.context.fillText(e,r,n);return}let a=r;const c=Fs.graphemeSegmenter(e);let h=this.context.measureText(e).width,f=0;for(let p=0;p<c.length;++p){const m=c[p];i?this.context.strokeText(m,a,n):this.context.fillText(m,a,n);let y="";for(let _=p+1;_<c.length;++_)y+=c[_];f=this.context.measureText(y).width,a+=h-f+s,h=f}}updateTexture(){const e=this.canvas;if(this._style.trim){const o=n5(e);o.data&&(e.width=o.width,e.height=o.height,this.context.putImageData(o.data,0,0))}const r=this._texture,n=this._style,i=n.trim?0:n.padding,s=r.baseTexture;r.trim.width=r._frame.width=e.width/this._resolution,r.trim.height=r._frame.height=e.height/this._resolution,r.trim.x=-i,r.trim.y=-i,r.orig.width=r._frame.width-i*2,r.orig.height=r._frame.height-i*2,this._onTextureUpdate(),s.setRealSize(e.width,e.height,this._resolution),r.updateUvs(),this.dirty=!1}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._render(e)}updateTransform(){this.updateText(!0),super.updateTransform()}getBounds(e,r){return this.updateText(!0),this._textureID===-1&&(e=!1),super.getBounds(e,r)}getLocalBounds(e){return this.updateText(!0),super.getLocalBounds.call(this,e)}_calculateBounds(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_generateFillStyle(e,r,n){const i=e.fill;if(Array.isArray(i)){if(i.length===1)return i[0]}else return i;let s;const o=e.dropShadow?e.dropShadowDistance:0,a=e.padding||0,c=this.canvas.width/this._resolution-o-a*2,h=this.canvas.height/this._resolution-o-a*2,f=i.slice(),p=e.fillGradientStops.slice();if(!p.length){const m=f.length+1;for(let y=1;y<m;++y)p.push(y/m)}if(f.unshift(i[0]),p.unshift(0),f.push(i[i.length-1]),p.push(1),e.fillGradientType===Bm.LINEAR_VERTICAL){s=this.context.createLinearGradient(c/2,a,c/2,h+a);const m=n.fontProperties.fontSize+e.strokeThickness;for(let y=0;y<r.length;y++){const _=n.lineHeight*(y-1)+m,S=n.lineHeight*y;let A=S;y>0&&_>S&&(A=(S+_)/2);const E=S+m,w=n.lineHeight*(y+1);let x=E;y+1<r.length&&w<E&&(x=(E+w)/2);const T=(x-A)/h;for(let P=0;P<f.length;P++){let M=0;typeof p[P]=="number"?M=p[P]:M=P/f.length;let R=Math.min(1,Math.max(0,A/h+M*T));R=Number(R.toFixed(5)),s.addColorStop(R,f[P])}}}else{s=this.context.createLinearGradient(a,h/2,c+a,h/2);const m=f.length+1;let y=1;for(let _=0;_<f.length;_++){let S;typeof p[_]=="number"?S=p[_]:S=y/m,s.addColorStop(S,f[_]),y++}}return s}destroy(e){typeof e=="boolean"&&(e={children:e}),e=Object.assign({},P6,e),super.destroy(e),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width}set width(e){this.updateText(!0);const r=Hs(this.scale.x)||1;this.scale.x=r*e/this._texture.orig.width,this._width=e}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height}set height(e){this.updateText(!0);const r=Hs(this.scale.y)||1;this.scale.y=r*e/this._texture.orig.height,this._height=e}get style(){return this._style}set style(e){e=e||{},e instanceof ps?this._style=e:this._style=new ps(e),this.localStyleID=-1,this.dirty=!0}get text(){return this._text}set text(e){e=String(e??""),this._text!==e&&(this._text=e,this.dirty=!0)}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}};UO.defaultAutoResolution=!0;let bx=UO;class zp{constructor(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}}class zf{static test(e){return typeof e=="string"&&e.startsWith("info face=")}static parse(e){const r=e.match(/^[a-z]+\s+.+$/gm),n={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const s in r){const o=r[s].match(/^[a-z]+/gm)[0],a=r[s].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),c={};for(const h in a){const f=a[h].split("="),p=f[0],m=f[1].replace(/"/gm,""),y=parseFloat(m),_=isNaN(y)?m:y;c[p]=_}n[o].push(c)}const i=new zp;return n.info.forEach(s=>i.info.push({face:s.face,size:parseInt(s.size,10)})),n.common.forEach(s=>i.common.push({lineHeight:parseInt(s.lineHeight,10)})),n.page.forEach(s=>i.page.push({id:parseInt(s.id,10),file:s.file})),n.char.forEach(s=>i.char.push({id:parseInt(s.id,10),page:parseInt(s.page,10),x:parseInt(s.x,10),y:parseInt(s.y,10),width:parseInt(s.width,10),height:parseInt(s.height,10),xoffset:parseInt(s.xoffset,10),yoffset:parseInt(s.yoffset,10),xadvance:parseInt(s.xadvance,10)})),n.kerning.forEach(s=>i.kerning.push({first:parseInt(s.first,10),second:parseInt(s.second,10),amount:parseInt(s.amount,10)})),n.distanceField.forEach(s=>i.distanceField.push({distanceRange:parseInt(s.distanceRange,10),fieldType:s.fieldType})),i}}class M_{static test(e){const r=e;return typeof e!="string"&&"getElementsByTagName"in e&&r.getElementsByTagName("page").length&&r.getElementsByTagName("info")[0].getAttribute("face")!==null}static parse(e){const r=new zp,n=e.getElementsByTagName("info"),i=e.getElementsByTagName("common"),s=e.getElementsByTagName("page"),o=e.getElementsByTagName("char"),a=e.getElementsByTagName("kerning"),c=e.getElementsByTagName("distanceField");for(let h=0;h<n.length;h++)r.info.push({face:n[h].getAttribute("face"),size:parseInt(n[h].getAttribute("size"),10)});for(let h=0;h<i.length;h++)r.common.push({lineHeight:parseInt(i[h].getAttribute("lineHeight"),10)});for(let h=0;h<s.length;h++)r.page.push({id:parseInt(s[h].getAttribute("id"),10)||0,file:s[h].getAttribute("file")});for(let h=0;h<o.length;h++){const f=o[h];r.char.push({id:parseInt(f.getAttribute("id"),10),page:parseInt(f.getAttribute("page"),10)||0,x:parseInt(f.getAttribute("x"),10),y:parseInt(f.getAttribute("y"),10),width:parseInt(f.getAttribute("width"),10),height:parseInt(f.getAttribute("height"),10),xoffset:parseInt(f.getAttribute("xoffset"),10),yoffset:parseInt(f.getAttribute("yoffset"),10),xadvance:parseInt(f.getAttribute("xadvance"),10)})}for(let h=0;h<a.length;h++)r.kerning.push({first:parseInt(a[h].getAttribute("first"),10),second:parseInt(a[h].getAttribute("second"),10),amount:parseInt(a[h].getAttribute("amount"),10)});for(let h=0;h<c.length;h++)r.distanceField.push({fieldType:c[h].getAttribute("fieldType"),distanceRange:parseInt(c[h].getAttribute("distanceRange"),10)});return r}}class k_{static test(e){return typeof e=="string"&&e.includes("<font>")?M_.test(oe.ADAPTER.parseXML(e)):!1}static parse(e){return M_.parse(oe.ADAPTER.parseXML(e))}}const vy=[zf,M_,k_];function I6(t){for(let e=0;e<vy.length;e++)if(vy[e].test(t))return vy[e];return null}function R6(t,e,r,n,i,s){const o=r.fill;if(Array.isArray(o)){if(o.length===1)return o[0]}else return o;let a;const c=r.dropShadow?r.dropShadowDistance:0,h=r.padding||0,f=t.width/n-c-h*2,p=t.height/n-c-h*2,m=o.slice(),y=r.fillGradientStops.slice();if(!y.length){const _=m.length+1;for(let S=1;S<_;++S)y.push(S/_)}if(m.unshift(o[0]),y.unshift(0),m.push(o[o.length-1]),y.push(1),r.fillGradientType===Bm.LINEAR_VERTICAL){a=e.createLinearGradient(f/2,h,f/2,p+h);let _=0;const S=(s.fontProperties.fontSize+r.strokeThickness)/p;for(let A=0;A<i.length;A++){const E=s.lineHeight*A;for(let w=0;w<m.length;w++){let x=0;typeof y[w]=="number"?x=y[w]:x=w/m.length;const T=E/p+x*S;let P=Math.max(_,T);P=Math.min(P,1),a.addColorStop(P,m[w]),_=P}}}else{a=e.createLinearGradient(h,p/2,f+h,p/2);const _=m.length+1;let S=1;for(let A=0;A<m.length;A++){let E;typeof y[A]=="number"?E=y[A]:E=S/_,a.addColorStop(E,m[A]),S++}}return a}function O6(t,e,r,n,i,s,o){const a=r.text,c=r.fontProperties;e.translate(n,i),e.scale(s,s);const h=o.strokeThickness/2,f=-(o.strokeThickness/2);if(e.font=o.toFontString(),e.lineWidth=o.strokeThickness,e.textBaseline=o.textBaseline,e.lineJoin=o.lineJoin,e.miterLimit=o.miterLimit,e.fillStyle=R6(t,e,o,s,[a],r),e.strokeStyle=o.stroke,o.dropShadow){const p=o.dropShadowColor,m=o.dropShadowBlur*s,y=o.dropShadowDistance*s;e.shadowColor=Je.shared.setValue(p).setAlpha(o.dropShadowAlpha).toRgbaString(),e.shadowBlur=m,e.shadowOffsetX=Math.cos(o.dropShadowAngle)*y,e.shadowOffsetY=Math.sin(o.dropShadowAngle)*y}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0;o.stroke&&o.strokeThickness&&e.strokeText(a,h,f+r.lineHeight-c.descent),o.fill&&e.fillText(a,h,f+r.lineHeight-c.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}function $f(t){return t.codePointAt?t.codePointAt(0):t.charCodeAt(0)}function zO(t){return Array.from?Array.from(t):t.split("")}function M6(t){typeof t=="string"&&(t=[t]);const e=[];for(let r=0,n=t.length;r<n;r++){const i=t[r];if(Array.isArray(i)){if(i.length!==2)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${i.length}.`);const s=i[0].charCodeAt(0),o=i[1].charCodeAt(0);if(o<s)throw new Error("[BitmapFont]: Invalid character range.");for(let a=s,c=o;a<=c;a++)e.push(String.fromCharCode(a))}else e.push(...zO(i))}if(e.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}const Os=class gi{constructor(e,r,n){var f;const[i]=e.info,[s]=e.common,[o]=e.page,[a]=e.distanceField,c=ds(o.file),h={};this._ownsTextures=n,this.font=i.face,this.size=i.size,this.lineHeight=s.lineHeight/c,this.chars={},this.pageTextures=h;for(let p=0;p<e.page.length;p++){const{id:m,file:y}=e.page[p];h[m]=r instanceof Array?r[p]:r[y],a!=null&&a.fieldType&&a.fieldType!=="none"&&(h[m].baseTexture.alphaMode=Or.NO_PREMULTIPLIED_ALPHA,h[m].baseTexture.mipmap=Di.OFF)}for(let p=0;p<e.char.length;p++){const{id:m,page:y}=e.char[p];let{x:_,y:S,width:A,height:E,xoffset:w,yoffset:x,xadvance:T}=e.char[p];_/=c,S/=c,A/=c,E/=c,w/=c,x/=c,T/=c;const P=new Ce(_+h[y].frame.x/c,S+h[y].frame.y/c,A,E);this.chars[m]={xOffset:w,yOffset:x,xAdvance:T,kerning:{},texture:new re(h[y].baseTexture,P),page:y}}for(let p=0;p<e.kerning.length;p++){let{first:m,second:y,amount:_}=e.kerning[p];m/=c,y/=c,_/=c,this.chars[y]&&(this.chars[y].kerning[m]=_)}this.distanceFieldRange=a==null?void 0:a.distanceRange,this.distanceFieldType=((f=a==null?void 0:a.fieldType)==null?void 0:f.toLowerCase())??"none"}destroy(){for(const e in this.chars)this.chars[e].texture.destroy(),this.chars[e].texture=null;for(const e in this.pageTextures)this._ownsTextures&&this.pageTextures[e].destroy(!0),this.pageTextures[e]=null;this.chars=null,this.pageTextures=null}static install(e,r,n){let i;if(e instanceof zp)i=e;else{const o=I6(e);if(!o)throw new Error("Unrecognized data format for font.");i=o.parse(e)}r instanceof re&&(r=[r]);const s=new gi(i,r,n);return gi.available[s.font]=s,s}static uninstall(e){const r=gi.available[e];if(!r)throw new Error(`No font found named '${e}'`);r.destroy(),delete gi.available[e]}static from(e,r,n){if(!e)throw new Error("[BitmapFont] Property `name` is required.");const{chars:i,padding:s,resolution:o,textureWidth:a,textureHeight:c,...h}=Object.assign({},gi.defaultOptions,n),f=M6(i),p=r instanceof ps?r:new ps(r),m=a,y=new zp;y.info[0]={face:p.fontFamily,size:p.fontSize},y.common[0]={lineHeight:p.fontSize};let _=0,S=0,A,E,w,x=0;const T=[];for(let M=0;M<f.length;M++){A||(A=oe.ADAPTER.createCanvas(),A.width=a,A.height=c,E=A.getContext("2d"),w=new Te(A,{resolution:o,...h}),T.push(new re(w)),y.page.push({id:T.length-1,file:""}));const R=f[M],D=Fs.measureText(R,p,!1,A),V=D.width,W=Math.ceil(D.height),pe=Math.ceil((p.fontStyle==="italic"?2:1)*V);if(S>=c-W*o){if(S===0)throw new Error(`[BitmapFont] textureHeight ${c}px is too small (fontFamily: '${p.fontFamily}', fontSize: ${p.fontSize}px, char: '${R}')`);--M,A=null,E=null,w=null,S=0,_=0,x=0;continue}if(x=Math.max(W+D.fontProperties.descent,x),pe*o+_>=m){if(_===0)throw new Error(`[BitmapFont] textureWidth ${a}px is too small (fontFamily: '${p.fontFamily}', fontSize: ${p.fontSize}px, char: '${R}')`);--M,S+=x*o,S=Math.ceil(S),_=0,x=0;continue}O6(A,E,D,_,S,o,p);const J=$f(D.text);y.char.push({id:J,page:T.length-1,x:_/o,y:S/o,width:pe,height:W,xoffset:0,yoffset:0,xadvance:V-(p.dropShadow?p.dropShadowDistance:0)-(p.stroke?p.strokeThickness:0)}),_+=(pe+2*s)*o,_=Math.ceil(_)}if(!(n!=null&&n.skipKerning))for(let M=0,R=f.length;M<R;M++){const D=f[M];for(let V=0;V<R;V++){const W=f[V],pe=E.measureText(D).width,J=E.measureText(W).width,B=E.measureText(D+W).width-(pe+J);B&&y.kerning.push({first:$f(D),second:$f(W),amount:B})}}const P=new gi(y,T,!0);return gi.available[e]!==void 0&&gi.uninstall(e),gi.available[e]=P,P}};Os.ALPHA=[["a","z"],["A","Z"]," "],Os.NUMERIC=[["0","9"]],Os.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],Os.ASCII=[[" ","~"]],Os.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:Os.ALPHANUMERIC},Os.available={};let Ms=Os;class k6{constructor(e,r){this.uvBuffer=e,this.uvMatrix=r,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}update(e){if(!e&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)return;this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;const r=this.uvBuffer.data;(!this.data||this.data.length!==r.length)&&(this.data=new Float32Array(r.length)),this.uvMatrix.multiplyUvs(r,this.data),this._updateID++}}const yy=new Ne,xT=new Qo,$O=class GO extends wr{constructor(e,r,n,i=Un.TRIANGLES){super(),this.geometry=e,this.shader=r,this.state=n||Bi.for2d(),this.drawMode=i,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=-1,this._transformID=-1,this._roundPixels=oe.ROUND_PIXELS,this.batchUvs=null}get geometry(){return this._geometry}set geometry(e){this._geometry!==e&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=e,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)}get uvBuffer(){return this.geometry.buffers[1]}get verticesBuffer(){return this.geometry.buffers[0]}set material(e){this.shader=e}get material(){return this.shader}set blendMode(e){this.state.blendMode=e}get blendMode(){return this.state.blendMode}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get tint(){return"tint"in this.shader?this.shader.tint:null}set tint(e){this.shader.tint=e}get tintValue(){return this.shader.tintValue}get texture(){return"texture"in this.shader?this.shader.texture:null}set texture(e){this.shader.texture=e}_render(e){const r=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===Un.TRIANGLES&&r.length<GO.BATCHABLE_SIZE*2?this._renderToBatch(e):this._renderDefault(e)}_renderDefault(e){const r=this.shader;r.alpha=this.worldAlpha,r.update&&r.update(),e.batch.flush(),r.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),e.shader.bind(r),e.state.set(this.state),e.geometry.bind(this.geometry,r),e.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)}_renderToBatch(e){const r=this.geometry,n=this.shader;n.uvMatrix&&(n.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=r.indexBuffer.data,this._tintRGB=n._tintRGB,this._texture=n.texture;const i=this.material.pluginName;e.batch.setObjectRenderer(e.plugins[i]),e.plugins[i].render(this)}calculateVertices(){const e=this.geometry.buffers[0],r=e.data,n=e._updateID;if(n===this.vertexDirty&&this._transformID===this.transform._worldID)return;this._transformID=this.transform._worldID,this.vertexData.length!==r.length&&(this.vertexData=new Float32Array(r.length));const i=this.transform.worldTransform,s=i.a,o=i.b,a=i.c,c=i.d,h=i.tx,f=i.ty,p=this.vertexData;for(let m=0;m<p.length/2;m++){const y=r[m*2],_=r[m*2+1];p[m*2]=s*y+a*_+h,p[m*2+1]=o*y+c*_+f}if(this._roundPixels){const m=oe.RESOLUTION;for(let y=0;y<p.length;++y)p[y]=Math.round(p[y]*m)/m}this.vertexDirty=n}calculateUvs(){const e=this.geometry.buffers[1],r=this.shader;r.uvMatrix.isSimple?this.uvs=e.data:(this.batchUvs||(this.batchUvs=new k6(e,r.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)}_calculateBounds(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)}containsPoint(e){if(!this.getBounds().contains(e.x,e.y))return!1;this.worldTransform.applyInverse(e,yy);const r=this.geometry.getBuffer("aVertexPosition").data,n=xT.points,i=this.geometry.getIndex().data,s=i.length,o=this.drawMode===4?3:1;for(let a=0;a+2<s;a+=o){const c=i[a]*2,h=i[a+1]*2,f=i[a+2]*2;if(n[0]=r[c],n[1]=r[c+1],n[2]=r[h],n[3]=r[h+1],n[4]=r[f],n[5]=r[f+1],xT.contains(yy.x,yy.y))return!0}return!1}destroy(e){super.destroy(e),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null}};$O.BATCHABLE_SIZE=100;let eh=$O;class Lm extends io{constructor(e,r,n){super();const i=new It(e),s=new It(r,!0),o=new It(n,!0,!0);this.addAttribute("aVertexPosition",i,2,!1,ge.FLOAT).addAttribute("aTextureCoord",s,2,!1,ge.FLOAT).addIndex(o),this._updateId=-1}get vertexDirtyId(){return this.buffers[0]._updateID}}var D6=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,N6=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`;class th extends Mi{constructor(e,r){const n={uSampler:e,alpha:1,uTextureMatrix:ut.IDENTITY,uColor:new Float32Array([1,1,1,1])};r=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},r),r.uniforms&&Object.assign(n,r.uniforms),super(r.program||ts.from(N6,D6),n),this._colorDirty=!1,this.uvMatrix=new _x(e),this.batchable=r.program===void 0,this.pluginName=r.pluginName,this._tintColor=new Je(r.tint),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0,this.alpha=r.alpha}get texture(){return this.uniforms.uSampler}set texture(e){this.uniforms.uSampler!==e&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!e.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=e,this.uvMatrix.texture=e)}set alpha(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)}get alpha(){return this._alpha}set tint(e){e!==this.tint&&(this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0)}get tint(){return this._tintColor.value}get tintValue(){return this._tintColor.toNumber()}update(){if(this._colorDirty){this._colorDirty=!1;const e=this.texture.baseTexture.alphaMode;Je.shared.setValue(this._tintColor).premultiply(this._alpha,e).toArray(this.uniforms.uColor)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)}}var F6=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
  if (median < 0.01) {\r
    alpha = 0.0;\r
  } else if (median > 0.99) {\r
    alpha = 1.0;\r
  }\r
\r
  // Gamma correction for coverage-like alpha\r
  float luma = dot(uColor.rgb, vec3(0.299, 0.587, 0.114));\r
  float gamma = mix(1.0, 1.0 / 2.2, luma);\r
  float coverage = pow(uColor.a * alpha, gamma);  \r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, coverage);\r
}\r
`,B6=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`;const bT=[],wT=[],ST=[],jO=class HO extends wr{constructor(e,r={}){super();const{align:n,tint:i,maxWidth:s,letterSpacing:o,fontName:a,fontSize:c}=Object.assign({},HO.styleDefaults,r);if(!Ms.available[a])throw new Error(`Missing BitmapFont "${a}"`);this._activePagesMeshData=[],this._textWidth=0,this._textHeight=0,this._align=n,this._tintColor=new Je(i),this._font=void 0,this._fontName=a,this._fontSize=c,this.text=e,this._maxWidth=s,this._maxLineHeight=0,this._letterSpacing=o,this._anchor=new Ti(()=>{this.dirty=!0},this,0,0),this._roundPixels=oe.ROUND_PIXELS,this.dirty=!0,this._resolution=oe.RESOLUTION,this._autoResolution=!0,this._textureCache={}}updateText(){var pe;const e=Ms.available[this._fontName],r=this.fontSize,n=r/e.size,i=new Ne,s=[],o=[],a=[],c=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",h=zO(c),f=this._maxWidth*e.size/r,p=e.distanceFieldType==="none"?bT:wT;let m=null,y=0,_=0,S=0,A=-1,E=0,w=0,x=0,T=0;for(let J=0;J<h.length;J++){const B=h[J],X=$f(B);if(/(?:\s)/.test(B)&&(A=J,E=y,T++),B==="\r"||B===`
`){o.push(y),a.push(-1),_=Math.max(_,y),++S,++w,i.x=0,i.y+=e.lineHeight,m=null,T=0;continue}const ie=e.chars[X];if(!ie)continue;m&&ie.kerning[m]&&(i.x+=ie.kerning[m]);const me=ST.pop()||{texture:re.EMPTY,line:0,charCode:0,prevSpaces:0,position:new Ne};me.texture=ie.texture,me.line=S,me.charCode=X,me.position.x=Math.round(i.x+ie.xOffset+this._letterSpacing/2),me.position.y=Math.round(i.y+ie.yOffset),me.prevSpaces=T,s.push(me),y=me.position.x+Math.max(ie.xAdvance-ie.xOffset,ie.texture.orig.width),i.x+=ie.xAdvance+this._letterSpacing,x=Math.max(x,ie.yOffset+ie.texture.height),m=X,A!==-1&&f>0&&i.x>f&&(++w,Cl(s,1+A-w,1+J-A),J=A,A=-1,o.push(E),a.push(s.length>0?s[s.length-1].prevSpaces:0),_=Math.max(_,E),S++,i.x=0,i.y+=e.lineHeight,m=null,T=0)}const P=h[h.length-1];P!=="\r"&&P!==`
`&&(/(?:\s)/.test(P)&&(y=E),o.push(y),_=Math.max(_,y),a.push(-1));const M=[];for(let J=0;J<=S;J++){let B=0;this._align==="right"?B=_-o[J]:this._align==="center"?B=(_-o[J])/2:this._align==="justify"&&(B=a[J]<0?0:(_-o[J])/a[J]),M.push(B)}const R=s.length,D={},V=[],W=this._activePagesMeshData;p.push(...W);for(let J=0;J<R;J++){const B=s[J].texture,X=B.baseTexture.uid;if(!D[X]){let ie=p.pop();if(!ie){const ae=new Lm;let O,$;e.distanceFieldType==="none"?(O=new th(re.EMPTY),$=_e.NORMAL):(O=new th(re.EMPTY,{program:ts.from(B6,F6),uniforms:{uFWidth:0}}),$=_e.NORMAL_NPM);const N=new eh(ae,O);N.blendMode=$,ie={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:N,vertices:null,uvs:null,indices:null}}ie.index=0,ie.indexCount=0,ie.vertexCount=0,ie.uvsCount=0,ie.total=0;const{_textureCache:me}=this;me[X]=me[X]||new re(B.baseTexture),ie.mesh.texture=me[X],ie.mesh.tint=this._tintColor.value,V.push(ie),D[X]=ie}D[X].total++}for(let J=0;J<W.length;J++)V.includes(W[J])||this.removeChild(W[J].mesh);for(let J=0;J<V.length;J++)V[J].mesh.parent!==this&&this.addChild(V[J].mesh);this._activePagesMeshData=V;for(const J in D){const B=D[J],X=B.total;if(!(((pe=B.indices)==null?void 0:pe.length)>6*X)||B.vertices.length<eh.BATCHABLE_SIZE*2)B.vertices=new Float32Array(4*2*X),B.uvs=new Float32Array(4*2*X),B.indices=new Uint16Array(6*X);else{const ie=B.total,me=B.vertices;for(let ae=ie*4*2;ae<me.length;ae++)me[ae]=0}B.mesh.size=6*X}for(let J=0;J<R;J++){const B=s[J];let X=B.position.x+M[B.line]*(this._align==="justify"?B.prevSpaces:1);this._roundPixels&&(X=Math.round(X));const ie=X*n,me=B.position.y*n,ae=B.texture,O=D[ae.baseTexture.uid],$=ae.frame,N=ae._uvs,U=O.index++;O.indices[U*6+0]=0+U*4,O.indices[U*6+1]=1+U*4,O.indices[U*6+2]=2+U*4,O.indices[U*6+3]=0+U*4,O.indices[U*6+4]=2+U*4,O.indices[U*6+5]=3+U*4,O.vertices[U*8+0]=ie,O.vertices[U*8+1]=me,O.vertices[U*8+2]=ie+$.width*n,O.vertices[U*8+3]=me,O.vertices[U*8+4]=ie+$.width*n,O.vertices[U*8+5]=me+$.height*n,O.vertices[U*8+6]=ie,O.vertices[U*8+7]=me+$.height*n,O.uvs[U*8+0]=N.x0,O.uvs[U*8+1]=N.y0,O.uvs[U*8+2]=N.x1,O.uvs[U*8+3]=N.y1,O.uvs[U*8+4]=N.x2,O.uvs[U*8+5]=N.y2,O.uvs[U*8+6]=N.x3,O.uvs[U*8+7]=N.y3}this._textWidth=_*n,this._textHeight=(i.y+e.lineHeight)*n;for(const J in D){const B=D[J];if(this.anchor.x!==0||this.anchor.y!==0){let ae=0;const O=this._textWidth*this.anchor.x,$=this._textHeight*this.anchor.y;for(let N=0;N<B.total;N++)B.vertices[ae++]-=O,B.vertices[ae++]-=$,B.vertices[ae++]-=O,B.vertices[ae++]-=$,B.vertices[ae++]-=O,B.vertices[ae++]-=$,B.vertices[ae++]-=O,B.vertices[ae++]-=$}this._maxLineHeight=x*n;const X=B.mesh.geometry.getBuffer("aVertexPosition"),ie=B.mesh.geometry.getBuffer("aTextureCoord"),me=B.mesh.geometry.getIndex();X.data=B.vertices,ie.data=B.uvs,me.data=B.indices,X.update(),ie.update(),me.update()}for(let J=0;J<s.length;J++)ST.push(s[J]);this._font=e,this.dirty=!1}updateTransform(){this.validate(),this.containerUpdateTransform()}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0);const{distanceFieldRange:r,distanceFieldType:n,size:i}=Ms.available[this._fontName];if(n!=="none"){const{a:s,b:o,c:a,d:c}=this.worldTransform,h=Math.sqrt(s*s+o*o),f=Math.sqrt(a*a+c*c),p=(Math.abs(h)+Math.abs(f))/2,m=this.fontSize/i,y=e._view.resolution;for(const _ of this._activePagesMeshData)_.mesh.shader.uniforms.uFWidth=p*r*m*y}super._render(e)}getLocalBounds(){return this.validate(),super.getLocalBounds()}validate(){const e=Ms.available[this._fontName];if(!e)throw new Error(`Missing BitmapFont "${this._fontName}"`);this._font!==e&&(this.dirty=!0),this.dirty&&this.updateText()}get tint(){return this._tintColor.value}set tint(e){if(this.tint!==e){this._tintColor.setValue(e);for(let r=0;r<this._activePagesMeshData.length;r++)this._activePagesMeshData[r].mesh.tint=e}}get align(){return this._align}set align(e){this._align!==e&&(this._align=e,this.dirty=!0)}get fontName(){return this._fontName}set fontName(e){if(!Ms.available[e])throw new Error(`Missing BitmapFont "${e}"`);this._fontName!==e&&(this._fontName=e,this.dirty=!0)}get fontSize(){return this._fontSize??Ms.available[this._fontName].size}set fontSize(e){this._fontSize!==e&&(this._fontSize=e,this.dirty=!0)}get anchor(){return this._anchor}set anchor(e){typeof e=="number"?this._anchor.set(e):this._anchor.copyFrom(e)}get text(){return this._text}set text(e){e=String(e??""),this._text!==e&&(this._text=e,this.dirty=!0)}get maxWidth(){return this._maxWidth}set maxWidth(e){this._maxWidth!==e&&(this._maxWidth=e,this.dirty=!0)}get maxLineHeight(){return this.validate(),this._maxLineHeight}get textWidth(){return this.validate(),this._textWidth}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.dirty=!0)}get roundPixels(){return this._roundPixels}set roundPixels(e){e!==this._roundPixels&&(this._roundPixels=e,this.dirty=!0)}get textHeight(){return this.validate(),this._textHeight}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}destroy(e){const{_textureCache:r}=this,n=Ms.available[this._fontName].distanceFieldType==="none"?bT:wT;n.push(...this._activePagesMeshData);for(const i of this._activePagesMeshData)this.removeChild(i.mesh);this._activePagesMeshData=[],n.filter(i=>r[i.mesh.texture.baseTexture.uid]).forEach(i=>{i.mesh.texture=re.EMPTY});for(const i in r)r[i].destroy(),delete r[i];this._font=null,this._tintColor=null,this._textureCache=null,super.destroy(e)}};jO.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0};let L6=jO;const ET={loader:ne.LoadParser,resolver:ne.ResolveParser,cache:ne.CacheParser,detection:ne.DetectionParser};he.handle(ne.Asset,t=>{const e=t.ref;Object.entries(ET).filter(([r])=>!!e[r]).forEach(([r,n])=>he.add(Object.assign(e[r],{extension:e[r].extension??n})))},t=>{const e=t.ref;Object.keys(ET).filter(r=>!!e[r]).forEach(r=>he.remove(e[r]))});class U6{constructor(e,r=!1){this._loader=e,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=r}add(e){e.forEach(r=>{this._assetList.push(r)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const e=[],r=Math.min(this._assetList.length,this._maxConcurrent);for(let n=0;n<r;n++)e.push(this._assetList.pop());await this._loader.load(e),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(e){this._isActive!==e&&(this._isActive=e,e&&!this._isLoading&&this._next())}}function lu(t,e){if(Array.isArray(e)){for(const r of e)if(t.startsWith(`data:${r}`))return!0;return!1}return t.startsWith(`data:${e}`)}function fo(t,e){const r=t.split("?")[0],n=qt.extname(r).toLowerCase();return Array.isArray(e)?e.includes(n):n===e}const Ln=(t,e,r=!1)=>(Array.isArray(t)||(t=[t]),e?t.map(n=>typeof n=="string"||r?e(n):n):t),D_=(t,e)=>{const r=e.split("?")[1];return r&&(t+=`?${r}`),t};function VO(t,e,r,n,i){const s=e[r];for(let o=0;o<s.length;o++){const a=s[o];r<e.length-1?VO(t.replace(n[r],a),e,r+1,n,i):i.push(t.replace(n[r],a))}}function z6(t){const e=/\{(.*?)\}/g,r=t.match(e),n=[];if(r){const i=[];r.forEach(s=>{const o=s.substring(1,s.length-1).split(",");i.push(o)}),VO(t,i,0,r,n)}else n.push(t);return n}const $p=t=>!Array.isArray(t);class $6{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(e){return this._cache.has(e)}get(e){const r=this._cache.get(e);return r||console.warn(`[Assets] Asset id ${e} was not found in the Cache`),r}set(e,r){const n=Ln(e);let i;for(let a=0;a<this.parsers.length;a++){const c=this.parsers[a];if(c.test(r)){i=c.getCacheableAssets(n,r);break}}i||(i={},n.forEach(a=>{i[a]=r}));const s=Object.keys(i),o={cacheKeys:s,keys:n};if(n.forEach(a=>{this._cacheMap.set(a,o)}),s.forEach(a=>{this._cache.has(a)&&this._cache.get(a)!==r&&console.warn("[Cache] already has key:",a),this._cache.set(a,i[a])}),r instanceof re){const a=r;n.forEach(c=>{a.baseTexture!==re.EMPTY.baseTexture&&Te.addToCache(a.baseTexture,c),re.addToCache(a,c)})}}remove(e){if(!this._cacheMap.has(e)){console.warn(`[Assets] Asset id ${e} was not found in the Cache`);return}const r=this._cacheMap.get(e);r.cacheKeys.forEach(n=>{this._cache.delete(n)}),r.keys.forEach(n=>{this._cacheMap.delete(n)})}get parsers(){return this._parsers}}const Lo=new $6;class G6{constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(e,r,n)=>(this._parsersValidated=!1,e[r]=n,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(e,r){const n={promise:null,parser:null};return n.promise=(async()=>{var o,a;let i=null,s=null;if(r.loadParser&&(s=this._parserHash[r.loadParser],s||console.warn(`[Assets] specified load parser "${r.loadParser}" not found while loading ${e}`)),!s){for(let c=0;c<this.parsers.length;c++){const h=this.parsers[c];if(h.load&&((o=h.test)!=null&&o.call(h,e,r,this))){s=h;break}}if(!s)return console.warn(`[Assets] ${e} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`),null}i=await s.load(e,r,this),n.parser=s;for(let c=0;c<this.parsers.length;c++){const h=this.parsers[c];h.parse&&h.parse&&await((a=h.testParse)==null?void 0:a.call(h,i,r,this))&&(i=await h.parse(i,r,this)||i,n.parser=h)}return i})(),n}async load(e,r){this._parsersValidated||this._validateParsers();let n=0;const i={},s=$p(e),o=Ln(e,h=>({alias:[h],src:h})),a=o.length,c=o.map(async h=>{const f=qt.toAbsolute(h.src);if(!i[h.src])try{this.promiseCache[f]||(this.promiseCache[f]=this._getLoadPromiseAndParser(f,h)),i[h.src]=await this.promiseCache[f].promise,r&&r(++n/a)}catch(p){throw delete this.promiseCache[f],delete i[h.src],new Error(`[Loader.load] Failed to load ${f}.
${p}`)}});return await Promise.all(c),s?i[o[0].src]:i}async unload(e){const r=Ln(e,n=>({alias:[n],src:n})).map(async n=>{var o,a;const i=qt.toAbsolute(n.src),s=this.promiseCache[i];if(s){const c=await s.promise;delete this.promiseCache[i],(a=(o=s.parser)==null?void 0:o.unload)==null||a.call(o,c,n,this)}});await Promise.all(r)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter(e=>e.name).reduce((e,r)=>(e[r.name]&&console.warn(`[Assets] loadParser name conflict "${r.name}"`),{...e,[r.name]:r}),{})}}var Zn=(t=>(t[t.Low=0]="Low",t[t.Normal=1]="Normal",t[t.High=2]="High",t))(Zn||{});const j6=".json",H6="application/json",V6={extension:{type:ne.LoadParser,priority:Zn.Low},name:"loadJson",test(t){return lu(t,H6)||fo(t,j6)},async load(t){return await(await oe.ADAPTER.fetch(t)).json()}};he.add(V6);const W6=".txt",X6="text/plain",Y6={name:"loadTxt",extension:{type:ne.LoadParser,priority:Zn.Low},test(t){return lu(t,X6)||fo(t,W6)},async load(t){return await(await oe.ADAPTER.fetch(t)).text()}};he.add(Y6);const K6=["normal","bold","100","200","300","400","500","600","700","800","900"],Q6=[".ttf",".otf",".woff",".woff2"],q6=["font/ttf","font/otf","font/woff","font/woff2"],Z6=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function J6(t){const e=qt.extname(t),r=qt.basename(t,e).replace(/(-|_)/g," ").toLowerCase().split(" ").map(s=>s.charAt(0).toUpperCase()+s.slice(1));let n=r.length>0;for(const s of r)if(!s.match(Z6)){n=!1;break}let i=r.join(" ");return n||(i=`"${i.replace(/[\\"]/g,"\\$&")}"`),i}const e8=/^[0-9A-Za-z%:/?#\[\]@!\$&'()\*\+,;=\-._~]*$/;function t8(t){return e8.test(t)?t:encodeURI(t)}const r8={extension:{type:ne.LoadParser,priority:Zn.Low},name:"loadWebFont",test(t){return lu(t,q6)||fo(t,Q6)},async load(t,e){var n,i,s;const r=oe.ADAPTER.getFontFaceSet();if(r){const o=[],a=((n=e.data)==null?void 0:n.family)??J6(t),c=((s=(i=e.data)==null?void 0:i.weights)==null?void 0:s.filter(f=>K6.includes(f)))??["normal"],h=e.data??{};for(let f=0;f<c.length;f++){const p=c[f],m=new FontFace(a,`url(${t8(t)})`,{...h,weight:p});await m.load(),r.add(m),o.push(m)}return o.length===1?o[0]:o}return console.warn("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(t){(Array.isArray(t)?t:[t]).forEach(e=>oe.ADAPTER.getFontFaceSet().delete(e))}};he.add(r8);const n8=`(function() {
  "use strict";
  const WHITE_PNG = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=";
  async function checkImageBitmap() {
    try {
      if (typeof createImageBitmap != "function")
        return !1;
      const imageBlob = await (await fetch(WHITE_PNG)).blob(), imageBitmap = await createImageBitmap(imageBlob);
      return imageBitmap.width === 1 && imageBitmap.height === 1;
    } catch {
      return !1;
    }
  }
  checkImageBitmap().then((result) => {
    self.postMessage(result);
  });
})();
`;let Il=null,N_=class{constructor(){Il||(Il=URL.createObjectURL(new Blob([n8],{type:"application/javascript"}))),this.worker=new Worker(Il)}};N_.revokeObjectURL=function(){Il&&(URL.revokeObjectURL(Il),Il=null)};const i8=`(function() {
  "use strict";
  async function loadImageBitmap(url) {
    const response = await fetch(url);
    if (!response.ok)
      throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \${response.status} \${response.statusText}\`);
    const imageBlob = await response.blob();
    return await createImageBitmap(imageBlob);
  }
  self.onmessage = async (event) => {
    try {
      const imageBitmap = await loadImageBitmap(event.data.data[0]);
      self.postMessage({
        data: imageBitmap,
        uuid: event.data.uuid,
        id: event.data.id
      }, [imageBitmap]);
    } catch (e) {
      self.postMessage({
        error: e,
        uuid: event.data.uuid,
        id: event.data.id
      });
    }
  };
})();
`;let Rl=null;class WO{constructor(){Rl||(Rl=URL.createObjectURL(new Blob([i8],{type:"application/javascript"}))),this.worker=new Worker(Rl)}}WO.revokeObjectURL=function(){Rl&&(URL.revokeObjectURL(Rl),Rl=null)};let TT=0,_y;class s8{constructor(){this._initialized=!1,this._createdWorkers=0,this.workerPool=[],this.queue=[],this.resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(e=>{const{worker:r}=new N_;r.addEventListener("message",n=>{r.terminate(),N_.revokeObjectURL(),e(n.data)})}),this._isImageBitmapSupported)}loadImageBitmap(e){return this._run("loadImageBitmap",[e])}async _initWorkers(){this._initialized||(this._initialized=!0)}getWorker(){_y===void 0&&(_y=navigator.hardwareConcurrency||4);let e=this.workerPool.pop();return!e&&this._createdWorkers<_y&&(this._createdWorkers++,e=new WO().worker,e.addEventListener("message",r=>{this.complete(r.data),this.returnWorker(r.target),this.next()})),e}returnWorker(e){this.workerPool.push(e)}complete(e){e.error!==void 0?this.resolveHash[e.uuid].reject(e.error):this.resolveHash[e.uuid].resolve(e.data),this.resolveHash[e.uuid]=null}async _run(e,r){await this._initWorkers();const n=new Promise((i,s)=>{this.queue.push({id:e,arguments:r,resolve:i,reject:s})});return this.next(),n}next(){if(!this.queue.length)return;const e=this.getWorker();if(!e)return;const r=this.queue.pop(),n=r.id;this.resolveHash[TT]={resolve:r.resolve,reject:r.reject},e.postMessage({data:r.arguments,uuid:TT++,id:n})}}const AT=new s8;function Sh(t,e,r){t.resource.internal=!0;const n=new re(t),i=()=>{delete e.promiseCache[r],Lo.has(r)&&Lo.remove(r)};return n.baseTexture.once("destroyed",()=>{r in e.promiseCache&&(console.warn("[Assets] A BaseTexture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the BaseTexture."),i())}),n.once("destroyed",()=>{t.destroyed||(console.warn("[Assets] A Texture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the Texture."),i())}),n}const o8=[".jpeg",".jpg",".png",".webp",".avif"],a8=["image/jpeg","image/png","image/webp","image/avif"];async function l8(t){const e=await oe.ADAPTER.fetch(t);if(!e.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${t}: ${e.status} ${e.statusText}`);const r=await e.blob();return await createImageBitmap(r)}const Um={name:"loadTextures",extension:{type:ne.LoadParser,priority:Zn.High},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test(t){return lu(t,a8)||fo(t,o8)},async load(t,e,r){var a;const n=globalThis.createImageBitmap&&this.config.preferCreateImageBitmap;let i;n?this.config.preferWorkers&&await AT.isImageBitmapSupported()?i=await AT.loadImageBitmap(t):i=await l8(t):i=await new Promise((c,h)=>{const f=new Image;f.crossOrigin=this.config.crossOrigin,f.src=t,f.complete?c(f):(f.onload=()=>c(f),f.onerror=p=>h(p))});const s={...e.data};s.resolution??(s.resolution=ds(t)),n&&((a=s.resourceOptions)==null?void 0:a.ownsImageBitmap)===void 0&&(s.resourceOptions={...s.resourceOptions},s.resourceOptions.ownsImageBitmap=!0);const o=new Te(i,s);return o.resource.src=t,Sh(o,r,t)},unload(t){t.destroy(!0)}};he.add(Um);const u8=".svg",c8="image/svg+xml",h8={extension:{type:ne.LoadParser,priority:Zn.High},name:"loadSVG",test(t){return lu(t,c8)||fo(t,u8)},async testParse(t){return C_.test(t)},async parse(t,e,r){var s;const n=new C_(t,(s=e==null?void 0:e.data)==null?void 0:s.resourceOptions);await n.load();const i=new Te(n,{resolution:ds(t),...e==null?void 0:e.data});return i.resource.src=e.src,Sh(i,r,e.src)},async load(t,e){return(await oe.ADAPTER.fetch(t)).text()},unload:Um.unload};he.add(h8);const d8=[".mp4",".m4v",".webm",".ogv"],f8=["video/mp4","video/webm","video/ogg"],p8={name:"loadVideo",extension:{type:ne.LoadParser,priority:Zn.High},config:{defaultAutoPlay:!0,defaultUpdateFPS:0,defaultLoop:!1,defaultMuted:!1,defaultPlaysinline:!0},test(t){return lu(t,f8)||fo(t,d8)},async load(t,e,r){var o;let n;const i=await(await oe.ADAPTER.fetch(t)).blob(),s=URL.createObjectURL(i);try{const a={autoPlay:this.config.defaultAutoPlay,updateFPS:this.config.defaultUpdateFPS,loop:this.config.defaultLoop,muted:this.config.defaultMuted,playsinline:this.config.defaultPlaysinline,...(o=e==null?void 0:e.data)==null?void 0:o.resourceOptions,autoLoad:!0},c=new FO(s,a);await c.load();const h=new Te(c,{alphaMode:await UU(),resolution:ds(t),...e==null?void 0:e.data});h.resource.src=t,n=Sh(h,r,t),n.baseTexture.once("destroyed",()=>{URL.revokeObjectURL(s)})}catch(a){throw URL.revokeObjectURL(s),a}return n},unload(t){t.destroy(!0)}};he.add(p8);class m8{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(e,r)=>`${e}${this._bundleIdConnector}${r}`,extractAssetIdFromBundle:(e,r)=>r.replace(`${e}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(e){if(this._bundleIdConnector=e.connector??this._bundleIdConnector,this._createBundleAssetId=e.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=e.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...e){e.forEach(r=>{this._preferredOrder.push(r),r.priority||(r.priority=Object.keys(r.params))}),this._resolverHash={}}set basePath(e){this._basePath=e}get basePath(){return this._basePath}set rootPath(e){this._rootPath=e}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(e){if(typeof e=="string")this._defaultSearchParams=e;else{const r=e;this._defaultSearchParams=Object.keys(r).map(n=>`${encodeURIComponent(n)}=${encodeURIComponent(r[n])}`).join("&")}}getAlias(e){const{alias:r,name:n,src:i,srcs:s}=e;return Ln(r||n||i||s,o=>typeof o=="string"?o:Array.isArray(o)?o.map(a=>(a==null?void 0:a.src)??(a==null?void 0:a.srcs)??a):o!=null&&o.src||o!=null&&o.srcs?o.src??o.srcs:o,!0)}addManifest(e){this._manifest&&console.warn("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach(r=>{this.addBundle(r.name,r.assets)})}addBundle(e,r){const n=[];Array.isArray(r)?r.forEach(i=>{const s=i.src??i.srcs,o=i.alias??i.name;let a;if(typeof o=="string"){const c=this._createBundleAssetId(e,o);n.push(c),a=[o,c]}else{const c=o.map(h=>this._createBundleAssetId(e,h));n.push(...c),a=[...o,...c]}this.add({...i,alias:a,src:s})}):Object.keys(r).forEach(i=>{const s=[i,this._createBundleAssetId(e,i)];if(typeof r[i]=="string")this.add({alias:s,src:r[i]});else if(Array.isArray(r[i]))this.add({alias:s,src:r[i]});else{const o=r[i],a=o.src??o.srcs;this.add({...o,alias:s,src:Array.isArray(a)?a:[a]})}n.push(...s)}),this._bundles[e]=n}add(e,r,n,i,s){const o=[];typeof e=="string"||Array.isArray(e)&&typeof e[0]=="string"?(Oe("7.2.0",`Assets.add now uses an object instead of individual parameters.
Please use Assets.add({ alias, src, data, format, loadParser }) instead.`),o.push({alias:e,src:r,data:n,format:i,loadParser:s})):Array.isArray(e)?o.push(...e):o.push(e);let a;a=c=>{this.hasKey(c)&&console.warn(`[Resolver] already has key: ${c} overwriting`)},Ln(o).forEach(c=>{const{src:h,srcs:f}=c;let{data:p,format:m,loadParser:y}=c;const _=Ln(h||f).map(E=>typeof E=="string"?z6(E):Array.isArray(E)?E:[E]),S=this.getAlias(c);Array.isArray(S)?S.forEach(a):a(S);const A=[];_.forEach(E=>{E.forEach(w=>{let x={};if(typeof w!="object"){x.src=w;for(let T=0;T<this._parsers.length;T++){const P=this._parsers[T];if(P.test(w)){x=P.parse(w);break}}}else p=w.data??p,m=w.format??m,y=w.loadParser??y,x={...x,...w};if(!S)throw new Error(`[Resolver] alias is undefined for this asset: ${x.src}`);x=this.buildResolvedAsset(x,{aliases:S,data:p,format:m,loadParser:y}),A.push(x)})}),S.forEach(E=>{this._assetMap[E]=A})})}resolveBundle(e){const r=$p(e);e=Ln(e);const n={};return e.forEach(i=>{const s=this._bundles[i];if(s){const o=this.resolve(s),a={};for(const c in o){const h=o[c];a[this._extractAssetIdFromBundle(i,c)]=h}n[i]=a}}),r?n[e[0]]:n}resolveUrl(e){const r=this.resolve(e);if(typeof e!="string"){const n={};for(const i in r)n[i]=r[i].src;return n}return r.src}resolve(e){const r=$p(e);e=Ln(e);const n={};return e.forEach(i=>{if(!this._resolverHash[i])if(this._assetMap[i]){let s=this._assetMap[i];const o=s[0],a=this._getPreferredOrder(s);a==null||a.priority.forEach(c=>{a.params[c].forEach(h=>{const f=s.filter(p=>p[c]?p[c]===h:!1);f.length&&(s=f)})}),this._resolverHash[i]=s[0]??o}else this._resolverHash[i]=this.buildResolvedAsset({alias:[i],src:i},{});n[i]=this._resolverHash[i]}),r?n[e[0]]:n}hasKey(e){return!!this._assetMap[e]}hasBundle(e){return!!this._bundles[e]}_getPreferredOrder(e){for(let r=0;r<e.length;r++){const n=e[0],i=this._preferredOrder.find(s=>s.params.format.includes(n.format));if(i)return i}return this._preferredOrder[0]}_appendDefaultSearchParams(e){if(!this._defaultSearchParams)return e;const r=/\?/.test(e)?"&":"?";return`${e}${r}${this._defaultSearchParams}`}buildResolvedAsset(e,r){const{aliases:n,data:i,loadParser:s,format:o}=r;return(this._basePath||this._rootPath)&&(e.src=qt.toAbsolute(e.src,this._basePath,this._rootPath)),e.alias=n??e.alias??[e.src],e.src=this._appendDefaultSearchParams(e.src),e.data={...i||{},...e.data},e.loadParser=s??e.loadParser,e.format=o??e.format??qt.extname(e.src).slice(1),e.srcs=e.src,e.name=e.alias,e}}class g8{constructor(){this._detections=[],this._initialized=!1,this.resolver=new m8,this.loader=new G6,this.cache=Lo,this._backgroundLoader=new U6(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(e={}){var s,o;if(this._initialized){console.warn("[Assets]AssetManager already initialized, did you load before calling this Assets.init()?");return}if(this._initialized=!0,e.defaultSearchParams&&this.resolver.setDefaultSearchParams(e.defaultSearchParams),e.basePath&&(this.resolver.basePath=e.basePath),e.bundleIdentifier&&this.resolver.setBundleIdentifier(e.bundleIdentifier),e.manifest){let a=e.manifest;typeof a=="string"&&(a=await this.load(a)),this.resolver.addManifest(a)}const r=((s=e.texturePreference)==null?void 0:s.resolution)??1,n=typeof r=="number"?[r]:r,i=await this._detectFormats({preferredFormats:(o=e.texturePreference)==null?void 0:o.format,skipDetections:e.skipDetections,detections:this._detections});this.resolver.prefer({params:{format:i,resolution:n}}),e.preferences&&this.setPreferences(e.preferences)}add(e,r,n,i,s){this.resolver.add(e,r,n,i,s)}async load(e,r){this._initialized||await this.init();const n=$p(e),i=Ln(e).map(a=>{if(typeof a!="string"){const c=this.resolver.getAlias(a);return c.some(h=>!this.resolver.hasKey(h))&&this.add(a),Array.isArray(c)?c[0]:c}return this.resolver.hasKey(a)||this.add({alias:a,src:a}),a}),s=this.resolver.resolve(i),o=await this._mapLoadToResolve(s,r);return n?o[i[0]]:o}addBundle(e,r){this.resolver.addBundle(e,r)}async loadBundle(e,r){this._initialized||await this.init();let n=!1;typeof e=="string"&&(n=!0,e=[e]);const i=this.resolver.resolveBundle(e),s={},o=Object.keys(i);let a=0,c=0;const h=()=>{r==null||r(++a/c)},f=o.map(p=>{const m=i[p];return c+=Object.keys(m).length,this._mapLoadToResolve(m,h).then(y=>{s[p]=y})});return await Promise.all(f),n?s[e[0]]:s}async backgroundLoad(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const r=this.resolver.resolve(e);this._backgroundLoader.add(Object.values(r))}async backgroundLoadBundle(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const r=this.resolver.resolveBundle(e);Object.values(r).forEach(n=>{this._backgroundLoader.add(Object.values(n))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(e){if(typeof e=="string")return Lo.get(e);const r={};for(let n=0;n<e.length;n++)r[n]=Lo.get(e[n]);return r}async _mapLoadToResolve(e,r){const n=Object.values(e),i=Object.keys(e);this._backgroundLoader.active=!1;const s=await this.loader.load(n,r);this._backgroundLoader.active=!0;const o={};return n.forEach((a,c)=>{const h=s[a.src],f=[a.src];a.alias&&f.push(...a.alias),o[i[c]]=h,Lo.set(f,h)}),o}async unload(e){this._initialized||await this.init();const r=Ln(e).map(i=>typeof i!="string"?i.src:i),n=this.resolver.resolve(r);await this._unloadFromResolved(n)}async unloadBundle(e){this._initialized||await this.init(),e=Ln(e);const r=this.resolver.resolveBundle(e),n=Object.keys(r).map(i=>this._unloadFromResolved(r[i]));await Promise.all(n)}async _unloadFromResolved(e){const r=Object.values(e);r.forEach(n=>{Lo.remove(n.src)}),await this.loader.unload(r)}async _detectFormats(e){let r=[];e.preferredFormats&&(r=Array.isArray(e.preferredFormats)?e.preferredFormats:[e.preferredFormats]);for(const n of e.detections)e.skipDetections||await n.test()?r=await n.add(r):e.skipDetections||(r=await n.remove(r));return r=r.filter((n,i)=>r.indexOf(n)===i),r}get detections(){return this._detections}get preferWorkers(){return Um.config.preferWorkers}set preferWorkers(e){Oe("7.2.0","Assets.prefersWorkers is deprecated, use Assets.setPreferences({ preferWorkers: true }) instead."),this.setPreferences({preferWorkers:e})}setPreferences(e){this.loader.parsers.forEach(r=>{r.config&&Object.keys(r.config).filter(n=>n in e).forEach(n=>{r.config[n]=e[n]})})}}const Zd=new g8;he.handleByList(ne.LoadParser,Zd.loader.parsers).handleByList(ne.ResolveParser,Zd.resolver.parsers).handleByList(ne.CacheParser,Zd.cache.parsers).handleByList(ne.DetectionParser,Zd.detections);const v8={extension:ne.CacheParser,test:t=>Array.isArray(t)&&t.every(e=>e instanceof re),getCacheableAssets:(t,e)=>{const r={};return t.forEach(n=>{e.forEach((i,s)=>{r[n+(s===0?"":s+1)]=i})}),r}};he.add(v8);async function XO(t){if("Image"in globalThis)return new Promise(e=>{const r=new Image;r.onload=()=>{e(!0)},r.onerror=()=>{e(!1)},r.src=t});if("createImageBitmap"in globalThis&&"fetch"in globalThis){try{const e=await(await fetch(t)).blob();await createImageBitmap(e)}catch{return!1}return!0}return!1}const y8={extension:{type:ne.DetectionParser,priority:1},test:async()=>XO("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="),add:async t=>[...t,"avif"],remove:async t=>t.filter(e=>e!=="avif")};he.add(y8);const _8={extension:{type:ne.DetectionParser,priority:0},test:async()=>XO("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="),add:async t=>[...t,"webp"],remove:async t=>t.filter(e=>e!=="webp")};he.add(_8);const CT=["png","jpg","jpeg"],x8={extension:{type:ne.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async t=>[...t,...CT],remove:async t=>t.filter(e=>!CT.includes(e))};he.add(x8);const b8="WorkerGlobalScope"in globalThis&&globalThis instanceof globalThis.WorkerGlobalScope;function wx(t){return b8?!1:document.createElement("video").canPlayType(t)!==""}const w8={extension:{type:ne.DetectionParser,priority:0},test:async()=>wx("video/webm"),add:async t=>[...t,"webm"],remove:async t=>t.filter(e=>e!=="webm")};he.add(w8);const S8={extension:{type:ne.DetectionParser,priority:0},test:async()=>wx("video/mp4"),add:async t=>[...t,"mp4","m4v"],remove:async t=>t.filter(e=>e!=="mp4"&&e!=="m4v")};he.add(S8);const E8={extension:{type:ne.DetectionParser,priority:0},test:async()=>wx("video/ogg"),add:async t=>[...t,"ogv"],remove:async t=>t.filter(e=>e!=="ogv")};he.add(E8);const T8={extension:ne.ResolveParser,test:Um.test,parse:t=>{var e;return{resolution:parseFloat(((e=oe.RETINA_PREFIX.exec(t))==null?void 0:e[1])??"1"),format:qt.extname(t).slice(1),src:t}}};he.add(T8);const A8=[".xml",".fnt"],C8={extension:{type:ne.LoadParser,priority:Zn.Normal},name:"loadBitmapFont",test(t){return A8.includes(qt.extname(t).toLowerCase())},async testParse(t){return zf.test(t)||k_.test(t)},async parse(t,e,r){const n=zf.test(t)?zf.parse(t):k_.parse(t),{src:i}=e,{page:s}=n,o=[];for(let h=0;h<s.length;++h){const f=s[h].file;let p=qt.join(qt.dirname(i),f);p=D_(p,i),o.push(p)}const a=await r.load(o),c=o.map(h=>a[h]);return Ms.install(n,c,!0)},async load(t,e){return(await oe.ADAPTER.fetch(t)).text()},unload(t){t.destroy()}};he.add(C8);const Gp={build(t){const e=t.points;let r,n,i,s,o,a;if(t.type===rr.CIRC){const _=t.shape;r=_.x,n=_.y,o=a=_.radius,i=s=0}else if(t.type===rr.ELIP){const _=t.shape;r=_.x,n=_.y,o=_.width,a=_.height,i=s=0}else{const _=t.shape,S=_.width/2,A=_.height/2;r=_.x+S,n=_.y+A,o=a=Math.max(0,Math.min(_.radius,Math.min(S,A))),i=S-o,s=A-a}if(!(o>=0&&a>=0&&i>=0&&s>=0)){e.length=0;return}const c=Math.ceil(2.3*Math.sqrt(o+a)),h=c*8+(i?4:0)+(s?4:0);if(e.length=h,h===0)return;if(c===0){e.length=8,e[0]=e[6]=r+i,e[1]=e[3]=n+s,e[2]=e[4]=r-i,e[5]=e[7]=n-s;return}let f=0,p=c*4+(i?2:0)+2,m=p,y=h;{const _=i+o,S=s,A=r+_,E=r-_,w=n+S;if(e[f++]=A,e[f++]=w,e[--p]=w,e[--p]=E,s){const x=n-S;e[m++]=E,e[m++]=x,e[--y]=x,e[--y]=A}}for(let _=1;_<c;_++){const S=Math.PI/2*(_/c),A=i+Math.cos(S)*o,E=s+Math.sin(S)*a,w=r+A,x=r-A,T=n+E,P=n-E;e[f++]=w,e[f++]=T,e[--p]=T,e[--p]=x,e[m++]=x,e[m++]=P,e[--y]=P,e[--y]=w}{const _=i,S=s+a,A=r+_,E=r-_,w=n+S,x=n-S;e[f++]=A,e[f++]=w,e[--y]=x,e[--y]=A,i&&(e[f++]=E,e[f++]=w,e[--y]=x,e[--y]=E)}},triangulate(t,e){const r=t.points,n=e.points,i=e.indices;if(r.length===0)return;let s=n.length/2;const o=s;let a,c;if(t.type!==rr.RREC){const f=t.shape;a=f.x,c=f.y}else{const f=t.shape;a=f.x+f.width/2,c=f.y+f.height/2}const h=t.matrix;n.push(t.matrix?h.a*a+h.c*c+h.tx:a,t.matrix?h.b*a+h.d*c+h.ty:c),s++,n.push(r[0],r[1]);for(let f=2;f<r.length;f+=2)n.push(r[f],r[f+1]),i.push(s++,o,s);i.push(o+1,o,s)}};function PT(t,e=!1){const r=t.length;if(r<6)return;let n=0;for(let i=0,s=t[r-2],o=t[r-1];i<r;i+=2){const a=t[i],c=t[i+1];n+=(a-s)*(c+o),s=a,o=c}if(!e&&n>0||e&&n<=0){const i=r/2;for(let s=i+i%2;s<r;s+=2){const o=r-s-2,a=r-s-1,c=s,h=s+1;[t[o],t[c]]=[t[c],t[o]],[t[a],t[h]]=[t[h],t[a]]}}}const YO={build(t){t.points=t.shape.points.slice()},triangulate(t,e){let r=t.points;const n=t.holes,i=e.points,s=e.indices;if(r.length>=6){PT(r,!1);const o=[];for(let h=0;h<n.length;h++){const f=n[h];PT(f.points,!0),o.push(r.length/2),r=r.concat(f.points)}const a=oL(r,o,2);if(!a)return;const c=i.length/2;for(let h=0;h<a.length;h+=3)s.push(a[h]+c),s.push(a[h+1]+c),s.push(a[h+2]+c);for(let h=0;h<r.length;h++)i.push(r[h])}}},P8={build(t){const e=t.shape,r=e.x,n=e.y,i=e.width,s=e.height,o=t.points;o.length=0,i>=0&&s>=0&&o.push(r,n,r+i,n,r+i,n+s,r,n+s)},triangulate(t,e){const r=t.points,n=e.points;if(r.length===0)return;const i=n.length/2;n.push(r[0],r[1],r[2],r[3],r[6],r[7],r[4],r[5]),e.indices.push(i,i+1,i+2,i+1,i+2,i+3)}},I8={build(t){Gp.build(t)},triangulate(t,e){Gp.triangulate(t,e)}};var cn=(t=>(t.MITER="miter",t.BEVEL="bevel",t.ROUND="round",t))(cn||{}),Vs=(t=>(t.BUTT="butt",t.ROUND="round",t.SQUARE="square",t))(Vs||{});const Kl={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount(t,e=20){if(!this.adaptive||!t||isNaN(t))return e;let r=Math.ceil(t/this.maxLength);return r<this.minSegments?r=this.minSegments:r>this.maxSegments&&(r=this.maxSegments),r}};class IT{static curveTo(e,r,n,i,s,o){const a=o[o.length-2],c=o[o.length-1]-r,h=a-e,f=i-r,p=n-e,m=Math.abs(c*p-h*f);if(m<1e-8||s===0)return(o[o.length-2]!==e||o[o.length-1]!==r)&&o.push(e,r),null;const y=c*c+h*h,_=f*f+p*p,S=c*f+h*p,A=s*Math.sqrt(y)/m,E=s*Math.sqrt(_)/m,w=A*S/y,x=E*S/_,T=A*p+E*h,P=A*f+E*c,M=h*(E+w),R=c*(E+w),D=p*(A+x),V=f*(A+x),W=Math.atan2(R-P,M-T),pe=Math.atan2(V-P,D-T);return{cx:T+e,cy:P+r,radius:s,startAngle:W,endAngle:pe,anticlockwise:h*f>p*c}}static arc(e,r,n,i,s,o,a,c,h){const f=a-o,p=Kl._segmentsCount(Math.abs(f)*s,Math.ceil(Math.abs(f)/Dp)*40),m=f/(p*2),y=m*2,_=Math.cos(m),S=Math.sin(m),A=p-1,E=A%1/A;for(let w=0;w<=A;++w){const x=w+E*w,T=m+o+y*x,P=Math.cos(T),M=-Math.sin(T);h.push((_*P+S*M)*s+n,(_*-M+S*P)*s+i)}}}class R8{constructor(){this.reset()}begin(e,r,n){this.reset(),this.style=e,this.start=r,this.attribStart=n}end(e,r){this.attribSize=r-this.attribStart,this.size=e-this.start}reset(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0}}class Sx{static curveLength(e,r,n,i,s,o,a,c){let h=0,f=0,p=0,m=0,y=0,_=0,S=0,A=0,E=0,w=0,x=0,T=e,P=r;for(let M=1;M<=10;++M)f=M/10,p=f*f,m=p*f,y=1-f,_=y*y,S=_*y,A=S*e+3*_*f*n+3*y*p*s+m*a,E=S*r+3*_*f*i+3*y*p*o+m*c,w=T-A,x=P-E,T=A,P=E,h+=Math.sqrt(w*w+x*x);return h}static curveTo(e,r,n,i,s,o,a){const c=a[a.length-2],h=a[a.length-1];a.length-=2;const f=Kl._segmentsCount(Sx.curveLength(c,h,e,r,n,i,s,o));let p=0,m=0,y=0,_=0,S=0;a.push(c,h);for(let A=1,E=0;A<=f;++A)E=A/f,p=1-E,m=p*p,y=m*p,_=E*E,S=_*E,a.push(y*c+3*m*E*e+3*p*_*n+S*s,y*h+3*m*E*r+3*p*_*i+S*o)}}function RT(t,e,r,n,i,s,o,a){const c=t-r*i,h=e-n*i,f=t+r*s,p=e+n*s;let m,y;o?(m=n,y=-r):(m=-n,y=r);const _=c+m,S=h+y,A=f+m,E=p+y;return a.push(_,S,A,E),2}function Co(t,e,r,n,i,s,o,a){const c=r-t,h=n-e;let f=Math.atan2(c,h),p=Math.atan2(i-t,s-e);a&&f<p?f+=Math.PI*2:!a&&f>p&&(p+=Math.PI*2);let m=f;const y=p-f,_=Math.abs(y),S=Math.sqrt(c*c+h*h),A=(15*_*Math.sqrt(S)/Math.PI>>0)+1,E=y/A;if(m+=E,a){o.push(t,e,r,n);for(let w=1,x=m;w<A;w++,x+=E)o.push(t,e,t+Math.sin(x)*S,e+Math.cos(x)*S);o.push(t,e,i,s)}else{o.push(r,n,t,e);for(let w=1,x=m;w<A;w++,x+=E)o.push(t+Math.sin(x)*S,e+Math.cos(x)*S,t,e);o.push(i,s,t,e)}return A*2}function O8(t,e){const r=t.shape;let n=t.points||r.points.slice();const i=e.closePointEps;if(n.length===0)return;const s=t.lineStyle,o=new Ne(n[0],n[1]),a=new Ne(n[n.length-2],n[n.length-1]),c=r.type!==rr.POLY||r.closeStroke,h=Math.abs(o.x-a.x)<i&&Math.abs(o.y-a.y)<i;if(c){n=n.slice(),h&&(n.pop(),n.pop(),a.set(n[n.length-2],n[n.length-1]));const ae=(o.x+a.x)*.5,O=(a.y+o.y)*.5;n.unshift(ae,O),n.push(ae,O)}const f=e.points,p=n.length/2;let m=n.length;const y=f.length/2,_=s.width/2,S=_*_,A=s.miterLimit*s.miterLimit;let E=n[0],w=n[1],x=n[2],T=n[3],P=0,M=0,R=-(w-T),D=E-x,V=0,W=0,pe=Math.sqrt(R*R+D*D);R/=pe,D/=pe,R*=_,D*=_;const J=s.alignment,B=(1-J)*2,X=J*2;c||(s.cap===Vs.ROUND?m+=Co(E-R*(B-X)*.5,w-D*(B-X)*.5,E-R*B,w-D*B,E+R*X,w+D*X,f,!0)+2:s.cap===Vs.SQUARE&&(m+=RT(E,w,R,D,B,X,!0,f))),f.push(E-R*B,w-D*B,E+R*X,w+D*X);for(let ae=1;ae<p-1;++ae){E=n[(ae-1)*2],w=n[(ae-1)*2+1],x=n[ae*2],T=n[ae*2+1],P=n[(ae+1)*2],M=n[(ae+1)*2+1],R=-(w-T),D=E-x,pe=Math.sqrt(R*R+D*D),R/=pe,D/=pe,R*=_,D*=_,V=-(T-M),W=x-P,pe=Math.sqrt(V*V+W*W),V/=pe,W/=pe,V*=_,W*=_;const O=x-E,$=w-T,N=x-P,U=M-T,Z=O*N+$*U,Ee=$*N-U*O,be=Ee<0;if(Math.abs(Ee)<.001*Math.abs(Z)){f.push(x-R*B,T-D*B,x+R*X,T+D*X),Z>=0&&(s.join===cn.ROUND?m+=Co(x,T,x-R*B,T-D*B,x-V*B,T-W*B,f,!1)+4:m+=2,f.push(x-V*X,T-W*X,x+V*B,T+W*B));continue}const Fe=(-R+E)*(-D+T)-(-R+x)*(-D+w),Se=(-V+P)*(-W+T)-(-V+x)*(-W+M),ke=(O*Se-N*Fe)/Ee,ct=(U*Fe-$*Se)/Ee,rt=(ke-x)*(ke-x)+(ct-T)*(ct-T),Qe=x+(ke-x)*B,Ae=T+(ct-T)*B,Le=x-(ke-x)*X,Ge=T-(ct-T)*X,Jr=Math.min(O*O+$*$,N*N+U*U),en=be?B:X,mo=Jr+en*en*S,jm=rt<=mo;let va=s.join;if(va===cn.MITER&&rt/S>A&&(va=cn.BEVEL),jm)switch(va){case cn.MITER:{f.push(Qe,Ae,Le,Ge);break}case cn.BEVEL:{be?f.push(Qe,Ae,x+R*X,T+D*X,Qe,Ae,x+V*X,T+W*X):f.push(x-R*B,T-D*B,Le,Ge,x-V*B,T-W*B,Le,Ge),m+=2;break}case cn.ROUND:{be?(f.push(Qe,Ae,x+R*X,T+D*X),m+=Co(x,T,x+R*X,T+D*X,x+V*X,T+W*X,f,!0)+4,f.push(Qe,Ae,x+V*X,T+W*X)):(f.push(x-R*B,T-D*B,Le,Ge),m+=Co(x,T,x-R*B,T-D*B,x-V*B,T-W*B,f,!1)+4,f.push(x-V*B,T-W*B,Le,Ge));break}}else{switch(f.push(x-R*B,T-D*B,x+R*X,T+D*X),va){case cn.MITER:{be?f.push(Le,Ge,Le,Ge):f.push(Qe,Ae,Qe,Ae),m+=2;break}case cn.ROUND:{be?m+=Co(x,T,x+R*X,T+D*X,x+V*X,T+W*X,f,!0)+2:m+=Co(x,T,x-R*B,T-D*B,x-V*B,T-W*B,f,!1)+2;break}}f.push(x-V*B,T-W*B,x+V*X,T+W*X),m+=2}}E=n[(p-2)*2],w=n[(p-2)*2+1],x=n[(p-1)*2],T=n[(p-1)*2+1],R=-(w-T),D=E-x,pe=Math.sqrt(R*R+D*D),R/=pe,D/=pe,R*=_,D*=_,f.push(x-R*B,T-D*B,x+R*X,T+D*X),c||(s.cap===Vs.ROUND?m+=Co(x-R*(B-X)*.5,T-D*(B-X)*.5,x-R*B,T-D*B,x+R*X,T+D*X,f,!1)+2:s.cap===Vs.SQUARE&&(m+=RT(x,T,R,D,B,X,!1,f)));const ie=e.indices,me=Kl.epsilon*Kl.epsilon;for(let ae=y;ae<m+y-2;++ae)E=f[ae*2],w=f[ae*2+1],x=f[(ae+1)*2],T=f[(ae+1)*2+1],P=f[(ae+2)*2],M=f[(ae+2)*2+1],!(Math.abs(E*(T-M)+x*(M-w)+P*(w-T))<me)&&ie.push(ae,ae+1,ae+2)}function M8(t,e){let r=0;const n=t.shape,i=t.points||n.points,s=n.type!==rr.POLY||n.closeStroke;if(i.length===0)return;const o=e.points,a=e.indices,c=i.length/2,h=o.length/2;let f=h;for(o.push(i[0],i[1]),r=1;r<c;r++)o.push(i[r*2],i[r*2+1]),a.push(f,f+1),f++;s&&a.push(f,h)}function OT(t,e){t.lineStyle.native?M8(t,e):O8(t,e)}class Ex{static curveLength(e,r,n,i,s,o){const a=e-2*n+s,c=r-2*i+o,h=2*n-2*e,f=2*i-2*r,p=4*(a*a+c*c),m=4*(a*h+c*f),y=h*h+f*f,_=2*Math.sqrt(p+m+y),S=Math.sqrt(p),A=2*p*S,E=2*Math.sqrt(y),w=m/S;return(A*_+S*m*(_-E)+(4*y*p-m*m)*Math.log((2*S+w+_)/(w+E)))/(4*A)}static curveTo(e,r,n,i,s){const o=s[s.length-2],a=s[s.length-1],c=Kl._segmentsCount(Ex.curveLength(o,a,e,r,n,i));let h=0,f=0;for(let p=1;p<=c;++p){const m=p/c;h=o+(e-o)*m,f=a+(r-a)*m,s.push(h+(e+(n-e)*m-h)*m,f+(r+(i-r)*m-f)*m)}}}const xy={[rr.POLY]:YO,[rr.CIRC]:Gp,[rr.ELIP]:Gp,[rr.RECT]:P8,[rr.RREC]:I8},MT=[],Jd=[];class jp{constructor(e,r=null,n=null,i=null){this.points=[],this.holes=[],this.shape=e,this.lineStyle=n,this.fillStyle=r,this.matrix=i,this.type=e.type}clone(){return new jp(this.shape,this.fillStyle,this.lineStyle,this.matrix)}destroy(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null}}const $a=new Ne,KO=class QO extends eO{constructor(){super(),this.closePointEps=1e-4,this.boundsPadding=0,this.uvsFloat32=null,this.indicesUint16=null,this.batchable=!1,this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.drawCalls=[],this.batchDirty=-1,this.batches=[],this.dirty=0,this.cacheDirty=-1,this.clearDirty=0,this.shapeIndex=0,this._bounds=new Up,this.boundsDirty=-1}get bounds(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds}invalidate(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(let e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),Jd.push(this.drawCalls[e]);this.drawCalls.length=0;for(let e=0;e<this.batches.length;e++){const r=this.batches[e];r.reset(),MT.push(r)}this.batches.length=0}clear(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this}drawShape(e,r=null,n=null,i=null){const s=new jp(e,r,n,i);return this.graphicsData.push(s),this.dirty++,this}drawHole(e,r=null){if(!this.graphicsData.length)return null;const n=new jp(e,null,null,r),i=this.graphicsData[this.graphicsData.length-1];return n.lineStyle=i.lineStyle,i.holes.push(n),this.dirty++,this}destroy(){super.destroy();for(let e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null}containsPoint(e){const r=this.graphicsData;for(let n=0;n<r.length;++n){const i=r[n];if(i.fillStyle.visible&&i.shape&&(i.matrix?i.matrix.applyInverse(e,$a):$a.copyFrom(e),i.shape.contains($a.x,$a.y))){let s=!1;if(i.holes){for(let o=0;o<i.holes.length;o++)if(i.holes[o].shape.contains($a.x,$a.y)){s=!0;break}}if(!s)return!0}}return!1}updateBatches(){if(!this.graphicsData.length){this.batchable=!0;return}if(!this.validateBatching())return;this.cacheDirty=this.dirty;const e=this.uvs,r=this.graphicsData;let n=null,i=null;this.batches.length>0&&(n=this.batches[this.batches.length-1],i=n.style);for(let c=this.shapeIndex;c<r.length;c++){this.shapeIndex++;const h=r[c],f=h.fillStyle,p=h.lineStyle;xy[h.type].build(h),h.matrix&&this.transformPoints(h.points,h.matrix),(f.visible||p.visible)&&this.processHoles(h.holes);for(let m=0;m<2;m++){const y=m===0?f:p;if(!y.visible)continue;const _=y.texture.baseTexture,S=this.indices.length,A=this.points.length/2;_.wrapMode=ss.REPEAT,m===0?this.processFill(h):this.processLine(h);const E=this.points.length/2-A;E!==0&&(n&&!this._compareStyles(i,y)&&(n.end(S,A),n=null),n||(n=MT.pop()||new R8,n.begin(y,S,A),this.batches.push(n),i=y),this.addUvs(this.points,e,y.texture,A,E,y.matrix))}}const s=this.indices.length,o=this.points.length/2;if(n&&n.end(s,o),this.batches.length===0){this.batchable=!0;return}const a=o>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&a===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=a?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}_compareStyles(e,r){return!(!e||!r||e.texture.baseTexture!==r.texture.baseTexture||e.color+e.alpha!==r.color+r.alpha||!!e.native!=!!r.native)}validateBatching(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(let e=0,r=this.graphicsData.length;e<r;e++){const n=this.graphicsData[e],i=n.fillStyle,s=n.lineStyle;if(i&&!i.texture.baseTexture.valid||s&&!s.texture.baseTexture.valid)return!1}return!0}packBatches(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);const e=this.batches;for(let r=0,n=e.length;r<n;r++){const i=e[r];for(let s=0;s<i.size;s++){const o=i.start+s;this.indicesUint16[o]=this.indicesUint16[o]-i.attribStart}}}isBatchable(){if(this.points.length>65535*2)return!1;const e=this.batches;for(let r=0;r<e.length;r++)if(e[r].style.native)return!1;return this.points.length<QO.BATCHABLE_SIZE*2}buildDrawCalls(){let e=++Te._globalBatch;for(let p=0;p<this.drawCalls.length;p++)this.drawCalls[p].texArray.clear(),Jd.push(this.drawCalls[p]);this.drawCalls.length=0;const r=this.colors,n=this.textureIds;let i=Jd.pop();i||(i=new v_,i.texArray=new b_),i.texArray.count=0,i.start=0,i.size=0,i.type=Un.TRIANGLES;let s=0,o=null,a=0,c=!1,h=Un.TRIANGLES,f=0;this.drawCalls.push(i);for(let p=0;p<this.batches.length;p++){const m=this.batches[p],y=8,_=m.style,S=_.texture.baseTexture;c!==!!_.native&&(c=!!_.native,h=c?Un.LINES:Un.TRIANGLES,o=null,s=y,e++),o!==S&&(o=S,S._batchEnabled!==e&&(s===y&&(e++,s=0,i.size>0&&(i=Jd.pop(),i||(i=new v_,i.texArray=new b_),this.drawCalls.push(i)),i.start=f,i.size=0,i.texArray.count=0,i.type=h),S.touched=1,S._batchEnabled=e,S._batchLocation=s,S.wrapMode=ss.REPEAT,i.texArray.elements[i.texArray.count++]=S,s++)),i.size+=m.size,f+=m.size,a=S._batchLocation,this.addColors(r,_.color,_.alpha,m.attribSize,m.attribStart),this.addTextureIds(n,a,m.attribSize,m.attribStart)}Te._globalBatch=e,this.packAttributes()}packAttributes(){const e=this.points,r=this.uvs,n=this.colors,i=this.textureIds,s=new ArrayBuffer(e.length*3*4),o=new Float32Array(s),a=new Uint32Array(s);let c=0;for(let h=0;h<e.length/2;h++)o[c++]=e[h*2],o[c++]=e[h*2+1],o[c++]=r[h*2],o[c++]=r[h*2+1],a[c++]=n[h],o[c++]=i[h];this._buffer.update(s),this._indexBuffer.update(this.indicesUint16)}processFill(e){e.holes.length?YO.triangulate(e,this):xy[e.type].triangulate(e,this)}processLine(e){OT(e,this);for(let r=0;r<e.holes.length;r++)OT(e.holes[r],this)}processHoles(e){for(let r=0;r<e.length;r++){const n=e[r];xy[n.type].build(n),n.matrix&&this.transformPoints(n.points,n.matrix)}}calculateBounds(){const e=this._bounds;e.clear(),e.addVertexData(this.points,0,this.points.length),e.pad(this.boundsPadding,this.boundsPadding)}transformPoints(e,r){for(let n=0;n<e.length/2;n++){const i=e[n*2],s=e[n*2+1];e[n*2]=r.a*i+r.c*s+r.tx,e[n*2+1]=r.b*i+r.d*s+r.ty}}addColors(e,r,n,i,s=0){const o=Je.shared.setValue(r).toLittleEndianNumber(),a=Je.shared.setValue(o).toPremultiplied(n);e.length=Math.max(e.length,s+i);for(let c=0;c<i;c++)e[s+c]=a}addTextureIds(e,r,n,i=0){e.length=Math.max(e.length,i+n);for(let s=0;s<n;s++)e[i+s]=r}addUvs(e,r,n,i,s,o=null){let a=0;const c=r.length,h=n.frame;for(;a<s;){let p=e[(i+a)*2],m=e[(i+a)*2+1];if(o){const y=o.a*p+o.c*m+o.tx;m=o.b*p+o.d*m+o.ty,p=y}a++,r.push(p/h.width,m/h.height)}const f=n.baseTexture;(h.width<f.width||h.height<f.height)&&this.adjustUvs(r,n,c,s)}adjustUvs(e,r,n,i){const s=r.baseTexture,o=1e-6,a=n+i*2,c=r.frame,h=c.width/s.width,f=c.height/s.height;let p=c.x/c.width,m=c.y/c.height,y=Math.floor(e[n]+o),_=Math.floor(e[n+1]+o);for(let S=n+2;S<a;S+=2)y=Math.min(y,Math.floor(e[S]+o)),_=Math.min(_,Math.floor(e[S+1]+o));p-=y,m-=_;for(let S=n;S<a;S+=2)e[S]=(e[S]+p)*h,e[S+1]=(e[S+1]+m)*f}};KO.BATCHABLE_SIZE=100;let k8=KO;class zm{constructor(){this.color=16777215,this.alpha=1,this.texture=re.WHITE,this.matrix=null,this.visible=!1,this.reset()}clone(){const e=new zm;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e}reset(){this.color=16777215,this.alpha=1,this.texture=re.WHITE,this.matrix=null,this.visible=!1}destroy(){this.texture=null,this.matrix=null}}class Tx extends zm{constructor(){super(...arguments),this.width=0,this.alignment=.5,this.native=!1,this.cap=Vs.BUTT,this.join=cn.MITER,this.miterLimit=10}clone(){const e=new Tx;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e}reset(){super.reset(),this.color=0,this.alignment=.5,this.width=0,this.native=!1,this.cap=Vs.BUTT,this.join=cn.MITER,this.miterLimit=10}}const by={},F_=class Gf extends wr{constructor(e=null){super(),this.shader=null,this.pluginName="batch",this.currentPath=null,this.batches=[],this.batchTint=-1,this.batchDirty=-1,this.vertexData=null,this._fillStyle=new zm,this._lineStyle=new Tx,this._matrix=null,this._holeMode=!1,this.state=Bi.for2d(),this._geometry=e||new k8,this._geometry.refCount++,this._transformID=-1,this._tintColor=new Je(16777215),this.blendMode=_e.NORMAL}get geometry(){return this._geometry}clone(){return this.finishPoly(),new Gf(this._geometry)}set blendMode(e){this.state.blendMode=e}get blendMode(){return this.state.blendMode}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e)}get fill(){return this._fillStyle}get line(){return this._lineStyle}lineStyle(e=null,r=0,n,i=.5,s=!1){return typeof e=="number"&&(e={width:e,color:r,alpha:n,alignment:i,native:s}),this.lineTextureStyle(e)}lineTextureStyle(e){const r={width:0,texture:re.WHITE,color:e!=null&&e.texture?16777215:0,matrix:null,alignment:.5,native:!1,cap:Vs.BUTT,join:cn.MITER,miterLimit:10};e=Object.assign(r,e),this.normalizeColor(e),this.currentPath&&this.startPoly();const n=e.width>0&&e.alpha>0;return n?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._lineStyle,{visible:n},e)):this._lineStyle.reset(),this}startPoly(){if(this.currentPath){const e=this.currentPath.points,r=this.currentPath.points.length;r>2&&(this.drawShape(this.currentPath),this.currentPath=new Qo,this.currentPath.closeStroke=!1,this.currentPath.points.push(e[r-2],e[r-1]))}else this.currentPath=new Qo,this.currentPath.closeStroke=!1}finishPoly(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)}moveTo(e,r){return this.startPoly(),this.currentPath.points[0]=e,this.currentPath.points[1]=r,this}lineTo(e,r){this.currentPath||this.moveTo(0,0);const n=this.currentPath.points,i=n[n.length-2],s=n[n.length-1];return(i!==e||s!==r)&&n.push(e,r),this}_initCurve(e=0,r=0){this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[e,r]):this.moveTo(e,r)}quadraticCurveTo(e,r,n,i){this._initCurve();const s=this.currentPath.points;return s.length===0&&this.moveTo(0,0),Ex.curveTo(e,r,n,i,s),this}bezierCurveTo(e,r,n,i,s,o){return this._initCurve(),Sx.curveTo(e,r,n,i,s,o,this.currentPath.points),this}arcTo(e,r,n,i,s){this._initCurve(e,r);const o=this.currentPath.points,a=IT.curveTo(e,r,n,i,s,o);if(a){const{cx:c,cy:h,radius:f,startAngle:p,endAngle:m,anticlockwise:y}=a;this.arc(c,h,f,p,m,y)}return this}arc(e,r,n,i,s,o=!1){if(i===s)return this;if(!o&&s<=i?s+=Dp:o&&i<=s&&(i+=Dp),s-i===0)return this;const a=e+Math.cos(i)*n,c=r+Math.sin(i)*n,h=this._geometry.closePointEps;let f=this.currentPath?this.currentPath.points:null;if(f){const p=Math.abs(f[f.length-2]-a),m=Math.abs(f[f.length-1]-c);p<h&&m<h||f.push(a,c)}else this.moveTo(a,c),f=this.currentPath.points;return IT.arc(a,c,e,r,n,i,s,o,f),this}beginFill(e=0,r){return this.beginTextureFill({texture:re.WHITE,color:e,alpha:r})}normalizeColor(e){const r=Je.shared.setValue(e.color??0);e.color=r.toNumber(),e.alpha??(e.alpha=r.alpha)}beginTextureFill(e){const r={texture:re.WHITE,color:16777215,matrix:null};e=Object.assign(r,e),this.normalizeColor(e),this.currentPath&&this.startPoly();const n=e.alpha>0;return n?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._fillStyle,{visible:n},e)):this._fillStyle.reset(),this}endFill(){return this.finishPoly(),this._fillStyle.reset(),this}drawRect(e,r,n,i){return this.drawShape(new Ce(e,r,n,i))}drawRoundedRect(e,r,n,i,s){return this.drawShape(new Dm(e,r,n,i,s))}drawCircle(e,r,n){return this.drawShape(new Mm(e,r,n))}drawEllipse(e,r,n,i){return this.drawShape(new km(e,r,n,i))}drawPolygon(...e){let r,n=!0;const i=e[0];i.points?(n=i.closeStroke,r=i.points):Array.isArray(e[0])?r=e[0]:r=e;const s=new Qo(r);return s.closeStroke=n,this.drawShape(s),this}drawShape(e){return this._holeMode?this._geometry.drawHole(e,this._matrix):this._geometry.drawShape(e,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this}clear(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this}isFastRect(){const e=this._geometry.graphicsData;return e.length===1&&e[0].shape.type===rr.RECT&&!e[0].matrix&&!e[0].holes.length&&!(e[0].lineStyle.visible&&e[0].lineStyle.width)}_render(e){this.finishPoly();const r=this._geometry;r.updateBatches(),r.batchable?(this.batchDirty!==r.batchDirty&&this._populateBatches(),this._renderBatched(e)):(e.batch.flush(),this._renderDirect(e))}_populateBatches(){const e=this._geometry,r=this.blendMode,n=e.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=e.batchDirty,this.batches.length=n,this.vertexData=new Float32Array(e.points);for(let i=0;i<n;i++){const s=e.batches[i],o=s.style.color,a=new Float32Array(this.vertexData.buffer,s.attribStart*4*2,s.attribSize*2),c=new Float32Array(e.uvsFloat32.buffer,s.attribStart*4*2,s.attribSize*2),h=new Uint16Array(e.indicesUint16.buffer,s.start*2,s.size),f={vertexData:a,blendMode:r,indices:h,uvs:c,_batchRGB:Je.shared.setValue(o).toRgbArray(),_tintRGB:o,_texture:s.style.texture,alpha:s.style.alpha,worldAlpha:1};this.batches[i]=f}}_renderBatched(e){if(this.batches.length){e.batch.setObjectRenderer(e.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(let r=0,n=this.batches.length;r<n;r++){const i=this.batches[r];i.worldAlpha=this.worldAlpha*i.alpha,e.plugins[this.pluginName].render(i)}}}_renderDirect(e){const r=this._resolveDirectShader(e),n=this._geometry,i=this.worldAlpha,s=r.uniforms,o=n.drawCalls;s.translationMatrix=this.transform.worldTransform,Je.shared.setValue(this._tintColor).premultiply(i).toArray(s.tint),e.shader.bind(r),e.geometry.bind(n,r),e.state.set(this.state);for(let a=0,c=o.length;a<c;a++)this._renderDrawCallDirect(e,n.drawCalls[a])}_renderDrawCallDirect(e,r){const{texArray:n,type:i,size:s,start:o}=r,a=n.count;for(let c=0;c<a;c++)e.texture.bind(n.elements[c],c);e.geometry.draw(i,s,o)}_resolveDirectShader(e){let r=this.shader;const n=this.pluginName;if(!r){if(!by[n]){const{maxTextures:i}=e.plugins[n],s=new Int32Array(i);for(let c=0;c<i;c++)s[c]=c;const o={tint:new Float32Array([1,1,1,1]),translationMatrix:new ut,default:Xn.from({uSamplers:s},!0)},a=e.plugins[n]._shader.program;by[n]=new Mi(a,o)}r=by[n]}return r}_calculateBounds(){this.finishPoly();const e=this._geometry;if(!e.graphicsData.length)return;const{minX:r,minY:n,maxX:i,maxY:s}=e.bounds;this._bounds.addFrame(this.transform,r,n,i,s)}containsPoint(e){return this.worldTransform.applyInverse(e,Gf._TEMP_POINT),this._geometry.containsPoint(Gf._TEMP_POINT)}calculateTints(){if(this.batchTint!==this.tint){this.batchTint=this._tintColor.toNumber();for(let e=0;e<this.batches.length;e++){const r=this.batches[e];r._tintRGB=Je.shared.setValue(this._tintColor).multiply(r._batchRGB).toLittleEndianNumber()}}}calculateVertices(){const e=this.transform._worldID;if(this._transformID===e)return;this._transformID=e;const r=this.transform.worldTransform,n=r.a,i=r.b,s=r.c,o=r.d,a=r.tx,c=r.ty,h=this._geometry.points,f=this.vertexData;let p=0;for(let m=0;m<h.length;m+=2){const y=h[m],_=h[m+1];f[p++]=n*y+s*_+a,f[p++]=o*_+i*y+c}}closePath(){const e=this.currentPath;return e&&(e.closeStroke=!0,this.finishPoly()),this}setMatrix(e){return this._matrix=e,this}beginHole(){return this.finishPoly(),this._holeMode=!0,this}endHole(){return this.finishPoly(),this._holeMode=!1,this}destroy(e){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,super.destroy(e)}};F_.curves=Kl,F_._TEMP_POINT=new Ne;let Tc=F_;class D8 extends Lm{constructor(e=100,r=100,n=10,i=10){super(),this.segWidth=n,this.segHeight=i,this.width=e,this.height=r,this.build()}build(){const e=this.segWidth*this.segHeight,r=[],n=[],i=[],s=this.segWidth-1,o=this.segHeight-1,a=this.width/s,c=this.height/o;for(let f=0;f<e;f++){const p=f%this.segWidth,m=f/this.segWidth|0;r.push(p*a,m*c),n.push(p/s,m/o)}const h=s*o;for(let f=0;f<h;f++){const p=f%s,m=f/s|0,y=m*this.segWidth+p,_=m*this.segWidth+p+1,S=(m+1)*this.segWidth+p,A=(m+1)*this.segWidth+p+1;i.push(y,_,S,_,A,S)}this.buffers[0].data=new Float32Array(r),this.buffers[1].data=new Float32Array(n),this.indexBuffer.data=new Uint16Array(i),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()}}class N8 extends Lm{constructor(e=200,r,n=0){super(new Float32Array(r.length*4),new Float32Array(r.length*4),new Uint16Array((r.length-1)*6)),this.points=r,this._width=e,this.textureScale=n,this.build()}get width(){return this._width}build(){const e=this.points;if(!e)return;const r=this.getBuffer("aVertexPosition"),n=this.getBuffer("aTextureCoord"),i=this.getIndex();if(e.length<1)return;r.data.length/4!==e.length&&(r.data=new Float32Array(e.length*4),n.data=new Float32Array(e.length*4),i.data=new Uint16Array((e.length-1)*6));const s=n.data,o=i.data;s[0]=0,s[1]=0,s[2]=0,s[3]=1;let a=0,c=e[0];const h=this._width*this.textureScale,f=e.length;for(let m=0;m<f;m++){const y=m*4;if(this.textureScale>0){const _=c.x-e[m].x,S=c.y-e[m].y,A=Math.sqrt(_*_+S*S);c=e[m],a+=A/h}else a=m/(f-1);s[y]=a,s[y+1]=0,s[y+2]=a,s[y+3]=1}let p=0;for(let m=0;m<f-1;m++){const y=m*2;o[p++]=y,o[p++]=y+1,o[p++]=y+2,o[p++]=y+2,o[p++]=y+1,o[p++]=y+3}n.update(),i.update(),this.updateVertices()}updateVertices(){const e=this.points;if(e.length<1)return;let r=e[0],n,i=0,s=0;const o=this.buffers[0].data,a=e.length,c=this.textureScale>0?this.textureScale*this._width/2:this._width/2;for(let h=0;h<a;h++){const f=e[h],p=h*4;h<e.length-1?n=e[h+1]:n=f,s=-(n.x-r.x),i=n.y-r.y;const m=Math.sqrt(i*i+s*s);m<1e-6?(i=0,s=0):(i/=m,s/=m,i*=c,s*=c),o[p]=f.x+i,o[p+1]=f.y+s,o[p+2]=f.x-i,o[p+3]=f.y-s,r=f}this.buffers[0].update()}update(){this.textureScale>0?this.build():this.updateVertices()}}class F8 extends eh{constructor(e,r,n){const i=new D8(e.width,e.height,r,n),s=new th(re.WHITE);super(i,s),this.texture=e,this.autoResize=!0}textureUpdated(){this._textureID=this.shader.texture._updateID;const e=this.geometry,{width:r,height:n}=this.shader.texture;this.autoResize&&(e.width!==r||e.height!==n)&&(e.width=this.shader.texture.width,e.height=this.shader.texture.height,e.build())}set texture(e){this.shader.texture!==e&&(this.shader.texture=e,this._textureID=-1,e.baseTexture.valid?this.textureUpdated():e.once("update",this.textureUpdated,this))}get texture(){return this.shader.texture}_render(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),super._render(e)}destroy(e){this.shader.texture.off("update",this.textureUpdated,this),super.destroy(e)}}const ef=10;class B8 extends F8{constructor(e,r,n,i,s){var o,a,c,h;super(re.WHITE,4,4),this._origWidth=e.orig.width,this._origHeight=e.orig.height,this._width=this._origWidth,this._height=this._origHeight,this._leftWidth=r??((o=e.defaultBorders)==null?void 0:o.left)??ef,this._rightWidth=i??((a=e.defaultBorders)==null?void 0:a.right)??ef,this._topHeight=n??((c=e.defaultBorders)==null?void 0:c.top)??ef,this._bottomHeight=s??((h=e.defaultBorders)==null?void 0:h.bottom)??ef,this.texture=e}textureUpdated(){this._textureID=this.shader.texture._updateID,this._refresh()}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}updateHorizontalVertices(){const e=this.vertices,r=this._getMinScale();e[9]=e[11]=e[13]=e[15]=this._topHeight*r,e[17]=e[19]=e[21]=e[23]=this._height-this._bottomHeight*r,e[25]=e[27]=e[29]=e[31]=this._height}updateVerticalVertices(){const e=this.vertices,r=this._getMinScale();e[2]=e[10]=e[18]=e[26]=this._leftWidth*r,e[4]=e[12]=e[20]=e[28]=this._width-this._rightWidth*r,e[6]=e[14]=e[22]=e[30]=this._width}_getMinScale(){const e=this._leftWidth+this._rightWidth,r=this._width>e?1:this._width/e,n=this._topHeight+this._bottomHeight,i=this._height>n?1:this._height/n;return Math.min(r,i)}get width(){return this._width}set width(e){this._width=e,this._refresh()}get height(){return this._height}set height(e){this._height=e,this._refresh()}get leftWidth(){return this._leftWidth}set leftWidth(e){this._leftWidth=e,this._refresh()}get rightWidth(){return this._rightWidth}set rightWidth(e){this._rightWidth=e,this._refresh()}get topHeight(){return this._topHeight}set topHeight(e){this._topHeight=e,this._refresh()}get bottomHeight(){return this._bottomHeight}set bottomHeight(e){this._bottomHeight=e,this._refresh()}_refresh(){const e=this.texture,r=this.geometry.buffers[1].data;this._origWidth=e.orig.width,this._origHeight=e.orig.height;const n=1/this._origWidth,i=1/this._origHeight;r[0]=r[8]=r[16]=r[24]=0,r[1]=r[3]=r[5]=r[7]=0,r[6]=r[14]=r[22]=r[30]=1,r[25]=r[27]=r[29]=r[31]=1,r[2]=r[10]=r[18]=r[26]=n*this._leftWidth,r[4]=r[12]=r[20]=r[28]=1-n*this._rightWidth,r[9]=r[11]=r[13]=r[15]=i*this._topHeight,r[17]=r[19]=r[21]=r[23]=1-i*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()}}class L8 extends eh{constructor(e=re.EMPTY,r,n,i,s){const o=new Lm(r,n,i);o.getBuffer("aVertexPosition").static=!1;const a=new th(e);super(o,a,null,s),this.autoUpdate=!0}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}_render(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),super._render(e)}}class U8 extends eh{constructor(e,r,n=0){const i=new N8(e.height,r,n),s=new th(e);n>0&&(e.baseTexture.wrapMode=ss.REPEAT),super(i,s),this.autoUpdate=!0}_render(e){const r=this.geometry;(this.autoUpdate||r._width!==this.shader.texture.height)&&(r._width=this.shader.texture.height,r.update()),super._render(e)}}class z8 extends wr{constructor(e=1500,r,n=16384,i=!1){super();const s=16384;n>s&&(n=s),this._properties=[!1,!0,!1,!1,!1],this._maxSize=e,this._batchSize=n,this._buffers=null,this._bufferUpdateIDs=[],this._updateID=0,this.interactiveChildren=!1,this.blendMode=_e.NORMAL,this.autoResize=i,this.roundPixels=!0,this.baseTexture=null,this.setProperties(r),this._tintColor=new Je(0),this.tintRgb=new Float32Array(3),this.tint=16777215}setProperties(e){e&&(this._properties[0]="vertices"in e||"scale"in e?!!e.vertices||!!e.scale:this._properties[0],this._properties[1]="position"in e?!!e.position:this._properties[1],this._properties[2]="rotation"in e?!!e.rotation:this._properties[2],this._properties[3]="uvs"in e?!!e.uvs:this._properties[3],this._properties[4]="tint"in e||"alpha"in e?!!e.tint||!!e.alpha:this._properties[4])}updateTransform(){this.displayObjectUpdateTransform()}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintColor.toRgbArray(this.tintRgb)}render(e){!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",()=>this.onChildrenChange(0))),e.batch.setObjectRenderer(e.plugins.particle),e.plugins.particle.render(this))}onChildrenChange(e){const r=Math.floor(e/this._batchSize);for(;this._bufferUpdateIDs.length<r;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[r]=++this._updateID}dispose(){if(this._buffers){for(let e=0;e<this._buffers.length;++e)this._buffers[e].destroy();this._buffers=null}}destroy(e){super.destroy(e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null}}class kT{constructor(e,r,n){this.geometry=new io,this.indexBuffer=null,this.size=n,this.dynamicProperties=[],this.staticProperties=[];for(let i=0;i<e.length;++i){let s=e[i];s={attributeName:s.attributeName,size:s.size,uploadFunction:s.uploadFunction,type:s.type||ge.FLOAT,offset:s.offset},r[i]?this.dynamicProperties.push(s):this.staticProperties.push(s)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}initBuffers(){const e=this.geometry;let r=0;this.indexBuffer=new It(JU(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(let o=0;o<this.dynamicProperties.length;++o){const a=this.dynamicProperties[o];a.offset=r,r+=a.size,this.dynamicStride+=a.size}const n=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(n),this.dynamicDataUint32=new Uint32Array(n),this.dynamicBuffer=new It(this.dynamicData,!1,!1);let i=0;this.staticStride=0;for(let o=0;o<this.staticProperties.length;++o){const a=this.staticProperties[o];a.offset=i,i+=a.size,this.staticStride+=a.size}const s=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(s),this.staticDataUint32=new Uint32Array(s),this.staticBuffer=new It(this.staticData,!0,!1);for(let o=0;o<this.dynamicProperties.length;++o){const a=this.dynamicProperties[o];e.addAttribute(a.attributeName,this.dynamicBuffer,0,a.type===ge.UNSIGNED_BYTE,a.type,this.dynamicStride*4,a.offset*4)}for(let o=0;o<this.staticProperties.length;++o){const a=this.staticProperties[o];e.addAttribute(a.attributeName,this.staticBuffer,0,a.type===ge.UNSIGNED_BYTE,a.type,this.staticStride*4,a.offset*4)}}uploadDynamic(e,r,n){for(let i=0;i<this.dynamicProperties.length;i++){const s=this.dynamicProperties[i];s.uploadFunction(e,r,n,s.type===ge.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,s.offset)}this.dynamicBuffer._updateID++}uploadStatic(e,r,n){for(let i=0;i<this.staticProperties.length;i++){const s=this.staticProperties[i];s.uploadFunction(e,r,n,s.type===ge.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,s.offset)}this.staticBuffer._updateID++}destroy(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()}}var $8=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,G8=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`;class qO extends Fm{constructor(e){super(e),this.shader=null,this.properties=null,this.tempMatrix=new ut,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:ge.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=Mi.from(G8,$8,{}),this.state=Bi.for2d()}render(e){const r=e.children,n=e._maxSize,i=e._batchSize,s=this.renderer;let o=r.length;if(o===0)return;o>n&&!e.autoResize&&(o=n);let a=e._buffers;a||(a=e._buffers=this.generateBuffers(e));const c=r[0]._texture.baseTexture,h=c.alphaMode>0;this.state.blendMode=qR(e.blendMode,h),s.state.set(this.state);const f=s.gl,p=e.worldTransform.copyTo(this.tempMatrix);p.prepend(s.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=p.toArray(!0),this.shader.uniforms.uColor=Je.shared.setValue(e.tintRgb).premultiply(e.worldAlpha,h).toArray(this.shader.uniforms.uColor),this.shader.uniforms.uSampler=c,this.renderer.shader.bind(this.shader);let m=!1;for(let y=0,_=0;y<o;y+=i,_+=1){let S=o-y;S>i&&(S=i),_>=a.length&&a.push(this._generateOneMoreBuffer(e));const A=a[_];A.uploadDynamic(r,y,S);const E=e._bufferUpdateIDs[_]||0;m=m||A._updateID<E,m&&(A._updateID=e._updateID,A.uploadStatic(r,y,S)),s.geometry.bind(A.geometry),f.drawElements(f.TRIANGLES,S*6,f.UNSIGNED_SHORT,0)}}generateBuffers(e){const r=[],n=e._maxSize,i=e._batchSize,s=e._properties;for(let o=0;o<n;o+=i)r.push(new kT(this.properties,s,i));return r}_generateOneMoreBuffer(e){const r=e._batchSize,n=e._properties;return new kT(this.properties,n,r)}uploadVertices(e,r,n,i,s,o){let a=0,c=0,h=0,f=0;for(let p=0;p<n;++p){const m=e[r+p],y=m._texture,_=m.scale.x,S=m.scale.y,A=y.trim,E=y.orig;A?(c=A.x-m.anchor.x*E.width,a=c+A.width,f=A.y-m.anchor.y*E.height,h=f+A.height):(a=E.width*(1-m.anchor.x),c=E.width*-m.anchor.x,h=E.height*(1-m.anchor.y),f=E.height*-m.anchor.y),i[o]=c*_,i[o+1]=f*S,i[o+s]=a*_,i[o+s+1]=f*S,i[o+s*2]=a*_,i[o+s*2+1]=h*S,i[o+s*3]=c*_,i[o+s*3+1]=h*S,o+=s*4}}uploadPosition(e,r,n,i,s,o){for(let a=0;a<n;a++){const c=e[r+a].position;i[o]=c.x,i[o+1]=c.y,i[o+s]=c.x,i[o+s+1]=c.y,i[o+s*2]=c.x,i[o+s*2+1]=c.y,i[o+s*3]=c.x,i[o+s*3+1]=c.y,o+=s*4}}uploadRotation(e,r,n,i,s,o){for(let a=0;a<n;a++){const c=e[r+a].rotation;i[o]=c,i[o+s]=c,i[o+s*2]=c,i[o+s*3]=c,o+=s*4}}uploadUvs(e,r,n,i,s,o){for(let a=0;a<n;++a){const c=e[r+a]._texture._uvs;c?(i[o]=c.x0,i[o+1]=c.y0,i[o+s]=c.x1,i[o+s+1]=c.y1,i[o+s*2]=c.x2,i[o+s*2+1]=c.y2,i[o+s*3]=c.x3,i[o+s*3+1]=c.y3,o+=s*4):(i[o]=0,i[o+1]=0,i[o+s]=0,i[o+s+1]=0,i[o+s*2]=0,i[o+s*2+1]=0,i[o+s*3]=0,i[o+s*3+1]=0,o+=s*4)}}uploadTint(e,r,n,i,s,o){for(let a=0;a<n;++a){const c=e[r+a],h=Je.shared.setValue(c._tintRGB).toPremultiplied(c.alpha,c.texture.baseTexture.alphaMode>0);i[o]=h,i[o+s]=h,i[o+s*2]=h,i[o+s*3]=h,o+=s*4}}destroy(){super.destroy(),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null}}qO.extension={name:"particle",type:ne.RendererPlugin};he.add(qO);class rh extends Li{constructor(e,r=!0){super(e[0]instanceof re?e[0]:e[0].texture),this._textures=null,this._durations=null,this._autoUpdate=r,this._isConnectedToTicker=!1,this.animationSpeed=1,this.loop=!0,this.updateAnchor=!1,this.onComplete=null,this.onFrameChange=null,this.onLoop=null,this._currentTime=0,this._playing=!1,this._previousFrame=null,this.textures=e}stop(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(Kt.shared.remove(this.update,this),this._isConnectedToTicker=!1))}play(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(Kt.shared.add(this.update,this,so.HIGH),this._isConnectedToTicker=!0))}gotoAndStop(e){this.stop(),this.currentFrame=e}gotoAndPlay(e){this.currentFrame=e,this.play()}update(e){if(!this._playing)return;const r=this.animationSpeed*e,n=this.currentFrame;if(this._durations!==null){let i=this._currentTime%1*this._durations[this.currentFrame];for(i+=r/60*1e3;i<0;)this._currentTime--,i+=this._durations[this.currentFrame];const s=Math.sign(this.animationSpeed*e);for(this._currentTime=Math.floor(this._currentTime);i>=this._durations[this.currentFrame];)i-=this._durations[this.currentFrame]*s,this._currentTime+=s;this._currentTime+=i/this._durations[this.currentFrame]}else this._currentTime+=r;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):n!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<n||this.animationSpeed<0&&this.currentFrame>n)&&this.onLoop(),this.updateTexture())}updateTexture(){const e=this.currentFrame;this._previousFrame!==e&&(this._previousFrame=e,this._texture=this._textures[e],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))}destroy(e){this.stop(),super.destroy(e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null}static fromFrames(e){const r=[];for(let n=0;n<e.length;++n)r.push(re.from(e[n]));return new rh(r)}static fromImages(e){const r=[];for(let n=0;n<e.length;++n)r.push(re.from(e[n]));return new rh(r)}get totalFrames(){return this._textures.length}get textures(){return this._textures}set textures(e){if(e[0]instanceof re)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(let r=0;r<e.length;r++)this._textures.push(e[r].texture),this._durations.push(e[r].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()}get currentFrame(){let e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e}set currentFrame(e){if(e<0||e>this.totalFrames-1)throw new Error(`[AnimatedSprite]: Invalid frame index value ${e}, expected to be between 0 and totalFrames ${this.totalFrames}.`);const r=this.currentFrame;this._currentTime=e,r!==this.currentFrame&&this.updateTexture()}get playing(){return this._playing}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(Kt.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(Kt.shared.add(this.update,this),this._isConnectedToTicker=!0))}}const Vu=new Ne;class Ax extends Li{constructor(e,r=100,n=100){super(e),this.tileTransform=new Nm,this._width=r,this._height=n,this.uvMatrix=this.texture.uvMatrix||new _x(e),this.pluginName="tilingSprite",this.uvRespectAnchor=!1}get clampMargin(){return this.uvMatrix.clampMargin}set clampMargin(e){this.uvMatrix.clampMargin=e,this.uvMatrix.update(!0)}get tileScale(){return this.tileTransform.scale}set tileScale(e){this.tileTransform.scale.copyFrom(e)}get tilePosition(){return this.tileTransform.position}set tilePosition(e){this.tileTransform.position.copyFrom(e)}_onTextureUpdate(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215}_render(e){const r=this._texture;!r||!r.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this))}_calculateBounds(){const e=this._width*-this._anchor._x,r=this._height*-this._anchor._y,n=this._width*(1-this._anchor._x),i=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,e,r,n,i)}getLocalBounds(e){return this.children.length===0?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Ce),e=this._localBoundsRect),this._bounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,Vu);const r=this._width,n=this._height,i=-r*this.anchor._x;if(Vu.x>=i&&Vu.x<i+r){const s=-n*this.anchor._y;if(Vu.y>=s&&Vu.y<s+n)return!0}return!1}destroy(e){super.destroy(e),this.tileTransform=null,this.uvMatrix=null}static from(e,r){const n=e instanceof re?e:re.from(e,r);return new Ax(n,r.width,r.height)}get width(){return this._width}set width(e){this._width=e}get height(){return this._height}set height(e){this._height=e}}var j8=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,H8=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,V8=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,DT=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,W8=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`;const tf=new ut;class ZO extends Fm{constructor(e){super(e),e.runners.contextChange.add(this),this.quad=new cO,this.state=Bi.for2d()}contextChange(){const e=this.renderer,r={globals:e.globalUniforms};this.simpleShader=Mi.from(DT,W8,r),this.shader=e.context.webGLVersion>1?Mi.from(H8,j8,r):Mi.from(DT,V8,r)}render(e){const r=this.renderer,n=this.quad;let i=n.vertices;i[0]=i[6]=e._width*-e.anchor.x,i[1]=i[3]=e._height*-e.anchor.y,i[2]=i[4]=e._width*(1-e.anchor.x),i[5]=i[7]=e._height*(1-e.anchor.y);const s=e.uvRespectAnchor?e.anchor.x:0,o=e.uvRespectAnchor?e.anchor.y:0;i=n.uvs,i[0]=i[6]=-s,i[1]=i[3]=-o,i[2]=i[4]=1-s,i[5]=i[7]=1-o,n.invalidate();const a=e._texture,c=a.baseTexture,h=c.alphaMode>0,f=e.tileTransform.localTransform,p=e.uvMatrix;let m=c.isPowerOfTwo&&a.frame.width===c.width&&a.frame.height===c.height;m&&(c._glTextures[r.CONTEXT_UID]?m=c.wrapMode!==ss.CLAMP:c.wrapMode===ss.CLAMP&&(c.wrapMode=ss.REPEAT));const y=m?this.simpleShader:this.shader,_=a.width,S=a.height,A=e._width,E=e._height;tf.set(f.a*_/A,f.b*_/E,f.c*S/A,f.d*S/E,f.tx/A,f.ty/E),tf.invert(),m?tf.prepend(p.mapCoord):(y.uniforms.uMapCoord=p.mapCoord.toArray(!0),y.uniforms.uClampFrame=p.uClampFrame,y.uniforms.uClampOffset=p.uClampOffset),y.uniforms.uTransform=tf.toArray(!0),y.uniforms.uColor=Je.shared.setValue(e.tint).premultiply(e.worldAlpha,h).toArray(y.uniforms.uColor),y.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),y.uniforms.uSampler=a,r.shader.bind(y),r.geometry.bind(n),this.state.blendMode=qR(e.blendMode,h),r.state.set(this.state),r.geometry.draw(this.renderer.gl.TRIANGLES,6,0)}}ZO.extension={name:"tilingSprite",type:ne.RendererPlugin};he.add(ZO);const JO=class B_{constructor(e){this.stage=new wr,e=Object.assign({forceCanvas:!1},e),this.renderer=f6(e),B_._plugins.forEach(r=>{r.init.call(this,e)})}render(){this.renderer.render(this.stage)}get view(){var e;return(e=this.renderer)==null?void 0:e.view}get screen(){var e;return(e=this.renderer)==null?void 0:e.screen}destroy(e,r){const n=B_._plugins.slice(0);n.reverse(),n.forEach(i=>{i.destroy.call(this)}),this.stage.destroy(r),this.stage=null,this.renderer.destroy(e),this.renderer=null}};JO._plugins=[];let $m=JO;he.handleByList(ne.Application,$m._plugins);class e2{static init(e){Object.defineProperty(this,"resizeTo",{set(r){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=r,r&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this.cancelResize(),this._resizeId=requestAnimationFrame(()=>this.resize()))},this.cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;this.cancelResize();let r,n;if(this._resizeTo===globalThis.window)r=globalThis.innerWidth,n=globalThis.innerHeight;else{const{clientWidth:i,clientHeight:s}=this._resizeTo;r=i,n=s}this.renderer.resize(r,n),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}e2.extension=ne.Application;he.add(e2);var t2={exports:{}},X8="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Y8=X8,K8=Y8;function r2(){}function n2(){}n2.resetWarningCache=r2;var Q8=function(){function t(n,i,s,o,a,c){if(c!==K8){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:n2,resetWarningCache:r2};return r.PropTypes=r,r};t2.exports=Q8();var q8=t2.exports;const ve=ah(q8);function Yr(t){return Yr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yr(t)}function i2(t){var e=function(r,n){if(Yr(r)!=="object"||r===null)return r;var i=r[Symbol.toPrimitive];if(i!==void 0){var s=i.call(r,n||"default");if(Yr(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(r)}(t,"string");return Yr(e)==="symbol"?e:String(e)}function Pt(t,e,r){return(e=i2(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wy(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ms(t){return function(e){if(Array.isArray(e))return wy(e)}(t)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||function(e,r){if(e){if(typeof e=="string")return wy(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?wy(e,r):void 0}}(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function At(t,e){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i]}var Z8=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function J8(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ez=function(t){return t==null};function nc(t){var e=[];if(t===void 0)return e;if(typeof t=="string")e=t.split(",");else if(typeof t=="number")e=[t];else if(Array.isArray(t))e=ms(t);else{if(t===null||Yr(t)!=="object")return e;e=[t&&(t==null?void 0:t.x)||0,t&&(t==null?void 0:t.y)||0]}return e.filter(function(r){return!ez(r)&&!isNaN(r)}).map(Number)}function NT(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function Sy(t){return t instanceof Ne||t instanceof Ti}var Hp=["click","mousedown","mousemove","mouseout","mouseover","mouseup","mouseupoutside","tap","touchstart","touchmove","touchend","touchendoutside","pointercancel","pointerout","pointerover","pointertap","pointerdown","pointerup","pointerupoutside","pointermove","rightclick","rightdown","rightup","rightupoutside","touchcancel","touchendoutside","touchmove","touchstart"];function Ey(t,e,r){if(Sy(t[e])&&Sy(r))t[e].copyFrom(r);else if(Sy(t[e])){var n=nc(r);At(n!==void 0&&n.length>0&&n.length<3,"The property `%s` is a `Point` and must be set to a comma-separated string of either coordinates, an array containing coordinates, or a Point.",e,JSON.stringify(r),Yr(r)),t[e].set(n.shift(),n.shift())}else t[e]=r}var Ga,s2=function(t){var e,r=t;if(!Array.isArray(r)){if(e=t,Object.prototype.toString.call(e)!=="[object Object]")throw new Error("collection needs to be an Array or Object");r=Object.keys(t)}var n={};return r.forEach(function(i){n[i]=!0}),function(i){return n[i]!==void 0}},o2=function(t){return function(){return!t.apply(void 0,arguments)}},L_="children",tz=(Pt(Ga={},L_,!0),Pt(Ga,"parent",!0),Pt(Ga,"worldAlpha",!0),Pt(Ga,"worldTransform",!0),Pt(Ga,"worldVisible",!0),Ga),U_={alpha:1,buttonMode:!1,cacheAsBitmap:!1,cursor:null,filterArea:null,filters:null,hitArea:null,interactive:!1,mask:null,pivot:0,position:0,renderable:!0,rotation:0,scale:1,skew:0,transform:null,visible:!0,x:0,y:0},Ni=function(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=function(a){return requestAnimationFrame(function(){var c,h;a==null||(c=a.__reactpixi)===null||c===void 0||(h=c.root)===null||h===void 0||h.emit("__REACT_PIXI_REQUEST_RENDER__")})},i=function(a,c){if(r.hasOwnProperty(a))return At(c.typeofs.some(function(h){return Yr(r[a])===h})||c.instanceofs.some(function(h){return r[a]instanceof h}),"".concat(t," ").concat(a," prop is invalid")),r[a]};if(r.texture)return At(r.texture instanceof re,"".concat(t," texture needs to be typeof `Texture`")),r.texture;var s=i("image",{typeofs:["string"],instanceofs:[HTMLImageElement]})||i("video",{typeofs:["string"],instanceofs:[HTMLVideoElement]})||i("source",{typeofs:["string","number"],instanceofs:[HTMLImageElement,HTMLVideoElement,HTMLCanvasElement,re]});At(!!s,"".concat(t," could not get texture from props"));var o=re.from(s);return o.__reactpixi={root:e},o.once("update",n),o.once("loaded",n),o.valid&&n(o),o},rz=o2(s2([].concat(ms(Object.keys(tz)),ms(Hp))));function Fi(t,e,r){var n=!1;if(At(mt.prototype.isPrototypeOf(t),"instance needs to be typeof `DisplayObject`, got `%s`",Yr(t)),!r.ignoreEvents)for(var i=typeof t.removeListener=="function",s=typeof t.on=="function",o=0;o<Hp.length;o++){var a=Hp[o];e[a]!==r[a]&&(n=!0,typeof e[a]=="function"&&i&&t.removeListener(a,e[a]),typeof r[a]=="function"&&s&&t.on(a,r[a]))}var c=Object.keys(r||{});if(r.overwriteProps){for(var h=0;h<c.length;h++){var f=c[h];e[f]!==r[f]&&(n=!0,Ey(t,f,r[f]))}return n}for(var p=c.filter(rz),m=0;m<p.length;m++){var y=p[m],_=r[y];r[y]!==e[y]&&(n=!0),_!==void 0?Ey(t,y,_):y in U_?(console.warn("setting default value: ".concat(y,", from: ").concat(t[y]," to: ").concat(_," for"),t),n=!0,Ey(t,y,U_[y])):console.warn("ignoring prop: ".concat(y,", from ").concat(t[y]," to ").concat(_," for"),t)}return n}var nz=function(t,e){var r=e.text,n=e.style;return new L6(r,n)},iz=function(){return new wr};function po(t,e){if(t==null)return{};var r,n,i=function(o,a){if(o==null)return{};var c,h,f={},p=Object.keys(o);for(h=0;h<p.length;h++)c=p[h],a.indexOf(c)>=0||(f[c]=o[c]);return f}(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}var sz=["draw","geometry"],oz=function(t,e){var r=e.geometry;At(!r||r instanceof Tc,"Graphics geometry needs to be a `Graphics`");var n=r?new Tc(r.geometry):new Tc;return n.applyProps=function(i,s,o){var a=o.draw;o.geometry;var c=Fi(i,s,po(o,sz));return s.draw!==a&&typeof a=="function"&&(c=!0,a.call(n,n)),c},n},az=["image","texture"],lz=function(t,e){var r=e.leftWidth,n=r===void 0?10:r,i=e.topHeight,s=i===void 0?10:i,o=e.rightWidth,a=o===void 0?10:o,c=e.bottomHeight,h=c===void 0?10:c,f=Ni("NineSlicePlane",t,e),p=new B8(f,n,s,a,h);return p.applyProps=function(m,y,_){var S=_.image,A=_.texture,E=Fi(m,y,po(_,az));return(S||A)&&(A!==y.texture&&(E=!0),m.texture=Ni("NineSlicePlane",t,_)),E},p};function FT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function rf(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?FT(Object(r),!0).forEach(function(n){Pt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):FT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var uz=function(t,e){var r=e.maxSize,n=r===void 0?1500:r,i=e.batchSize,s=i===void 0?16384:i,o=e.autoResize,a=o!==void 0&&o,c=rf(rf({},{vertices:!1,scale:!0,position:!0,rotation:!0,uvs:!0,tint:!0}),e.properties||{}),h=rf(rf({},{children:!1,texture:!1,baseTexture:!1}),e.destroyOptions||{}),f=new z8(n,c,s,a);return f.willUnmount=function(p,m,y){p.destroy(h)},f},cz=["image","texture"],hz=function(t,e){var r=new Li(Ni("Sprite",t,e));return r.applyProps=function(n,i,s){var o=s.image,a=s.texture,c=Fi(n,i,po(s,cz));return(a&&i.texture!==s.texture||o&&i.image!==s.image)&&(i.texture!==s.texture&&(c=!0),n.texture=Ni("Sprite",t,s)),c},r},dz=["textures","isPlaying","initialFrame","images"],fz=function(t,e){var r=e.textures,n=e.images,i=e.isPlaying,s=i===void 0||i,o=e.initialFrame,a=function(h){return h.map(function(f){return At(f instanceof re||(f==null?void 0:f.texture),"AnimationSprite texture needs to be an array of `Texture` or `{ texture: Texture, time:\n                number }`"),f})},c=n?rh.fromImages(n):new rh(a(r));return c[s?"gotoAndPlay":"gotoAndStop"](o||0),c.applyProps=function(h,f,p){var m=p.textures,y=p.isPlaying,_=p.initialFrame,S=p.images,A=Fi(h,f,po(p,dz));if(S&&f.images!==S){for(var E=[],w=0;w<S.length;++w)E.push(re.from(S[w]));h.textures=E,A=!0}if(m&&f.textures!==m&&(h.textures=a(m),A=!0),y!==f.isPlaying||_!==f.initialFrame){var x=typeof _=="number"?_:c.currentFrame||0;c[y?"gotoAndPlay":"gotoAndStop"](x),A=!0}return A},c},pz=function(t,e){var r=e.text,n=r===void 0?"":r,i=e.style,s=i===void 0?{}:i,o=e.isSprite,a=new bx(n,s);return o?(a.updateText(),new Li(a.texture)):a},mz=["tileScale","tilePosition","image","texture"],gz=function(t,e){var r=e.width,n=r===void 0?100:r,i=e.height,s=i===void 0?100:i,o=Ni("TilingSprite",t,e),a=new Ax(o,n,s);return a.applyProps=function(c,h,f){var p=f.tileScale,m=f.tilePosition,y=f.image,_=f.texture,S=Fi(c,h,po(f,mz));if(m){var A,E=nc(m);(A=c.tilePosition).set.apply(A,ms(E)),S=!NT(nc(h.tilePosition),E)||S}if(p){var w,x=nc(p);(w=c.tileScale).set.apply(w,ms(x)),S=!NT(nc(h.tileScale),x)||S}return(y||_)&&(_!==h.texture&&(S=!0),c.texture=Ni("Sprite",t,f)),S},a},vz=["image","texture"],yz=function(t,e){var r=Ni("Mesh",t,e),n=e.vertices,i=e.uvs,s=e.indices,o=e.drawMode,a=o===void 0?Un.TRIANGLES:o,c=new L8(r,n,i,s,a);return c.applyProps=function(h,f,p){var m=p.image,y=p.texture,_=Fi(h,f,po(p,vz));return(m||y)&&(y!==f.texture&&(_=!0),h.texture=Ni("Mesh",t,p)),_},c},_z=["image","texture"],xz=function(t,e){var r=Ni("SimpleRope",t,e),n=e.points,i=new U8(r,n);return i.applyProps=function(s,o,a){var c=a.image,h=a.texture,f=po(a,_z);At(Array.isArray(a.points),"SimpleRope points needs to be %s","Array<Point>");var p=Fi(s,o,f);return(c||h)&&(h!==o.texture&&(p=!0),s.texture=Ni("SimpleRope",t,a)),p},i},bz=Object.freeze({__proto__:null,BitmapText:nz,Container:iz,Graphics:oz,NineSlicePlane:lz,ParticleContainer:uz,Sprite:hz,Text:pz,TilingSprite:gz,SimpleMesh:yz,SimpleRope:xz,AnimatedSprite:fz});function BT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function LT(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BT(Object(r),!0).forEach(function(n){Pt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Nr={BitmapText:"BitmapText",Container:"Container",Graphics:"Graphics",NineSlicePlane:"NineSlicePlane",ParticleContainer:"ParticleContainer",Sprite:"Sprite",AnimatedSprite:"AnimatedSprite",Text:"Text",TilingSprite:"TilingSprite",SimpleMesh:"SimpleMesh",SimpleRope:"SimpleRope"},wz=Object.keys(Nr).reduce(function(t,e){return LT(LT({},t),{},Pt({},e,bz[e]))},{}),a2={};function Sz(t,e){return At(!!t,"Expect type to be defined, got `%s`",t),At(!Nr[t],"Component `%s` could not be created, already exists in default components.",t),a2[t]=e,t}var UT,zT,$T,GT,z_={},$_={},Ez={get exports(){return $_},set exports(t){$_=t}},jT={};function Tz(){return zT||(zT=1,Ez.exports=(UT||(UT=1,function(t){function e(O,$){var N=O.length;O.push($);e:for(;0<N;){var U=N-1>>>1,Z=O[U];if(!(0<i(Z,$)))break e;O[U]=$,O[N]=Z,N=U}}function r(O){return O.length===0?null:O[0]}function n(O){if(O.length===0)return null;var $=O[0],N=O.pop();if(N!==$){O[0]=N;e:for(var U=0,Z=O.length,Ee=Z>>>1;U<Ee;){var be=2*(U+1)-1,Fe=O[be],Se=be+1,ke=O[Se];if(0>i(Fe,N))Se<Z&&0>i(ke,Fe)?(O[U]=ke,O[Se]=N,U=Se):(O[U]=Fe,O[be]=N,U=be);else{if(!(Se<Z&&0>i(ke,N)))break e;O[U]=ke,O[Se]=N,U=Se}}}return $}function i(O,$){var N=O.sortIndex-$.sortIndex;return N!==0?N:O.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var c=[],h=[],f=1,p=null,m=3,y=!1,_=!1,S=!1,A=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;function x(O){for(var $=r(h);$!==null;){if($.callback===null)n(h);else{if(!($.startTime<=O))break;n(h),$.sortIndex=$.expirationTime,e(c,$)}$=r(h)}}function T(O){if(S=!1,x(O),!_)if(r(c)!==null)_=!0,me(P);else{var $=r(h);$!==null&&ae(T,$.startTime-O)}}function P(O,$){_=!1,S&&(S=!1,E(V),V=-1),y=!0;var N=m;try{for(x($),p=r(c);p!==null&&(!(p.expirationTime>$)||O&&!J());){var U=p.callback;if(typeof U=="function"){p.callback=null,m=p.priorityLevel;var Z=U(p.expirationTime<=$);$=t.unstable_now(),typeof Z=="function"?p.callback=Z:p===r(c)&&n(c),x($)}else n(c);p=r(c)}if(p!==null)var Ee=!0;else{var be=r(h);be!==null&&ae(T,be.startTime-$),Ee=!1}return Ee}finally{p=null,m=N,y=!1}}typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var M,R=!1,D=null,V=-1,W=5,pe=-1;function J(){return!(t.unstable_now()-pe<W)}function B(){if(D!==null){var O=t.unstable_now();pe=O;var $=!0;try{$=D(!0,O)}finally{$?M():(R=!1,D=null)}}else R=!1}if(typeof w=="function")M=function(){w(B)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,ie=X.port2;X.port1.onmessage=B,M=function(){ie.postMessage(null)}}else M=function(){A(B,0)};function me(O){D=O,R||(R=!0,M())}function ae(O,$){V=A(function(){O(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){_||y||(_=!0,me(P))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(O){switch(m){case 1:case 2:case 3:var $=3;break;default:$=m}var N=m;m=$;try{return O()}finally{m=N}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,$){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var N=m;m=O;try{return $()}finally{m=N}},t.unstable_scheduleCallback=function(O,$,N){var U=t.unstable_now();switch(N=typeof N=="object"&&N!==null&&typeof(N=N.delay)=="number"&&0<N?U+N:U,O){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return O={id:f++,callback:$,priorityLevel:O,startTime:N,expirationTime:Z=N+Z,sortIndex:-1},N>U?(O.sortIndex=N,e(h,O),r(c)===null&&O===r(h)&&(S?(E(V),V=-1):S=!0,ae(T,N-U))):(O.sortIndex=Z,e(c,O),_||y||(_=!0,me(P))),O},t.unstable_shouldYield=J,t.unstable_wrapCallback=function(O){var $=m;return function(){var N=m;m=$;try{return O.apply(this,arguments)}finally{m=N}}}}(jT)),jT)),$_}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function Az(){return GT||(GT=1,$T=function(t){var e={},r=et,n=Tz(),i=Object.assign;function s(l){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+l,d=1;d<arguments.length;d++)u+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,a=Symbol.for("react.element"),c=Symbol.for("react.portal"),h=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),y=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),x=Symbol.for("react.offscreen"),T=Symbol.iterator;function P(l){return l===null||typeof l!="object"?null:typeof(l=T&&l[T]||l["@@iterator"])=="function"?l:null}function M(l){if(l==null)return null;if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case h:return"Fragment";case c:return"Portal";case p:return"Profiler";case f:return"StrictMode";case S:return"Suspense";case A:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case y:return(l.displayName||"Context")+".Consumer";case m:return(l._context.displayName||"Context")+".Provider";case _:var u=l.render;return(l=l.displayName)||(l=(l=u.displayName||u.name||"")!==""?"ForwardRef("+l+")":"ForwardRef"),l;case E:return(u=l.displayName||null)!==null?u:M(l.type)||"Memo";case w:u=l._payload,l=l._init;try{return M(l(u))}catch{}}return null}function R(l){var u=l.type;switch(l.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return l=(l=u.render).displayName||l.name||"",u.displayName||(l!==""?"ForwardRef("+l+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return M(u);case 8:return u===f?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function D(l){var u=l,d=l;if(l.alternate)for(;u.return;)u=u.return;else{l=u;do 4098&(u=l).flags&&(d=u.return),l=u.return;while(l)}return u.tag===3?d:null}function V(l){if(D(l)!==l)throw Error(s(188))}function W(l){var u=l.alternate;if(!u){if((u=D(l))===null)throw Error(s(188));return u!==l?null:l}for(var d=l,g=u;;){var v=d.return;if(v===null)break;var b=v.alternate;if(b===null){if((g=v.return)!==null){d=g;continue}break}if(v.child===b.child){for(b=v.child;b;){if(b===d)return V(v),l;if(b===g)return V(v),u;b=b.sibling}throw Error(s(188))}if(d.return!==g.return)d=v,g=b;else{for(var C=!1,I=v.child;I;){if(I===d){C=!0,d=v,g=b;break}if(I===g){C=!0,g=v,d=b;break}I=I.sibling}if(!C){for(I=b.child;I;){if(I===d){C=!0,d=b,g=v;break}if(I===g){C=!0,g=b,d=v;break}I=I.sibling}if(!C)throw Error(s(189))}}if(d.alternate!==g)throw Error(s(190))}if(d.tag!==3)throw Error(s(188));return d.stateNode.current===d?l:u}function pe(l){return(l=W(l))!==null?J(l):null}function J(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){var u=J(l);if(u!==null)return u;l=l.sibling}return null}function B(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){if(l.tag!==4){var u=B(l);if(u!==null)return u}l=l.sibling}return null}var X,ie=Array.isArray,me=t.getPublicInstance,ae=t.getRootHostContext,O=t.getChildHostContext,$=t.prepareForCommit,N=t.resetAfterCommit,U=t.createInstance,Z=t.appendInitialChild,Ee=t.finalizeInitialChildren,be=t.prepareUpdate,Fe=t.shouldSetTextContent,Se=t.createTextInstance,ke=t.scheduleTimeout,ct=t.cancelTimeout,rt=t.noTimeout,Qe=t.isPrimaryRenderer,Ae=t.supportsMutation,Le=t.supportsPersistence,Ge=t.supportsHydration,Jr=t.getInstanceFromNode,en=t.preparePortalMount,mo=t.getCurrentEventPriority,jm=t.detachDeletedInstance,va=t.supportsMicrotasks,F2=t.scheduleMicrotask,uu=t.supportsTestSelectors,B2=t.findFiberRoot,L2=t.getBoundingRect,U2=t.getTextContent,cu=t.isHiddenSubtree,z2=t.matchAccessibilityRole,$2=t.setFocusIfFocusable,G2=t.setupIntersectionObserver,j2=t.appendChild,H2=t.appendChildToContainer,V2=t.commitTextUpdate,W2=t.commitMount,X2=t.commitUpdate,Y2=t.insertBefore,K2=t.insertInContainerBefore,Q2=t.removeChild,q2=t.removeChildFromContainer,Ox=t.resetTextContent,Z2=t.hideInstance,J2=t.hideTextInstance,eM=t.unhideInstance,tM=t.unhideTextInstance,rM=t.clearContainer,nM=t.cloneInstance,Mx=t.createContainerChildSet,kx=t.appendChildToContainerChildSet,iM=t.finalizeContainerChildren,Hm=t.replaceContainerChildren,Dx=t.cloneHiddenInstance,Nx=t.cloneHiddenTextInstance,sM=t.canHydrateInstance,oM=t.canHydrateTextInstance,aM=t.canHydrateSuspenseInstance,Fx=t.isSuspenseInstancePending,Vm=t.isSuspenseInstanceFallback,lM=t.getSuspenseInstanceFallbackErrorDetails,uM=t.registerSuspenseInstanceRetry,Th=t.getNextHydratableSibling,cM=t.getFirstHydratableChild,hM=t.getFirstHydratableChildWithinContainer,dM=t.getFirstHydratableChildWithinSuspenseInstance,fM=t.hydrateInstance,pM=t.hydrateTextInstance,mM=t.hydrateSuspenseInstance,gM=t.getNextHydratableInstanceAfterSuspenseInstance,vM=t.commitHydratedContainer,yM=t.commitHydratedSuspenseInstance,_M=t.clearSuspenseBoundary,xM=t.clearSuspenseBoundaryFromContainer,bM=t.shouldDeleteUnhydratedTailInstances,wM=t.didNotMatchHydratedContainerTextInstance,SM=t.didNotMatchHydratedTextInstance;function hu(l){if(X===void 0)try{throw Error()}catch(d){var u=d.stack.trim().match(/\n( *(at )?)/);X=u&&u[1]||""}return`
`+X+l}var Wm=!1;function Xm(l,u){if(!l||Wm)return"";Wm=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(z){var g=z}Reflect.construct(l,[],u)}else{try{u.call()}catch(z){g=z}l.call(u.prototype)}else{try{throw Error()}catch(z){g=z}l()}}catch(z){if(z&&g&&typeof z.stack=="string"){for(var v=z.stack.split(`
`),b=g.stack.split(`
`),C=v.length-1,I=b.length-1;1<=C&&0<=I&&v[C]!==b[I];)I--;for(;1<=C&&0<=I;C--,I--)if(v[C]!==b[I]){if(C!==1||I!==1)do if(C--,0>--I||v[C]!==b[I]){var F=`
`+v[C].replace(" at new "," at ");return l.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",l.displayName)),F}while(1<=C&&0<=I);break}}}finally{Wm=!1,Error.prepareStackTrace=d}return(l=l?l.displayName||l.name:"")?hu(l):""}var EM=Object.prototype.hasOwnProperty,Ym=[],ya=-1;function vs(l){return{current:l}}function ht(l){0>ya||(l.current=Ym[ya],Ym[ya]=null,ya--)}function qe(l,u){ya++,Ym[ya]=l.current,l.current=u}var ys={},sr=vs(ys),Tr=vs(!1),go=ys;function _a(l,u){var d=l.type.contextTypes;if(!d)return ys;var g=l.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===u)return g.__reactInternalMemoizedMaskedChildContext;var v,b={};for(v in d)b[v]=u[v];return g&&((l=l.stateNode).__reactInternalMemoizedUnmaskedChildContext=u,l.__reactInternalMemoizedMaskedChildContext=b),b}function Fr(l){return(l=l.childContextTypes)!=null}function Km(){ht(Tr),ht(sr)}function Bx(l,u,d){if(sr.current!==ys)throw Error(s(168));qe(sr,u),qe(Tr,d)}function Lx(l,u,d){var g=l.stateNode;if(u=u.childContextTypes,typeof g.getChildContext!="function")return d;for(var v in g=g.getChildContext())if(!(v in u))throw Error(s(108,R(l)||"Unknown",v));return i({},d,g)}function Ah(l){return l=(l=l.stateNode)&&l.__reactInternalMemoizedMergedChildContext||ys,go=sr.current,qe(sr,l),qe(Tr,Tr.current),!0}function Ux(l,u,d){var g=l.stateNode;if(!g)throw Error(s(169));d?(l=Lx(l,u,go),g.__reactInternalMemoizedMergedChildContext=l,ht(Tr),ht(sr),qe(sr,l)):ht(Tr),qe(Tr,d)}var En=Math.clz32?Math.clz32:function(l){return(l>>>=0)===0?32:31-(TM(l)/AM|0)|0},TM=Math.log,AM=Math.LN2,Qm=64,qm=4194304;function du(l){switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&l;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&l;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return l}}function Ch(l,u){var d=l.pendingLanes;if(d===0)return 0;var g=0,v=l.suspendedLanes,b=l.pingedLanes,C=268435455&d;if(C!==0){var I=C&~v;I!==0?g=du(I):(b&=C)!==0&&(g=du(b))}else(C=d&~v)!==0?g=du(C):b!==0&&(g=du(b));if(g===0)return 0;if(u!==0&&u!==g&&!(u&v)&&((v=g&-g)>=(b=u&-u)||v===16&&4194240&b))return u;if(4&g&&(g|=16&d),(u=l.entangledLanes)!==0)for(l=l.entanglements,u&=g;0<u;)v=1<<(d=31-En(u)),g|=l[d],u&=~v;return g}function CM(l,u){switch(l){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;default:return-1}}function Zm(l){return(l=-1073741825&l.pendingLanes)!==0?l:1073741824&l?1073741824:0}function zx(){var l=Qm;return!(4194240&(Qm<<=1))&&(Qm=64),l}function Jm(l){for(var u=[],d=0;31>d;d++)u.push(l);return u}function fu(l,u,d){l.pendingLanes|=u,u!==536870912&&(l.suspendedLanes=0,l.pingedLanes=0),(l=l.eventTimes)[u=31-En(u)]=d}function eg(l,u){var d=l.entangledLanes|=u;for(l=l.entanglements;d;){var g=31-En(d),v=1<<g;v&u|l[g]&u&&(l[g]|=u),d&=~v}}var je=0;function $x(l){return 1<(l&=-l)?4<l?268435455&l?16:536870912:4:1}var tg=n.unstable_scheduleCallback,Gx=n.unstable_cancelCallback,PM=n.unstable_shouldYield,IM=n.unstable_requestPaint,zt=n.unstable_now,rg=n.unstable_ImmediatePriority,RM=n.unstable_UserBlockingPriority,jx=n.unstable_NormalPriority,OM=n.unstable_IdlePriority,Ph=null,Jn=null,Tn=typeof Object.is=="function"?Object.is:function(l,u){return l===u&&(l!==0||1/l==1/u)||l!=l&&u!=u},Ui=null,Ih=!1,ng=!1;function Hx(l){Ui===null?Ui=[l]:Ui.push(l)}function ei(){if(!ng&&Ui!==null){ng=!0;var l=0,u=je;try{var d=Ui;for(je=1;l<d.length;l++){var g=d[l];do g=g(!0);while(g!==null)}Ui=null,Ih=!1}catch(v){throw Ui!==null&&(Ui=Ui.slice(l+1)),tg(rg,ei),v}finally{je=u,ng=!1}}return null}var xa=[],ba=0,Rh=null,Oh=0,tn=[],rn=0,vo=null,ti=1,zi="";function yo(l,u){xa[ba++]=Oh,xa[ba++]=Rh,Rh=l,Oh=u}function Vx(l,u,d){tn[rn++]=ti,tn[rn++]=zi,tn[rn++]=vo,vo=l;var g=ti;l=zi;var v=32-En(g)-1;g&=~(1<<v),d+=1;var b=32-En(u)+v;if(30<b){var C=v-v%5;b=(g&(1<<C)-1).toString(32),g>>=C,v-=C,ti=1<<32-En(u)+v|d<<v|g,zi=b+l}else ti=1<<b|d<<v|g,zi=l}function ig(l){l.return!==null&&(yo(l,1),Vx(l,1,0))}function sg(l){for(;l===Rh;)Rh=xa[--ba],xa[ba]=null,Oh=xa[--ba],xa[ba]=null;for(;l===vo;)vo=tn[--rn],tn[rn]=null,zi=tn[--rn],tn[rn]=null,ti=tn[--rn],tn[rn]=null}var Br=null,nn=null,dt=!1,pu=!1,An=null;function Wx(l,u){var d=un(5,null,null,0);d.elementType="DELETED",d.stateNode=u,d.return=l,(u=l.deletions)===null?(l.deletions=[d],l.flags|=16):u.push(d)}function Xx(l,u){switch(l.tag){case 5:return(u=sM(u,l.type,l.pendingProps))!==null&&(l.stateNode=u,Br=l,nn=cM(u),!0);case 6:return(u=oM(u,l.pendingProps))!==null&&(l.stateNode=u,Br=l,nn=null,!0);case 13:if((u=aM(u))!==null){var d=vo!==null?{id:ti,overflow:zi}:null;return l.memoizedState={dehydrated:u,treeContext:d,retryLane:1073741824},(d=un(18,null,null,0)).stateNode=u,d.return=l,l.child=d,Br=l,nn=null,!0}return!1;default:return!1}}function og(l){return(1&l.mode)!=0&&(128&l.flags)==0}function ag(l){if(dt){var u=nn;if(u){var d=u;if(!Xx(l,u)){if(og(l))throw Error(s(418));u=Th(d);var g=Br;u&&Xx(l,u)?Wx(g,d):(l.flags=-4097&l.flags|2,dt=!1,Br=l)}}else{if(og(l))throw Error(s(418));l.flags=-4097&l.flags|2,dt=!1,Br=l}}}function Yx(l){for(l=l.return;l!==null&&l.tag!==5&&l.tag!==3&&l.tag!==13;)l=l.return;Br=l}function Mh(l){if(!Ge||l!==Br)return!1;if(!dt)return Yx(l),dt=!0,!1;if(l.tag!==3&&(l.tag!==5||bM(l.type)&&!Fe(l.type,l.memoizedProps))){var u=nn;if(u){if(og(l))throw Kx(),Error(s(418));for(;u;)Wx(l,u),u=Th(u)}}if(Yx(l),l.tag===13){if(!Ge)throw Error(s(316));if(!(l=(l=l.memoizedState)!==null?l.dehydrated:null))throw Error(s(317));nn=gM(l)}else nn=Br?Th(l.stateNode):null;return!0}function Kx(){for(var l=nn;l;)l=Th(l)}function wa(){Ge&&(nn=Br=null,pu=dt=!1)}function lg(l){An===null?An=[l]:An.push(l)}var MM=o.ReactCurrentBatchConfig;function kh(l,u){if(Tn(l,u))return!0;if(typeof l!="object"||l===null||typeof u!="object"||u===null)return!1;var d=Object.keys(l),g=Object.keys(u);if(d.length!==g.length)return!1;for(g=0;g<d.length;g++){var v=d[g];if(!EM.call(u,v)||!Tn(l[v],u[v]))return!1}return!0}function kM(l){switch(l.tag){case 5:return hu(l.type);case 16:return hu("Lazy");case 13:return hu("Suspense");case 19:return hu("SuspenseList");case 0:case 2:case 15:return l=Xm(l.type,!1);case 11:return l=Xm(l.type.render,!1);case 1:return l=Xm(l.type,!0);default:return""}}function Cn(l,u){if(l&&l.defaultProps){for(var d in u=i({},u),l=l.defaultProps)u[d]===void 0&&(u[d]=l[d]);return u}return u}var Dh=vs(null),Nh=null,Sa=null,ug=null;function cg(){ug=Sa=Nh=null}function Qx(l,u,d){Qe?(qe(Dh,u._currentValue),u._currentValue=d):(qe(Dh,u._currentValue2),u._currentValue2=d)}function hg(l){var u=Dh.current;ht(Dh),Qe?l._currentValue=u:l._currentValue2=u}function dg(l,u,d){for(;l!==null;){var g=l.alternate;if((l.childLanes&u)!==u?(l.childLanes|=u,g!==null&&(g.childLanes|=u)):g!==null&&(g.childLanes&u)!==u&&(g.childLanes|=u),l===d)break;l=l.return}}function Ea(l,u){Nh=l,ug=Sa=null,(l=l.dependencies)!==null&&l.firstContext!==null&&(l.lanes&u&&(Ar=!0),l.firstContext=null)}function sn(l){var u=Qe?l._currentValue:l._currentValue2;if(ug!==l)if(l={context:l,memoizedValue:u,next:null},Sa===null){if(Nh===null)throw Error(s(308));Sa=l,Nh.dependencies={lanes:0,firstContext:l}}else Sa=Sa.next=l;return u}var _o=null;function fg(l){_o===null?_o=[l]:_o.push(l)}function qx(l,u,d,g){var v=u.interleaved;return v===null?(d.next=d,fg(u)):(d.next=v.next,v.next=d),u.interleaved=d,ri(l,g)}function ri(l,u){l.lanes|=u;var d=l.alternate;for(d!==null&&(d.lanes|=u),d=l,l=l.return;l!==null;)l.childLanes|=u,(d=l.alternate)!==null&&(d.childLanes|=u),d=l,l=l.return;return d.tag===3?d.stateNode:null}var _s=!1;function pg(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Zx(l,u){l=l.updateQueue,u.updateQueue===l&&(u.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,effects:l.effects})}function $i(l,u){return{eventTime:l,lane:u,tag:0,payload:null,callback:null,next:null}}function xs(l,u,d){var g=l.updateQueue;if(g===null)return null;if(g=g.shared,(2&Be)!=0){var v=g.pending;return v===null?u.next=u:(u.next=v.next,v.next=u),g.pending=u,ri(l,d)}return(v=g.interleaved)===null?(u.next=u,fg(g)):(u.next=v.next,v.next=u),g.interleaved=u,ri(l,d)}function Fh(l,u,d){if((u=u.updateQueue)!==null&&(u=u.shared,(4194240&d)!=0)){var g=u.lanes;d|=g&=l.pendingLanes,u.lanes=d,eg(l,d)}}function Jx(l,u){var d=l.updateQueue,g=l.alternate;if(g!==null&&d===(g=g.updateQueue)){var v=null,b=null;if((d=d.firstBaseUpdate)!==null){do{var C={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};b===null?v=b=C:b=b.next=C,d=d.next}while(d!==null);b===null?v=b=u:b=b.next=u}else v=b=u;return d={baseState:g.baseState,firstBaseUpdate:v,lastBaseUpdate:b,shared:g.shared,effects:g.effects},void(l.updateQueue=d)}(l=d.lastBaseUpdate)===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=u}function Bh(l,u,d,g){var v=l.updateQueue;_s=!1;var b=v.firstBaseUpdate,C=v.lastBaseUpdate,I=v.shared.pending;if(I!==null){v.shared.pending=null;var F=I,z=F.next;F.next=null,C===null?b=z:C.next=z,C=F;var j=l.alternate;j!==null&&(I=(j=j.updateQueue).lastBaseUpdate)!==C&&(I===null?j.firstBaseUpdate=z:I.next=z,j.lastBaseUpdate=F)}if(b!==null){var te=v.baseState;for(C=0,j=z=F=null,I=b;;){var G=I.lane,Q=I.eventTime;if((g&G)===G){j!==null&&(j=j.next={eventTime:Q,lane:0,tag:I.tag,payload:I.payload,callback:I.callback,next:null});e:{var ce=l,Pe=I;switch(G=u,Q=d,Pe.tag){case 1:if(typeof(ce=Pe.payload)=="function"){te=ce.call(Q,te,G);break e}te=ce;break e;case 3:ce.flags=-65537&ce.flags|128;case 0:if((G=typeof(ce=Pe.payload)=="function"?ce.call(Q,te,G):ce)==null)break e;te=i({},te,G);break e;case 2:_s=!0}}I.callback!==null&&I.lane!==0&&(l.flags|=64,(G=v.effects)===null?v.effects=[I]:G.push(I))}else Q={eventTime:Q,lane:G,tag:I.tag,payload:I.payload,callback:I.callback,next:null},j===null?(z=j=Q,F=te):j=j.next=Q,C|=G;if((I=I.next)===null){if((I=v.shared.pending)===null)break;I=(G=I).next,G.next=null,v.lastBaseUpdate=G,v.shared.pending=null}}if(j===null&&(F=te),v.baseState=F,v.firstBaseUpdate=z,v.lastBaseUpdate=j,(u=v.shared.interleaved)!==null){v=u;do C|=v.lane,v=v.next;while(v!==u)}else b===null&&(v.shared.lanes=0);bo|=C,l.lanes=C,l.memoizedState=te}}function eb(l,u,d){if(l=u.effects,u.effects=null,l!==null)for(u=0;u<l.length;u++){var g=l[u],v=g.callback;if(v!==null){if(g.callback=null,g=d,typeof v!="function")throw Error(s(191,v));v.call(g)}}}var tb=new r.Component().refs;function mg(l,u,d,g){d=(d=d(g,u=l.memoizedState))==null?u:i({},u,d),l.memoizedState=d,l.lanes===0&&(l.updateQueue.baseState=d)}var Lh={isMounted:function(l){return!!(l=l._reactInternals)&&D(l)===l},enqueueSetState:function(l,u,d){l=l._reactInternals;var g=lr(),v=Es(l),b=$i(g,v);b.payload=u,d!=null&&(b.callback=d),(u=xs(l,b,v))!==null&&(ln(u,l,v,g),Fh(u,l,v))},enqueueReplaceState:function(l,u,d){l=l._reactInternals;var g=lr(),v=Es(l),b=$i(g,v);b.tag=1,b.payload=u,d!=null&&(b.callback=d),(u=xs(l,b,v))!==null&&(ln(u,l,v,g),Fh(u,l,v))},enqueueForceUpdate:function(l,u){l=l._reactInternals;var d=lr(),g=Es(l),v=$i(d,g);v.tag=2,u!=null&&(v.callback=u),(u=xs(l,v,g))!==null&&(ln(u,l,g,d),Fh(u,l,g))}};function rb(l,u,d,g,v,b,C){return typeof(l=l.stateNode).shouldComponentUpdate=="function"?l.shouldComponentUpdate(g,b,C):!u.prototype||!u.prototype.isPureReactComponent||!kh(d,g)||!kh(v,b)}function nb(l,u,d){var g=!1,v=ys,b=u.contextType;return typeof b=="object"&&b!==null?b=sn(b):(v=Fr(u)?go:sr.current,b=(g=(g=u.contextTypes)!=null)?_a(l,v):ys),u=new u(d,b),l.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Lh,l.stateNode=u,u._reactInternals=l,g&&((l=l.stateNode).__reactInternalMemoizedUnmaskedChildContext=v,l.__reactInternalMemoizedMaskedChildContext=b),u}function ib(l,u,d,g){l=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(d,g),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(d,g),u.state!==l&&Lh.enqueueReplaceState(u,u.state,null)}function gg(l,u,d,g){var v=l.stateNode;v.props=d,v.state=l.memoizedState,v.refs=tb,pg(l);var b=u.contextType;typeof b=="object"&&b!==null?v.context=sn(b):(b=Fr(u)?go:sr.current,v.context=_a(l,b)),v.state=l.memoizedState,typeof(b=u.getDerivedStateFromProps)=="function"&&(mg(l,u,b,d),v.state=l.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(u=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),u!==v.state&&Lh.enqueueReplaceState(v,v.state,null),Bh(l,d,v,g),v.state=l.memoizedState),typeof v.componentDidMount=="function"&&(l.flags|=4194308)}function mu(l,u,d){if((l=d.ref)!==null&&typeof l!="function"&&typeof l!="object"){if(d._owner){if(d=d._owner){if(d.tag!==1)throw Error(s(309));var g=d.stateNode}if(!g)throw Error(s(147,l));var v=g,b=""+l;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===b?u.ref:(u=function(C){var I=v.refs;I===tb&&(I=v.refs={}),C===null?delete I[b]:I[b]=C},u._stringRef=b,u)}if(typeof l!="string")throw Error(s(284));if(!d._owner)throw Error(s(290,l))}return l}function Uh(l,u){throw l=Object.prototype.toString.call(u),Error(s(31,l==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":l))}function sb(l){return(0,l._init)(l._payload)}function ob(l){function u(H,k){if(l){var L=H.deletions;L===null?(H.deletions=[k],H.flags|=16):L.push(k)}}function d(H,k){if(!l)return null;for(;k!==null;)u(H,k),k=k.sibling;return null}function g(H,k){for(H=new Map;k!==null;)k.key!==null?H.set(k.key,k):H.set(k.index,k),k=k.sibling;return H}function v(H,k){return(H=As(H,k)).index=0,H.sibling=null,H}function b(H,k,L){return H.index=L,l?(L=H.alternate)!==null?(L=L.index)<k?(H.flags|=2,k):L:(H.flags|=2,k):(H.flags|=1048576,k)}function C(H){return l&&H.alternate===null&&(H.flags|=2),H}function I(H,k,L,Y){return k===null||k.tag!==6?((k=rv(L,H.mode,Y)).return=H,k):((k=v(k,L)).return=H,k)}function F(H,k,L,Y){var ye=L.type;return ye===h?j(H,k,L.props.children,Y,L.key):k!==null&&(k.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===w&&sb(ye)===k.type)?((Y=v(k,L.props)).ref=mu(H,k,L),Y.return=H,Y):((Y=hd(L.type,L.key,L.props,null,H.mode,Y)).ref=mu(H,k,L),Y.return=H,Y)}function z(H,k,L,Y){return k===null||k.tag!==4||k.stateNode.containerInfo!==L.containerInfo||k.stateNode.implementation!==L.implementation?((k=nv(L,H.mode,Y)).return=H,k):((k=v(k,L.children||[])).return=H,k)}function j(H,k,L,Y,ye){return k===null||k.tag!==7?((k=Eo(L,H.mode,Y,ye)).return=H,k):((k=v(k,L)).return=H,k)}function te(H,k,L){if(typeof k=="string"&&k!==""||typeof k=="number")return(k=rv(""+k,H.mode,L)).return=H,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case a:return(L=hd(k.type,k.key,k.props,null,H.mode,L)).ref=mu(H,null,k),L.return=H,L;case c:return(k=nv(k,H.mode,L)).return=H,k;case w:return te(H,(0,k._init)(k._payload),L)}if(ie(k)||P(k))return(k=Eo(k,H.mode,L,null)).return=H,k;Uh(H,k)}return null}function G(H,k,L,Y){var ye=k!==null?k.key:null;if(typeof L=="string"&&L!==""||typeof L=="number")return ye!==null?null:I(H,k,""+L,Y);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case a:return L.key===ye?F(H,k,L,Y):null;case c:return L.key===ye?z(H,k,L,Y):null;case w:return G(H,k,(ye=L._init)(L._payload),Y)}if(ie(L)||P(L))return ye!==null?null:j(H,k,L,Y,null);Uh(H,L)}return null}function Q(H,k,L,Y,ye){if(typeof Y=="string"&&Y!==""||typeof Y=="number")return I(k,H=H.get(L)||null,""+Y,ye);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case a:return F(k,H=H.get(Y.key===null?L:Y.key)||null,Y,ye);case c:return z(k,H=H.get(Y.key===null?L:Y.key)||null,Y,ye);case w:return Q(H,k,L,(0,Y._init)(Y._payload),ye)}if(ie(Y)||P(Y))return j(k,H=H.get(L)||null,Y,ye,null);Uh(k,Y)}return null}function ce(H,k,L,Y){for(var ye=null,We=null,de=k,He=k=0,Jt=null;de!==null&&He<L.length;He++){de.index>He?(Jt=de,de=null):Jt=de.sibling;var Xe=G(H,de,L[He],Y);if(Xe===null){de===null&&(de=Jt);break}l&&de&&Xe.alternate===null&&u(H,de),k=b(Xe,k,He),We===null?ye=Xe:We.sibling=Xe,We=Xe,de=Jt}if(He===L.length)return d(H,de),dt&&yo(H,He),ye;if(de===null){for(;He<L.length;He++)(de=te(H,L[He],Y))!==null&&(k=b(de,k,He),We===null?ye=de:We.sibling=de,We=de);return dt&&yo(H,He),ye}for(de=g(H,de);He<L.length;He++)(Jt=Q(de,H,He,L[He],Y))!==null&&(l&&Jt.alternate!==null&&de.delete(Jt.key===null?He:Jt.key),k=b(Jt,k,He),We===null?ye=Jt:We.sibling=Jt,We=Jt);return l&&de.forEach(function(Cs){return u(H,Cs)}),dt&&yo(H,He),ye}function Pe(H,k,L,Y){var ye=P(L);if(typeof ye!="function")throw Error(s(150));if((L=ye.call(L))==null)throw Error(s(151));for(var We=ye=null,de=k,He=k=0,Jt=null,Xe=L.next();de!==null&&!Xe.done;He++,Xe=L.next()){de.index>He?(Jt=de,de=null):Jt=de.sibling;var Cs=G(H,de,Xe.value,Y);if(Cs===null){de===null&&(de=Jt);break}l&&de&&Cs.alternate===null&&u(H,de),k=b(Cs,k,He),We===null?ye=Cs:We.sibling=Cs,We=Cs,de=Jt}if(Xe.done)return d(H,de),dt&&yo(H,He),ye;if(de===null){for(;!Xe.done;He++,Xe=L.next())(Xe=te(H,Xe.value,Y))!==null&&(k=b(Xe,k,He),We===null?ye=Xe:We.sibling=Xe,We=Xe);return dt&&yo(H,He),ye}for(de=g(H,de);!Xe.done;He++,Xe=L.next())(Xe=Q(de,H,He,Xe.value,Y))!==null&&(l&&Xe.alternate!==null&&de.delete(Xe.key===null?He:Xe.key),k=b(Xe,k,He),We===null?ye=Xe:We.sibling=Xe,We=Xe);return l&&de.forEach(function(nk){return u(H,nk)}),dt&&yo(H,He),ye}return function H(k,L,Y,ye){if(typeof Y=="object"&&Y!==null&&Y.type===h&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case a:e:{for(var We=Y.key,de=L;de!==null;){if(de.key===We){if((We=Y.type)===h){if(de.tag===7){d(k,de.sibling),(L=v(de,Y.props.children)).return=k,k=L;break e}}else if(de.elementType===We||typeof We=="object"&&We!==null&&We.$$typeof===w&&sb(We)===de.type){d(k,de.sibling),(L=v(de,Y.props)).ref=mu(k,de,Y),L.return=k,k=L;break e}d(k,de);break}u(k,de),de=de.sibling}Y.type===h?((L=Eo(Y.props.children,k.mode,ye,Y.key)).return=k,k=L):((ye=hd(Y.type,Y.key,Y.props,null,k.mode,ye)).ref=mu(k,L,Y),ye.return=k,k=ye)}return C(k);case c:e:{for(de=Y.key;L!==null;){if(L.key===de){if(L.tag===4&&L.stateNode.containerInfo===Y.containerInfo&&L.stateNode.implementation===Y.implementation){d(k,L.sibling),(L=v(L,Y.children||[])).return=k,k=L;break e}d(k,L);break}u(k,L),L=L.sibling}(L=nv(Y,k.mode,ye)).return=k,k=L}return C(k);case w:return H(k,L,(de=Y._init)(Y._payload),ye)}if(ie(Y))return ce(k,L,Y,ye);if(P(Y))return Pe(k,L,Y,ye);Uh(k,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"?(Y=""+Y,L!==null&&L.tag===6?(d(k,L.sibling),(L=v(L,Y)).return=k,k=L):(d(k,L),(L=rv(Y,k.mode,ye)).return=k,k=L),C(k)):d(k,L)}}var Ta=ob(!0),ab=ob(!1),gu={},on=vs(gu),vu=vs(gu),Aa=vs(gu);function ni(l){if(l===gu)throw Error(s(174));return l}function vg(l,u){qe(Aa,u),qe(vu,l),qe(on,gu),l=ae(u),ht(on),qe(on,l)}function Ca(){ht(on),ht(vu),ht(Aa)}function lb(l){var u=ni(Aa.current),d=ni(on.current);d!==(u=O(d,l.type,u))&&(qe(vu,l),qe(on,u))}function yg(l){vu.current===l&&(ht(on),ht(vu))}var St=vs(0);function zh(l){for(var u=l;u!==null;){if(u.tag===13){var d=u.memoizedState;if(d!==null&&((d=d.dehydrated)===null||Fx(d)||Vm(d)))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if(128&u.flags)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var _g=[];function xg(){for(var l=0;l<_g.length;l++){var u=_g[l];Qe?u._workInProgressVersionPrimary=null:u._workInProgressVersionSecondary=null}_g.length=0}var $h=o.ReactCurrentDispatcher,bg=o.ReactCurrentBatchConfig,xo=0,gt=null,$t=null,Gt=null,Gh=!1,yu=!1,_u=0,DM=0;function or(){throw Error(s(321))}function wg(l,u){if(u===null)return!1;for(var d=0;d<u.length&&d<l.length;d++)if(!Tn(l[d],u[d]))return!1;return!0}function Sg(l,u,d,g,v,b){if(xo=b,gt=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,$h.current=l===null||l.memoizedState===null?LM:UM,l=d(g,v),yu){b=0;do{if(yu=!1,_u=0,25<=b)throw Error(s(301));b+=1,Gt=$t=null,u.updateQueue=null,$h.current=zM,l=d(g,v)}while(yu)}if($h.current=Vh,u=$t!==null&&$t.next!==null,xo=0,Gt=$t=gt=null,Gh=!1,u)throw Error(s(300));return l}function Eg(){var l=_u!==0;return _u=0,l}function ii(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gt===null?gt.memoizedState=Gt=l:Gt=Gt.next=l,Gt}function an(){if($t===null){var l=gt.alternate;l=l!==null?l.memoizedState:null}else l=$t.next;var u=Gt===null?gt.memoizedState:Gt.next;if(u!==null)Gt=u,$t=l;else{if(l===null)throw Error(s(310));l={memoizedState:($t=l).memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},Gt===null?gt.memoizedState=Gt=l:Gt=Gt.next=l}return Gt}function xu(l,u){return typeof u=="function"?u(l):u}function Tg(l){var u=an(),d=u.queue;if(d===null)throw Error(s(311));d.lastRenderedReducer=l;var g=$t,v=g.baseQueue,b=d.pending;if(b!==null){if(v!==null){var C=v.next;v.next=b.next,b.next=C}g.baseQueue=v=b,d.pending=null}if(v!==null){b=v.next,g=g.baseState;var I=C=null,F=null,z=b;do{var j=z.lane;if((xo&j)===j)F!==null&&(F=F.next={lane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),g=z.hasEagerState?z.eagerState:l(g,z.action);else{var te={lane:j,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null};F===null?(I=F=te,C=g):F=F.next=te,gt.lanes|=j,bo|=j}z=z.next}while(z!==null&&z!==b);F===null?C=g:F.next=I,Tn(g,u.memoizedState)||(Ar=!0),u.memoizedState=g,u.baseState=C,u.baseQueue=F,d.lastRenderedState=g}if((l=d.interleaved)!==null){v=l;do b=v.lane,gt.lanes|=b,bo|=b,v=v.next;while(v!==l)}else v===null&&(d.lanes=0);return[u.memoizedState,d.dispatch]}function Ag(l){var u=an(),d=u.queue;if(d===null)throw Error(s(311));d.lastRenderedReducer=l;var g=d.dispatch,v=d.pending,b=u.memoizedState;if(v!==null){d.pending=null;var C=v=v.next;do b=l(b,C.action),C=C.next;while(C!==v);Tn(b,u.memoizedState)||(Ar=!0),u.memoizedState=b,u.baseQueue===null&&(u.baseState=b),d.lastRenderedState=b}return[b,g]}function ub(){}function cb(l,u){var d=gt,g=an(),v=u(),b=!Tn(g.memoizedState,v);if(b&&(g.memoizedState=v,Ar=!0),g=g.queue,Cg(fb.bind(null,d,g,l),[l]),g.getSnapshot!==u||b||Gt!==null&&1&Gt.memoizedState.tag){if(d.flags|=2048,bu(9,db.bind(null,d,g,v,u),void 0,null),jt===null)throw Error(s(349));30&xo||hb(d,u,v)}return v}function hb(l,u,d){l.flags|=16384,l={getSnapshot:u,value:d},(u=gt.updateQueue)===null?(u={lastEffect:null,stores:null},gt.updateQueue=u,u.stores=[l]):(d=u.stores)===null?u.stores=[l]:d.push(l)}function db(l,u,d,g){u.value=d,u.getSnapshot=g,pb(u)&&mb(l)}function fb(l,u,d){return d(function(){pb(u)&&mb(l)})}function pb(l){var u=l.getSnapshot;l=l.value;try{var d=u();return!Tn(l,d)}catch{return!0}}function mb(l){var u=ri(l,1);u!==null&&ln(u,l,1,-1)}function gb(l){var u=ii();return typeof l=="function"&&(l=l()),u.memoizedState=u.baseState=l,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xu,lastRenderedState:l},u.queue=l,l=l.dispatch=BM.bind(null,gt,l),[u.memoizedState,l]}function bu(l,u,d,g){return l={tag:l,create:u,destroy:d,deps:g,next:null},(u=gt.updateQueue)===null?(u={lastEffect:null,stores:null},gt.updateQueue=u,u.lastEffect=l.next=l):(d=u.lastEffect)===null?u.lastEffect=l.next=l:(g=d.next,d.next=l,l.next=g,u.lastEffect=l),l}function vb(){return an().memoizedState}function jh(l,u,d,g){var v=ii();gt.flags|=l,v.memoizedState=bu(1|u,d,void 0,g===void 0?null:g)}function Hh(l,u,d,g){var v=an();g=g===void 0?null:g;var b=void 0;if($t!==null){var C=$t.memoizedState;if(b=C.destroy,g!==null&&wg(g,C.deps))return void(v.memoizedState=bu(u,d,b,g))}gt.flags|=l,v.memoizedState=bu(1|u,d,b,g)}function yb(l,u){return jh(8390656,8,l,u)}function Cg(l,u){return Hh(2048,8,l,u)}function _b(l,u){return Hh(4,2,l,u)}function xb(l,u){return Hh(4,4,l,u)}function bb(l,u){return typeof u=="function"?(l=l(),u(l),function(){u(null)}):u!=null?(l=l(),u.current=l,function(){u.current=null}):void 0}function wb(l,u,d){return d=d!=null?d.concat([l]):null,Hh(4,4,bb.bind(null,u,l),d)}function Pg(){}function Sb(l,u){var d=an();u=u===void 0?null:u;var g=d.memoizedState;return g!==null&&u!==null&&wg(u,g[1])?g[0]:(d.memoizedState=[l,u],l)}function Eb(l,u){var d=an();u=u===void 0?null:u;var g=d.memoizedState;return g!==null&&u!==null&&wg(u,g[1])?g[0]:(l=l(),d.memoizedState=[l,u],l)}function Tb(l,u,d){return 21&xo?(Tn(d,u)||(d=zx(),gt.lanes|=d,bo|=d,l.baseState=!0),u):(l.baseState&&(l.baseState=!1,Ar=!0),l.memoizedState=d)}function NM(l,u){var d=je;je=d!==0&&4>d?d:4,l(!0);var g=bg.transition;bg.transition={};try{l(!1),u()}finally{je=d,bg.transition=g}}function Ab(){return an().memoizedState}function FM(l,u,d){var g=Es(l);d={lane:g,action:d,hasEagerState:!1,eagerState:null,next:null},Cb(l)?Pb(u,d):(d=qx(l,u,d,g))!==null&&(ln(d,l,g,lr()),Ib(d,u,g))}function BM(l,u,d){var g=Es(l),v={lane:g,action:d,hasEagerState:!1,eagerState:null,next:null};if(Cb(l))Pb(u,v);else{var b=l.alternate;if(l.lanes===0&&(b===null||b.lanes===0)&&(b=u.lastRenderedReducer)!==null)try{var C=u.lastRenderedState,I=b(C,d);if(v.hasEagerState=!0,v.eagerState=I,Tn(I,C)){var F=u.interleaved;return F===null?(v.next=v,fg(u)):(v.next=F.next,F.next=v),void(u.interleaved=v)}}catch{}(d=qx(l,u,v,g))!==null&&(ln(d,l,g,v=lr()),Ib(d,u,g))}}function Cb(l){var u=l.alternate;return l===gt||u!==null&&u===gt}function Pb(l,u){yu=Gh=!0;var d=l.pending;d===null?u.next=u:(u.next=d.next,d.next=u),l.pending=u}function Ib(l,u,d){if(4194240&d){var g=u.lanes;d|=g&=l.pendingLanes,u.lanes=d,eg(l,d)}}var Vh={readContext:sn,useCallback:or,useContext:or,useEffect:or,useImperativeHandle:or,useInsertionEffect:or,useLayoutEffect:or,useMemo:or,useReducer:or,useRef:or,useState:or,useDebugValue:or,useDeferredValue:or,useTransition:or,useMutableSource:or,useSyncExternalStore:or,useId:or,unstable_isNewReconciler:!1},LM={readContext:sn,useCallback:function(l,u){return ii().memoizedState=[l,u===void 0?null:u],l},useContext:sn,useEffect:yb,useImperativeHandle:function(l,u,d){return d=d!=null?d.concat([l]):null,jh(4194308,4,bb.bind(null,u,l),d)},useLayoutEffect:function(l,u){return jh(4194308,4,l,u)},useInsertionEffect:function(l,u){return jh(4,2,l,u)},useMemo:function(l,u){var d=ii();return u=u===void 0?null:u,l=l(),d.memoizedState=[l,u],l},useReducer:function(l,u,d){var g=ii();return u=d!==void 0?d(u):u,g.memoizedState=g.baseState=u,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:u},g.queue=l,l=l.dispatch=FM.bind(null,gt,l),[g.memoizedState,l]},useRef:function(l){return l={current:l},ii().memoizedState=l},useState:gb,useDebugValue:Pg,useDeferredValue:function(l){return ii().memoizedState=l},useTransition:function(){var l=gb(!1),u=l[0];return l=NM.bind(null,l[1]),ii().memoizedState=l,[u,l]},useMutableSource:function(){},useSyncExternalStore:function(l,u,d){var g=gt,v=ii();if(dt){if(d===void 0)throw Error(s(407));d=d()}else{if(d=u(),jt===null)throw Error(s(349));30&xo||hb(g,u,d)}v.memoizedState=d;var b={value:d,getSnapshot:u};return v.queue=b,yb(fb.bind(null,g,b,l),[l]),g.flags|=2048,bu(9,db.bind(null,g,b,d,u),void 0,null),d},useId:function(){var l=ii(),u=jt.identifierPrefix;if(dt){var d=zi;u=":"+u+"R"+(d=(ti&~(1<<32-En(ti)-1)).toString(32)+d),0<(d=_u++)&&(u+="H"+d.toString(32)),u+=":"}else u=":"+u+"r"+(d=DM++).toString(32)+":";return l.memoizedState=u},unstable_isNewReconciler:!1},UM={readContext:sn,useCallback:Sb,useContext:sn,useEffect:Cg,useImperativeHandle:wb,useInsertionEffect:_b,useLayoutEffect:xb,useMemo:Eb,useReducer:Tg,useRef:vb,useState:function(){return Tg(xu)},useDebugValue:Pg,useDeferredValue:function(l){return Tb(an(),$t.memoizedState,l)},useTransition:function(){return[Tg(xu)[0],an().memoizedState]},useMutableSource:ub,useSyncExternalStore:cb,useId:Ab,unstable_isNewReconciler:!1},zM={readContext:sn,useCallback:Sb,useContext:sn,useEffect:Cg,useImperativeHandle:wb,useInsertionEffect:_b,useLayoutEffect:xb,useMemo:Eb,useReducer:Ag,useRef:vb,useState:function(){return Ag(xu)},useDebugValue:Pg,useDeferredValue:function(l){var u=an();return $t===null?u.memoizedState=l:Tb(u,$t.memoizedState,l)},useTransition:function(){return[Ag(xu)[0],an().memoizedState]},useMutableSource:ub,useSyncExternalStore:cb,useId:Ab,unstable_isNewReconciler:!1};function Pa(l,u){try{var d="",g=u;do d+=kM(g),g=g.return;while(g);var v=d}catch(b){v=`
Error generating stack: `+b.message+`
`+b.stack}return{value:l,source:u,stack:v,digest:null}}function Ig(l,u,d){return{value:l,source:null,stack:d??null,digest:u??null}}function Rg(l,u){try{console.error(u.value)}catch(d){setTimeout(function(){throw d})}}var $M=typeof WeakMap=="function"?WeakMap:Map;function Rb(l,u,d){(d=$i(-1,d)).tag=3,d.payload={element:null};var g=u.value;return d.callback=function(){sd||(sd=!0,Kg=g),Rg(0,u)},d}function Ob(l,u,d){(d=$i(-1,d)).tag=3;var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var v=u.value;d.payload=function(){return g(v)},d.callback=function(){Rg(0,u)}}var b=l.stateNode;return b!==null&&typeof b.componentDidCatch=="function"&&(d.callback=function(){Rg(0,u),typeof g!="function"&&(ws===null?ws=new Set([this]):ws.add(this));var C=u.stack;this.componentDidCatch(u.value,{componentStack:C!==null?C:""})}),d}function Mb(l,u,d){var g=l.pingCache;if(g===null){g=l.pingCache=new $M;var v=new Set;g.set(u,v)}else(v=g.get(u))===void 0&&(v=new Set,g.set(u,v));v.has(d)||(v.add(d),l=QM.bind(null,l,u,d),u.then(l,l))}function kb(l){do{var u;if((u=l.tag===13)&&(u=(u=l.memoizedState)===null||u.dehydrated!==null),u)return l;l=l.return}while(l!==null);return null}function Db(l,u,d,g,v){return 1&l.mode?(l.flags|=65536,l.lanes=v,l):(l===u?l.flags|=65536:(l.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:((u=$i(-1,1)).tag=2,xs(d,u,1))),d.lanes|=1),l)}var GM=o.ReactCurrentOwner,Ar=!1;function Cr(l,u,d,g){u.child=l===null?ab(u,null,d,g):Ta(u,l.child,d,g)}function Nb(l,u,d,g,v){d=d.render;var b=u.ref;return Ea(u,v),g=Sg(l,u,d,g,b,v),d=Eg(),l===null||Ar?(dt&&d&&ig(u),u.flags|=1,Cr(l,u,g,v),u.child):(u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~v,Gi(l,u,v))}function Fb(l,u,d,g,v){if(l===null){var b=d.type;return typeof b!="function"||tv(b)||b.defaultProps!==void 0||d.compare!==null||d.defaultProps!==void 0?((l=hd(d.type,null,g,u,u.mode,v)).ref=u.ref,l.return=u,u.child=l):(u.tag=15,u.type=b,Bb(l,u,b,g,v))}if(b=l.child,(l.lanes&v)==0){var C=b.memoizedProps;if((d=(d=d.compare)!==null?d:kh)(C,g)&&l.ref===u.ref)return Gi(l,u,v)}return u.flags|=1,(l=As(b,g)).ref=u.ref,l.return=u,u.child=l}function Bb(l,u,d,g,v){if(l!==null){var b=l.memoizedProps;if(kh(b,g)&&l.ref===u.ref){if(Ar=!1,u.pendingProps=g=b,(l.lanes&v)==0)return u.lanes=l.lanes,Gi(l,u,v);131072&l.flags&&(Ar=!0)}}return Og(l,u,d,g,v)}function Lb(l,u,d){var g=u.pendingProps,v=g.children,b=l!==null?l.memoizedState:null;if(g.mode==="hidden")if(!(1&u.mode))u.memoizedState={baseLanes:0,cachePool:null,transitions:null},qe(Ra,Lr),Lr|=d;else{if(!(1073741824&d))return l=b!==null?b.baseLanes|d:d,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:l,cachePool:null,transitions:null},u.updateQueue=null,qe(Ra,Lr),Lr|=l,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=b!==null?b.baseLanes:d,qe(Ra,Lr),Lr|=g}else b!==null?(g=b.baseLanes|d,u.memoizedState=null):g=d,qe(Ra,Lr),Lr|=g;return Cr(l,u,v,d),u.child}function Ub(l,u){var d=u.ref;(l===null&&d!==null||l!==null&&l.ref!==d)&&(u.flags|=512,u.flags|=2097152)}function Og(l,u,d,g,v){var b=Fr(d)?go:sr.current;return b=_a(u,b),Ea(u,v),d=Sg(l,u,d,g,b,v),g=Eg(),l===null||Ar?(dt&&g&&ig(u),u.flags|=1,Cr(l,u,d,v),u.child):(u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~v,Gi(l,u,v))}function zb(l,u,d,g,v){if(Fr(d)){var b=!0;Ah(u)}else b=!1;if(Ea(u,v),u.stateNode===null)Kh(l,u),nb(u,d,g),gg(u,d,g,v),g=!0;else if(l===null){var C=u.stateNode,I=u.memoizedProps;C.props=I;var F=C.context,z=d.contextType;typeof z=="object"&&z!==null?z=sn(z):z=_a(u,z=Fr(d)?go:sr.current);var j=d.getDerivedStateFromProps,te=typeof j=="function"||typeof C.getSnapshotBeforeUpdate=="function";te||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(I!==g||F!==z)&&ib(u,C,g,z),_s=!1;var G=u.memoizedState;C.state=G,Bh(u,g,C,v),F=u.memoizedState,I!==g||G!==F||Tr.current||_s?(typeof j=="function"&&(mg(u,d,j,g),F=u.memoizedState),(I=_s||rb(u,d,I,g,G,F,z))?(te||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(u.flags|=4194308)):(typeof C.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=g,u.memoizedState=F),C.props=g,C.state=F,C.context=z,g=I):(typeof C.componentDidMount=="function"&&(u.flags|=4194308),g=!1)}else{C=u.stateNode,Zx(l,u),I=u.memoizedProps,z=u.type===u.elementType?I:Cn(u.type,I),C.props=z,te=u.pendingProps,G=C.context,typeof(F=d.contextType)=="object"&&F!==null?F=sn(F):F=_a(u,F=Fr(d)?go:sr.current);var Q=d.getDerivedStateFromProps;(j=typeof Q=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(I!==te||G!==F)&&ib(u,C,g,F),_s=!1,G=u.memoizedState,C.state=G,Bh(u,g,C,v);var ce=u.memoizedState;I!==te||G!==ce||Tr.current||_s?(typeof Q=="function"&&(mg(u,d,Q,g),ce=u.memoizedState),(z=_s||rb(u,d,z,g,G,ce,F)||!1)?(j||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(g,ce,F),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(g,ce,F)),typeof C.componentDidUpdate=="function"&&(u.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof C.componentDidUpdate!="function"||I===l.memoizedProps&&G===l.memoizedState||(u.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||I===l.memoizedProps&&G===l.memoizedState||(u.flags|=1024),u.memoizedProps=g,u.memoizedState=ce),C.props=g,C.state=ce,C.context=F,g=z):(typeof C.componentDidUpdate!="function"||I===l.memoizedProps&&G===l.memoizedState||(u.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||I===l.memoizedProps&&G===l.memoizedState||(u.flags|=1024),g=!1)}return Mg(l,u,d,g,b,v)}function Mg(l,u,d,g,v,b){Ub(l,u);var C=(128&u.flags)!=0;if(!g&&!C)return v&&Ux(u,d,!1),Gi(l,u,b);g=u.stateNode,GM.current=u;var I=C&&typeof d.getDerivedStateFromError!="function"?null:g.render();return u.flags|=1,l!==null&&C?(u.child=Ta(u,l.child,null,b),u.child=Ta(u,null,I,b)):Cr(l,u,I,b),u.memoizedState=g.state,v&&Ux(u,d,!0),u.child}function $b(l){var u=l.stateNode;u.pendingContext?Bx(0,u.pendingContext,u.pendingContext!==u.context):u.context&&Bx(0,u.context,!1),vg(l,u.containerInfo)}function Gb(l,u,d,g,v){return wa(),lg(v),u.flags|=256,Cr(l,u,d,g),u.child}var wu,Su,Wh,Xh,kg={dehydrated:null,treeContext:null,retryLane:0};function Dg(l){return{baseLanes:l,cachePool:null,transitions:null}}function jb(l,u,d){var g,v=u.pendingProps,b=St.current,C=!1,I=(128&u.flags)!=0;if((g=I)||(g=(l===null||l.memoizedState!==null)&&(2&b)!=0),g?(C=!0,u.flags&=-129):l!==null&&l.memoizedState===null||(b|=1),qe(St,1&b),l===null)return ag(u),(l=u.memoizedState)!==null&&(l=l.dehydrated)!==null?(1&u.mode?Vm(l)?u.lanes=8:u.lanes=1073741824:u.lanes=1,null):(I=v.children,l=v.fallback,C?(v=u.mode,C=u.child,I={mode:"hidden",children:I},!(1&v)&&C!==null?(C.childLanes=0,C.pendingProps=I):C=dd(I,v,0,null),l=Eo(l,v,d,null),C.return=u,l.return=u,C.sibling=l,u.child=C,u.child.memoizedState=Dg(d),u.memoizedState=kg,l):Ng(u,I));if((b=l.memoizedState)!==null&&(g=b.dehydrated)!==null)return function(z,j,te,G,Q,ce,Pe){if(te)return 256&j.flags?(j.flags&=-257,Yh(z,j,Pe,G=Ig(Error(s(422))))):j.memoizedState!==null?(j.child=z.child,j.flags|=128,null):(ce=G.fallback,Q=j.mode,G=dd({mode:"visible",children:G.children},Q,0,null),(ce=Eo(ce,Q,Pe,null)).flags|=2,G.return=j,ce.return=j,G.sibling=ce,j.child=G,1&j.mode&&Ta(j,z.child,null,Pe),j.child.memoizedState=Dg(Pe),j.memoizedState=kg,ce);if(!(1&j.mode))return Yh(z,j,Pe,null);if(Vm(Q))return G=lM(Q).digest,ce=Error(s(419)),G=Ig(ce,G,void 0),Yh(z,j,Pe,G);if(te=(Pe&z.childLanes)!=0,Ar||te){if((G=jt)!==null){switch(Pe&-Pe){case 4:Q=2;break;case 16:Q=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:Q=32;break;case 536870912:Q=268435456;break;default:Q=0}(Q=Q&(G.suspendedLanes|Pe)?0:Q)!==0&&Q!==ce.retryLane&&(ce.retryLane=Q,ri(z,Q),ln(G,z,Q,-1))}return ev(),Yh(z,j,Pe,G=Ig(Error(s(421))))}return Fx(Q)?(j.flags|=128,j.child=z.child,j=qM.bind(null,z),uM(Q,j),null):(z=ce.treeContext,Ge&&(nn=dM(Q),Br=j,dt=!0,An=null,pu=!1,z!==null&&(tn[rn++]=ti,tn[rn++]=zi,tn[rn++]=vo,ti=z.id,zi=z.overflow,vo=j)),j=Ng(j,G.children),j.flags|=4096,j)}(l,u,I,v,g,b,d);if(C){C=v.fallback,I=u.mode,g=(b=l.child).sibling;var F={mode:"hidden",children:v.children};return!(1&I)&&u.child!==b?((v=u.child).childLanes=0,v.pendingProps=F,u.deletions=null):(v=As(b,F)).subtreeFlags=14680064&b.subtreeFlags,g!==null?C=As(g,C):(C=Eo(C,I,d,null)).flags|=2,C.return=u,v.return=u,v.sibling=C,u.child=v,v=C,C=u.child,I=(I=l.child.memoizedState)===null?Dg(d):{baseLanes:I.baseLanes|d,cachePool:null,transitions:I.transitions},C.memoizedState=I,C.childLanes=l.childLanes&~d,u.memoizedState=kg,v}return l=(C=l.child).sibling,v=As(C,{mode:"visible",children:v.children}),!(1&u.mode)&&(v.lanes=d),v.return=u,v.sibling=null,l!==null&&((d=u.deletions)===null?(u.deletions=[l],u.flags|=16):d.push(l)),u.child=v,u.memoizedState=null,v}function Ng(l,u){return(u=dd({mode:"visible",children:u},l.mode,0,null)).return=l,l.child=u}function Yh(l,u,d,g){return g!==null&&lg(g),Ta(u,l.child,null,d),(l=Ng(u,u.pendingProps.children)).flags|=2,u.memoizedState=null,l}function Hb(l,u,d){l.lanes|=u;var g=l.alternate;g!==null&&(g.lanes|=u),dg(l.return,u,d)}function Fg(l,u,d,g,v){var b=l.memoizedState;b===null?l.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:g,tail:d,tailMode:v}:(b.isBackwards=u,b.rendering=null,b.renderingStartTime=0,b.last=g,b.tail=d,b.tailMode=v)}function Vb(l,u,d){var g=u.pendingProps,v=g.revealOrder,b=g.tail;if(Cr(l,u,g.children,d),(2&(g=St.current))!=0)g=1&g|2,u.flags|=128;else{if(l!==null&&128&l.flags)e:for(l=u.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&Hb(l,d,u);else if(l.tag===19)Hb(l,d,u);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===u)break e;for(;l.sibling===null;){if(l.return===null||l.return===u)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}g&=1}if(qe(St,g),(1&u.mode)==0)u.memoizedState=null;else switch(v){case"forwards":for(d=u.child,v=null;d!==null;)(l=d.alternate)!==null&&zh(l)===null&&(v=d),d=d.sibling;(d=v)===null?(v=u.child,u.child=null):(v=d.sibling,d.sibling=null),Fg(u,!1,v,d,b);break;case"backwards":for(d=null,v=u.child,u.child=null;v!==null;){if((l=v.alternate)!==null&&zh(l)===null){u.child=v;break}l=v.sibling,v.sibling=d,d=v,v=l}Fg(u,!0,d,null,b);break;case"together":Fg(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function Kh(l,u){!(1&u.mode)&&l!==null&&(l.alternate=null,u.alternate=null,u.flags|=2)}function Gi(l,u,d){if(l!==null&&(u.dependencies=l.dependencies),bo|=u.lanes,(d&u.childLanes)==0)return null;if(l!==null&&u.child!==l.child)throw Error(s(153));if(u.child!==null){for(d=As(l=u.child,l.pendingProps),u.child=d,d.return=u;l.sibling!==null;)l=l.sibling,(d=d.sibling=As(l,l.pendingProps)).return=u;d.sibling=null}return u.child}function si(l){l.flags|=4}function Wb(l,u){if(l!==null&&l.child===u.child)return!0;if(16&u.flags)return!1;for(l=u.child;l!==null;){if(12854&l.flags||12854&l.subtreeFlags)return!1;l=l.sibling}return!0}if(Ae)wu=function(l,u){for(var d=u.child;d!==null;){if(d.tag===5||d.tag===6)Z(l,d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===u)break;for(;d.sibling===null;){if(d.return===null||d.return===u)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},Su=function(){},Wh=function(l,u,d,g,v){if((l=l.memoizedProps)!==g){var b=u.stateNode,C=ni(on.current);d=be(b,d,l,g,v,C),(u.updateQueue=d)&&si(u)}},Xh=function(l,u,d,g){d!==g&&si(u)};else if(Le){wu=function(l,u,d,g){for(var v=u.child;v!==null;){if(v.tag===5){var b=v.stateNode;d&&g&&(b=Dx(b,v.type,v.memoizedProps,v)),Z(l,b)}else if(v.tag===6)b=v.stateNode,d&&g&&(b=Nx(b,v.memoizedProps,v)),Z(l,b);else if(v.tag!==4){if(v.tag===22&&v.memoizedState!==null)(b=v.child)!==null&&(b.return=v),wu(l,v,!0,!0);else if(v.child!==null){v.child.return=v,v=v.child;continue}}if(v===u)break;for(;v.sibling===null;){if(v.return===null||v.return===u)return;v=v.return}v.sibling.return=v.return,v=v.sibling}};var Xb=function(l,u,d,g){for(var v=u.child;v!==null;){if(v.tag===5){var b=v.stateNode;d&&g&&(b=Dx(b,v.type,v.memoizedProps,v)),kx(l,b)}else if(v.tag===6)b=v.stateNode,d&&g&&(b=Nx(b,v.memoizedProps,v)),kx(l,b);else if(v.tag!==4){if(v.tag===22&&v.memoizedState!==null)(b=v.child)!==null&&(b.return=v),Xb(l,v,!0,!0);else if(v.child!==null){v.child.return=v,v=v.child;continue}}if(v===u)break;for(;v.sibling===null;){if(v.return===null||v.return===u)return;v=v.return}v.sibling.return=v.return,v=v.sibling}};Su=function(l,u){var d=u.stateNode;if(!Wb(l,u)){l=d.containerInfo;var g=Mx(l);Xb(g,u,!1,!1),d.pendingChildren=g,si(u),iM(l,g)}},Wh=function(l,u,d,g,v){var b=l.stateNode,C=l.memoizedProps;if((l=Wb(l,u))&&C===g)u.stateNode=b;else{var I=u.stateNode,F=ni(on.current),z=null;C!==g&&(z=be(I,d,C,g,v,F)),l&&z===null?u.stateNode=b:(b=nM(b,z,d,C,g,u,l,I),Ee(b,d,g,v,F)&&si(u),u.stateNode=b,l?si(u):wu(b,u,!1,!1))}},Xh=function(l,u,d,g){d!==g?(l=ni(Aa.current),d=ni(on.current),u.stateNode=Se(g,l,d,u),si(u)):u.stateNode=l.stateNode}}else Su=function(){},Wh=function(){},Xh=function(){};function Eu(l,u){if(!dt)switch(l.tailMode){case"hidden":u=l.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?l.tail=null:d.sibling=null;break;case"collapsed":d=l.tail;for(var g=null;d!==null;)d.alternate!==null&&(g=d),d=d.sibling;g===null?u||l.tail===null?l.tail=null:l.tail.sibling=null:g.sibling=null}}function gr(l){var u=l.alternate!==null&&l.alternate.child===l.child,d=0,g=0;if(u)for(var v=l.child;v!==null;)d|=v.lanes|v.childLanes,g|=14680064&v.subtreeFlags,g|=14680064&v.flags,v.return=l,v=v.sibling;else for(v=l.child;v!==null;)d|=v.lanes|v.childLanes,g|=v.subtreeFlags,g|=v.flags,v.return=l,v=v.sibling;return l.subtreeFlags|=g,l.childLanes=d,u}function jM(l,u,d){var g=u.pendingProps;switch(sg(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gr(u),null;case 1:case 17:return Fr(u.type)&&Km(),gr(u),null;case 3:return d=u.stateNode,Ca(),ht(Tr),ht(sr),xg(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),l!==null&&l.child!==null||(Mh(u)?si(u):l===null||l.memoizedState.isDehydrated&&!(256&u.flags)||(u.flags|=1024,An!==null&&(Zg(An),An=null))),Su(l,u),gr(u),null;case 5:yg(u),d=ni(Aa.current);var v=u.type;if(l!==null&&u.stateNode!=null)Wh(l,u,v,g,d),l.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!g){if(u.stateNode===null)throw Error(s(166));return gr(u),null}if(l=ni(on.current),Mh(u)){if(!Ge)throw Error(s(175));l=fM(u.stateNode,u.type,u.memoizedProps,d,l,u,!pu),u.updateQueue=l,l!==null&&si(u)}else{var b=U(v,g,d,l,u);wu(b,u,!1,!1),u.stateNode=b,Ee(b,v,g,d,l)&&si(u)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return gr(u),null;case 6:if(l&&u.stateNode!=null)Xh(l,u,l.memoizedProps,g);else{if(typeof g!="string"&&u.stateNode===null)throw Error(s(166));if(l=ni(Aa.current),d=ni(on.current),Mh(u)){if(!Ge)throw Error(s(176));if(l=u.stateNode,d=u.memoizedProps,(g=pM(l,d,u,!pu))&&(v=Br)!==null)switch(v.tag){case 3:wM(v.stateNode.containerInfo,l,d,(1&v.mode)!=0);break;case 5:SM(v.type,v.memoizedProps,v.stateNode,l,d,(1&v.mode)!=0)}g&&si(u)}else u.stateNode=Se(g,l,d,u)}return gr(u),null;case 13:if(ht(St),g=u.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(dt&&nn!==null&&1&u.mode&&!(128&u.flags))Kx(),wa(),u.flags|=98560,v=!1;else if(v=Mh(u),g!==null&&g.dehydrated!==null){if(l===null){if(!v)throw Error(s(318));if(!Ge)throw Error(s(344));if(!(v=(v=u.memoizedState)!==null?v.dehydrated:null))throw Error(s(317));mM(v,u)}else wa(),!(128&u.flags)&&(u.memoizedState=null),u.flags|=4;gr(u),v=!1}else An!==null&&(Zg(An),An=null),v=!0;if(!v)return 65536&u.flags?u:null}return 128&u.flags?(u.lanes=d,u):((d=g!==null)!=(l!==null&&l.memoizedState!==null)&&d&&(u.child.flags|=8192,1&u.mode&&(l===null||1&St.current?Nt===0&&(Nt=3):ev())),u.updateQueue!==null&&(u.flags|=4),gr(u),null);case 4:return Ca(),Su(l,u),l===null&&en(u.stateNode.containerInfo),gr(u),null;case 10:return hg(u.type._context),gr(u),null;case 19:if(ht(St),(v=u.memoizedState)===null)return gr(u),null;if(g=(128&u.flags)!=0,(b=v.rendering)===null)if(g)Eu(v,!1);else{if(Nt!==0||l!==null&&128&l.flags)for(l=u.child;l!==null;){if((b=zh(l))!==null){for(u.flags|=128,Eu(v,!1),(l=b.updateQueue)!==null&&(u.updateQueue=l,u.flags|=4),u.subtreeFlags=0,l=d,d=u.child;d!==null;)v=l,(g=d).flags&=14680066,(b=g.alternate)===null?(g.childLanes=0,g.lanes=v,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=b.childLanes,g.lanes=b.lanes,g.child=b.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=b.memoizedProps,g.memoizedState=b.memoizedState,g.updateQueue=b.updateQueue,g.type=b.type,v=b.dependencies,g.dependencies=v===null?null:{lanes:v.lanes,firstContext:v.firstContext}),d=d.sibling;return qe(St,1&St.current|2),u.child}l=l.sibling}v.tail!==null&&zt()>Yg&&(u.flags|=128,g=!0,Eu(v,!1),u.lanes=4194304)}else{if(!g)if((l=zh(b))!==null){if(u.flags|=128,g=!0,(l=l.updateQueue)!==null&&(u.updateQueue=l,u.flags|=4),Eu(v,!0),v.tail===null&&v.tailMode==="hidden"&&!b.alternate&&!dt)return gr(u),null}else 2*zt()-v.renderingStartTime>Yg&&d!==1073741824&&(u.flags|=128,g=!0,Eu(v,!1),u.lanes=4194304);v.isBackwards?(b.sibling=u.child,u.child=b):((l=v.last)!==null?l.sibling=b:u.child=b,v.last=b)}return v.tail!==null?(u=v.tail,v.rendering=u,v.tail=u.sibling,v.renderingStartTime=zt(),u.sibling=null,l=St.current,qe(St,g?1&l|2:1&l),u):(gr(u),null);case 22:case 23:return Jg(),d=u.memoizedState!==null,l!==null&&l.memoizedState!==null!==d&&(u.flags|=8192),d&&1&u.mode?1073741824&Lr&&(gr(u),Ae&&6&u.subtreeFlags&&(u.flags|=8192)):gr(u),null;case 24:case 25:return null}throw Error(s(156,u.tag))}function HM(l,u){switch(sg(u),u.tag){case 1:return Fr(u.type)&&Km(),65536&(l=u.flags)?(u.flags=-65537&l|128,u):null;case 3:return Ca(),ht(Tr),ht(sr),xg(),65536&(l=u.flags)&&!(128&l)?(u.flags=-65537&l|128,u):null;case 5:return yg(u),null;case 13:if(ht(St),(l=u.memoizedState)!==null&&l.dehydrated!==null){if(u.alternate===null)throw Error(s(340));wa()}return 65536&(l=u.flags)?(u.flags=-65537&l|128,u):null;case 19:return ht(St),null;case 4:return Ca(),null;case 10:return hg(u.type._context),null;case 22:case 23:return Jg(),null;default:return null}}var Qh=!1,ar=!1,VM=typeof WeakSet=="function"?WeakSet:Set,le=null;function Ia(l,u){var d=l.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(g){ft(l,u,g)}else d.current=null}function Yb(l,u,d){try{d()}catch(g){ft(l,u,g)}}var Kb=!1;function Tu(l,u,d){var g=u.updateQueue;if((g=g!==null?g.lastEffect:null)!==null){var v=g=g.next;do{if((v.tag&l)===l){var b=v.destroy;v.destroy=void 0,b!==void 0&&Yb(u,d,b)}v=v.next}while(v!==g)}}function qh(l,u){if((u=(u=u.updateQueue)!==null?u.lastEffect:null)!==null){var d=u=u.next;do{if((d.tag&l)===l){var g=d.create;d.destroy=g()}d=d.next}while(d!==u)}}function Bg(l){var u=l.ref;if(u!==null){var d=l.stateNode;l.tag===5?l=me(d):l=d,typeof u=="function"?u(l):u.current=l}}function Qb(l){var u=l.alternate;u!==null&&(l.alternate=null,Qb(u)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(u=l.stateNode)!==null&&jm(u),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}function qb(l){return l.tag===5||l.tag===3||l.tag===4}function Zb(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||qb(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(2&l.flags||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(2&l.flags))return l.stateNode}}function Lg(l,u,d){var g=l.tag;if(g===5||g===6)l=l.stateNode,u?K2(d,l,u):H2(d,l);else if(g!==4&&(l=l.child)!==null)for(Lg(l,u,d),l=l.sibling;l!==null;)Lg(l,u,d),l=l.sibling}function Ug(l,u,d){var g=l.tag;if(g===5||g===6)l=l.stateNode,u?Y2(d,l,u):j2(d,l);else if(g!==4&&(l=l.child)!==null)for(Ug(l,u,d),l=l.sibling;l!==null;)Ug(l,u,d),l=l.sibling}var vr=null,oi=!1;function ai(l,u,d){for(d=d.child;d!==null;)zg(l,u,d),d=d.sibling}function zg(l,u,d){if(Jn&&typeof Jn.onCommitFiberUnmount=="function")try{Jn.onCommitFiberUnmount(Ph,d)}catch{}switch(d.tag){case 5:ar||Ia(d,u);case 6:if(Ae){var g=vr,v=oi;vr=null,ai(l,u,d),oi=v,(vr=g)!==null&&(oi?q2(vr,d.stateNode):Q2(vr,d.stateNode))}else ai(l,u,d);break;case 18:Ae&&vr!==null&&(oi?xM(vr,d.stateNode):_M(vr,d.stateNode));break;case 4:Ae?(g=vr,v=oi,vr=d.stateNode.containerInfo,oi=!0,ai(l,u,d),vr=g,oi=v):(Le&&(g=d.stateNode.containerInfo,v=Mx(g),Hm(g,v)),ai(l,u,d));break;case 0:case 11:case 14:case 15:if(!ar&&(g=d.updateQueue)!==null&&(g=g.lastEffect)!==null){v=g=g.next;do{var b=v,C=b.destroy;b=b.tag,C!==void 0&&(2&b||4&b)&&Yb(d,u,C),v=v.next}while(v!==g)}ai(l,u,d);break;case 1:if(!ar&&(Ia(d,u),typeof(g=d.stateNode).componentWillUnmount=="function"))try{g.props=d.memoizedProps,g.state=d.memoizedState,g.componentWillUnmount()}catch(I){ft(d,u,I)}ai(l,u,d);break;case 21:ai(l,u,d);break;case 22:1&d.mode?(ar=(g=ar)||d.memoizedState!==null,ai(l,u,d),ar=g):ai(l,u,d);break;default:ai(l,u,d)}}function Jb(l){var u=l.updateQueue;if(u!==null){l.updateQueue=null;var d=l.stateNode;d===null&&(d=l.stateNode=new VM),u.forEach(function(g){var v=ZM.bind(null,l,g);d.has(g)||(d.add(g),g.then(v,v))})}}function Pn(l,u){var d=u.deletions;if(d!==null)for(var g=0;g<d.length;g++){var v=d[g];try{var b=l,C=u;if(Ae){var I=C;e:for(;I!==null;){switch(I.tag){case 5:vr=I.stateNode,oi=!1;break e;case 3:case 4:vr=I.stateNode.containerInfo,oi=!0;break e}I=I.return}if(vr===null)throw Error(s(160));zg(b,C,v),vr=null,oi=!1}else zg(b,C,v);var F=v.alternate;F!==null&&(F.return=null),v.return=null}catch(z){ft(v,u,z)}}if(12854&u.subtreeFlags)for(u=u.child;u!==null;)ew(u,l),u=u.sibling}function ew(l,u){var d=l.alternate,g=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:if(Pn(u,l),li(l),4&g){try{Tu(3,l,l.return),qh(3,l)}catch(G){ft(l,l.return,G)}try{Tu(5,l,l.return)}catch(G){ft(l,l.return,G)}}break;case 1:Pn(u,l),li(l),512&g&&d!==null&&Ia(d,d.return);break;case 5:if(Pn(u,l),li(l),512&g&&d!==null&&Ia(d,d.return),Ae){if(32&l.flags){var v=l.stateNode;try{Ox(v)}catch(G){ft(l,l.return,G)}}if(4&g&&(v=l.stateNode)!=null){var b=l.memoizedProps;if(d=d!==null?d.memoizedProps:b,g=l.type,u=l.updateQueue,l.updateQueue=null,u!==null)try{X2(v,u,g,d,b,l)}catch(G){ft(l,l.return,G)}}}break;case 6:if(Pn(u,l),li(l),4&g&&Ae){if(l.stateNode===null)throw Error(s(162));v=l.stateNode,b=l.memoizedProps,d=d!==null?d.memoizedProps:b;try{V2(v,d,b)}catch(G){ft(l,l.return,G)}}break;case 3:if(Pn(u,l),li(l),4&g){if(Ae&&Ge&&d!==null&&d.memoizedState.isDehydrated)try{vM(u.containerInfo)}catch(G){ft(l,l.return,G)}if(Le){v=u.containerInfo,b=u.pendingChildren;try{Hm(v,b)}catch(G){ft(l,l.return,G)}}}break;case 4:if(Pn(u,l),li(l),4&g&&Le){v=(b=l.stateNode).containerInfo,b=b.pendingChildren;try{Hm(v,b)}catch(G){ft(l,l.return,G)}}break;case 13:Pn(u,l),li(l),8192&(v=l.child).flags&&(b=v.memoizedState!==null,v.stateNode.isHidden=b,!b||v.alternate!==null&&v.alternate.memoizedState!==null||(Xg=zt())),4&g&&Jb(l);break;case 22:var C=d!==null&&d.memoizedState!==null;if(1&l.mode?(ar=(d=ar)||C,Pn(u,l),ar=d):Pn(u,l),li(l),8192&g){if(d=l.memoizedState!==null,(l.stateNode.isHidden=d)&&!C&&(1&l.mode)!=0)for(le=l,g=l.child;g!==null;){for(u=le=g;le!==null;){var I=(C=le).child;switch(C.tag){case 0:case 11:case 14:case 15:Tu(4,C,C.return);break;case 1:Ia(C,C.return);var F=C.stateNode;if(typeof F.componentWillUnmount=="function"){var z=C,j=C.return;try{var te=z;F.props=te.memoizedProps,F.state=te.memoizedState,F.componentWillUnmount()}catch(G){ft(z,j,G)}}break;case 5:Ia(C,C.return);break;case 22:if(C.memoizedState!==null){nw(u);continue}}I!==null?(I.return=C,le=I):nw(u)}g=g.sibling}if(Ae){e:if(g=null,Ae)for(u=l;;){if(u.tag===5){if(g===null){g=u;try{v=u.stateNode,d?Z2(v):eM(u.stateNode,u.memoizedProps)}catch(G){ft(l,l.return,G)}}}else if(u.tag===6){if(g===null)try{b=u.stateNode,d?J2(b):tM(b,u.memoizedProps)}catch(G){ft(l,l.return,G)}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===l)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break e;for(;u.sibling===null;){if(u.return===null||u.return===l)break e;g===u&&(g=null),u=u.return}g===u&&(g=null),u.sibling.return=u.return,u=u.sibling}}}break;case 19:Pn(u,l),li(l),4&g&&Jb(l);break;case 21:break;default:Pn(u,l),li(l)}}function li(l){var u=l.flags;if(2&u){try{if(Ae){e:{for(var d=l.return;d!==null;){if(qb(d)){var g=d;break e}d=d.return}throw Error(s(160))}switch(g.tag){case 5:var v=g.stateNode;32&g.flags&&(Ox(v),g.flags&=-33),Ug(l,Zb(l),v);break;case 3:case 4:var b=g.stateNode.containerInfo;Lg(l,Zb(l),b);break;default:throw Error(s(161))}}}catch(C){ft(l,l.return,C)}l.flags&=-3}4096&u&&(l.flags&=-4097)}function WM(l,u,d){le=l,tw(l)}function tw(l,u,d){for(var g=(1&l.mode)!=0;le!==null;){var v=le,b=v.child;if(v.tag===22&&g){var C=v.memoizedState!==null||Qh;if(!C){var I=v.alternate,F=I!==null&&I.memoizedState!==null||ar;I=Qh;var z=ar;if(Qh=C,(ar=F)&&!z)for(le=v;le!==null;)F=(C=le).child,C.tag===22&&C.memoizedState!==null?iw(v):F!==null?(F.return=C,le=F):iw(v);for(;b!==null;)le=b,tw(b),b=b.sibling;le=v,Qh=I,ar=z}rw(l)}else 8772&v.subtreeFlags&&b!==null?(b.return=v,le=b):rw(l)}}function rw(l){for(;le!==null;){var u=le;if(8772&u.flags){var d=u.alternate;try{if(8772&u.flags)switch(u.tag){case 0:case 11:case 15:ar||qh(5,u);break;case 1:var g=u.stateNode;if(4&u.flags&&!ar)if(d===null)g.componentDidMount();else{var v=u.elementType===u.type?d.memoizedProps:Cn(u.type,d.memoizedProps);g.componentDidUpdate(v,d.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var b=u.updateQueue;b!==null&&eb(u,b,g);break;case 3:var C=u.updateQueue;if(C!==null){if(d=null,u.child!==null)switch(u.child.tag){case 5:d=me(u.child.stateNode);break;case 1:d=u.child.stateNode}eb(u,C,d)}break;case 5:var I=u.stateNode;d===null&&4&u.flags&&W2(I,u.type,u.memoizedProps,u);break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(Ge&&u.memoizedState===null){var F=u.alternate;if(F!==null){var z=F.memoizedState;if(z!==null){var j=z.dehydrated;j!==null&&yM(j)}}}break;default:throw Error(s(163))}ar||512&u.flags&&Bg(u)}catch(te){ft(u,u.return,te)}}if(u===l){le=null;break}if((d=u.sibling)!==null){d.return=u.return,le=d;break}le=u.return}}function nw(l){for(;le!==null;){var u=le;if(u===l){le=null;break}var d=u.sibling;if(d!==null){d.return=u.return,le=d;break}le=u.return}}function iw(l){for(;le!==null;){var u=le;try{switch(u.tag){case 0:case 11:case 15:var d=u.return;try{qh(4,u)}catch(F){ft(u,d,F)}break;case 1:var g=u.stateNode;if(typeof g.componentDidMount=="function"){var v=u.return;try{g.componentDidMount()}catch(F){ft(u,v,F)}}var b=u.return;try{Bg(u)}catch(F){ft(u,b,F)}break;case 5:var C=u.return;try{Bg(u)}catch(F){ft(u,C,F)}}}catch(F){ft(u,u.return,F)}if(u===l){le=null;break}var I=u.sibling;if(I!==null){I.return=u.return,le=I;break}le=u.return}}var Zh=0,Jh=1,ed=2,td=3,rd=4;if(typeof Symbol=="function"&&Symbol.for){var Au=Symbol.for;Zh=Au("selector.component"),Jh=Au("selector.has_pseudo_class"),ed=Au("selector.role"),td=Au("selector.test_id"),rd=Au("selector.text")}function $g(l){var u=Jr(l);if(u!=null){if(typeof u.memoizedProps["data-testname"]!="string")throw Error(s(364));return u}if((l=B2(l))===null)throw Error(s(362));return l.stateNode.current}function Gg(l,u){switch(u.$$typeof){case Zh:if(l.type===u.value)return!0;break;case Jh:e:{u=u.value,l=[l,0];for(var d=0;d<l.length;){var g=l[d++],v=l[d++],b=u[v];if(g.tag!==5||!cu(g)){for(;b!=null&&Gg(g,b);)b=u[++v];if(v===u.length){u=!0;break e}for(g=g.child;g!==null;)l.push(g,v),g=g.sibling}}u=!1}return u;case ed:if(l.tag===5&&z2(l.stateNode,u.value))return!0;break;case rd:if((l.tag===5||l.tag===6)&&(l=U2(l))!==null&&0<=l.indexOf(u.value))return!0;break;case td:if(l.tag===5&&typeof(l=l.memoizedProps["data-testname"])=="string"&&l.toLowerCase()===u.value.toLowerCase())return!0;break;default:throw Error(s(365))}return!1}function jg(l){switch(l.$$typeof){case Zh:return"<"+(M(l.value)||"Unknown")+">";case Jh:return":has("+(jg(l)||"")+")";case ed:return'[role="'+l.value+'"]';case rd:return'"'+l.value+'"';case td:return'[data-testname="'+l.value+'"]';default:throw Error(s(365))}}function sw(l,u){var d=[];l=[l,0];for(var g=0;g<l.length;){var v=l[g++],b=l[g++],C=u[b];if(v.tag!==5||!cu(v)){for(;C!=null&&Gg(v,C);)C=u[++b];if(b===u.length)d.push(v);else for(v=v.child;v!==null;)l.push(v,b),v=v.sibling}}return d}function Hg(l,u){if(!uu)throw Error(s(363));l=sw(l=$g(l),u),u=[],l=Array.from(l);for(var d=0;d<l.length;){var g=l[d++];if(g.tag===5)cu(g)||u.push(g.stateNode);else for(g=g.child;g!==null;)l.push(g),g=g.sibling}return u}var XM=Math.ceil,nd=o.ReactCurrentDispatcher,Vg=o.ReactCurrentOwner,Ct=o.ReactCurrentBatchConfig,Be=0,jt=null,Ot=null,Zt=0,Lr=0,Ra=vs(0),Nt=0,Cu=null,bo=0,id=0,Wg=0,Pu=null,Ur=null,Xg=0,Yg=1/0,bs=null;function Oa(){Yg=zt()+500}var ow,sd=!1,Kg=null,ws=null,od=!1,Ss=null,ad=0,Iu=0,Qg=null,ld=-1,ud=0;function lr(){return 6&Be?zt():ld!==-1?ld:ld=zt()}function Es(l){return 1&l.mode?2&Be&&Zt!==0?Zt&-Zt:MM.transition!==null?(ud===0&&(ud=zx()),ud):(l=je)!==0?l:mo():1}function ln(l,u,d,g){if(50<Iu)throw Iu=0,Qg=null,Error(s(185));fu(l,d,g),2&Be&&l===jt||(l===jt&&(!(2&Be)&&(id|=d),Nt===4&&Ts(l,Zt)),Pr(l,g),d===1&&Be===0&&!(1&u.mode)&&(Oa(),Ih&&ei()))}function Pr(l,u){var d=l.callbackNode;(function(v,b){for(var C=v.suspendedLanes,I=v.pingedLanes,F=v.expirationTimes,z=v.pendingLanes;0<z;){var j=31-En(z),te=1<<j,G=F[j];G===-1?te&C&&!(te&I)||(F[j]=CM(te,b)):G<=b&&(v.expiredLanes|=te),z&=~te}})(l,u);var g=Ch(l,l===jt?Zt:0);if(g===0)d!==null&&Gx(d),l.callbackNode=null,l.callbackPriority=0;else if(u=g&-g,l.callbackPriority!==u){if(d!=null&&Gx(d),u===1)l.tag===0?function(v){Ih=!0,Hx(v)}(lw.bind(null,l)):Hx(lw.bind(null,l)),va?F2(function(){!(6&Be)&&ei()}):tg(rg,ei),d=null;else{switch($x(g)){case 1:d=rg;break;case 4:d=RM;break;case 16:default:d=jx;break;case 536870912:d=OM}d=gw(d,aw.bind(null,l))}l.callbackPriority=u,l.callbackNode=d}}function aw(l,u){if(ld=-1,ud=0,(6&Be)!=0)throw Error(s(327));var d=l.callbackNode;if(So()&&l.callbackNode!==d)return null;var g=Ch(l,l===jt?Zt:0);if(g===0)return null;if(30&g||g&l.expiredLanes||u)u=cd(l,g);else{u=g;var v=Be;Be|=2;var b=hw();for(jt===l&&Zt===u||(bs=null,Oa(),wo(l,u));;)try{KM();break}catch(I){cw(l,I)}cg(),nd.current=b,Be=v,Ot!==null?u=0:(jt=null,Zt=0,u=Nt)}if(u!==0){if(u===2&&(v=Zm(l))!==0&&(g=v,u=qg(l,v)),u===1)throw d=Cu,wo(l,0),Ts(l,g),Pr(l,zt()),d;if(u===6)Ts(l,g);else{if(v=l.current.alternate,(30&g)==0&&!function(I){for(var F=I;;){if(16384&F.flags){var z=F.updateQueue;if(z!==null&&(z=z.stores)!==null)for(var j=0;j<z.length;j++){var te=z[j],G=te.getSnapshot;te=te.value;try{if(!Tn(G(),te))return!1}catch{return!1}}}if(z=F.child,16384&F.subtreeFlags&&z!==null)z.return=F,F=z;else{if(F===I)break;for(;F.sibling===null;){if(F.return===null||F.return===I)return!0;F=F.return}F.sibling.return=F.return,F=F.sibling}}return!0}(v)&&((u=cd(l,g))===2&&(b=Zm(l))!==0&&(g=b,u=qg(l,b)),u===1))throw d=Cu,wo(l,0),Ts(l,g),Pr(l,zt()),d;switch(l.finishedWork=v,l.finishedLanes=g,u){case 0:case 1:throw Error(s(345));case 2:case 5:Ma(l,Ur,bs);break;case 3:if(Ts(l,g),(130023424&g)===g&&10<(u=Xg+500-zt())){if(Ch(l,0)!==0)break;if(((v=l.suspendedLanes)&g)!==g){lr(),l.pingedLanes|=l.suspendedLanes&v;break}l.timeoutHandle=ke(Ma.bind(null,l,Ur,bs),u);break}Ma(l,Ur,bs);break;case 4:if(Ts(l,g),(4194240&g)===g)break;for(u=l.eventTimes,v=-1;0<g;){var C=31-En(g);b=1<<C,(C=u[C])>v&&(v=C),g&=~b}if(g=v,10<(g=(120>(g=zt()-g)?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*XM(g/1960))-g)){l.timeoutHandle=ke(Ma.bind(null,l,Ur,bs),g);break}Ma(l,Ur,bs);break;default:throw Error(s(329))}}}return Pr(l,zt()),l.callbackNode===d?aw.bind(null,l):null}function qg(l,u){var d=Pu;return l.current.memoizedState.isDehydrated&&(wo(l,u).flags|=256),(l=cd(l,u))!==2&&(u=Ur,Ur=d,u!==null&&Zg(u)),l}function Zg(l){Ur===null?Ur=l:Ur.push.apply(Ur,l)}function Ts(l,u){for(u&=~Wg,u&=~id,l.suspendedLanes|=u,l.pingedLanes&=~u,l=l.expirationTimes;0<u;){var d=31-En(u),g=1<<d;l[d]=-1,u&=~g}}function lw(l){if(6&Be)throw Error(s(327));So();var u=Ch(l,0);if(!(1&u))return Pr(l,zt()),null;var d=cd(l,u);if(l.tag!==0&&d===2){var g=Zm(l);g!==0&&(u=g,d=qg(l,g))}if(d===1)throw d=Cu,wo(l,0),Ts(l,u),Pr(l,zt()),d;if(d===6)throw Error(s(345));return l.finishedWork=l.current.alternate,l.finishedLanes=u,Ma(l,Ur,bs),Pr(l,zt()),null}function uw(l){Ss!==null&&Ss.tag===0&&!(6&Be)&&So();var u=Be;Be|=1;var d=Ct.transition,g=je;try{if(Ct.transition=null,je=1,l)return l()}finally{je=g,Ct.transition=d,!(6&(Be=u))&&ei()}}function Jg(){Lr=Ra.current,ht(Ra)}function wo(l,u){l.finishedWork=null,l.finishedLanes=0;var d=l.timeoutHandle;if(d!==rt&&(l.timeoutHandle=rt,ct(d)),Ot!==null)for(d=Ot.return;d!==null;){var g=d;switch(sg(g),g.tag){case 1:(g=g.type.childContextTypes)!=null&&Km();break;case 3:Ca(),ht(Tr),ht(sr),xg();break;case 5:yg(g);break;case 4:Ca();break;case 13:case 19:ht(St);break;case 10:hg(g.type._context);break;case 22:case 23:Jg()}d=d.return}if(jt=l,Ot=l=As(l.current,null),Zt=Lr=u,Nt=0,Cu=null,Wg=id=bo=0,Ur=Pu=null,_o!==null){for(u=0;u<_o.length;u++)if((g=(d=_o[u]).interleaved)!==null){d.interleaved=null;var v=g.next,b=d.pending;if(b!==null){var C=b.next;b.next=v,g.next=C}d.pending=g}_o=null}return l}function cw(l,u){for(;;){var d=Ot;try{if(cg(),$h.current=Vh,Gh){for(var g=gt.memoizedState;g!==null;){var v=g.queue;v!==null&&(v.pending=null),g=g.next}Gh=!1}if(xo=0,Gt=$t=gt=null,yu=!1,_u=0,Vg.current=null,d===null||d.return===null){Nt=1,Cu=u,Ot=null;break}e:{var b=l,C=d.return,I=d,F=u;if(u=Zt,I.flags|=32768,F!==null&&typeof F=="object"&&typeof F.then=="function"){var z=F,j=I,te=j.tag;if(!(1&j.mode)&&(te===0||te===11||te===15)){var G=j.alternate;G?(j.updateQueue=G.updateQueue,j.memoizedState=G.memoizedState,j.lanes=G.lanes):(j.updateQueue=null,j.memoizedState=null)}var Q=kb(C);if(Q!==null){Q.flags&=-257,Db(Q,C,I,0,u),1&Q.mode&&Mb(b,z,u),F=z;var ce=(u=Q).updateQueue;if(ce===null){var Pe=new Set;Pe.add(F),u.updateQueue=Pe}else ce.add(F);break e}if(!(1&u)){Mb(b,z,u),ev();break e}F=Error(s(426))}else if(dt&&1&I.mode){var H=kb(C);if(H!==null){!(65536&H.flags)&&(H.flags|=256),Db(H,C,I,0,u),lg(Pa(F,I));break e}}b=F=Pa(F,I),Nt!==4&&(Nt=2),Pu===null?Pu=[b]:Pu.push(b),b=C;do{switch(b.tag){case 3:b.flags|=65536,u&=-u,b.lanes|=u,Jx(b,Rb(0,F,u));break e;case 1:I=F;var k=b.type,L=b.stateNode;if(!(128&b.flags)&&(typeof k.getDerivedStateFromError=="function"||L!==null&&typeof L.componentDidCatch=="function"&&(ws===null||!ws.has(L)))){b.flags|=65536,u&=-u,b.lanes|=u,Jx(b,Ob(b,I,u));break e}}b=b.return}while(b!==null)}fw(d)}catch(Y){u=Y,Ot===d&&d!==null&&(Ot=d=d.return);continue}break}}function hw(){var l=nd.current;return nd.current=Vh,l===null?Vh:l}function ev(){Nt!==0&&Nt!==3&&Nt!==2||(Nt=4),jt===null||!(268435455&bo)&&!(268435455&id)||Ts(jt,Zt)}function cd(l,u){var d=Be;Be|=2;var g=hw();for(jt===l&&Zt===u||(bs=null,wo(l,u));;)try{YM();break}catch(v){cw(l,v)}if(cg(),Be=d,nd.current=g,Ot!==null)throw Error(s(261));return jt=null,Zt=0,Nt}function YM(){for(;Ot!==null;)dw(Ot)}function KM(){for(;Ot!==null&&!PM();)dw(Ot)}function dw(l){var u=ow(l.alternate,l,Lr);l.memoizedProps=l.pendingProps,u===null?fw(l):Ot=u,Vg.current=null}function fw(l){var u=l;do{var d=u.alternate;if(l=u.return,(32768&u.flags)==0){if((d=jM(d,u,Lr))!==null)return void(Ot=d)}else{if((d=HM(d,u))!==null)return d.flags&=32767,void(Ot=d);if(l===null)return Nt=6,void(Ot=null);l.flags|=32768,l.subtreeFlags=0,l.deletions=null}if((u=u.sibling)!==null)return void(Ot=u);Ot=u=l}while(u!==null);Nt===0&&(Nt=5)}function Ma(l,u,d){var g=je,v=Ct.transition;try{Ct.transition=null,je=1,function(b,C,I,F){do So();while(Ss!==null);if(6&Be)throw Error(s(327));I=b.finishedWork;var z=b.finishedLanes;if(I===null)return null;if(b.finishedWork=null,b.finishedLanes=0,I===b.current)throw Error(s(177));b.callbackNode=null,b.callbackPriority=0;var j=I.lanes|I.childLanes;if(function(Q,ce){var Pe=Q.pendingLanes&~ce;Q.pendingLanes=ce,Q.suspendedLanes=0,Q.pingedLanes=0,Q.expiredLanes&=ce,Q.mutableReadLanes&=ce,Q.entangledLanes&=ce,ce=Q.entanglements;var H=Q.eventTimes;for(Q=Q.expirationTimes;0<Pe;){var k=31-En(Pe),L=1<<k;ce[k]=0,H[k]=-1,Q[k]=-1,Pe&=~L}}(b,j),b===jt&&(Ot=jt=null,Zt=0),!(2064&I.subtreeFlags)&&!(2064&I.flags)||od||(od=!0,gw(jx,function(){return So(),null})),j=(15990&I.flags)!=0,(15990&I.subtreeFlags)!=0||j){j=Ct.transition,Ct.transition=null;var te=je;je=1;var G=Be;Be|=4,Vg.current=null,function(Q,ce){for($(Q.containerInfo),le=ce;le!==null;)if(ce=(Q=le).child,(1028&Q.subtreeFlags)!=0&&ce!==null)ce.return=Q,le=ce;else for(;le!==null;){Q=le;try{var Pe=Q.alternate;if(1024&Q.flags)switch(Q.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(Pe!==null){var H=Pe.memoizedProps,k=Pe.memoizedState,L=Q.stateNode,Y=L.getSnapshotBeforeUpdate(Q.elementType===Q.type?H:Cn(Q.type,H),k);L.__reactInternalSnapshotBeforeUpdate=Y}break;case 3:Ae&&rM(Q.stateNode.containerInfo);break;default:throw Error(s(163))}}catch(ye){ft(Q,Q.return,ye)}if((ce=Q.sibling)!==null){ce.return=Q.return,le=ce;break}le=Q.return}Pe=Kb,Kb=!1}(b,I),ew(I,b),N(b.containerInfo),b.current=I,WM(I),IM(),Be=G,je=te,Ct.transition=j}else b.current=I;if(od&&(od=!1,Ss=b,ad=z),j=b.pendingLanes,j===0&&(ws=null),function(Q){if(Jn&&typeof Jn.onCommitFiberRoot=="function")try{Jn.onCommitFiberRoot(Ph,Q,void 0,(128&Q.current.flags)==128)}catch{}}(I.stateNode),Pr(b,zt()),C!==null)for(F=b.onRecoverableError,I=0;I<C.length;I++)z=C[I],F(z.value,{componentStack:z.stack,digest:z.digest});if(sd)throw sd=!1,b=Kg,Kg=null,b;1&ad&&b.tag!==0&&So(),j=b.pendingLanes,1&j?b===Qg?Iu++:(Iu=0,Qg=b):Iu=0,ei()}(l,u,d,g)}finally{Ct.transition=v,je=g}return null}function So(){if(Ss!==null){var l=$x(ad),u=Ct.transition,d=je;try{if(Ct.transition=null,je=16>l?16:l,Ss===null)var g=!1;else{if(l=Ss,Ss=null,ad=0,(6&Be)!=0)throw Error(s(331));var v=Be;for(Be|=4,le=l.current;le!==null;){var b=le,C=b.child;if(16&le.flags){var I=b.deletions;if(I!==null){for(var F=0;F<I.length;F++){var z=I[F];for(le=z;le!==null;){var j=le;switch(j.tag){case 0:case 11:case 15:Tu(8,j,b)}var te=j.child;if(te!==null)te.return=j,le=te;else for(;le!==null;){var G=(j=le).sibling,Q=j.return;if(Qb(j),j===z){le=null;break}if(G!==null){G.return=Q,le=G;break}le=Q}}}var ce=b.alternate;if(ce!==null){var Pe=ce.child;if(Pe!==null){ce.child=null;do{var H=Pe.sibling;Pe.sibling=null,Pe=H}while(Pe!==null)}}le=b}}if(2064&b.subtreeFlags&&C!==null)C.return=b,le=C;else e:for(;le!==null;){if(2048&(b=le).flags)switch(b.tag){case 0:case 11:case 15:Tu(9,b,b.return)}var k=b.sibling;if(k!==null){k.return=b.return,le=k;break e}le=b.return}}var L=l.current;for(le=L;le!==null;){var Y=(C=le).child;if(2064&C.subtreeFlags&&Y!==null)Y.return=C,le=Y;else e:for(C=L;le!==null;){if(2048&(I=le).flags)try{switch(I.tag){case 0:case 11:case 15:qh(9,I)}}catch(We){ft(I,I.return,We)}if(I===C){le=null;break e}var ye=I.sibling;if(ye!==null){ye.return=I.return,le=ye;break e}le=I.return}}if(Be=v,ei(),Jn&&typeof Jn.onPostCommitFiberRoot=="function")try{Jn.onPostCommitFiberRoot(Ph,l)}catch{}g=!0}return g}finally{je=d,Ct.transition=u}}return!1}function pw(l,u,d){l=xs(l,u=Rb(0,u=Pa(d,u),1),1),u=lr(),l!==null&&(fu(l,1,u),Pr(l,u))}function ft(l,u,d){if(l.tag===3)pw(l,l,d);else for(;u!==null;){if(u.tag===3){pw(u,l,d);break}if(u.tag===1){var g=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(ws===null||!ws.has(g))){u=xs(u,l=Ob(u,l=Pa(d,l),1),1),l=lr(),u!==null&&(fu(u,1,l),Pr(u,l));break}}u=u.return}}function QM(l,u,d){var g=l.pingCache;g!==null&&g.delete(u),u=lr(),l.pingedLanes|=l.suspendedLanes&d,jt===l&&(Zt&d)===d&&(Nt===4||Nt===3&&(130023424&Zt)===Zt&&500>zt()-Xg?wo(l,0):Wg|=d),Pr(l,u)}function mw(l,u){u===0&&(1&l.mode?(u=qm,!(130023424&(qm<<=1))&&(qm=4194304)):u=1);var d=lr();(l=ri(l,u))!==null&&(fu(l,u,d),Pr(l,d))}function qM(l){var u=l.memoizedState,d=0;u!==null&&(d=u.retryLane),mw(l,d)}function ZM(l,u){var d=0;switch(l.tag){case 13:var g=l.stateNode,v=l.memoizedState;v!==null&&(d=v.retryLane);break;case 19:g=l.stateNode;break;default:throw Error(s(314))}g!==null&&g.delete(u),mw(l,d)}function gw(l,u){return tg(l,u)}function JM(l,u,d,g){this.tag=l,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function un(l,u,d,g){return new JM(l,u,d,g)}function tv(l){return!(!(l=l.prototype)||!l.isReactComponent)}function As(l,u){var d=l.alternate;return d===null?((d=un(l.tag,u,l.key,l.mode)).elementType=l.elementType,d.type=l.type,d.stateNode=l.stateNode,d.alternate=l,l.alternate=d):(d.pendingProps=u,d.type=l.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=14680064&l.flags,d.childLanes=l.childLanes,d.lanes=l.lanes,d.child=l.child,d.memoizedProps=l.memoizedProps,d.memoizedState=l.memoizedState,d.updateQueue=l.updateQueue,u=l.dependencies,d.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},d.sibling=l.sibling,d.index=l.index,d.ref=l.ref,d}function hd(l,u,d,g,v,b){var C=2;if(g=l,typeof l=="function")tv(l)&&(C=1);else if(typeof l=="string")C=5;else e:switch(l){case h:return Eo(d.children,v,b,u);case f:C=8,v|=8;break;case p:return(l=un(12,d,u,2|v)).elementType=p,l.lanes=b,l;case S:return(l=un(13,d,u,v)).elementType=S,l.lanes=b,l;case A:return(l=un(19,d,u,v)).elementType=A,l.lanes=b,l;case x:return dd(d,v,b,u);default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case m:C=10;break e;case y:C=9;break e;case _:C=11;break e;case E:C=14;break e;case w:C=16,g=null;break e}throw Error(s(130,l==null?l:typeof l,""))}return(u=un(C,d,u,v)).elementType=l,u.type=g,u.lanes=b,u}function Eo(l,u,d,g){return(l=un(7,l,g,u)).lanes=d,l}function dd(l,u,d,g){return(l=un(22,l,g,u)).elementType=x,l.lanes=d,l.stateNode={isHidden:!1},l}function rv(l,u,d){return(l=un(6,l,null,u)).lanes=d,l}function nv(l,u,d){return(u=un(4,l.children!==null?l.children:[],l.key,u)).lanes=d,u.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},u}function ek(l,u,d,g,v){this.tag=u,this.containerInfo=l,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=rt,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Jm(0),this.expirationTimes=Jm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jm(0),this.identifierPrefix=g,this.onRecoverableError=v,Ge&&(this.mutableSourceEagerHydrationData=null)}function vw(l,u,d,g,v,b,C,I,F){return l=new ek(l,u,d,I,F),u===1?(u=1,b===!0&&(u|=8)):u=0,b=un(3,null,null,u),l.current=b,b.stateNode=l,b.memoizedState={element:g,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},pg(b),l}function yw(l){if(!l)return ys;e:{if(D(l=l._reactInternals)!==l||l.tag!==1)throw Error(s(170));var u=l;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(Fr(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(s(171))}if(l.tag===1){var d=l.type;if(Fr(d))return Lx(l,d,u)}return u}function _w(l){var u=l._reactInternals;if(u===void 0)throw typeof l.render=="function"?Error(s(188)):(l=Object.keys(l).join(","),Error(s(268,l)));return(l=pe(u))===null?null:l.stateNode}function xw(l,u){if((l=l.memoizedState)!==null&&l.dehydrated!==null){var d=l.retryLane;l.retryLane=d!==0&&d<u?d:u}}function fd(l,u){xw(l,u),(l=l.alternate)&&xw(l,u)}function tk(l){return(l=pe(l))===null?null:l.stateNode}function rk(){return null}return ow=function(l,u,d){if(l!==null)if(l.memoizedProps!==u.pendingProps||Tr.current)Ar=!0;else{if(!(l.lanes&d)&&!(128&u.flags))return Ar=!1,function(te,G,Q){switch(G.tag){case 3:$b(G),wa();break;case 5:lb(G);break;case 1:Fr(G.type)&&Ah(G);break;case 4:vg(G,G.stateNode.containerInfo);break;case 10:Qx(0,G.type._context,G.memoizedProps.value);break;case 13:var ce=G.memoizedState;if(ce!==null)return ce.dehydrated!==null?(qe(St,1&St.current),G.flags|=128,null):Q&G.child.childLanes?jb(te,G,Q):(qe(St,1&St.current),(te=Gi(te,G,Q))!==null?te.sibling:null);qe(St,1&St.current);break;case 19:if(ce=(Q&G.childLanes)!=0,(128&te.flags)!=0){if(ce)return Vb(te,G,Q);G.flags|=128}var Pe=G.memoizedState;if(Pe!==null&&(Pe.rendering=null,Pe.tail=null,Pe.lastEffect=null),qe(St,St.current),ce)break;return null;case 22:case 23:return G.lanes=0,Lb(te,G,Q)}return Gi(te,G,Q)}(l,u,d);Ar=(131072&l.flags)!=0}else Ar=!1,dt&&1048576&u.flags&&Vx(u,Oh,u.index);switch(u.lanes=0,u.tag){case 2:var g=u.type;Kh(l,u),l=u.pendingProps;var v=_a(u,sr.current);Ea(u,d),v=Sg(null,u,g,l,v,d);var b=Eg();return u.flags|=1,typeof v=="object"&&v!==null&&typeof v.render=="function"&&v.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,Fr(g)?(b=!0,Ah(u)):b=!1,u.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,pg(u),v.updater=Lh,u.stateNode=v,v._reactInternals=u,gg(u,g,l,d),u=Mg(null,u,g,!0,b,d)):(u.tag=0,dt&&b&&ig(u),Cr(null,u,v,d),u=u.child),u;case 16:g=u.elementType;e:{switch(Kh(l,u),l=u.pendingProps,g=(v=g._init)(g._payload),u.type=g,v=u.tag=function(te){if(typeof te=="function")return tv(te)?1:0;if(te!=null){if((te=te.$$typeof)===_)return 11;if(te===E)return 14}return 2}(g),l=Cn(g,l),v){case 0:u=Og(null,u,g,l,d);break e;case 1:u=zb(null,u,g,l,d);break e;case 11:u=Nb(null,u,g,l,d);break e;case 14:u=Fb(null,u,g,Cn(g.type,l),d);break e}throw Error(s(306,g,""))}return u;case 0:return g=u.type,v=u.pendingProps,Og(l,u,g,v=u.elementType===g?v:Cn(g,v),d);case 1:return g=u.type,v=u.pendingProps,zb(l,u,g,v=u.elementType===g?v:Cn(g,v),d);case 3:e:{if($b(u),l===null)throw Error(s(387));g=u.pendingProps,v=(b=u.memoizedState).element,Zx(l,u),Bh(u,g,null,d);var C=u.memoizedState;if(g=C.element,Ge&&b.isDehydrated){if(b={element:g,isDehydrated:!1,cache:C.cache,pendingSuspenseBoundaries:C.pendingSuspenseBoundaries,transitions:C.transitions},u.updateQueue.baseState=b,u.memoizedState=b,256&u.flags){u=Gb(l,u,g,d,v=Pa(Error(s(423)),u));break e}if(g!==v){u=Gb(l,u,g,d,v=Pa(Error(s(424)),u));break e}for(Ge&&(nn=hM(u.stateNode.containerInfo),Br=u,dt=!0,An=null,pu=!1),d=ab(u,null,g,d),u.child=d;d;)d.flags=-3&d.flags|4096,d=d.sibling}else{if(wa(),g===v){u=Gi(l,u,d);break e}Cr(l,u,g,d)}u=u.child}return u;case 5:return lb(u),l===null&&ag(u),g=u.type,v=u.pendingProps,b=l!==null?l.memoizedProps:null,C=v.children,Fe(g,v)?C=null:b!==null&&Fe(g,b)&&(u.flags|=32),Ub(l,u),Cr(l,u,C,d),u.child;case 6:return l===null&&ag(u),null;case 13:return jb(l,u,d);case 4:return vg(u,u.stateNode.containerInfo),g=u.pendingProps,l===null?u.child=Ta(u,null,g,d):Cr(l,u,g,d),u.child;case 11:return g=u.type,v=u.pendingProps,Nb(l,u,g,v=u.elementType===g?v:Cn(g,v),d);case 7:return Cr(l,u,u.pendingProps,d),u.child;case 8:case 12:return Cr(l,u,u.pendingProps.children,d),u.child;case 10:e:{if(g=u.type._context,v=u.pendingProps,b=u.memoizedProps,Qx(0,g,C=v.value),b!==null)if(Tn(b.value,C)){if(b.children===v.children&&!Tr.current){u=Gi(l,u,d);break e}}else for((b=u.child)!==null&&(b.return=u);b!==null;){var I=b.dependencies;if(I!==null){C=b.child;for(var F=I.firstContext;F!==null;){if(F.context===g){if(b.tag===1){(F=$i(-1,d&-d)).tag=2;var z=b.updateQueue;if(z!==null){var j=(z=z.shared).pending;j===null?F.next=F:(F.next=j.next,j.next=F),z.pending=F}}b.lanes|=d,(F=b.alternate)!==null&&(F.lanes|=d),dg(b.return,d,u),I.lanes|=d;break}F=F.next}}else if(b.tag===10)C=b.type===u.type?null:b.child;else if(b.tag===18){if((C=b.return)===null)throw Error(s(341));C.lanes|=d,(I=C.alternate)!==null&&(I.lanes|=d),dg(C,d,u),C=b.sibling}else C=b.child;if(C!==null)C.return=b;else for(C=b;C!==null;){if(C===u){C=null;break}if((b=C.sibling)!==null){b.return=C.return,C=b;break}C=C.return}b=C}Cr(l,u,v.children,d),u=u.child}return u;case 9:return v=u.type,g=u.pendingProps.children,Ea(u,d),g=g(v=sn(v)),u.flags|=1,Cr(l,u,g,d),u.child;case 14:return v=Cn(g=u.type,u.pendingProps),Fb(l,u,g,v=Cn(g.type,v),d);case 15:return Bb(l,u,u.type,u.pendingProps,d);case 17:return g=u.type,v=u.pendingProps,v=u.elementType===g?v:Cn(g,v),Kh(l,u),u.tag=1,Fr(g)?(l=!0,Ah(u)):l=!1,Ea(u,d),nb(u,g,v),gg(u,g,v,d),Mg(null,u,g,!0,l,d);case 19:return Vb(l,u,d);case 22:return Lb(l,u,d)}throw Error(s(156,u.tag))},e.attemptContinuousHydration=function(l){if(l.tag===13){var u=ri(l,134217728);u!==null&&ln(u,l,134217728,lr()),fd(l,134217728)}},e.attemptDiscreteHydration=function(l){if(l.tag===13){var u=ri(l,1);u!==null&&ln(u,l,1,lr()),fd(l,1)}},e.attemptHydrationAtCurrentPriority=function(l){if(l.tag===13){var u=Es(l),d=ri(l,u);d!==null&&ln(d,l,u,lr()),fd(l,u)}},e.attemptSynchronousHydration=function(l){switch(l.tag){case 3:var u=l.stateNode;if(u.current.memoizedState.isDehydrated){var d=du(u.pendingLanes);d!==0&&(eg(u,1|d),Pr(u,zt()),!(6&Be)&&(Oa(),ei()))}break;case 13:uw(function(){var g=ri(l,1);if(g!==null){var v=lr();ln(g,l,1,v)}}),fd(l,1)}},e.batchedUpdates=function(l,u){var d=Be;Be|=1;try{return l(u)}finally{(Be=d)===0&&(Oa(),Ih&&ei())}},e.createComponentSelector=function(l){return{$$typeof:Zh,value:l}},e.createContainer=function(l,u,d,g,v,b,C){return vw(l,u,!1,null,0,g,0,b,C)},e.createHasPseudoClassSelector=function(l){return{$$typeof:Jh,value:l}},e.createHydrationContainer=function(l,u,d,g,v,b,C,I,F){return(l=vw(d,g,!0,l,0,b,0,I,F)).context=yw(null),d=l.current,(b=$i(g=lr(),v=Es(d))).callback=u??null,xs(d,b,v),l.current.lanes=v,fu(l,v,g),Pr(l,g),l},e.createPortal=function(l,u,d){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:g==null?null:""+g,children:l,containerInfo:u,implementation:d}},e.createRoleSelector=function(l){return{$$typeof:ed,value:l}},e.createTestNameSelector=function(l){return{$$typeof:td,value:l}},e.createTextSelector=function(l){return{$$typeof:rd,value:l}},e.deferredUpdates=function(l){var u=je,d=Ct.transition;try{return Ct.transition=null,je=16,l()}finally{je=u,Ct.transition=d}},e.discreteUpdates=function(l,u,d,g,v){var b=je,C=Ct.transition;try{return Ct.transition=null,je=1,l(u,d,g,v)}finally{je=b,Ct.transition=C,Be===0&&Oa()}},e.findAllNodes=Hg,e.findBoundingRects=function(l,u){if(!uu)throw Error(s(363));u=Hg(l,u),l=[];for(var d=0;d<u.length;d++)l.push(L2(u[d]));for(u=l.length-1;0<u;u--)for(var g=(d=l[u]).x,v=g+d.width,b=d.y,C=b+d.height,I=u-1;0<=I;I--)if(u!==I){var F=l[I],z=F.x,j=z+F.width,te=F.y,G=te+F.height;if(g>=z&&b>=te&&v<=j&&C<=G){l.splice(u,1);break}if(!(g!==z||d.width!==F.width||G<b||te>C)){te>b&&(F.height+=te-b,F.y=b),G<C&&(F.height=C-te),l.splice(u,1);break}if(!(b!==te||d.height!==F.height||j<g||z>v)){z>g&&(F.width+=z-g,F.x=g),j<v&&(F.width=v-z),l.splice(u,1);break}}return l},e.findHostInstance=_w,e.findHostInstanceWithNoPortals=function(l){return(l=(l=W(l))!==null?B(l):null)===null?null:l.stateNode},e.findHostInstanceWithWarning=function(l){return _w(l)},e.flushControlled=function(l){var u=Be;Be|=1;var d=Ct.transition,g=je;try{Ct.transition=null,je=1,l()}finally{je=g,Ct.transition=d,(Be=u)===0&&(Oa(),ei())}},e.flushPassiveEffects=So,e.flushSync=uw,e.focusWithin=function(l,u){if(!uu)throw Error(s(363));for(u=sw(l=$g(l),u),u=Array.from(u),l=0;l<u.length;){var d=u[l++];if(!cu(d)){if(d.tag===5&&$2(d.stateNode))return!0;for(d=d.child;d!==null;)u.push(d),d=d.sibling}}return!1},e.getCurrentUpdatePriority=function(){return je},e.getFindAllNodesFailureDescription=function(l,u){if(!uu)throw Error(s(363));var d=0,g=[];l=[$g(l),0];for(var v=0;v<l.length;){var b=l[v++],C=l[v++],I=u[C];if((b.tag!==5||!cu(b))&&(Gg(b,I)&&(g.push(jg(I)),++C>d&&(d=C)),C<u.length))for(b=b.child;b!==null;)l.push(b,C),b=b.sibling}if(d<u.length){for(l=[];d<u.length;d++)l.push(jg(u[d]));return`findAllNodes was able to match part of the selector:
  `+g.join(" > ")+`

No matching component was found for:
  `+l.join(" > ")}return null},e.getPublicRootInstance=function(l){return(l=l.current).child?l.child.tag===5?me(l.child.stateNode):l.child.stateNode:null},e.injectIntoDevTools=function(l){if(l={bundleType:l.bundleType,version:l.version,rendererPackageName:l.rendererPackageName,rendererConfig:l.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:o.ReactCurrentDispatcher,findHostInstanceByFiber:tk,findFiberByHostInstance:l.findFiberByHostInstance||rk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")l=!1;else{var u=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(u.isDisabled||!u.supportsFiber)l=!0;else{try{Ph=u.inject(l),Jn=u}catch{}l=!!u.checkDCE}}return l},e.isAlreadyRendering=function(){return!1},e.observeVisibleRects=function(l,u,d,g){if(!uu)throw Error(s(363));l=Hg(l,u);var v=G2(l,d,g).disconnect;return{disconnect:function(){v()}}},e.registerMutableSourceForHydration=function(l,u){var d=u._getVersion;d=d(u._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[u,d]:l.mutableSourceEagerHydrationData.push(u,d)},e.runWithPriority=function(l,u){var d=je;try{return je=l,u()}finally{je=d}},e.shouldError=function(){return null},e.shouldSuspend=function(){return!1},e.updateContainer=function(l,u,d,g){var v=u.current,b=lr(),C=Es(v);return d=yw(d),u.context===null?u.context=d:u.pendingContext=d,(u=$i(b,C)).payload={element:l},(g=g===void 0?null:g)!==null&&(u.callback=g),(l=xs(v,u,C))!==null&&(ln(l,v,C,b),Fh(l,v,C)),C},e}),$T}({get exports(){return z_},set exports(t){z_=t}}).exports=Az();var Cz=J8(z_),l2={name:"root",private:!0,workspaces:["packages/*"],scripts:{build:"nx run-many --target=build --all --parallel","build:force":"nx run-many --target=build --all --parallel --skip-nx-cache","build:docs":"nx run @pixi/react-docs:deploy",clean:"rimraf packages/*/dist packages/*/build",lint:"eslint .",prepare:"husky install",prerelease:"./scripts/checkReleaseBranch.mjs && npm run lint && npm run test:force && npm run build:force",release:"lerna publish --no-private",test:"nx run-many --target=test --all --parallel","test:force":"nx run-many --target=test --all --parallel --skip-nx-cache","test:ci":"nx run-many --target=test:ci --all --parallel","test:ci:force":"nx run-many --target=test:ci --all --parallel --skip-nx-cache","test:types":"nx run-many --target=test:types --all --parallel","test:types:force":"nx run-many --target=test:types --all --parallel --skip-nx-cache"},husky:{hooks:{"pre-commit":"lint-staged"}},"lint-staged":{"*.{ts,js,mjs}":["eslint --cache --fix"]},resolutions:{"get-pkg-repo":"4.1.1","hosted-git-info":"^2.1.4"},dependencies:{"@babel/runtime":"^7.14.8","@pixi/app":"^7.1.1","@pixi/constants":"^7.1.1","@pixi/core":"^7.1.1","@pixi/display":"^7.1.1","@pixi/extensions":"^7.1.1","@pixi/graphics":"^7.1.1","@pixi/math":"^7.1.1","@pixi/mesh":"^7.1.1","@pixi/mesh-extras":"^7.1.1","@pixi/particle-container":"^7.1.1","@pixi/sprite":"^7.1.1","@pixi/sprite-animated":"^7.1.1","@pixi/sprite-tiling":"^7.1.1","@pixi/text":"^7.1.1","@pixi/text-bitmap":"^7.1.1","@pixi/ticker":"^7.1.1","@react-spring/animated":"^9.6.1","@react-spring/types":"^9.6.1",react:"^18.0.0","react-dom":"^18.0.0","react-reconciler":"0.29.0","react-spring":"^9.6.1"},devDependencies:{"@babel/cli":"^7.20.7","@babel/core":"^7.20.7","@babel/eslint-parser":"^7.19.1","@babel/plugin-transform-runtime":"^7.19.6","@babel/preset-env":"^7.20.2","@babel/preset-react":"^7.18.6","@nrwl/nx-cloud":"latest","@pixi/eslint-config":"^4.0.1","@rollup/plugin-alias":"^4.0.2","@rollup/plugin-babel":"^6.0.3","@rollup/plugin-commonjs":"^24.0.0","@rollup/plugin-json":"^6.0.0","@rollup/plugin-node-resolve":"^15.0.1","@rollup/plugin-replace":"^5.0.2","@rollup/plugin-terser":"^0.2.1","@rollup/plugin-typescript":"^10.0.1","@types/jest":"^29.2.4","@types/react":"17.0.15","@types/react-dom":"17.0.9","@types/react-reconciler":"0.28.2","babel-jest":"^29.3.1","babel-plugin-module-resolver":"4.1.0","cross-env":"^7.0.3",eslint:"^8.29.0","eslint-plugin-react":"^7.31.11",husky:"^8.0.2",jest:"^29.3.1","jest-environment-jsdom":"^29.3.1","jest-extended":"^3.2.0","jest-watch-typeahead":"^2.2.1",lerna:"^6.0.3","lint-staged":"^13.1.0",nx:"15.3.0",rimraf:"^3.0.2",rollup:"^3.7.0","rollup-plugin-filesize":"^9.1.2","rollup-plugin-visualizer":"^5.9.0","ts-jest":"^29.0.3","ts-node":"^10.9.1",typescript:"^4.9.4"}},G_={},nf={get exports(){return G_},set exports(t){G_=t}};(function(){var t,e,r,n,i,s;typeof performance<"u"&&performance!==null&&performance.now?nf.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(nf.exports=function(){return(t()-i)/1e6},e=process.hrtime,n=(t=function(){var o;return 1e9*(o=e())[0]+o[1]})(),s=1e9*process.uptime(),i=n-s):Date.now?(nf.exports=function(){return Date.now()-r},r=Date.now()):(nf.exports=function(){return new Date().getTime()-r},r=new Date().getTime())}).call(Z8);var HT,vl={},Po={};({get exports(){return vl},set exports(t){vl=t}}).exports=(HT||(HT=1,Po.ConcurrentRoot=1,Po.ContinuousEventPriority=4,Po.DefaultEventPriority=16,Po.DiscreteEventPriority=1,Po.IdleEventPriority=536870912,Po.LegacyRoot=0),Po);var Pz={};function Ty(t,e){t.addChild&&(t.addChild(e),typeof e.didMount=="function"&&e.didMount(e,t))}function u2(t,e){var r,n,i;(r=t.willUnmount)===null||r===void 0||r.call(t,t,e),((n=t.config)===null||n===void 0?void 0:n.destroyChildren)!==!1&&(i=t.children)!==null&&i!==void 0&&i.length&&ms(t.children).forEach(function(s){u2(s,t)})}function VT(t,e){var r;u2(e,t),t.removeChild(e);var n=(r=e.config)!==null&&r!==void 0?r:{},i=n.destroy,s=i===void 0||i,o=n.destroyChildren,a=o===void 0||o,c=n.destroyTexture,h=c!==void 0&&c,f=n.destroyBaseTexture,p=f!==void 0&&f;s&&e.destroy({children:a,texture:h,baseTexture:p})}function WT(t,e,r){var n,i;At(e!==r,"Cannot insert node before itself"),t.children.indexOf(e)!==-1&&t.removeChild(e);var s=t.getChildIndex(r);t.addChildAt(e,s),(n=t.__reactpixi)===null||n===void 0||(i=n.root)===null||i===void 0||i.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"insertBefore"})}var XT=null,zn=Cz({getRootHostContext:function(){return Pz},getChildHostContext:function(t){return t},getChildHostContextForEventComponent:function(t){return t},getPublicInstance:function(t){return t},getCurrentEventPriority:function(){return function(){var t,e;if(typeof window>"u")return vl.DefaultEventPriority;switch((t=window)===null||t===void 0||(e=t.event)===null||e===void 0?void 0:e.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return vl.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return vl.ContinuousEventPriority;default:return vl.DefaultEventPriority}}()},prepareForCommit:function(){return null},resetAfterCommit:function(){},createInstance:function(t){var e,r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,s=wz[t];if(typeof s=="function"&&(e=s(i,n)),!e){var o=a2[t];o&&((e=o.create(n,{root:i})).didMount=o.didMount?o.didMount.bind(e):void 0,e.willUnmount=o.willUnmount?o.willUnmount.bind(e):void 0,e.applyProps=o.applyProps?o.applyProps.bind(e):void 0,e.config=o.config)}return e&&(e.__reactpixi={root:i},(typeof((r=e)===null||r===void 0?void 0:r.applyProps)=="function"?e.applyProps:Fi)(e,{},n)),e},hideInstance:function(t){t.visible=!1},unhideInstance:function(t,e){var r=e==null||!e.hasOwnProperty("visible")||e.visible;t.visible=r},finalizeInitialChildren:function(t,e,r){return!1},prepareUpdate:function(t,e,r,n,i,s){return XT=function(o,a,c,h){var f=null;for(var p in c)!h.hasOwnProperty(p)&&c.hasOwnProperty(p)&&c[p]!==null&&(p===L_||(f||(f=[]),f.push(p,null)));for(var m in h){var y=h[m],_=c!==null?c[m]:void 0;!h.hasOwnProperty(m)||y===_||y===null&&_===null||m===L_||(f||(f=[]),f.push(m,y))}return f}(0,0,r,n)},shouldSetTextContent:function(t,e){return!1},shouldDeprioritizeSubtree:function(t,e){var r=e.alpha===void 0||e.alpha>0,n=e.renderable===void 0||e.renderable===!0,i=e.visible===void 0||e.visible===!0;return!(r&&n&&i)},createTextInstance:function(t,e,r){At(!1,'Error trying to add text node "'.concat(t,'"'),"text strings as children of a Pixi component is not supported. To add some text, use &lt;Text text={string} /&gt;")},unhideTextInstance:function(t,e){},mountEventComponent:function(){},updateEventComponent:function(){},handleEventTarget:function(){},scheduleTimeout:setTimeout,cancelTimeout:clearTimeout,noTimeout:-1,warnsIfNotActing:!1,now:G_,isPrimaryRenderer:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,supportsMicrotasks:!0,scheduleMicrotask:queueMicrotask,appendInitialChild:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=Ty.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendInitialChild"}),s},appendChild:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=Ty.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendChild"}),s},appendChildToContainer:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=Ty.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendChildToContainer"}),s},removeChild:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=VT.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"removeChild"}),s},removeChildFromContainer:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=VT.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"removeChildFromContainer"}),s},insertBefore:WT,insertInContainerBefore:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=WT.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"insertInContainerBefore"}),s},commitUpdate:function(t,e,r,n,i){var s,o,a=t&&t.applyProps;typeof a!="function"&&(a=Fi),(a(t,n,i)||XT)&&((s=t.__reactpixi)===null||s===void 0||(o=s.root)===null||o===void 0||o.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"commitUpdate"}))},commitMount:function(t,e,r,n,i){},commitTextUpdate:function(t,e,r){},resetTextContent:function(t){},clearContainer:function(t){},getFundamentalComponentInstance:function(t){throw new Error("Not yet implemented.")},mountFundamentalComponent:function(t){throw new Error("Not yet implemented.")},shouldUpdateFundamentalComponent:function(t){throw new Error("Not yet implemented.")},unmountFundamentalComponent:function(t){throw new Error("Not yet implemented.")},getInstanceFromNode:function(t){throw new Error("Not yet implemented.")},isOpaqueHydratingObject:function(t){throw new Error("Not yet implemented")},makeOpaqueHydratingObject:function(t){throw new Error("Not yet implemented.")},makeClientIdInDEV:function(t){throw new Error("Not yet implemented")},beforeActiveInstanceBlur:function(t){},afterActiveInstanceBlur:function(){},detachDeletedInstance:function(){},preparePortalMount:function(t){}}),Iz=l2.dependencies["react-dom"].replace(/[^0-9.]/g,""),Rz=l2.name;zn.injectIntoDevTools({bundleType:0,version:Iz,rendererPackageName:Rz,findHostInstanceByFiber:zn.findHostInstance});var to=new Map;function c2(t){if(At(wr.prototype.isPrototypeOf(t),"Invalid argument `container`, expected instance of `Container`."),to.has(t)){var e=to.get(t).pixiFiberContainer;zn.updateContainer(null,e,void 0,function(){to.delete(t)})}}function h2(t){At(wr.prototype.isPrototypeOf(t),"Invalid argument `container`, expected instance of `Container`.");var e=to.get(t);if(At(!e,"createRoot should only be called once"),!e){var r=zn.createContainer(t);e={pixiFiberContainer:r,reactRoot:{render:function(n){return zn.updateContainer(n,r,void 0),zn.getPublicRootInstance(r)},unmount:function(){c2(t),to.delete(t)}}},to.set(t,e)}return e.reactRoot}function Oz(t,e,r){var n;return console.warn("Pixi React Deprecation Warning: render is deprecated, use createRoot instead"),r!==void 0&&console.warn("Pixi React Deprecation Warning: render callback no longer exists in React 18"),to.has(e)?n=to.get(e).reactRoot:n=h2(e),n.render(t)}function Mz(t){c2(t)}function nh(){return nh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},nh.apply(this,arguments)}function kz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Dz(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,i2(n.key),n)}}function Vi(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Vp(t,e){return Vp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Vp(t,e)}function Nz(t,e){if(e&&(Yr(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vi(t)}function Wp(t){return Wp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Wp(t)}var Gm=et.createContext(null),d2=Gm.Provider,f2=Gm.Consumer,Fz=function(t){var e=et.forwardRef(function(r,n){return et.createElement(f2,null,function(i){return et.createElement(t,nh({},r,{ref:n,app:i}))})});return e.displayName="withPIXIApp(".concat(t.displayName||t.name,")"),e};function Bz(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,n=Wp(t);if(e){var i=Wp(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Nz(this,r)}}function YT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function sf(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YT(Object(r),!0).forEach(function(n){Pt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var KT=function(){},p2={width:ve.number,height:ve.number,onMount:ve.func,onUnmount:ve.func,raf:ve.bool,renderOnComponentChange:ve.bool,children:ve.node,options:ve.shape({autoStart:ve.bool,width:ve.number,height:ve.number,useContextAlpha:ve.bool,backgroundAlpha:ve.number,autoDensity:ve.bool,antialias:ve.bool,preserveDrawingBuffer:ve.bool,resolution:ve.number,forceCanvas:ve.bool,backgroundColor:ve.number,clearBeforeRender:ve.bool,powerPreference:ve.string,sharedTicker:ve.bool,sharedLoader:ve.bool,resizeTo:function(t,e){var r=t[e];r&&At(r===window||r instanceof HTMLElement,"Invalid prop `resizeTo` of type ".concat(Yr(r),", expect `window` or an `HTMLElement`."))},view:function(t,e,r){var n=t[e];n&&At(n instanceof HTMLCanvasElement,"Invalid prop `view` of type ".concat(Yr(n),", supplied to ").concat(r,", expected `<canvas> Element`"))}})},Lz={width:800,height:600,onMount:KT,onUnmount:KT,raf:!0,renderOnComponentChange:!0},j_=function(t){(function(s,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(o&&o.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),o&&Vp(s,o)})(i,et.Component);var e,r,n=Bz(i);function i(){var s;kz(this,i);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return Pt(Vi(s=n.call.apply(n,[this].concat(a))),"_canvas",null),Pt(Vi(s),"_mediaQuery",null),Pt(Vi(s),"_ticker",null),Pt(Vi(s),"_needsUpdate",!0),Pt(Vi(s),"app",null),Pt(Vi(s),"updateSize",function(){var h=s.props,f=h.width,p=h.height,m=h.options;m!=null&&m.resolution||(s.app.renderer.resolution=window.devicePixelRatio,s.resetInteractionManager()),s.app.renderer.resize(f,p)}),Pt(Vi(s),"needsRenderUpdate",function(){s._needsUpdate=!0}),Pt(Vi(s),"renderStage",function(){var h=s.props,f=h.renderOnComponentChange;!h.raf&&f&&s._needsUpdate&&(s._needsUpdate=!1,s.app.renderer.render(s.app.stage))}),s}return e=i,(r=[{key:"componentDidMount",value:function(){var s=this.props,o=s.onMount,a=s.width,c=s.height,h=s.options,f=s.raf,p=s.renderOnComponentChange;this.app=new $m(sf(sf({width:a,height:c,view:this._canvas},h),{},{autoDensity:(h==null?void 0:h.autoDensity)!==!1})),this.app.ticker.autoStart=!1,this.app.ticker[f?"start":"stop"](),this.app.stage.__reactpixi={root:this.app.stage},this.mountNode=zn.createContainer(this.app.stage),zn.updateContainer(this.getChildren(),this.mountNode,this),o(this.app),h!=null&&h.autoDensity&&window.matchMedia&&(h==null?void 0:h.resolution)===void 0&&(this._mediaQuery=window.matchMedia("(-webkit-min-device-pixel-ratio: 1.3), (min-resolution: 120dpi)"),this._mediaQuery.addListener(this.updateSize)),p&&!f&&(this._ticker=new Kt,this._ticker.autoStart=!0,this._ticker.add(this.renderStage),this.app.stage.on("__REACT_PIXI_REQUEST_RENDER__",this.needsRenderUpdate)),this.updateSize(),this.renderStage()}},{key:"componentDidUpdate",value:function(s,o,a){var c,h=this.props,f=h.width,p=h.height,m=h.raf,y=h.renderOnComponentChange,_=h.options;(_==null?void 0:_.resolution)!==void 0&&(s==null?void 0:s.options.resolution)!==(_==null?void 0:_.resolution)&&(this.app.renderer.resolution=_.resolution,this.resetInteractionManager()),s.height===p&&s.width===f&&((c=s.options)===null||c===void 0?void 0:c.resolution)===(_==null?void 0:_.resolution)||this.updateSize(),s.raf!==m&&this.app.ticker[m?"start":"stop"](),zn.updateContainer(this.getChildren(),this.mountNode,this),s.width===f&&s.height===p&&s.raf===m&&s.renderOnComponentChange===y&&s.options===_||(this._needsUpdate=!0,this.renderStage())}},{key:"resetInteractionManager",value:function(){var s=this.app.renderer.plugins.interaction;s!=null&&s.resolution&&(s.resolution=this.app.renderer.resolution)}},{key:"getChildren",value:function(){var s=this.props.children;return et.createElement(d2,{value:this.app},s)}},{key:"componentDidCatch",value:function(s,o){console.error("Error occurred in `Stage`."),console.error(s),console.error(o)}},{key:"componentWillUnmount",value:function(){this.props.onUnmount(this.app),this._ticker&&(this._ticker.remove(this.renderStage),this._ticker.destroy()),this.app.stage.off("__REACT_PIXI_REQUEST_RENDER__",this.needsRenderUpdate),zn.updateContainer(null,this.mountNode,this),this._mediaQuery&&(this._mediaQuery.removeListener(this.updateSize),this._mediaQuery=null),this.app.destroy()}},{key:"render",value:function(){var s,o,a=this,c=this.props.options;return c&&c.view?(At(c.view instanceof HTMLCanvasElement,"options.view needs to be a `HTMLCanvasElement`"),null):et.createElement("canvas",nh({},(s=this.props,o=[].concat(ms(Object.keys(p2)),ms(Object.keys(U_))),Object.keys(s).filter(function(h){return!o.includes(h)}).reduce(function(h,f){return sf(sf({},h),{},Pt({},f,s[f]))},{})),{ref:function(h){return a._canvas=h}}))}}])&&Dz(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),i}();j_.propTypes=p2,j_.defaultProps=Lz;var Uz=j_;function m2(){var t=xe.useContext(Gm);return At(t instanceof $m,"No Context found with `%s`. Make sure to wrap component with `%s`","Application","AppProvider"),t}function zz(t){var e=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=m2();At(typeof t=="function","`useTick` needs a callback function."),At(r instanceof $m,"No Context found with `%s`. Make sure to wrap component with `%s`","Application","AppProvider");var n=xe.useRef(null);xe.useEffect(function(){n.current=t},[t]),xe.useEffect(function(){if(e){var i=function(s){return n.current.apply(r.ticker,[s,r.ticker])};return r.ticker.add(i),function(){r.ticker&&r.ticker.remove(i)}}},[e])}function $z(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function H_(t,e,r){return H_=$z()?Reflect.construct.bind():function(n,i,s){var o=[null];o.push.apply(o,i);var a=new(Function.bind.apply(n,o));return s&&Vp(a,s.prototype),a},H_.apply(null,arguments)}var Gz=["children","apply"];function QT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function of(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?QT(Object(r),!0).forEach(function(n){Pt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):QT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var jz=function(t,e){At(Yr(e)==="object","Second argument needs to be an indexed object with { prop: Filter }");var r=Object.keys(e),n=function(i){var s=i.children,o=i.apply,a=po(i,Gz),c=xe.useRef(xe.useMemo(function(){return r.map(function(p){var m,y=(a==null||(m=a[p])===null||m===void 0?void 0:m.construct)||[];return H_(e[p],ms(y))})},[r])),h=xe.useMemo(function(){return r.reduce(function(p,m,y){return of(of({},p),{},Pt({},m,c.current[y]))},{})},[r]),f=xe.useMemo(function(){return Object.keys(a).filter(o2(s2(r))).reduce(function(p,m){return of(of({},p),{},Pt({},m,a[m]))},{})},[a,r]);return r.forEach(function(p,m){return Object.assign(c.current[m],a[p])}),o&&function(){for(var p=arguments.length,m=new Array(p),y=0;y<p;y++)m[y]=arguments[y];return m.every(function(_){return typeof _=="function"})}(o)&&o.call(t,h),et.createElement(t,nh({},f,{filters:c.current}),s)};return n.displayName="FilterWrapper",n.propTypes={children:ve.node,apply:ve.func},n},Hz=Nr.BitmapText,Vz=Nr.Container,Wz=Nr.Graphics,Xz=Nr.NineSlicePlane,Yz=Nr.ParticleContainer,Kz=Nr.Sprite,Qz=Nr.AnimatedSprite,qz=Nr.Text,Zz=Nr.TilingSprite,Jz=Nr.SimpleMesh,e$=Nr.SimpleRope;const t$=Object.freeze(Object.defineProperty({__proto__:null,AnimatedSprite:Qz,AppConsumer:f2,AppContext:Gm,AppProvider:d2,BitmapText:Hz,Container:Vz,Graphics:Wz,NineSlicePlane:Xz,ParticleContainer:Yz,PixiComponent:Sz,PixiFiber:zn,SimpleMesh:Jz,SimpleRope:e$,Sprite:Kz,Stage:Uz,TYPES:Nr,Text:qz,TilingSprite:Zz,applyDefaultProps:Fi,createRoot:h2,eventHandlers:Hp,render:Oz,unmountComponentAtNode:Mz,useApp:m2,useTick:zz,withFilters:jz,withPixiApp:Fz},Symbol.toStringTag,{value:"Module"})),r$=YA(t$);Pm.exports=r$;var ih=Pm.exports,Cx={};Cx.match=l$;Cx.parse=g2;var n$=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,i$=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,s$=/^(?:(min|max)-)?(.+)/,o$=/(em|rem|px|cm|mm|in|pt|pc)?$/,a$=/(dpi|dpcm|dppx)?$/;function l$(t,e){return g2(t).some(function(r){var n=r.inverse,i=r.type==="all"||e.type===r.type;if(i&&n||!(i||n))return!1;var s=r.expressions.every(function(o){var a=o.feature,c=o.modifier,h=o.value,f=e[a];if(!f)return!1;switch(a){case"orientation":case"scan":return f.toLowerCase()===h.toLowerCase();case"width":case"height":case"device-width":case"device-height":h=JT(h),f=JT(f);break;case"resolution":h=ZT(h),f=ZT(f);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":h=qT(h),f=qT(f);break;case"grid":case"color":case"color-index":case"monochrome":h=parseInt(h,10)||1,f=parseInt(f,10)||0;break}switch(c){case"min":return f>=h;case"max":return f<=h;default:return f===h}});return s&&!n||!s&&n})}function g2(t){return t.split(",").map(function(e){e=e.trim();var r=e.match(n$),n=r[1],i=r[2],s=r[3]||"",o={};return o.inverse=!!n&&n.toLowerCase()==="not",o.type=i?i.toLowerCase():"all",s=s.match(/\([^\)]+\)/g)||[],o.expressions=s.map(function(a){var c=a.match(i$),h=c[1].toLowerCase().match(s$);return{modifier:h[1],feature:h[2],value:c[2]}}),o})}function qT(t){var e=Number(t),r;return e||(r=t.match(/^(\d+)\s*\/\s*(\d+)$/),e=r[1]/r[2]),e}function ZT(t){var e=parseFloat(t),r=String(t).match(a$)[1];switch(r){case"dpcm":return e/2.54;case"dppx":return e*96;default:return e}}function JT(t){var e=parseFloat(t),r=String(t).match(o$)[1];switch(r){case"em":return e*16;case"rem":return e*16;case"cm":return e*96/2.54;case"mm":return e*96/2.54/10;case"in":return e*96;case"pt":return e*72;case"pc":return e*72/12;default:return e}}var u$=Cx.match,eA=typeof window<"u"?window.matchMedia:null;function c$(t,e,r){var n=this,i;eA&&!r&&(i=eA.call(window,t)),i?(this.matches=i.matches,this.media=i.media,i.addListener(a)):(this.matches=u$(t,e),this.media=t),this.addListener=s,this.removeListener=o,this.dispose=c;function s(h){i&&i.addListener(h)}function o(h){i&&i.removeListener(h)}function a(h){n.matches=h.matches,n.media=h.media}function c(){i&&i.removeListener(a)}}function h$(t,e,r){return new c$(t,e,r)}var d$=h$;const f$=ah(d$);var p$=/[A-Z]/g,m$=/^ms-/,Ay={};function g$(t){return"-"+t.toLowerCase()}function v2(t){if(Ay.hasOwnProperty(t))return Ay[t];var e=t.replace(p$,g$);return Ay[t]=m$.test(e)?"-"+e:e}function v$(t,e){if(t===e)return!0;if(!t||!e)return!1;const r=Object.keys(t),n=Object.keys(e),i=r.length;if(n.length!==i)return!1;for(let s=0;s<i;s++){const o=r[s];if(t[o]!==e[o]||!Object.prototype.hasOwnProperty.call(e,o))return!1}return!0}const yr=ve.oneOfType([ve.string,ve.number]),Px={all:ve.bool,grid:ve.bool,aural:ve.bool,braille:ve.bool,handheld:ve.bool,print:ve.bool,projection:ve.bool,screen:ve.bool,tty:ve.bool,tv:ve.bool,embossed:ve.bool},y2={orientation:ve.oneOf(["portrait","landscape"]),scan:ve.oneOf(["progressive","interlace"]),aspectRatio:ve.string,deviceAspectRatio:ve.string,height:yr,deviceHeight:yr,width:yr,deviceWidth:yr,color:ve.bool,colorIndex:ve.bool,monochrome:ve.bool,resolution:yr,type:Object.keys(Px)},{type:Vj,...y$}=y2,_2={minAspectRatio:ve.string,maxAspectRatio:ve.string,minDeviceAspectRatio:ve.string,maxDeviceAspectRatio:ve.string,minHeight:yr,maxHeight:yr,minDeviceHeight:yr,maxDeviceHeight:yr,minWidth:yr,maxWidth:yr,minDeviceWidth:yr,maxDeviceWidth:yr,minColor:ve.number,maxColor:ve.number,minColorIndex:ve.number,maxColorIndex:ve.number,minMonochrome:ve.number,maxMonochrome:ve.number,minResolution:yr,maxResolution:yr,...y$},_$={...Px,..._2};var x$={all:_$,types:Px,matchers:y2,features:_2};const b$=t=>`not ${t}`,w$=(t,e)=>{const r=v2(t);return typeof e=="number"&&(e=`${e}px`),e===!0?r:e===!1?b$(r):`(${r}: ${e})`},S$=t=>t.join(" and "),E$=t=>{const e=[];return Object.keys(x$.all).forEach(r=>{const n=t[r];n!=null&&e.push(w$(r,n))}),S$(e)},T$=xe.createContext(void 0),A$=t=>t.query||E$(t),tA=t=>t?Object.keys(t).reduce((r,n)=>(r[v2(n)]=t[n],r),{}):void 0,x2=()=>{const t=xe.useRef(!1);return xe.useEffect(()=>{t.current=!0},[]),t.current},C$=t=>{const e=xe.useContext(T$),r=()=>tA(t)||tA(e),[n,i]=xe.useState(r);return xe.useEffect(()=>{const s=r();v$(n,s)||i(s)},[t,e]),n},P$=t=>{const e=()=>A$(t),[r,n]=xe.useState(e);return xe.useEffect(()=>{const i=e();r!==i&&n(i)},[t]),r},I$=(t,e)=>{const r=()=>f$(t,e||{},!!e),[n,i]=xe.useState(r),s=x2();return xe.useEffect(()=>{if(s){const o=r();return i(o),()=>{o&&o.dispose()}}},[t,e]),n},R$=t=>{const[e,r]=xe.useState(t.matches);return xe.useEffect(()=>{const n=i=>{r(i.matches)};return t.addListener(n),r(t.matches),()=>{t.removeListener(n)}},[t]),e},O$=(t,e,r)=>{const n=C$(e),i=P$(t);if(!i)throw new Error("Invalid or missing MediaQuery!");const s=I$(i,n),o=R$(s),a=x2();return xe.useEffect(()=>{a&&r&&r(o)},[o]),xe.useEffect(()=>()=>{s&&s.dispose()},[]),o};if(!xe.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!mF)throw new Error("mobx-react-lite@3 requires mobx at least version 6 to be available");function M$(t){t()}function k$(t){t||(t=M$),aF({reactionScheduler:t})}function D$(t){return lF(t)}var N$=1e4,F$=1e4,B$=function(){function t(e){var r=this;Object.defineProperty(this,"finalize",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"registrations",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"sweepTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sweep",{enumerable:!0,configurable:!0,writable:!0,value:function(n){n===void 0&&(n=N$),clearTimeout(r.sweepTimeout),r.sweepTimeout=void 0;var i=Date.now();r.registrations.forEach(function(s,o){i-s.registeredAt>=n&&(r.finalize(s.value),r.registrations.delete(o))}),r.registrations.size>0&&r.scheduleSweep()}}),Object.defineProperty(this,"finalizeAllImmediately",{enumerable:!0,configurable:!0,writable:!0,value:function(){r.sweep(0)}})}return Object.defineProperty(t.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(e,r,n){this.registrations.set(n,{value:r,registeredAt:Date.now()}),this.scheduleSweep()}}),Object.defineProperty(t.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.registrations.delete(e)}}),Object.defineProperty(t.prototype,"scheduleSweep",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.sweepTimeout===void 0&&(this.sweepTimeout=setTimeout(this.sweep,F$))}}),t}(),L$=typeof FinalizationRegistry<"u"?FinalizationRegistry:B$,sh=new L$(function(t){var e;(e=t.reaction)===null||e===void 0||e.dispose(),t.reaction=null}),b2={exports:{}},w2={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ql=xe;function U$(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var z$=typeof Object.is=="function"?Object.is:U$,$$=Ql.useState,G$=Ql.useEffect,j$=Ql.useLayoutEffect,H$=Ql.useDebugValue;function V$(t,e){var r=e(),n=$$({inst:{value:r,getSnapshot:e}}),i=n[0].inst,s=n[1];return j$(function(){i.value=r,i.getSnapshot=e,Cy(i)&&s({inst:i})},[t,r,e]),G$(function(){return Cy(i)&&s({inst:i}),t(function(){Cy(i)&&s({inst:i})})},[t]),H$(r),r}function Cy(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!z$(t,r)}catch{return!0}}function W$(t,e){return e()}var X$=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?W$:V$;w2.useSyncExternalStore=Ql.useSyncExternalStore!==void 0?Ql.useSyncExternalStore:X$;b2.exports=w2;var Y$=b2.exports;function rA(t){t.reaction=new ki("observer".concat(t.name),function(){var e;t.stateVersion=Symbol(),(e=t.onStoreChange)===null||e===void 0||e.call(t)})}function K$(t,e){e===void 0&&(e="observed");var r=et.useRef(null);if(!r.current){var n={reaction:null,onStoreChange:null,stateVersion:Symbol(),name:e,subscribe:function(a){return sh.unregister(n),n.onStoreChange=a,n.reaction||(rA(n),n.stateVersion=Symbol()),function(){var c;n.onStoreChange=null,(c=n.reaction)===null||c===void 0||c.dispose(),n.reaction=null}},getSnapshot:function(){return n.stateVersion}};r.current=n}var i=r.current;i.reaction||(rA(i),sh.register(r,i,i)),et.useDebugValue(i.reaction,D$),Y$.useSyncExternalStore(i.subscribe,i.getSnapshot,i.getSnapshot);var s,o;if(i.reaction.track(function(){try{s=t()}catch(a){o=a}}),o)throw o;return s}var Py,Iy,S2=typeof Symbol=="function"&&Symbol.for,Q$=(Iy=(Py=Object.getOwnPropertyDescriptor(function(){},"name"))===null||Py===void 0?void 0:Py.configurable)!==null&&Iy!==void 0?Iy:!1,nA=S2?Symbol.for("react.forward_ref"):typeof xe.forwardRef=="function"&&xe.forwardRef(function(t){return null}).$$typeof,iA=S2?Symbol.for("react.memo"):typeof xe.memo=="function"&&xe.memo(function(t){return null}).$$typeof;function q$(t,e){var r;if(iA&&t.$$typeof===iA)throw new Error("[mobx-react-lite] You are trying to use `observer` on a function component wrapped in either another `observer` or `React.memo`. The observer already applies 'React.memo' for you.");var n=(r=void 0)!==null&&r!==void 0?r:!1,i=t,s=t.displayName||t.name;if(nA&&t.$$typeof===nA&&(n=!0,i=t.render,typeof i!="function"))throw new Error("[mobx-react-lite] `render` property of ForwardRef was not a function");var o=function(a,c){return K$(function(){return i(a,c)},s)};return o.displayName=t.displayName,Q$&&Object.defineProperty(o,"name",{value:t.name,writable:!0,configurable:!0}),t.contextTypes&&(o.contextTypes=t.contextTypes),n&&(o=xe.forwardRef(o)),o=xe.memo(o),J$(t,o),o}var Z$={$$typeof:!0,render:!0,compare:!0,type:!0,displayName:!0};function J$(t,e){Object.keys(t).forEach(function(r){Z$[r]||Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}var Ry;k$(aI.unstable_batchedUpdates);Ry=sh.finalizeAllImmediately;function eG(t,e){if(sA(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(var i=0;i<r.length;i++)if(!Object.hasOwnProperty.call(e,r[i])||!sA(t[r[i]],e[r[i]]))return!1;return!0}function sA(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var oA=Symbol("patchMixins"),E2=Symbol("patchedDefinition");function tG(t,e){var r=t[oA]=t[oA]||{},n=r[e]=r[e]||{};return n.locks=n.locks||0,n.methods=n.methods||[],n}function aA(t,e){for(var r=this,n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s];e.locks++;try{var o;return t!=null&&(o=t.apply(this,i)),o}finally{e.locks--,e.locks===0&&e.methods.forEach(function(a){a.apply(r,i)})}}function lA(t,e){var r=function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];aA.call.apply(aA,[this,t,e].concat(s))};return r}function rG(t,e,r){var n=tG(t,e);n.methods.indexOf(r)<0&&n.methods.push(r);var i=Object.getOwnPropertyDescriptor(t,e);if(!(i&&i[E2])){var s=t[e],o=T2(t,e,i?i.enumerable:void 0,n,s);Object.defineProperty(t,e,o)}}function T2(t,e,r,n,i){var s,o=lA(i,n);return s={},s[E2]=!0,s.get=function(){return o},s.set=function(c){if(this===t)o=lA(c,n);else{var h=T2(this,e,r,n,c);Object.defineProperty(this,e,h)}},s.configurable=!0,s.enumerable=r,s}var uA=Symbol("ObserverAdministration"),cA=Symbol("isMobXReactObserver");function V_(t){var e;return(e=t[uA])!=null?e:t[uA]={reaction:null,mounted:!1,reactionInvalidatedBeforeMount:!1,forceUpdate:null,name:W_(t.constructor),state:void 0,props:void 0,context:void 0}}function nG(t){var e=t.prototype;if(t[cA]){var r=W_(t);throw new Error("The provided component class ("+r+") has already been declared as an observer component.")}else t[cA]=!0;if(e.componentWillReact)throw new Error("The componentWillReact life-cycle event is no longer supported");if(t.__proto__!==xe.PureComponent){if(!e.shouldComponentUpdate)e.shouldComponentUpdate=hA;else if(e.shouldComponentUpdate!==hA)throw new Error("It is not allowed to use shouldComponentUpdate in observer based components.")}var n=e.render;if(typeof n!="function"){var i=W_(t);throw new Error("[mobx-react] class component ("+i+") is missing `render` method.\n`observer` requires `render` being a function defined on prototype.\n`render = () => {}` or `render = function() {}` is not supported.")}e.render=function(){return Object.defineProperty(this,"render",{configurable:!1,writable:!1,value:iG.call(this,n)}),this.render()};var s=e.componentDidMount;return e.componentDidMount=function(){var o=this,a=V_(this);return a.mounted=!0,sh.unregister(this),a.forceUpdate=function(){return o.forceUpdate()},(!a.reaction||a.reactionInvalidatedBeforeMount)&&a.forceUpdate(),s==null?void 0:s.apply(this,arguments)},rG(e,"componentWillUnmount",function(){var o,a=V_(this);(o=a.reaction)==null||o.dispose(),a.reaction=null,a.forceUpdate=null,a.mounted=!1,a.reactionInvalidatedBeforeMount=!1}),t}function W_(t){return t.displayName||t.name||"<component>"}function iG(t){var e=t.bind(this),r=V_(this);function n(){r.reaction||(r.reaction=sG(r),r.mounted||sh.register(this,r,this));var i=void 0,s=void 0;if(r.reaction.track(function(){try{s=L3(!1,e)}catch(o){i=o}}),i)throw i;return s}return n}function sG(t){return new ki(t.name+".render()",function(){if(!t.mounted){t.reactionInvalidatedBeforeMount=!0;return}try{t.forceUpdate==null||t.forceUpdate()}catch{var e;(e=t.reaction)==null||e.dispose(),t.reaction=null}})}function hA(t,e){return this.state!==e?!0:!eG(this.props,t)}function Ix(t,e){return t.isMobxInjector===!0&&console.warn("Mobx observer: You are trying to use `observer` on a component that already has `inject`. Please apply `observer` before applying `inject`"),Object.prototype.isPrototypeOf.call(xe.Component,t)||Object.prototype.isPrototypeOf.call(xe.PureComponent,t)?nG(t):q$(t)}function X_(){return X_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},X_.apply(this,arguments)}function oG(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}var aG=["children"],dA=et.createContext({});function A2(t){var e=t.children,r=oG(t,aG),n=et.useContext(dA),i=et.useRef(X_({},n,r)),s=i.current;return et.createElement(dA.Provider,{value:s},e)}A2.displayName="MobXProvider";et.version.split(".")[0];if(!xe.Component)throw new Error("mobx-react requires React to be available");if(!_t)throw new Error("mobx-react requires mobx to be available");function lG(t,e){const r=[];for(let n=0;n<t;n++)for(let i=0;i<t;i++)r.push({x:n*e,y:i*e});return r}const Oy=45;var BA,LA,UA,zA,di;zA=[_t],UA=[_t],LA=[at],BA=[at];class Ka{constructor(){ur(di,5,this);Ht(this,"scale",ur(di,8,this,1)),ur(di,11,this);Ht(this,"position",ur(di,12,this,{x:1e4,y:1e4})),ur(di,15,this);Ht(this,"sceneSize",{width:0,height:0});Ht(this,"containerSize",0);Ht(this,"cellSize",0);Ht(this,"pivot",0);Ht(this,"coordinatesRects",[]);Ht(this,"maxScale",1);yh(this)}setPosition(e){this.position=e}startSettings(e){const r=window.innerWidth<window.innerHeight?window.innerWidth:window.innerHeight,n=document.getElementById("pallete");this.sceneSize={width:window.innerWidth,height:window.innerHeight-n.clientHeight},this.cellSize=r/e<Oy?r/e:Oy,this.maxScale=Oy/this.cellSize,this.containerSize=this.cellSize*e,this.pivot=this.cellSize*e/2,this.coordinatesRects=lG(e,this.cellSize),this.position={x:this.sceneSize.width/2,y:this.sceneSize.height/2}}normalizeContainerPosition(){const e={x:0,y:0},r={x:this.sceneSize.width,y:this.sceneSize.height},n=this.containerSize*this.scale/2,i=Math.round(this.position.x-n),s=Math.round(this.position.x+n),o=Math.round(this.position.y-n),a=Math.round(this.position.y+n);let c=this.position.x,h=this.position.y;this.containerSize*this.scale>this.sceneSize.width?(i>e.x&&(c-=i),s<r.x&&(c+=r.x-s)):c=this.sceneSize.width/2,this.containerSize*this.scale>this.sceneSize.height?(o>e.y&&(h-=o),a<r.y&&(h+=r.y-a)):h=this.sceneSize.height/2,this.setPosition({x:c,y:h})}}di=ka(null),nt(di,1,"setPosition",LA,Ka),nt(di,1,"startSettings",BA,Ka),nt(di,5,"scale",zA,Ka),nt(di,5,"position",UA,Ka),To(di,Ka);const Re=new Ka,C2=new ut;mt.prototype._cacheAsBitmap=!1;mt.prototype._cacheData=null;mt.prototype._cacheAsBitmapResolution=null;mt.prototype._cacheAsBitmapMultisample=null;class uG{constructor(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}}Object.defineProperties(mt.prototype,{cacheAsBitmapResolution:{get(){return this._cacheAsBitmapResolution},set(t){t!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get(){return this._cacheAsBitmapMultisample},set(t){t!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get(){return this._cacheAsBitmap},set(t){if(this._cacheAsBitmap===t)return;this._cacheAsBitmap=t;let e;t?(this._cacheData||(this._cacheData=new uG),e=this._cacheData,e.originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(e=this._cacheData,e.sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}});mt.prototype._renderCached=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(t))};mt.prototype._initCachedDisplayObject=function(t){var m,y;if((m=this._cacheData)!=null&&m.sprite)return;const e=this.alpha;this.alpha=1,t.batch.flush();const r=this.getLocalBounds(new Ce,!0);if((y=this.filters)!=null&&y.length){const _=this.filters[0].padding;r.pad(_)}const n=this.cacheAsBitmapResolution||t.resolution;r.ceil(n),r.width=Math.max(r.width,1/n),r.height=Math.max(r.height,1/n);const i=t.renderTexture.current,s=t.renderTexture.sourceFrame.clone(),o=t.renderTexture.destinationFrame.clone(),a=t.projection.transform,c=ga.create({width:r.width,height:r.height,resolution:n,multisample:this.cacheAsBitmapMultisample??t.multisample}),h=`cacheAsBitmap_${la()}`;this._cacheData.textureCacheId=h,Te.addToCache(c.baseTexture,h),re.addToCache(c,h);const f=this.transform.localTransform.copyTo(C2).invert().translate(-r.x,-r.y);this.render=this._cacheData.originalRender,t.render(this,{renderTexture:c,clear:!0,transform:f,skipUpdateTransform:!1}),t.framebuffer.blit(),t.projection.transform=a,t.renderTexture.bind(i,s,o),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=e;const p=new Li(c);p.transform.worldTransform=this.transform.worldTransform,p.anchor.x=-(r.x/r.width),p.anchor.y=-(r.y/r.height),p.alpha=e,p._bounds=this._bounds,this._cacheData.sprite=p,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=p.containsPoint.bind(p)};mt.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(t))};mt.prototype._initCachedDisplayObjectCanvas=function(t){var f;if((f=this._cacheData)!=null&&f.sprite)return;const e=this.getLocalBounds(new Ce,!0),r=this.alpha;this.alpha=1;const n=t.canvasContext.activeContext,i=t._projTransform,s=this.cacheAsBitmapResolution||t.resolution;e.ceil(s),e.width=Math.max(e.width,1/s),e.height=Math.max(e.height,1/s);const o=ga.create({width:e.width,height:e.height,resolution:s}),a=`cacheAsBitmap_${la()}`;this._cacheData.textureCacheId=a,Te.addToCache(o.baseTexture,a),re.addToCache(o,a);const c=C2;this.transform.localTransform.copyTo(c),c.invert(),c.tx-=e.x,c.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,t.render(this,{renderTexture:o,clear:!0,transform:c,skipUpdateTransform:!1}),t.canvasContext.activeContext=n,t._projTransform=i,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=r;const h=new Li(o);h.transform.worldTransform=this.transform.worldTransform,h.anchor.x=-(e.x/e.width),h.anchor.y=-(e.y/e.height),h.alpha=r,h._bounds=this._bounds,this._cacheData.sprite=h,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=h.containsPoint.bind(h)};mt.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};mt.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};mt.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,Te.removeFromCache(this._cacheData.textureCacheId),re.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};mt.prototype._cacheAsBitmapDestroy=function(t){this.cacheAsBitmap=!1,this.destroy(t)};mt.prototype.name=null;wr.prototype.getChildByName=function(t,e){for(let r=0,n=this.children.length;r<n;r++)if(this.children[r].name===t)return this.children[r];if(e)for(let r=0,n=this.children.length;r<n;r++){const i=this.children[r];if(!i.getChildByName)continue;const s=i.getChildByName(t,!0);if(s)return s}return null};mt.prototype.getGlobalPosition=function(t=new Ne,e=!1){return this.parent?this.parent.toGlobal(this.position,t,e):(t.x=this.position.x,t.y=this.position.y),t};var cG=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`;class hG extends xr{constructor(e=1){super(g6,cG,{uAlpha:1}),this.alpha=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}const dG={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},fG=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function pG(t){const e=dG[t],r=e.length;let n=fG,i="";const s="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;";let o;for(let a=0;a<t;a++){let c=s.replace("%index%",a.toString());o=a,a>=r&&(o=t-a-1),c=c.replace("%value%",e[o].toString()),i+=c,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",t.toString()),n}const mG=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function gG(t,e){const r=Math.ceil(t/2);let n=mG,i="",s;e?s="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":s="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(let o=0;o<t;o++){let a=s.replace("%index%",o.toString());a=a.replace("%sampleIndex%",`${o-(r-1)}.0`),i+=a,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",t.toString()),n}class Y_ extends xr{constructor(e,r=8,n=4,i=xr.defaultResolution,s=5){const o=gG(s,e),a=pG(s);super(o,a),this.horizontal=e,this.resolution=i,this._quality=0,this.quality=n,this.blur=r}apply(e,r,n,i){if(n?this.horizontal?this.uniforms.strength=1/n.width*(n.width/r.width):this.uniforms.strength=1/n.height*(n.height/r.height):this.horizontal?this.uniforms.strength=1/e.renderer.width*(e.renderer.width/r.width):this.uniforms.strength=1/e.renderer.height*(e.renderer.height/r.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)e.applyFilter(this,r,n,i);else{const s=e.getFilterTexture(),o=e.renderer;let a=r,c=s;this.state.blend=!1,e.applyFilter(this,a,c,bi.CLEAR);for(let h=1;h<this.passes-1;h++){e.bindAndClear(a,bi.BLIT),this.uniforms.uSampler=c;const f=c;c=a,a=f,o.shader.bind(this),o.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,c,n,i),e.returnFilterTexture(s)}}get blur(){return this.strength}set blur(e){this.padding=1+Math.abs(e)*2,this.strength=e}get quality(){return this._quality}set quality(e){this._quality=e,this.passes=e}}class Rx extends xr{constructor(e=8,r=4,n=xr.defaultResolution,i=5){super(),this._repeatEdgePixels=!1,this.blurXFilter=new Y_(!0,e,r,n,i),this.blurYFilter=new Y_(!1,e,r,n,i),this.resolution=n,this.quality=r,this.blur=e,this.repeatEdgePixels=!1}apply(e,r,n,i){const s=Math.abs(this.blurXFilter.strength),o=Math.abs(this.blurYFilter.strength);if(s&&o){const a=e.getFilterTexture();this.blurXFilter.apply(e,r,a,bi.CLEAR),this.blurYFilter.apply(e,a,n,i),e.returnFilterTexture(a)}else o?this.blurYFilter.apply(e,r,n,i):this.blurXFilter.apply(e,r,n,i)}updatePadding(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2}get blur(){return this.blurXFilter.blur}set blur(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()}get quality(){return this.blurXFilter.quality}set quality(e){this.blurXFilter.quality=this.blurYFilter.quality=e}get blurX(){return this.blurXFilter.blur}set blurX(e){this.blurXFilter.blur=e,this.updatePadding()}get blurY(){return this.blurYFilter.blur}set blurY(e){this.blurYFilter.blur=e,this.updatePadding()}get blendMode(){return this.blurYFilter.blendMode}set blendMode(e){this.blurYFilter.blendMode=e}get repeatEdgePixels(){return this._repeatEdgePixels}set repeatEdgePixels(e){this._repeatEdgePixels=e,this.updatePadding()}}var vG=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`;class K_ extends xr{constructor(){const e={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};super(RO,vG,e),this.alpha=1}_loadMatrix(e,r=!1){let n=e;r&&(this._multiply(n,this.uniforms.m,e),n=this._colorMatrix(n)),this.uniforms.m=n}_multiply(e,r,n){return e[0]=r[0]*n[0]+r[1]*n[5]+r[2]*n[10]+r[3]*n[15],e[1]=r[0]*n[1]+r[1]*n[6]+r[2]*n[11]+r[3]*n[16],e[2]=r[0]*n[2]+r[1]*n[7]+r[2]*n[12]+r[3]*n[17],e[3]=r[0]*n[3]+r[1]*n[8]+r[2]*n[13]+r[3]*n[18],e[4]=r[0]*n[4]+r[1]*n[9]+r[2]*n[14]+r[3]*n[19]+r[4],e[5]=r[5]*n[0]+r[6]*n[5]+r[7]*n[10]+r[8]*n[15],e[6]=r[5]*n[1]+r[6]*n[6]+r[7]*n[11]+r[8]*n[16],e[7]=r[5]*n[2]+r[6]*n[7]+r[7]*n[12]+r[8]*n[17],e[8]=r[5]*n[3]+r[6]*n[8]+r[7]*n[13]+r[8]*n[18],e[9]=r[5]*n[4]+r[6]*n[9]+r[7]*n[14]+r[8]*n[19]+r[9],e[10]=r[10]*n[0]+r[11]*n[5]+r[12]*n[10]+r[13]*n[15],e[11]=r[10]*n[1]+r[11]*n[6]+r[12]*n[11]+r[13]*n[16],e[12]=r[10]*n[2]+r[11]*n[7]+r[12]*n[12]+r[13]*n[17],e[13]=r[10]*n[3]+r[11]*n[8]+r[12]*n[13]+r[13]*n[18],e[14]=r[10]*n[4]+r[11]*n[9]+r[12]*n[14]+r[13]*n[19]+r[14],e[15]=r[15]*n[0]+r[16]*n[5]+r[17]*n[10]+r[18]*n[15],e[16]=r[15]*n[1]+r[16]*n[6]+r[17]*n[11]+r[18]*n[16],e[17]=r[15]*n[2]+r[16]*n[7]+r[17]*n[12]+r[18]*n[17],e[18]=r[15]*n[3]+r[16]*n[8]+r[17]*n[13]+r[18]*n[18],e[19]=r[15]*n[4]+r[16]*n[9]+r[17]*n[14]+r[18]*n[19]+r[19],e}_colorMatrix(e){const r=new Float32Array(e);return r[4]/=255,r[9]/=255,r[14]/=255,r[19]/=255,r}brightness(e,r){const n=[e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0];this._loadMatrix(n,r)}tint(e,r){const[n,i,s]=Je.shared.setValue(e).toArray(),o=[n,0,0,0,0,0,i,0,0,0,0,0,s,0,0,0,0,0,1,0];this._loadMatrix(o,r)}greyscale(e,r){const n=[e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0];this._loadMatrix(n,r)}blackAndWhite(e){const r=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(r,e)}hue(e,r){e=(e||0)/180*Math.PI;const n=Math.cos(e),i=Math.sin(e),s=Math.sqrt,o=1/3,a=s(o),c=n+(1-n)*o,h=o*(1-n)-a*i,f=o*(1-n)+a*i,p=o*(1-n)+a*i,m=n+o*(1-n),y=o*(1-n)-a*i,_=o*(1-n)-a*i,S=o*(1-n)+a*i,A=n+o*(1-n),E=[c,h,f,0,0,p,m,y,0,0,_,S,A,0,0,0,0,0,1,0];this._loadMatrix(E,r)}contrast(e,r){const n=(e||0)+1,i=-.5*(n-1),s=[n,0,0,0,i,0,n,0,0,i,0,0,n,0,i,0,0,0,1,0];this._loadMatrix(s,r)}saturate(e=0,r){const n=e*2/3+1,i=(n-1)*-.5,s=[n,i,i,0,0,i,n,i,0,0,i,i,n,0,0,0,0,0,1,0];this._loadMatrix(s,r)}desaturate(){this.saturate(-1)}negative(e){const r=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(r,e)}sepia(e){const r=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(r,e)}technicolor(e){const r=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(r,e)}polaroid(e){const r=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(r,e)}toBGR(e){const r=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(r,e)}kodachrome(e){const r=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(r,e)}browni(e){const r=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(r,e)}vintage(e){const r=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(r,e)}colorTone(e,r,n,i,s){e=e||.2,r=r||.15,n=n||16770432,i=i||3375104;const o=Je.shared,[a,c,h]=o.setValue(n).toArray(),[f,p,m]=o.setValue(i).toArray(),y=[.3,.59,.11,0,0,a,c,h,e,0,f,p,m,r,0,a-f,c-p,h-m,0,0];this._loadMatrix(y,s)}night(e,r){e=e||.1;const n=[e*-2,-e,0,0,0,-e,0,e,0,0,0,e,e*2,0,0,0,0,0,1,0];this._loadMatrix(n,r)}predator(e,r){const n=[11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0];this._loadMatrix(n,r)}lsd(e){const r=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(r,e)}reset(){const e=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(e,!1)}get matrix(){return this.uniforms.m}set matrix(e){this.uniforms.m=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}K_.prototype.grayscale=K_.prototype.greyscale;var yG=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,_G=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`;class xG extends xr{constructor(e,r){const n=new ut;e.renderable=!1,super(_G,yG,{mapSampler:e._texture,filterMatrix:n,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])}),this.maskSprite=e,this.maskMatrix=n,r==null&&(r=20),this.scale=new Ne(r,r)}apply(e,r,n,i){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;const s=this.maskSprite.worldTransform,o=Math.sqrt(s.a*s.a+s.b*s.b),a=Math.sqrt(s.c*s.c+s.d*s.d);o!==0&&a!==0&&(this.uniforms.rotation[0]=s.a/o,this.uniforms.rotation[1]=s.b/o,this.uniforms.rotation[2]=s.c/a,this.uniforms.rotation[3]=s.d/a),e.applyFilter(this,r,n,i)}get map(){return this.uniforms.mapSampler}set map(e){this.uniforms.mapSampler=e}}var bG=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`,wG=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`;class SG extends xr{constructor(){super(wG,bG)}}var EG=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`;class TG extends xr{constructor(e=.5,r=Math.random()){super(RO,EG,{uNoise:0,uSeed:0}),this.noise=e,this.seed=r}get noise(){return this.uniforms.uNoise}set noise(e){this.uniforms.uNoise=e}get seed(){return this.uniforms.uSeed}set seed(e){this.uniforms.uSeed=e}}const fA={AlphaFilter:hG,BlurFilter:Rx,BlurFilterPass:Y_,ColorMatrixFilter:K_,DisplacementFilter:xG,FXAAFilter:SG,NoiseFilter:TG};Object.entries(fA).forEach(([t,e])=>{Object.defineProperty(fA,t,{get(){return Oe("7.1.0",`filters.${t} has moved to ${t}`),e}})});class AG{constructor(){this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}init(e){this.removeTickerListener(),this.events=e,this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}get pauseUpdate(){return this._pauseUpdate}set pauseUpdate(e){this._pauseUpdate=e}addTickerListener(){this.tickerAdded||!this.domElement||(Kt.system.add(this.tickerUpdate,this,so.INTERACTION),this.tickerAdded=!0)}removeTickerListener(){this.tickerAdded&&(Kt.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)}pointerMoved(){this._didMove=!0}update(){if(!this.domElement||this._pauseUpdate)return;if(this._didMove){this._didMove=!1;return}const e=this.events.rootPointerEvent;this.events.supportsTouchEvents&&e.pointerType==="touch"||globalThis.document.dispatchEvent(new PointerEvent("pointermove",{clientX:e.clientX,clientY:e.clientY}))}tickerUpdate(e){this._deltaTime+=e,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())}}const Us=new AG;class Eh{constructor(e){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=Eh.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new Ne,this.page=new Ne,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=e}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){return this.manager&&(!this.path||this.path[this.path.length-1]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}initEvent(e,r,n){throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(e,r,n,i,s){throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}class Xp extends Eh{constructor(){super(...arguments),this.client=new Ne,this.movement=new Ne,this.offset=new Ne,this.global=new Ne,this.screen=new Ne}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getLocalPosition(e,r,n){return e.worldTransform.applyInverse(n||this.global,r)}getModifierState(e){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(e)}initMouseEvent(e,r,n,i,s,o,a,c,h,f,p,m,y,_,S){throw new Error("Method not implemented.")}}class Dn extends Xp{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]}getPredictedEvents(){throw new Error("getPredictedEvents is not supported!")}}class Ol extends Xp{constructor(){super(...arguments),this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}}Ol.DOM_DELTA_PIXEL=0,Ol.DOM_DELTA_LINE=1,Ol.DOM_DELTA_PAGE=2;const CG=2048,PG=new Ne,My=new Ne;class IG{constructor(e){this.dispatch=new xh,this.moveOnAll=!1,this.enableGlobalMoveEvents=!0,this.mappingState={trackingData:{}},this.eventPool=new Map,this._allInteractiveElements=[],this._hitElements=[],this._isPointerMoveEvent=!1,this.rootTarget=e,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}addEventMapping(e,r){this.mappingTable[e]||(this.mappingTable[e]=[]),this.mappingTable[e].push({fn:r,priority:0}),this.mappingTable[e].sort((n,i)=>n.priority-i.priority)}dispatchEvent(e,r){e.propagationStopped=!1,e.propagationImmediatelyStopped=!1,this.propagate(e,r),this.dispatch.emit(r||e.type,e)}mapEvent(e){if(!this.rootTarget)return;const r=this.mappingTable[e.type];if(r)for(let n=0,i=r.length;n<i;n++)r[n].fn(e);else console.warn(`[EventBoundary]: Event mapping not defined for ${e.type}`)}hitTest(e,r){Us.pauseUpdate=!0;const n=this._isPointerMoveEvent&&this.enableGlobalMoveEvents?"hitTestMoveRecursive":"hitTestRecursive",i=this[n](this.rootTarget,this.rootTarget.eventMode,PG.set(e,r),this.hitTestFn,this.hitPruneFn);return i&&i[0]}propagate(e,r){if(!e.target)return;const n=e.composedPath();e.eventPhase=e.CAPTURING_PHASE;for(let i=0,s=n.length-1;i<s;i++)if(e.currentTarget=n[i],this.notifyTarget(e,r),e.propagationStopped||e.propagationImmediatelyStopped)return;if(e.eventPhase=e.AT_TARGET,e.currentTarget=e.target,this.notifyTarget(e,r),!(e.propagationStopped||e.propagationImmediatelyStopped)){e.eventPhase=e.BUBBLING_PHASE;for(let i=n.length-2;i>=0;i--)if(e.currentTarget=n[i],this.notifyTarget(e,r),e.propagationStopped||e.propagationImmediatelyStopped)return}}all(e,r,n=this._allInteractiveElements){if(n.length===0)return;e.eventPhase=e.BUBBLING_PHASE;const i=Array.isArray(r)?r:[r];for(let s=n.length-1;s>=0;s--)i.forEach(o=>{e.currentTarget=n[s],this.notifyTarget(e,o)})}propagationPath(e){const r=[e];for(let n=0;n<CG&&e!==this.rootTarget;n++){if(!e.parent)throw new Error("Cannot find propagation path to disconnected target");r.push(e.parent),e=e.parent}return r.reverse(),r}hitTestMoveRecursive(e,r,n,i,s,o=!1){let a=!1;if(this._interactivePrune(e))return null;if((e.eventMode==="dynamic"||r==="dynamic")&&(Us.pauseUpdate=!1),e.interactiveChildren&&e.children){const f=e.children;for(let p=f.length-1;p>=0;p--){const m=f[p],y=this.hitTestMoveRecursive(m,this._isInteractive(r)?r:m.eventMode,n,i,s,o||s(e,n));if(y){if(y.length>0&&!y[y.length-1].parent)continue;const _=e.isInteractive();(y.length>0||_)&&(_&&this._allInteractiveElements.push(e),y.push(e)),this._hitElements.length===0&&(this._hitElements=y),a=!0}}}const c=this._isInteractive(r),h=e.isInteractive();return c&&h&&this._allInteractiveElements.push(e),o||this._hitElements.length>0?null:a?this._hitElements:c&&!s(e,n)&&i(e,n)?h?[e]:[]:null}hitTestRecursive(e,r,n,i,s){if(this._interactivePrune(e)||s(e,n))return null;if((e.eventMode==="dynamic"||r==="dynamic")&&(Us.pauseUpdate=!1),e.interactiveChildren&&e.children){const c=e.children;for(let h=c.length-1;h>=0;h--){const f=c[h],p=this.hitTestRecursive(f,this._isInteractive(r)?r:f.eventMode,n,i,s);if(p){if(p.length>0&&!p[p.length-1].parent)continue;const m=e.isInteractive();return(p.length>0||m)&&p.push(e),p}}}const o=this._isInteractive(r),a=e.isInteractive();return o&&i(e,n)?a?[e]:[]:null}_isInteractive(e){return e==="static"||e==="dynamic"}_interactivePrune(e){return!!(!e||e.isMask||!e.visible||!e.renderable||e.eventMode==="none"||e.eventMode==="passive"&&!e.interactiveChildren||e.isMask)}hitPruneFn(e,r){var n;if(e.hitArea&&(e.worldTransform.applyInverse(r,My),!e.hitArea.contains(My.x,My.y)))return!0;if(e._mask){const i=e._mask.isMaskData?e._mask.maskObject:e._mask;if(i&&!((n=i.containsPoint)!=null&&n.call(i,r)))return!0}return!1}hitTestFn(e,r){return e.eventMode==="passive"?!1:e.hitArea?!0:e.containsPoint?e.containsPoint(r):!1}notifyTarget(e,r){var s,o;r=r??e.type;const n=`on${r}`;(o=(s=e.currentTarget)[n])==null||o.call(s,e);const i=e.eventPhase===e.CAPTURING_PHASE||e.eventPhase===e.AT_TARGET?`${r}capture`:r;this.notifyListeners(e,i),e.eventPhase===e.AT_TARGET&&this.notifyListeners(e,r)}mapPointerDown(e){if(!(e instanceof Dn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.createPointerEvent(e);if(this.dispatchEvent(r,"pointerdown"),r.pointerType==="touch")this.dispatchEvent(r,"touchstart");else if(r.pointerType==="mouse"||r.pointerType==="pen"){const i=r.button===2;this.dispatchEvent(r,i?"rightdown":"mousedown")}const n=this.trackingData(e.pointerId);n.pressTargetsByButton[e.button]=r.composedPath(),this.freeEvent(r)}mapPointerMove(e){var c,h;if(!(e instanceof Dn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}this._allInteractiveElements.length=0,this._hitElements.length=0,this._isPointerMoveEvent=!0;const r=this.createPointerEvent(e);this._isPointerMoveEvent=!1;const n=r.pointerType==="mouse"||r.pointerType==="pen",i=this.trackingData(e.pointerId),s=this.findMountedTarget(i.overTargets);if(((c=i.overTargets)==null?void 0:c.length)>0&&s!==r.target){const f=e.type==="mousemove"?"mouseout":"pointerout",p=this.createPointerEvent(e,f,s);if(this.dispatchEvent(p,"pointerout"),n&&this.dispatchEvent(p,"mouseout"),!r.composedPath().includes(s)){const m=this.createPointerEvent(e,"pointerleave",s);for(m.eventPhase=m.AT_TARGET;m.target&&!r.composedPath().includes(m.target);)m.currentTarget=m.target,this.notifyTarget(m),n&&this.notifyTarget(m,"mouseleave"),m.target=m.target.parent;this.freeEvent(m)}this.freeEvent(p)}if(s!==r.target){const f=e.type==="mousemove"?"mouseover":"pointerover",p=this.clonePointerEvent(r,f);this.dispatchEvent(p,"pointerover"),n&&this.dispatchEvent(p,"mouseover");let m=s==null?void 0:s.parent;for(;m&&m!==this.rootTarget.parent&&m!==r.target;)m=m.parent;if(!m||m===this.rootTarget.parent){const y=this.clonePointerEvent(r,"pointerenter");for(y.eventPhase=y.AT_TARGET;y.target&&y.target!==s&&y.target!==this.rootTarget.parent;)y.currentTarget=y.target,this.notifyTarget(y),n&&this.notifyTarget(y,"mouseenter"),y.target=y.target.parent;this.freeEvent(y)}this.freeEvent(p)}const o=[],a=this.enableGlobalMoveEvents??!0;this.moveOnAll?o.push("pointermove"):this.dispatchEvent(r,"pointermove"),a&&o.push("globalpointermove"),r.pointerType==="touch"&&(this.moveOnAll?o.splice(1,0,"touchmove"):this.dispatchEvent(r,"touchmove"),a&&o.push("globaltouchmove")),n&&(this.moveOnAll?o.splice(1,0,"mousemove"):this.dispatchEvent(r,"mousemove"),a&&o.push("globalmousemove"),this.cursor=(h=r.target)==null?void 0:h.cursor),o.length>0&&this.all(r,o),this._allInteractiveElements.length=0,this._hitElements.length=0,i.overTargets=r.composedPath(),this.freeEvent(r)}mapPointerOver(e){var o;if(!(e instanceof Dn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId),n=this.createPointerEvent(e),i=n.pointerType==="mouse"||n.pointerType==="pen";this.dispatchEvent(n,"pointerover"),i&&this.dispatchEvent(n,"mouseover"),n.pointerType==="mouse"&&(this.cursor=(o=n.target)==null?void 0:o.cursor);const s=this.clonePointerEvent(n,"pointerenter");for(s.eventPhase=s.AT_TARGET;s.target&&s.target!==this.rootTarget.parent;)s.currentTarget=s.target,this.notifyTarget(s),i&&this.notifyTarget(s,"mouseenter"),s.target=s.target.parent;r.overTargets=n.composedPath(),this.freeEvent(n),this.freeEvent(s)}mapPointerOut(e){if(!(e instanceof Dn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId);if(r.overTargets){const n=e.pointerType==="mouse"||e.pointerType==="pen",i=this.findMountedTarget(r.overTargets),s=this.createPointerEvent(e,"pointerout",i);this.dispatchEvent(s),n&&this.dispatchEvent(s,"mouseout");const o=this.createPointerEvent(e,"pointerleave",i);for(o.eventPhase=o.AT_TARGET;o.target&&o.target!==this.rootTarget.parent;)o.currentTarget=o.target,this.notifyTarget(o),n&&this.notifyTarget(o,"mouseleave"),o.target=o.target.parent;r.overTargets=null,this.freeEvent(s),this.freeEvent(o)}this.cursor=null}mapPointerUp(e){if(!(e instanceof Dn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=performance.now(),n=this.createPointerEvent(e);if(this.dispatchEvent(n,"pointerup"),n.pointerType==="touch")this.dispatchEvent(n,"touchend");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const a=n.button===2;this.dispatchEvent(n,a?"rightup":"mouseup")}const i=this.trackingData(e.pointerId),s=this.findMountedTarget(i.pressTargetsByButton[e.button]);let o=s;if(s&&!n.composedPath().includes(s)){let a=s;for(;a&&!n.composedPath().includes(a);){if(n.currentTarget=a,this.notifyTarget(n,"pointerupoutside"),n.pointerType==="touch")this.notifyTarget(n,"touchendoutside");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const c=n.button===2;this.notifyTarget(n,c?"rightupoutside":"mouseupoutside")}a=a.parent}delete i.pressTargetsByButton[e.button],o=a}if(o){const a=this.clonePointerEvent(n,"click");a.target=o,a.path=null,i.clicksByButton[e.button]||(i.clicksByButton[e.button]={clickCount:0,target:a.target,timeStamp:r});const c=i.clicksByButton[e.button];if(c.target===a.target&&r-c.timeStamp<200?++c.clickCount:c.clickCount=1,c.target=a.target,c.timeStamp=r,a.detail=c.clickCount,a.pointerType==="mouse"){const h=a.button===2;this.dispatchEvent(a,h?"rightclick":"click")}else a.pointerType==="touch"&&this.dispatchEvent(a,"tap");this.dispatchEvent(a,"pointertap"),this.freeEvent(a)}this.freeEvent(n)}mapPointerUpOutside(e){if(!(e instanceof Dn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId),n=this.findMountedTarget(r.pressTargetsByButton[e.button]),i=this.createPointerEvent(e);if(n){let s=n;for(;s;)i.currentTarget=s,this.notifyTarget(i,"pointerupoutside"),i.pointerType==="touch"?this.notifyTarget(i,"touchendoutside"):(i.pointerType==="mouse"||i.pointerType==="pen")&&this.notifyTarget(i,i.button===2?"rightupoutside":"mouseupoutside"),s=s.parent;delete r.pressTargetsByButton[e.button]}this.freeEvent(i)}mapWheel(e){if(!(e instanceof Ol)){console.warn("EventBoundary cannot map a non-wheel event as a wheel event");return}const r=this.createWheelEvent(e);this.dispatchEvent(r),this.freeEvent(r)}findMountedTarget(e){if(!e)return null;let r=e[0];for(let n=1;n<e.length&&e[n].parent===r;n++)r=e[n];return r}createPointerEvent(e,r,n){const i=this.allocateEvent(Dn);return this.copyPointerData(e,i),this.copyMouseData(e,i),this.copyData(e,i),i.nativeEvent=e.nativeEvent,i.originalEvent=e,i.target=n??this.hitTest(i.global.x,i.global.y)??this._hitElements[0],typeof r=="string"&&(i.type=r),i}createWheelEvent(e){const r=this.allocateEvent(Ol);return this.copyWheelData(e,r),this.copyMouseData(e,r),this.copyData(e,r),r.nativeEvent=e.nativeEvent,r.originalEvent=e,r.target=this.hitTest(r.global.x,r.global.y),r}clonePointerEvent(e,r){const n=this.allocateEvent(Dn);return n.nativeEvent=e.nativeEvent,n.originalEvent=e.originalEvent,this.copyPointerData(e,n),this.copyMouseData(e,n),this.copyData(e,n),n.target=e.target,n.path=e.composedPath().slice(),n.type=r??n.type,n}copyWheelData(e,r){r.deltaMode=e.deltaMode,r.deltaX=e.deltaX,r.deltaY=e.deltaY,r.deltaZ=e.deltaZ}copyPointerData(e,r){e instanceof Dn&&r instanceof Dn&&(r.pointerId=e.pointerId,r.width=e.width,r.height=e.height,r.isPrimary=e.isPrimary,r.pointerType=e.pointerType,r.pressure=e.pressure,r.tangentialPressure=e.tangentialPressure,r.tiltX=e.tiltX,r.tiltY=e.tiltY,r.twist=e.twist)}copyMouseData(e,r){e instanceof Xp&&r instanceof Xp&&(r.altKey=e.altKey,r.button=e.button,r.buttons=e.buttons,r.client.copyFrom(e.client),r.ctrlKey=e.ctrlKey,r.metaKey=e.metaKey,r.movement.copyFrom(e.movement),r.screen.copyFrom(e.screen),r.shiftKey=e.shiftKey,r.global.copyFrom(e.global))}copyData(e,r){r.isTrusted=e.isTrusted,r.srcElement=e.srcElement,r.timeStamp=performance.now(),r.type=e.type,r.detail=e.detail,r.view=e.view,r.which=e.which,r.layer.copyFrom(e.layer),r.page.copyFrom(e.page)}trackingData(e){return this.mappingState.trackingData[e]||(this.mappingState.trackingData[e]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[e]}allocateEvent(e){this.eventPool.has(e)||this.eventPool.set(e,[]);const r=this.eventPool.get(e).pop()||new e(this);return r.eventPhase=r.NONE,r.currentTarget=null,r.path=null,r.target=null,r}freeEvent(e){if(e.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");const r=e.constructor;this.eventPool.has(r)||this.eventPool.set(r,[]),this.eventPool.get(r).push(e)}notifyListeners(e,r){const n=e.currentTarget._events[r];if(n&&e.currentTarget.isInteractive())if("fn"in n)n.once&&e.currentTarget.removeListener(r,n.fn,void 0,!0),n.fn.call(n.context,e);else for(let i=0,s=n.length;i<s&&!e.propagationImmediatelyStopped;i++)n[i].once&&e.currentTarget.removeListener(r,n[i].fn,void 0,!0),n[i].fn.call(n[i].context,e)}}const RG=1,OG={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},Q_=class q_{constructor(e){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=e,this.rootBoundary=new IG(null),Us.init(this),this.autoPreventDefault=!0,this.eventsAdded=!1,this.rootPointerEvent=new Dn(null),this.rootWheelEvent=new Ol(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.features=new Proxy({...q_.defaultEventFeatures},{set:(r,n,i)=>(n==="globalMove"&&(this.rootBoundary.enableGlobalMoveEvents=i),r[n]=i,!0)}),this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerOverOut=this.onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}static get defaultEventMode(){return this._defaultEventMode}init(e){const{view:r,resolution:n}=this.renderer;this.setTargetElement(r),this.resolution=n,q_._defaultEventMode=e.eventMode??"auto",Object.assign(this.features,e.eventFeatures??{}),this.rootBoundary.enableGlobalMoveEvents=this.features.globalMove}resolutionChange(e){this.resolution=e}destroy(){this.setTargetElement(null),this.renderer=null}setCursor(e){e=e||"default";let r=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(r=!1),this.currentCursor===e)return;this.currentCursor=e;const n=this.cursorStyles[e];if(n)switch(typeof n){case"string":r&&(this.domElement.style.cursor=n);break;case"function":n(e);break;case"object":r&&Object.assign(this.domElement.style,n);break}else r&&typeof e=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,e)&&(this.domElement.style.cursor=e)}get pointer(){return this.rootPointerEvent}onPointerDown(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const r=this.normalizeToPointerData(e);this.autoPreventDefault&&r[0].isNormalized&&(e.cancelable||!("cancelable"in e))&&e.preventDefault();for(let n=0,i=r.length;n<i;n++){const s=r[n],o=this.bootstrapEvent(this.rootPointerEvent,s);this.rootBoundary.mapEvent(o)}this.setCursor(this.rootBoundary.cursor)}onPointerMove(e){if(!this.features.move)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,Us.pointerMoved();const r=this.normalizeToPointerData(e);for(let n=0,i=r.length;n<i;n++){const s=this.bootstrapEvent(this.rootPointerEvent,r[n]);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}onPointerUp(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;let r=e.target;e.composedPath&&e.composedPath().length>0&&(r=e.composedPath()[0]);const n=r!==this.domElement?"outside":"",i=this.normalizeToPointerData(e);for(let s=0,o=i.length;s<o;s++){const a=this.bootstrapEvent(this.rootPointerEvent,i[s]);a.type+=n,this.rootBoundary.mapEvent(a)}this.setCursor(this.rootBoundary.cursor)}onPointerOverOut(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const r=this.normalizeToPointerData(e);for(let n=0,i=r.length;n<i;n++){const s=this.bootstrapEvent(this.rootPointerEvent,r[n]);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}onWheel(e){if(!this.features.wheel)return;const r=this.normalizeWheelEvent(e);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(r)}setTargetElement(e){this.removeEvents(),this.domElement=e,Us.domElement=e,this.addEvents()}addEvents(){if(this.eventsAdded||!this.domElement)return;Us.addTickerListener();const e=this.domElement.style;e&&(globalThis.navigator.msPointerEnabled?(e.msContentZooming="none",e.msTouchAction="none"):this.supportsPointerEvents&&(e.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,!0),this.domElement.addEventListener("pointerdown",this.onPointerDown,!0),this.domElement.addEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this.onPointerOverOut,!0),globalThis.addEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,!0),this.domElement.addEventListener("mousedown",this.onPointerDown,!0),this.domElement.addEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this.onPointerOverOut,!0),globalThis.addEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this.onPointerDown,!0),this.domElement.addEventListener("touchend",this.onPointerUp,!0),this.domElement.addEventListener("touchmove",this.onPointerMove,!0))),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this.eventsAdded=!0}removeEvents(){if(!this.eventsAdded||!this.domElement)return;Us.removeTickerListener();const e=this.domElement.style;globalThis.navigator.msPointerEnabled?(e.msContentZooming="",e.msTouchAction=""):this.supportsPointerEvents&&(e.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this.onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,!0),this.domElement.removeEventListener("mousedown",this.onPointerDown,!0),this.domElement.removeEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this.onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this.onPointerDown,!0),this.domElement.removeEventListener("touchend",this.onPointerUp,!0),this.domElement.removeEventListener("touchmove",this.onPointerMove,!0))),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this.eventsAdded=!1}mapPositionToPoint(e,r,n){const i=this.domElement.isConnected?this.domElement.getBoundingClientRect():{x:0,y:0,width:this.domElement.width,height:this.domElement.height,left:0,top:0},s=1/this.resolution;e.x=(r-i.left)*(this.domElement.width/i.width)*s,e.y=(n-i.top)*(this.domElement.height/i.height)*s}normalizeToPointerData(e){const r=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(let n=0,i=e.changedTouches.length;n<i;n++){const s=e.changedTouches[n];typeof s.button>"u"&&(s.button=0),typeof s.buttons>"u"&&(s.buttons=1),typeof s.isPrimary>"u"&&(s.isPrimary=e.touches.length===1&&e.type==="touchstart"),typeof s.width>"u"&&(s.width=s.radiusX||1),typeof s.height>"u"&&(s.height=s.radiusY||1),typeof s.tiltX>"u"&&(s.tiltX=0),typeof s.tiltY>"u"&&(s.tiltY=0),typeof s.pointerType>"u"&&(s.pointerType="touch"),typeof s.pointerId>"u"&&(s.pointerId=s.identifier||0),typeof s.pressure>"u"&&(s.pressure=s.force||.5),typeof s.twist>"u"&&(s.twist=0),typeof s.tangentialPressure>"u"&&(s.tangentialPressure=0),typeof s.layerX>"u"&&(s.layerX=s.offsetX=s.clientX),typeof s.layerY>"u"&&(s.layerY=s.offsetY=s.clientY),s.isNormalized=!0,s.type=e.type,r.push(s)}else if(!globalThis.MouseEvent||e instanceof MouseEvent&&(!this.supportsPointerEvents||!(e instanceof globalThis.PointerEvent))){const n=e;typeof n.isPrimary>"u"&&(n.isPrimary=!0),typeof n.width>"u"&&(n.width=1),typeof n.height>"u"&&(n.height=1),typeof n.tiltX>"u"&&(n.tiltX=0),typeof n.tiltY>"u"&&(n.tiltY=0),typeof n.pointerType>"u"&&(n.pointerType="mouse"),typeof n.pointerId>"u"&&(n.pointerId=RG),typeof n.pressure>"u"&&(n.pressure=.5),typeof n.twist>"u"&&(n.twist=0),typeof n.tangentialPressure>"u"&&(n.tangentialPressure=0),n.isNormalized=!0,r.push(n)}else r.push(e);return r}normalizeWheelEvent(e){const r=this.rootWheelEvent;return this.transferMouseData(r,e),r.deltaX=e.deltaX,r.deltaY=e.deltaY,r.deltaZ=e.deltaZ,r.deltaMode=e.deltaMode,this.mapPositionToPoint(r.screen,e.clientX,e.clientY),r.global.copyFrom(r.screen),r.offset.copyFrom(r.screen),r.nativeEvent=e,r.type=e.type,r}bootstrapEvent(e,r){return e.originalEvent=null,e.nativeEvent=r,e.pointerId=r.pointerId,e.width=r.width,e.height=r.height,e.isPrimary=r.isPrimary,e.pointerType=r.pointerType,e.pressure=r.pressure,e.tangentialPressure=r.tangentialPressure,e.tiltX=r.tiltX,e.tiltY=r.tiltY,e.twist=r.twist,this.transferMouseData(e,r),this.mapPositionToPoint(e.screen,r.clientX,r.clientY),e.global.copyFrom(e.screen),e.offset.copyFrom(e.screen),e.isTrusted=r.isTrusted,e.type==="pointerleave"&&(e.type="pointerout"),e.type.startsWith("mouse")&&(e.type=e.type.replace("mouse","pointer")),e.type.startsWith("touch")&&(e.type=OG[e.type]||e.type),e}transferMouseData(e,r){e.isTrusted=r.isTrusted,e.srcElement=r.srcElement,e.timeStamp=performance.now(),e.type=r.type,e.altKey=r.altKey,e.button=r.button,e.buttons=r.buttons,e.client.x=r.clientX,e.client.y=r.clientY,e.ctrlKey=r.ctrlKey,e.metaKey=r.metaKey,e.movement.x=r.movementX,e.movement.y=r.movementY,e.page.x=r.pageX,e.page.y=r.pageY,e.relatedTarget=null,e.shiftKey=r.shiftKey}};Q_.extension={name:"events",type:[ne.RendererSystem,ne.CanvasRendererSystem]},Q_.defaultEventFeatures={move:!0,globalMove:!0,click:!0,wheel:!0};let Z_=Q_;he.add(Z_);function pA(t){return t==="dynamic"||t==="static"}const MG={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,_internalInteractive:void 0,get interactive(){return this._internalInteractive??pA(Z_.defaultEventMode)},set interactive(t){Oe("7.2.0","Setting interactive is deprecated, use eventMode = 'none'/'passive'/'auto'/'static'/'dynamic' instead."),this._internalInteractive=t,this.eventMode=t?"static":"auto"},_internalEventMode:void 0,get eventMode(){return this._internalEventMode??Z_.defaultEventMode},set eventMode(t){this._internalInteractive=pA(t),this._internalEventMode=t},isInteractive(){return this.eventMode==="static"||this.eventMode==="dynamic"},interactiveChildren:!0,hitArea:null,addEventListener(t,e,r){const n=typeof r=="boolean"&&r||typeof r=="object"&&r.capture,i=typeof r=="object"?r.signal:void 0,s=typeof r=="object"?r.once===!0:!1,o=typeof e=="function"?void 0:e;t=n?`${t}capture`:t;const a=typeof e=="function"?e:e.handleEvent,c=this;i&&i.addEventListener("abort",()=>{c.off(t,a,o)}),s?c.once(t,a,o):c.on(t,a,o)},removeEventListener(t,e,r){const n=typeof r=="boolean"&&r||typeof r=="object"&&r.capture,i=typeof e=="function"?void 0:e;t=n?`${t}capture`:t,e=typeof e=="function"?e:e.handleEvent,this.off(t,e,i)},dispatchEvent(t){if(!(t instanceof Eh))throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");return t.defaultPrevented=!1,t.path=null,t.target=this,t.manager.dispatchEvent(t),!t.defaultPrevented}};mt.mixin(MG);const kG={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};mt.mixin(kG);const DG=9,af=100,NG=0,FG=0,mA=2,gA=1,BG=-1e3,LG=-1e3,UG=2;class P2{constructor(e){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(es.tablet||es.phone)&&this.createTouchHook();const r=document.createElement("div");r.style.width=`${af}px`,r.style.height=`${af}px`,r.style.position="absolute",r.style.top=`${NG}px`,r.style.left=`${FG}px`,r.style.zIndex=mA.toString(),this.div=r,this.renderer=e,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}get isActive(){return this._isActive}get isMobileAccessibility(){return this._isMobileAccessibility}createTouchHook(){const e=document.createElement("button");e.style.width=`${gA}px`,e.style.height=`${gA}px`,e.style.position="absolute",e.style.top=`${BG}px`,e.style.left=`${LG}px`,e.style.zIndex=UG.toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessibility for this content",e.addEventListener("focus",()=>{this._isMobileAccessibility=!0,this.activate(),this.destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e}destroyTouchHook(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)}activate(){var e;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),(e=this.renderer.view.parentNode)==null||e.appendChild(this.div))}deactivate(){var e;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),(e=this.div.parentNode)==null||e.removeChild(this.div))}updateAccessibleObjects(e){if(!e.visible||!e.accessibleChildren)return;e.accessible&&e.isInteractive()&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);const r=e.children;if(r)for(let n=0;n<r.length;n++)this.updateAccessibleObjects(r[n])}update(){const e=performance.now();if(es.android.device&&e<this.androidUpdateCount||(this.androidUpdateCount=e+this.androidUpdateFrequency,!this.renderer.renderingToScreen))return;this.renderer.lastObjectRendered&&this.updateAccessibleObjects(this.renderer.lastObjectRendered);const{x:r,y:n,width:i,height:s}=this.renderer.view.getBoundingClientRect(),{width:o,height:a,resolution:c}=this.renderer,h=i/o*c,f=s/a*c;let p=this.div;p.style.left=`${r}px`,p.style.top=`${n}px`,p.style.width=`${o}px`,p.style.height=`${a}px`;for(let m=0;m<this.children.length;m++){const y=this.children[m];if(y.renderId!==this.renderId)y._accessibleActive=!1,Cl(this.children,m,1),this.div.removeChild(y._accessibleDiv),this.pool.push(y._accessibleDiv),y._accessibleDiv=null,m--;else{p=y._accessibleDiv;let _=y.hitArea;const S=y.worldTransform;y.hitArea?(p.style.left=`${(S.tx+_.x*S.a)*h}px`,p.style.top=`${(S.ty+_.y*S.d)*f}px`,p.style.width=`${_.width*S.a*h}px`,p.style.height=`${_.height*S.d*f}px`):(_=y.getBounds(),this.capHitArea(_),p.style.left=`${_.x*h}px`,p.style.top=`${_.y*f}px`,p.style.width=`${_.width*h}px`,p.style.height=`${_.height*f}px`,p.title!==y.accessibleTitle&&y.accessibleTitle!==null&&(p.title=y.accessibleTitle),p.getAttribute("aria-label")!==y.accessibleHint&&y.accessibleHint!==null&&p.setAttribute("aria-label",y.accessibleHint)),(y.accessibleTitle!==p.title||y.tabIndex!==p.tabIndex)&&(p.title=y.accessibleTitle,p.tabIndex=y.tabIndex,this.debug&&this.updateDebugHTML(p))}}this.renderId++}updateDebugHTML(e){e.innerHTML=`type: ${e.type}</br> title : ${e.title}</br> tabIndex: ${e.tabIndex}`}capHitArea(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);const{width:r,height:n}=this.renderer;e.x+e.width>r&&(e.width=r-e.x),e.y+e.height>n&&(e.height=n-e.y)}addChild(e){let r=this.pool.pop();r||(r=document.createElement("button"),r.style.width=`${af}px`,r.style.height=`${af}px`,r.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",r.style.position="absolute",r.style.zIndex=mA.toString(),r.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome")?r.setAttribute("aria-live","off"):r.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?r.setAttribute("aria-relevant","additions"):r.setAttribute("aria-relevant","text"),r.addEventListener("click",this._onClick.bind(this)),r.addEventListener("focus",this._onFocus.bind(this)),r.addEventListener("focusout",this._onFocusOut.bind(this))),r.style.pointerEvents=e.accessiblePointerEvents,r.type=e.accessibleType,e.accessibleTitle&&e.accessibleTitle!==null?r.title=e.accessibleTitle:(!e.accessibleHint||e.accessibleHint===null)&&(r.title=`displayObject ${e.tabIndex}`),e.accessibleHint&&e.accessibleHint!==null&&r.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(r),e._accessibleActive=!0,e._accessibleDiv=r,r.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex}_dispatchEvent(e,r){const{displayObject:n}=e.target,i=this.renderer.events.rootBoundary,s=Object.assign(new Eh(i),{target:n});i.rootTarget=this.renderer.lastObjectRendered,r.forEach(o=>i.dispatchEvent(s,o))}_onClick(e){this._dispatchEvent(e,["click","pointertap","tap"])}_onFocus(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive"),this._dispatchEvent(e,["mouseover"])}_onFocusOut(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite"),this._dispatchEvent(e,["mouseout"])}_onKeyDown(e){e.keyCode===DG&&this.activate()}_onMouseMove(e){e.movementX===0&&e.movementY===0||this.deactivate()}destroy(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null}}P2.extension={name:"accessibility",type:[ne.RendererPlugin,ne.CanvasRendererPlugin]};he.add(P2);var er=(t=>(t[t.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",t[t.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",t[t.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",t[t.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",t[t.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",t[t.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",t[t.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",t[t.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",t[t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",t[t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",t[t.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",t[t.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35987]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",t[t.COMPRESSED_RGBA_BPTC_UNORM_EXT=36492]="COMPRESSED_RGBA_BPTC_UNORM_EXT",t[t.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT=36493]="COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT",t[t.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT=36494]="COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT",t[t.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT=36495]="COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT",t))(er||{});const Yp={33776:.5,33777:.5,33778:1,33779:1,35916:.5,35917:.5,35918:1,35919:1,37488:.5,37489:.5,37490:1,37491:1,37492:.5,37496:1,37493:.5,37497:1,37494:.5,37495:.5,35840:.5,35842:.5,35841:.25,35843:.25,36196:.5,35986:.5,35987:1,34798:1,37808:1,36492:1,36493:1,36494:1,36495:1};let vi,Qa;function vA(){Qa={bptc:vi.getExtension("EXT_texture_compression_bptc"),astc:vi.getExtension("WEBGL_compressed_texture_astc"),etc:vi.getExtension("WEBGL_compressed_texture_etc"),s3tc:vi.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:vi.getExtension("WEBGL_compressed_texture_s3tc_srgb"),pvrtc:vi.getExtension("WEBGL_compressed_texture_pvrtc")||vi.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),etc1:vi.getExtension("WEBGL_compressed_texture_etc1"),atc:vi.getExtension("WEBGL_compressed_texture_atc")}}const zG={extension:{type:ne.DetectionParser,priority:2},test:async()=>{const t=oe.ADAPTER.createCanvas().getContext("webgl");return t?(vi=t,!0):(console.warn("WebGL not available for compressed textures."),!1)},add:async t=>{Qa||vA();const e=[];for(const r in Qa)Qa[r]&&e.push(r);return[...e,...t]},remove:async t=>(Qa||vA(),t.filter(e=>!(e in Qa)))};he.add(zG);class $G extends Om{constructor(e,r={width:1,height:1,autoLoad:!0}){let n,i;typeof e=="string"?(n=e,i=new Uint8Array):(n=null,i=e),super(i,r),this.origin=n,this.buffer=i?new p_(i):null,this._load=null,this.loaded=!1,this.origin!==null&&r.autoLoad!==!1&&this.load(),this.origin===null&&this.buffer&&(this._load=Promise.resolve(this),this.loaded=!0,this.onBlobLoaded(this.buffer.rawBinaryData))}onBlobLoaded(e){}load(){return this._load?this._load:(this._load=fetch(this.origin).then(e=>e.blob()).then(e=>e.arrayBuffer()).then(e=>(this.data=new Uint32Array(e),this.buffer=new p_(e),this.loaded=!0,this.onBlobLoaded(e),this.update(),this)),this._load)}}class qo extends $G{constructor(e,r){super(e,r),this.format=r.format,this.levels=r.levels||1,this._width=r.width,this._height=r.height,this._extension=qo._formatToExtension(this.format),(r.levelBuffers||this.buffer)&&(this._levelBuffers=r.levelBuffers||qo._createLevelBuffers(e instanceof Uint8Array?e:this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height))}upload(e,r,n){const i=e.gl;if(!e.context.extensions[this._extension])throw new Error(`${this._extension} textures are not supported on the current machine`);if(!this._levelBuffers)return!1;i.pixelStorei(i.UNPACK_ALIGNMENT,4);for(let s=0,o=this.levels;s<o;s++){const{levelID:a,levelWidth:c,levelHeight:h,levelBuffer:f}=this._levelBuffers[s];i.compressedTexImage2D(i.TEXTURE_2D,a,this.format,c,h,0,f)}return!0}onBlobLoaded(){this._levelBuffers=qo._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)}static _formatToExtension(e){if(e>=33776&&e<=33779)return"s3tc";if(e>=35916&&e<=35919)return"s3tc_sRGB";if(e>=37488&&e<=37497)return"etc";if(e>=35840&&e<=35843)return"pvrtc";if(e===36196)return"etc1";if(e===35986||e===35987||e===34798)return"atc";if(e>=36492&&e<=36495)return"bptc";if(e===37808)return"astc";throw new Error(`Invalid (compressed) texture format given: ${e}`)}static _createLevelBuffers(e,r,n,i,s,o,a){const c=new Array(n);let h=e.byteOffset,f=o,p=a,m=f+i-1&~(i-1),y=p+s-1&~(s-1),_=m*y*Yp[r];for(let S=0;S<n;S++)c[S]={levelID:S,levelWidth:n>1?f:m,levelHeight:n>1?p:y,levelBuffer:new Uint8Array(e.buffer,h,_)},h+=_,f=f>>1||1,p=p>>1||1,m=f+i-1&~(i-1),y=p+s-1&~(s-1),_=m*y*Yp[r];return c}}const ky=4,lf=124,GG=32,yA=20,jG=542327876,uf={SIZE:1,FLAGS:2,HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},HG={SIZE:0,FLAGS:1,FOURCC:2,RGB_BITCOUNT:3,R_BIT_MASK:4,G_BIT_MASK:5,B_BIT_MASK:6,A_BIT_MASK:7},cf={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3,MISC_FLAGS2:4},VG=1,WG=2,XG=4,YG=64,KG=512,QG=131072,qG=827611204,ZG=861165636,JG=894720068,ej=808540228,tj=4,rj={[qG]:er.COMPRESSED_RGBA_S3TC_DXT1_EXT,[ZG]:er.COMPRESSED_RGBA_S3TC_DXT3_EXT,[JG]:er.COMPRESSED_RGBA_S3TC_DXT5_EXT},nj={70:er.COMPRESSED_RGBA_S3TC_DXT1_EXT,71:er.COMPRESSED_RGBA_S3TC_DXT1_EXT,73:er.COMPRESSED_RGBA_S3TC_DXT3_EXT,74:er.COMPRESSED_RGBA_S3TC_DXT3_EXT,76:er.COMPRESSED_RGBA_S3TC_DXT5_EXT,77:er.COMPRESSED_RGBA_S3TC_DXT5_EXT,72:er.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,75:er.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,78:er.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,96:er.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT,95:er.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT,98:er.COMPRESSED_RGBA_BPTC_UNORM_EXT,99:er.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT};function ij(t){const e=new Uint32Array(t);if(e[0]!==jG)throw new Error("Invalid DDS file magic word");const r=new Uint32Array(t,0,lf/Uint32Array.BYTES_PER_ELEMENT),n=r[uf.HEIGHT],i=r[uf.WIDTH],s=r[uf.MIPMAP_COUNT],o=new Uint32Array(t,uf.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,GG/Uint32Array.BYTES_PER_ELEMENT),a=o[VG];if(a&XG){const c=o[HG.FOURCC];if(c!==ej){const w=rj[c],x=ky+lf,T=new Uint8Array(t,x);return[new qo(T,{format:w,width:i,height:n,levels:s})]}const h=ky+lf,f=new Uint32Array(e.buffer,h,yA/Uint32Array.BYTES_PER_ELEMENT),p=f[cf.DXGI_FORMAT],m=f[cf.RESOURCE_DIMENSION],y=f[cf.MISC_FLAG],_=f[cf.ARRAY_SIZE],S=nj[p];if(S===void 0)throw new Error(`DDSParser cannot parse texture data with DXGI format ${p}`);if(y===tj)throw new Error("DDSParser does not support cubemap textures");if(m===6)throw new Error("DDSParser does not supported 3D texture data");const A=new Array,E=ky+lf+yA;if(_===1)A.push(new Uint8Array(t,E));else{const w=Yp[S];let x=0,T=i,P=n;for(let R=0;R<s;R++){const D=Math.max(1,T+3&-4),V=Math.max(1,P+3&-4),W=D*V*w;x+=W,T=T>>>1,P=P>>>1}let M=E;for(let R=0;R<_;R++)A.push(new Uint8Array(t,M,x)),M+=x}return A.map(w=>new qo(w,{format:S,width:i,height:n,levels:s}))}throw a&YG?new Error("DDSParser does not support uncompressed texture data."):a&KG?new Error("DDSParser does not supported YUV uncompressed texture data."):a&QG?new Error("DDSParser does not support single-channel (lumninance) texture data!"):a&WG?new Error("DDSParser does not support single-channel (alpha) texture data!"):new Error("DDSParser failed to load a texture file due to an unknown reason!")}const _A=[171,75,84,88,32,49,49,187,13,10,26,10],sj=67305985,On={FILE_IDENTIFIER:0,ENDIANNESS:12,GL_TYPE:16,GL_TYPE_SIZE:20,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,GL_BASE_INTERNAL_FORMAT:32,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},J_=64,xA={[ge.UNSIGNED_BYTE]:1,[ge.UNSIGNED_SHORT]:2,[ge.INT]:4,[ge.UNSIGNED_INT]:4,[ge.FLOAT]:4,[ge.HALF_FLOAT]:8},oj={[q.RGBA]:4,[q.RGB]:3,[q.RG]:2,[q.RED]:1,[q.LUMINANCE]:1,[q.LUMINANCE_ALPHA]:2,[q.ALPHA]:1},aj={[ge.UNSIGNED_SHORT_4_4_4_4]:2,[ge.UNSIGNED_SHORT_5_5_5_1]:2,[ge.UNSIGNED_SHORT_5_6_5]:2};function lj(t,e,r=!1){const n=new DataView(e);if(!uj(t,n))return null;const i=n.getUint32(On.ENDIANNESS,!0)===sj,s=n.getUint32(On.GL_TYPE,i),o=n.getUint32(On.GL_FORMAT,i),a=n.getUint32(On.GL_INTERNAL_FORMAT,i),c=n.getUint32(On.PIXEL_WIDTH,i),h=n.getUint32(On.PIXEL_HEIGHT,i)||1,f=n.getUint32(On.PIXEL_DEPTH,i)||1,p=n.getUint32(On.NUMBER_OF_ARRAY_ELEMENTS,i)||1,m=n.getUint32(On.NUMBER_OF_FACES,i),y=n.getUint32(On.NUMBER_OF_MIPMAP_LEVELS,i),_=n.getUint32(On.BYTES_OF_KEY_VALUE_DATA,i);if(h===0||f!==1)throw new Error("Only 2D textures are supported");if(m!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(p!==1)throw new Error("WebGL does not support array textures");const S=4,A=4,E=c+3&-4,w=h+3&-4,x=new Array(p);let T=c*h;s===0&&(T=E*w);let P;if(s!==0?xA[s]?P=xA[s]*oj[o]:P=aj[s]:P=Yp[a],P===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");const M=r?hj(n,_,i):null;let R=T*P,D=c,V=h,W=E,pe=w,J=J_+_;for(let B=0;B<y;B++){const X=n.getUint32(J,i);let ie=J+4;for(let me=0;me<p;me++){let ae=x[me];ae||(ae=x[me]=new Array(y)),ae[B]={levelID:B,levelWidth:y>1||s!==0?D:W,levelHeight:y>1||s!==0?V:pe,levelBuffer:new Uint8Array(e,ie,R)},ie+=R}J+=X+4,J=J%4!==0?J+4-J%4:J,D=D>>1||1,V=V>>1||1,W=D+S-1&~(S-1),pe=V+A-1&~(A-1),R=W*pe*P}return s!==0?{uncompressed:x.map(B=>{let X=B[0].levelBuffer,ie=!1;return s===ge.FLOAT?X=new Float32Array(B[0].levelBuffer.buffer,B[0].levelBuffer.byteOffset,B[0].levelBuffer.byteLength/4):s===ge.UNSIGNED_INT?(ie=!0,X=new Uint32Array(B[0].levelBuffer.buffer,B[0].levelBuffer.byteOffset,B[0].levelBuffer.byteLength/4)):s===ge.INT&&(ie=!0,X=new Int32Array(B[0].levelBuffer.buffer,B[0].levelBuffer.byteOffset,B[0].levelBuffer.byteLength/4)),{resource:new Om(X,{width:B[0].levelWidth,height:B[0].levelHeight}),type:s,format:ie?cj(o):o}}),kvData:M}:{compressed:x.map(B=>new qo(null,{format:a,width:c,height:h,levels:y,levelBuffers:B})),kvData:M}}function uj(t,e){for(let r=0;r<_A.length;r++)if(e.getUint8(r)!==_A[r])return console.error(`${t} is not a valid *.ktx file!`),!1;return!0}function cj(t){switch(t){case q.RGBA:return q.RGBA_INTEGER;case q.RGB:return q.RGB_INTEGER;case q.RG:return q.RG_INTEGER;case q.RED:return q.RED_INTEGER;default:return t}}function hj(t,e,r){const n=new Map;let i=0;for(;i<e;){const s=t.getUint32(J_+i,r),o=J_+i+4,a=3-(s+3)%4;if(s===0||s>e-i){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}let c=0;for(;c<s&&t.getUint8(o+c)!==0;c++);if(c===-1){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}const h=new TextDecoder().decode(new Uint8Array(t.buffer,o,c)),f=new DataView(t.buffer,o+c+1,s-c-1);n.set(h,f),i+=4+s+a}return n}const dj={extension:{type:ne.LoadParser,priority:Zn.High},name:"loadDDS",test(t){return fo(t,".dds")},async load(t,e,r){const n=await(await oe.ADAPTER.fetch(t)).arrayBuffer(),i=ij(n).map(s=>{const o=new Te(s,{mipmap:Di.OFF,alphaMode:Or.NO_PREMULTIPLIED_ALPHA,resolution:ds(t),...e.data});return Sh(o,r,t)});return i.length===1?i[0]:i},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}};he.add(dj);const fj={extension:{type:ne.LoadParser,priority:Zn.High},name:"loadKTX",test(t){return fo(t,".ktx")},async load(t,e,r){const n=await(await oe.ADAPTER.fetch(t)).arrayBuffer(),{compressed:i,uncompressed:s,kvData:o}=lj(t,n),a=i??s,c={mipmap:Di.OFF,alphaMode:Or.NO_PREMULTIPLIED_ALPHA,resolution:ds(t),...e.data},h=a.map(f=>{a===s&&Object.assign(c,{type:f.type,format:f.format});const p=f.resource??f,m=new Te(p,c);return m.ktxKeyValueData=o,Sh(m,r,t)});return h.length===1?h[0]:h},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}};he.add(fj);const pj=["s3tc","s3tc_sRGB","etc","etc1","pvrtc","atc","astc","bptc"],mj={extension:ne.ResolveParser,test:t=>{const e=qt.extname(t).slice(1);return["basis","ktx","dds"].includes(e)},parse:t=>{var n,i;const e=t.split("."),r=e.pop();if(["ktx","dds"].includes(r)){const s=e.pop();if(pj.includes(s))return{resolution:parseFloat(((n=oe.RETINA_PREFIX.exec(t))==null?void 0:n[1])??"1"),format:s,src:t}}return{resolution:parseFloat(((i=oe.RETINA_PREFIX.exec(t))==null?void 0:i[1])??"1"),format:r,src:t}}};he.add(mj);const hf=new Ce,gj=4,I2=class ic{constructor(e){this.renderer=e,this._rendererPremultipliedAlpha=!1}contextChange(){var r;const e=(r=this.renderer)==null?void 0:r.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(e&&e.alpha&&e.premultipliedAlpha)}async image(e,r,n,i){const s=new Image;return s.src=await this.base64(e,r,n,i),s}async base64(e,r,n,i){const s=this.canvas(e,i);if(s.toBlob!==void 0)return new Promise((o,a)=>{s.toBlob(c=>{if(!c){a(new Error("ICanvas.toBlob failed!"));return}const h=new FileReader;h.onload=()=>o(h.result),h.onerror=a,h.readAsDataURL(c)},r,n)});if(s.toDataURL!==void 0)return s.toDataURL(r,n);if(s.convertToBlob!==void 0){const o=await s.convertToBlob({type:r,quality:n});return new Promise((a,c)=>{const h=new FileReader;h.onload=()=>a(h.result),h.onerror=c,h.readAsDataURL(o)})}throw new Error("Extract.base64() requires ICanvas.toDataURL, ICanvas.toBlob, or ICanvas.convertToBlob to be implemented")}canvas(e,r){const{pixels:n,width:i,height:s,flipY:o,premultipliedAlpha:a}=this._rawPixels(e,r);o&&ic._flipY(n,i,s),a&&ic._unpremultiplyAlpha(n);const c=new t5(i,s,1),h=new ImageData(new Uint8ClampedArray(n.buffer),i,s);return c.context.putImageData(h,0,0),c.canvas}pixels(e,r){const{pixels:n,width:i,height:s,flipY:o,premultipliedAlpha:a}=this._rawPixels(e,r);return o&&ic._flipY(n,i,s),a&&ic._unpremultiplyAlpha(n),n}_rawPixels(e,r){const n=this.renderer;if(!n)throw new Error("The Extract has already been destroyed");let i,s=!1,o=!1,a,c=!1;e&&(e instanceof ga?a=e:(a=n.generateTexture(e,{region:r,resolution:n.resolution,multisample:n.multisample}),c=!0,r&&(hf.width=r.width,hf.height=r.height,r=hf)));const h=n.gl;if(a){if(i=a.baseTexture.resolution,r=r??a.frame,s=!1,o=a.baseTexture.alphaMode>0&&a.baseTexture.format===q.RGBA,!c){n.renderTexture.bind(a);const y=a.framebuffer.glFramebuffers[n.CONTEXT_UID];y.blitFramebuffer&&n.framebuffer.bind(y.blitFramebuffer)}}else i=n.resolution,r||(r=hf,r.width=n.width/i,r.height=n.height/i),s=!0,o=this._rendererPremultipliedAlpha,n.renderTexture.bind();const f=Math.max(Math.round(r.width*i),1),p=Math.max(Math.round(r.height*i),1),m=new Uint8Array(gj*f*p);return h.readPixels(Math.round(r.x*i),Math.round(r.y*i),f,p,h.RGBA,h.UNSIGNED_BYTE,m),c&&(a==null||a.destroy(!0)),{pixels:m,width:f,height:p,flipY:s,premultipliedAlpha:o}}destroy(){this.renderer=null}static _flipY(e,r,n){const i=r<<2,s=n>>1,o=new Uint8Array(i);for(let a=0;a<s;a++){const c=a*i,h=(n-a-1)*i;o.set(e.subarray(c,c+i)),e.copyWithin(c,h,h+i),e.set(o,h)}}static _unpremultiplyAlpha(e){e instanceof Uint8ClampedArray&&(e=new Uint8Array(e.buffer));const r=e.length;for(let n=0;n<r;n+=4){const i=e[n+3];if(i!==0){const s=255.001/i;e[n]=e[n]*s+.5,e[n+1]=e[n+1]*s+.5,e[n+2]=e[n+2]*s+.5}}}};I2.extension={name:"extract",type:ne.RendererSystem};let vj=I2;he.add(vj);class yj{constructor(e){this.maxItemsPerFrame=e,this.itemsLeft=0}beginFrame(){this.itemsLeft=this.maxItemsPerFrame}allowedToUpload(){return this.itemsLeft-- >0}}function _j(t,e){var n;let r=!1;if((n=t==null?void 0:t._textures)!=null&&n.length){for(let i=0;i<t._textures.length;i++)if(t._textures[i]instanceof re){const s=t._textures[i].baseTexture;e.includes(s)||(e.push(s),r=!0)}}return r}function xj(t,e){if(t.baseTexture instanceof Te){const r=t.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function bj(t,e){if(t._texture&&t._texture instanceof re){const r=t._texture.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function wj(t,e){return e instanceof bx?(e.updateText(!0),!0):!1}function Sj(t,e){if(e instanceof ps){const r=e.toFontString();return Fs.measureFont(r),!0}return!1}function Ej(t,e){if(t instanceof bx){e.includes(t.style)||e.push(t.style),e.includes(t)||e.push(t);const r=t._texture.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function Tj(t,e){return t instanceof ps?(e.includes(t)||e.push(t),!0):!1}const R2=class O2{constructor(e){this.limiter=new yj(O2.uploadsPerFrame),this.renderer=e,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=()=>{this.queue&&this.prepareItems()},this.registerFindHook(Ej),this.registerFindHook(Tj),this.registerFindHook(_j),this.registerFindHook(xj),this.registerFindHook(bj),this.registerUploadHook(wj),this.registerUploadHook(Sj)}upload(e){return new Promise(r=>{e&&this.add(e),this.queue.length?(this.completes.push(r),this.ticking||(this.ticking=!0,Kt.system.addOnce(this.tick,this,so.UTILITY))):r()})}tick(){setTimeout(this.delayedTick,0)}prepareItems(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){const e=this.queue[0];let r=!1;if(e&&!e._destroyed){for(let n=0,i=this.uploadHooks.length;n<i;n++)if(this.uploadHooks[n](this.uploadHookHelper,e)){this.queue.shift(),r=!0;break}}r||this.queue.shift()}if(this.queue.length)Kt.system.addOnce(this.tick,this,so.UTILITY);else{this.ticking=!1;const e=this.completes.slice(0);this.completes.length=0;for(let r=0,n=e.length;r<n;r++)e[r]()}}registerFindHook(e){return e&&this.addHooks.push(e),this}registerUploadHook(e){return e&&this.uploadHooks.push(e),this}add(e){for(let r=0,n=this.addHooks.length;r<n&&!this.addHooks[r](e,this.queue);r++);if(e instanceof wr)for(let r=e.children.length-1;r>=0;r--)this.add(e.children[r]);return this}destroy(){this.ticking&&Kt.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null}};R2.uploadsPerFrame=4;let e1=R2;Object.defineProperties(oe,{UPLOADS_PER_FRAME:{get(){return e1.uploadsPerFrame},set(t){Oe("7.1.0","settings.UPLOADS_PER_FRAME is deprecated, use prepare.BasePrepare.uploadsPerFrame"),e1.uploadsPerFrame=t}}});function M2(t,e){return e instanceof Te?(e._glTextures[t.CONTEXT_UID]||t.texture.bind(e),!0):!1}function Aj(t,e){if(!(e instanceof Tc))return!1;const{geometry:r}=e;e.finishPoly(),r.updateBatches();const{batches:n}=r;for(let i=0;i<n.length;i++){const{texture:s}=n[i].style;s&&M2(t,s.baseTexture)}return r.batchable||t.geometry.bind(r,e._resolveDirectShader(t)),!0}function Cj(t,e){return t instanceof Tc?(e.push(t),!0):!1}class k2 extends e1{constructor(e){super(e),this.uploadHookHelper=this.renderer,this.registerFindHook(Cj),this.registerUploadHook(M2),this.registerUploadHook(Aj)}}k2.extension={name:"prepare",type:ne.RendererSystem};he.add(k2);const D2=class sc{constructor(e,r,n){this.linkedSheets=[],(e instanceof Te||e instanceof re)&&(e={texture:e,data:r,resolutionFilename:n});const{texture:i,data:s,resolutionFilename:o=null,cachePrefix:a=""}=e;this.cachePrefix=a,this._texture=i instanceof re?i:null,this.baseTexture=i instanceof Te?i:this._texture.baseTexture,this.textures={},this.animations={},this.data=s;const c=this.baseTexture.resource;this.resolution=this._updateResolution(o||(c?c.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}_updateResolution(e=null){const{scale:r}=this.data.meta;let n=ds(e,null);return n===null&&(n=typeof r=="number"?r:parseFloat(r??"1")),n!==1&&this.baseTexture.setResolution(n),n}parse(){return new Promise(e=>{this._callback=e,this._batchIndex=0,this._frameKeys.length<=sc.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(e){let r=e;const n=sc.BATCH_SIZE;for(;r-e<n&&r<this._frameKeys.length;){const i=this._frameKeys[r],s=this._frames[i],o=s.frame;if(o){let a=null,c=null;const h=s.trimmed!==!1&&s.sourceSize?s.sourceSize:s.frame,f=new Ce(0,0,Math.floor(h.w)/this.resolution,Math.floor(h.h)/this.resolution);s.rotated?a=new Ce(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.h)/this.resolution,Math.floor(o.w)/this.resolution):a=new Ce(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution),s.trimmed!==!1&&s.spriteSourceSize&&(c=new Ce(Math.floor(s.spriteSourceSize.x)/this.resolution,Math.floor(s.spriteSourceSize.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution)),this.textures[i]=new re(this.baseTexture,a,f,c,s.rotated?2:0,s.anchor,s.borders),re.addToCache(this.textures[i],this.cachePrefix+i.toString())}r++}}_processAnimations(){const e=this.data.animations||{};for(const r in e){this.animations[r]=[];for(let n=0;n<e[r].length;n++){const i=e[r][n];this.animations[r].push(this.textures[i])}}}_parseComplete(){const e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*sc.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*sc.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(e=!1){var r;for(const n in this.textures)this.textures[n].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&((r=this._texture)==null||r.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]}};D2.BATCH_SIZE=1e3;let bA=D2;const Pj=["jpg","png","jpeg","avif","webp","s3tc","s3tc_sRGB","etc","etc1","pvrtc","atc","astc","bptc"];function N2(t,e,r){const n={};if(t.forEach(i=>{n[i]=e}),Object.keys(e.textures).forEach(i=>{n[`${e.cachePrefix}${i}`]=e.textures[i]}),!r){const i=qt.dirname(t[0]);e.linkedSheets.forEach((s,o)=>{Object.assign(n,N2([`${i}/${e.data.meta.related_multi_packs[o]}`],s,!0))})}return n}const Ij={extension:ne.Asset,cache:{test:t=>t instanceof bA,getCacheableAssets:(t,e)=>N2(t,e,!1)},resolver:{test:t=>{const e=t.split("?")[0].split("."),r=e.pop(),n=e.pop();return r==="json"&&Pj.includes(n)},parse:t=>{var r;const e=t.split(".");return{resolution:parseFloat(((r=oe.RETINA_PREFIX.exec(t))==null?void 0:r[1])??"1"),format:e[e.length-2],src:t}}},loader:{name:"spritesheetLoader",extension:{type:ne.LoadParser,priority:Zn.Normal},async testParse(t,e){return qt.extname(e.src).toLowerCase()===".json"&&!!t.frames},async parse(t,e,r){var f,p;const{texture:n,imageFilename:i,cachePrefix:s}=(e==null?void 0:e.data)??{};let o=qt.dirname(e.src);o&&o.lastIndexOf("/")!==o.length-1&&(o+="/");let a;if(n&&n.baseTexture)a=n;else{const m=D_(o+(i??t.meta.image),e.src);a=(await r.load([m]))[m]}const c=new bA({texture:a.baseTexture,data:t,resolutionFilename:e.src,cachePrefix:s});await c.parse();const h=(f=t==null?void 0:t.meta)==null?void 0:f.related_multi_packs;if(Array.isArray(h)){const m=[];for(const _ of h){if(typeof _!="string")continue;let S=o+_;(p=e.data)!=null&&p.ignoreMultiPack||(S=D_(S,e.src),m.push(r.load({src:S,data:{ignoreMultiPack:!0}})))}const y=await Promise.all(m);c.linkedSheets=y,y.forEach(_=>{_.linkedSheets=[c].concat(c.linkedSheets.filter(S=>S!==_))})}return c},unload(t){t.destroy(!0)}}};he.add(Ij);const t1=class qa extends ps{constructor(){super(...arguments),this._fonts=[],this._overrides=[],this._stylesheet="",this.fontsDirty=!1}static from(e){return new qa(Object.keys(qa.defaultOptions).reduce((r,n)=>({...r,[n]:e[n]}),{}))}cleanFonts(){this._fonts.length>0&&(this._fonts.forEach(e=>{URL.revokeObjectURL(e.src),e.refs--,e.refs===0&&(e.fontFace&&document.fonts.delete(e.fontFace),delete qa.availableFonts[e.originalUrl])}),this.fontFamily="Arial",this._fonts.length=0,this.styleID++,this.fontsDirty=!0)}loadFont(e,r={}){const{availableFonts:n}=qa;if(n[e]){const i=n[e];return this._fonts.push(i),i.refs++,this.styleID++,this.fontsDirty=!0,Promise.resolve()}return oe.ADAPTER.fetch(e).then(i=>i.blob()).then(async i=>new Promise((s,o)=>{const a=URL.createObjectURL(i),c=new FileReader;c.onload=()=>s([a,c.result]),c.onerror=o,c.readAsDataURL(i)})).then(async([i,s])=>{const o=Object.assign({family:qt.basename(e,qt.extname(e)),weight:"normal",style:"normal",display:"auto",src:i,dataSrc:s,refs:1,originalUrl:e,fontFace:null},r);n[e]=o,this._fonts.push(o),this.styleID++;const a=new FontFace(o.family,`url(${o.src})`,{weight:o.weight,style:o.style,display:o.display});o.fontFace=a,await a.load(),document.fonts.add(a),await document.fonts.ready,this.styleID++,this.fontsDirty=!0})}addOverride(...e){const r=e.filter(n=>!this._overrides.includes(n));r.length>0&&(this._overrides.push(...r),this.styleID++)}removeOverride(...e){const r=e.filter(n=>this._overrides.includes(n));r.length>0&&(this._overrides=this._overrides.filter(n=>!r.includes(n)),this.styleID++)}toCSS(e){return[`transform: scale(${e})`,"transform-origin: top left","display: inline-block",`color: ${this.normalizeColor(this.fill)}`,`font-size: ${this.fontSize}px`,`font-family: ${this.fontFamily}`,`font-weight: ${this.fontWeight}`,`font-style: ${this.fontStyle}`,`font-variant: ${this.fontVariant}`,`letter-spacing: ${this.letterSpacing}px`,`text-align: ${this.align}`,`padding: ${this.padding}px`,`white-space: ${this.whiteSpace}`,...this.lineHeight?[`line-height: ${this.lineHeight}px`]:[],...this.wordWrap?[`word-wrap: ${this.breakWords?"break-all":"break-word"}`,`max-width: ${this.wordWrapWidth}px`]:[],...this.strokeThickness?[`-webkit-text-stroke-width: ${this.strokeThickness}px`,`-webkit-text-stroke-color: ${this.normalizeColor(this.stroke)}`,`text-stroke-width: ${this.strokeThickness}px`,`text-stroke-color: ${this.normalizeColor(this.stroke)}`,"paint-order: stroke"]:[],...this.dropShadow?[this.dropShadowToCSS()]:[],...this._overrides].join(";")}toGlobalCSS(){return this._fonts.reduce((e,r)=>`${e}
            @font-face {
                font-family: "${r.family}";
                src: url('${r.dataSrc}');
                font-weight: ${r.weight};
                font-style: ${r.style};
                font-display: ${r.display};
            }`,this._stylesheet)}get stylesheet(){return this._stylesheet}set stylesheet(e){this._stylesheet!==e&&(this._stylesheet=e,this.styleID++)}normalizeColor(e){return Array.isArray(e)&&(e=qU(e)),typeof e=="number"?QU(e):e}dropShadowToCSS(){let e=this.normalizeColor(this.dropShadowColor);const r=this.dropShadowAlpha,n=Math.round(Math.cos(this.dropShadowAngle)*this.dropShadowDistance),i=Math.round(Math.sin(this.dropShadowAngle)*this.dropShadowDistance);e.startsWith("#")&&r<1&&(e+=(r*255|0).toString(16).padStart(2,"0"));const s=`${n}px ${i}px`;return this.dropShadowBlur>0?`text-shadow: ${s} ${this.dropShadowBlur}px ${e}`:`text-shadow: ${s} ${e}`}reset(){Object.assign(this,qa.defaultOptions)}onBeforeDraw(){const{fontsDirty:e}=this;return this.fontsDirty=!1,this.isSafari&&this._fonts.length>0&&e?new Promise(r=>setTimeout(r,100)):Promise.resolve()}get isSafari(){const{userAgent:e}=oe.ADAPTER.getNavigator();return/^((?!chrome|android).)*safari/i.test(e)}set fillGradientStops(e){console.warn("[HTMLTextStyle] fillGradientStops is not supported by HTMLText")}get fillGradientStops(){return super.fillGradientStops}set fillGradientType(e){console.warn("[HTMLTextStyle] fillGradientType is not supported by HTMLText")}get fillGradientType(){return super.fillGradientType}set miterLimit(e){console.warn("[HTMLTextStyle] miterLimit is not supported by HTMLText")}get miterLimit(){return super.miterLimit}set trim(e){console.warn("[HTMLTextStyle] trim is not supported by HTMLText")}get trim(){return super.trim}set textBaseline(e){console.warn("[HTMLTextStyle] textBaseline is not supported by HTMLText")}get textBaseline(){return super.textBaseline}set leading(e){console.warn("[HTMLTextStyle] leading is not supported by HTMLText")}get leading(){return super.leading}set lineJoin(e){console.warn("[HTMLTextStyle] lineJoin is not supported by HTMLText")}get lineJoin(){return super.lineJoin}};t1.availableFonts={},t1.defaultOptions={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,padding:0,stroke:"black",strokeThickness:0,whiteSpace:"normal",wordWrap:!1,wordWrapWidth:100};let Dy=t1;const df=class Za extends Li{constructor(e="",r={}){super(re.EMPTY),this._text=null,this._style=null,this._autoResolution=!0,this.localStyleID=-1,this.dirty=!1,this._updateID=0,this.ownsStyle=!1;const n=new Image,i=re.from(n,{scaleMode:oe.SCALE_MODE,resourceOptions:{autoLoad:!1}});i.orig=new Ce,i.trim=new Ce,this.texture=i;const s="http://www.w3.org/2000/svg",o="http://www.w3.org/1999/xhtml",a=document.createElementNS(s,"svg"),c=document.createElementNS(s,"foreignObject"),h=document.createElementNS(o,"div"),f=document.createElementNS(o,"style");c.setAttribute("width","10000"),c.setAttribute("height","10000"),c.style.overflow="hidden",a.appendChild(c),this.maxWidth=Za.defaultMaxWidth,this.maxHeight=Za.defaultMaxHeight,this._domElement=h,this._styleElement=f,this._svgRoot=a,this._foreignObject=c,this._foreignObject.appendChild(f),this._foreignObject.appendChild(h),this._image=n,this._loadImage=new Image,this._autoResolution=Za.defaultAutoResolution,this._resolution=Za.defaultResolution??oe.RESOLUTION,this.text=e,this.style=r}measureText(e){var f,p;const{text:r,style:n,resolution:i}=Object.assign({text:this._text,style:this._style,resolution:this._resolution},e);Object.assign(this._domElement,{innerHTML:r,style:n.toCSS(i)}),this._styleElement.textContent=n.toGlobalCSS(),document.body.appendChild(this._svgRoot);const s=this._domElement.getBoundingClientRect();this._svgRoot.remove();const{width:o,height:a}=s;(o>this.maxWidth||a>this.maxHeight)&&console.warn("[HTMLText] Large expanse of text, increase HTMLText.maxWidth or HTMLText.maxHeight property.");const c=Math.min(this.maxWidth,Math.ceil(o)),h=Math.min(this.maxHeight,Math.ceil(a));return this._svgRoot.setAttribute("width",c.toString()),this._svgRoot.setAttribute("height",h.toString()),r!==this._text&&(this._domElement.innerHTML=this._text),n!==this._style&&(Object.assign(this._domElement,{style:(f=this._style)==null?void 0:f.toCSS(i)}),this._styleElement.textContent=(p=this._style)==null?void 0:p.toGlobalCSS()),{width:c+n.padding*2,height:h+n.padding*2}}async updateText(e=!0){const{style:r,_image:n,_loadImage:i}=this;if(this.localStyleID!==r.styleID&&(this.dirty=!0,this.localStyleID=r.styleID),!this.dirty&&e)return;const{width:s,height:o}=this.measureText();n.width=i.width=Math.ceil(Math.max(1,s)),n.height=i.height=Math.ceil(Math.max(1,o)),this._updateID++;const a=this._updateID;await new Promise(c=>{i.onload=async()=>{if(a<this._updateID){c();return}await r.onBeforeDraw(),n.src=i.src,i.onload=null,i.src="",this.updateTexture(),c()};const h=new XMLSerializer().serializeToString(this._svgRoot);i.src=`data:image/svg+xml;charset=utf8,${encodeURIComponent(h)}`})}get source(){return this._image}updateTexture(){const{style:e,texture:r,_image:n,resolution:i}=this,{padding:s}=e,{baseTexture:o}=r;r.trim.width=r._frame.width=n.width/i,r.trim.height=r._frame.height=n.height/i,r.trim.x=-s,r.trim.y=-s,r.orig.width=r._frame.width-s*2,r.orig.height=r._frame.height-s*2,this._onTextureUpdate(),o.setRealSize(n.width,n.height,i),this.dirty=!1}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._render(e)}_renderCanvas(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._renderCanvas(e)}getLocalBounds(e){return this.updateText(!0),super.getLocalBounds(e)}_calculateBounds(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_onStyleChange(){this.dirty=!0}destroy(e){var n,i,s,o,a;typeof e=="boolean"&&(e={children:e}),e=Object.assign({},Za.defaultDestroyOptions,e),super.destroy(e);const r=null;this.ownsStyle&&((n=this._style)==null||n.cleanFonts()),this._style=r,(i=this._svgRoot)==null||i.remove(),this._svgRoot=r,(s=this._domElement)==null||s.remove(),this._domElement=r,(o=this._foreignObject)==null||o.remove(),this._foreignObject=r,(a=this._styleElement)==null||a.remove(),this._styleElement=r,this._loadImage.src="",this._loadImage.onload=null,this._loadImage=r,this._image.src="",this._image=r}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._image.width/this.resolution}set width(e){this.updateText(!0);const r=Hs(this.scale.x)||1;this.scale.x=r*e/this._image.width/this.resolution,this._width=e}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._image.height/this.resolution}set height(e){this.updateText(!0);const r=Hs(this.scale.y)||1;this.scale.y=r*e/this._image.height/this.resolution,this._height=e}get style(){return this._style}set style(e){this._style!==e&&(e=e||{},e instanceof Dy?(this.ownsStyle=!1,this._style=e):e instanceof ps?(console.warn("[HTMLText] Cloning TextStyle, if this is not what you want, use HTMLTextStyle"),this.ownsStyle=!0,this._style=Dy.from(e)):(this.ownsStyle=!0,this._style=new Dy(e)),this.localStyleID=-1,this.dirty=!0)}get text(){return this._text}set text(e){e=String(e===""||e===null||e===void 0?" ":e),e=this.sanitiseText(e),this._text!==e&&(this._text=e,this.dirty=!0)}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}sanitiseText(e){return e.replace(/<br>/gi,"<br/>").replace(/<hr>/gi,"<hr/>").replace(/&nbsp;/gi,"&#160;")}};df.defaultDestroyOptions={texture:!0,children:!1,baseTexture:!0},df.defaultMaxWidth=2024,df.defaultMaxHeight=2024,df.defaultAutoResolution=!0;const wA=t=>t instanceof HTMLCanvasElement;var $A,GA,jA,HA,ja;HA=[at],jA=[at],GA=[at],$A=[at];class Ja{constructor(){ur(ja,5,this);Ht(this,"_isScale",!1);Ht(this,"_initialDiffFingers",0);yh(this)}offsetScale(e,r,n){const i=(Re.containerSize*r-Re.containerSize*e)/2,s=(n.x-Re.position.x)*100/(Re.containerSize*e/2),o=(n.y-Re.position.y)*100/(Re.containerSize*e/2),a=i*s/100,c=i*o/100;Re.setPosition({x:Re.position.x-a,y:Re.position.y-c})}wheelScale(e){if(!wA(e.target))return;const r=.2;let n=0;e.deltaY<0&&Re.scale>1&&(n=-r),e.deltaY>0&&Re.scale<Re.maxScale&&(n=r);const i=Re.scale+n;Number(i.toFixed(2))!==Re.scale&&(this.offsetScale(Re.scale,i,{x:e.clientX,y:e.clientY}),Re.scale=Number(i.toFixed(2)),Re.normalizeContainerPosition())}onScaleStart(e){wA(e.target)&&e.touches.length===2&&(this._isScale=!0,this._initialDiffFingers=Math.hypot(e.touches[1].clientX-e.touches[0].clientX,e.touches[1].clientY-e.touches[0].clientY))}onScaleMove(e){if(!this._isScale)return;const r=.05;let n=0;const i=Math.hypot(e.touches[1].clientX-e.touches[0].clientX,e.touches[1].clientY-e.touches[0].clientY),s={x:(e.touches[0].clientX+e.touches[1].clientX)/2,y:(e.touches[0].clientY+e.touches[1].clientY)/2};if(this._initialDiffFingers<i&&Re.scale<Re.maxScale)n=r;else if(this._initialDiffFingers>i&&Re.scale>1)n=-r;else return;const o=Re.scale+n;Number(o.toFixed(2))!==Re.scale&&(this.offsetScale(Re.scale,o,{x:s.x,y:s.y}),Re.scale=Number(o.toFixed(2))),this._initialDiffFingers=i}onScaleEnd(){this._isScale=!1,Re.normalizeContainerPosition()}}ja=ka(null),nt(ja,1,"wheelScale",HA,Ja),nt(ja,1,"onScaleStart",jA,Ja),nt(ja,1,"onScaleMove",GA,Ja),nt(ja,1,"onScaleEnd",$A,Ja),To(ja,Ja);const oc=new Ja;var VA,WA,XA,Wu;XA=[at],WA=[at],VA=[at];class ac{constructor(){ur(Wu,5,this);Ht(this,"_isMove",!1);Ht(this,"_initialPoint",{x:0,y:0});yh(this)}onMovePointerStart(e){this._isMove=!0,this._initialPoint={x:e.clientX,y:e.clientY}}onMovePointer(e){if(!this._isMove)return;Math.hypot(this._initialPoint.x-e.clientX,this._initialPoint.y-e.clientY)>15&&(Re.setPosition({x:Re.position.x-(this._initialPoint.x-e.clientX),y:Re.position.y-(this._initialPoint.y-e.clientY)}),this._initialPoint={x:e.clientX,y:e.clientY})}onMovePointerEnd(){this._isMove=!1,Re.normalizeContainerPosition()}}Wu=ka(null),nt(Wu,1,"onMovePointerStart",XA,ac),nt(Wu,1,"onMovePointer",WA,ac),nt(Wu,1,"onMovePointerEnd",VA,ac),To(Wu,ac);const jf=new ac;class Rj{constructor(){Ht(this,"_isMove",!1);Ht(this,"_isScale",!1);yh(this),document.addEventListener("wheel",e=>oc.wheelScale(e)),document.addEventListener("pointerdown",e=>jf.onMovePointerStart(e)),document.addEventListener("pointermove",e=>{this._isScale||(this._isMove=!0,e.preventDefault(),jf.onMovePointer(e))}),document.addEventListener("pointerup",()=>{this._isMove&&(jf.onMovePointerEnd(),this._isMove=!1)}),document.addEventListener("touchstart",e=>{e.touches.length>1&&(e.preventDefault(),this._isScale=!0,this._isMove=!1,oc.onScaleStart(e))}),document.addEventListener("touchmove",e=>{this._isScale&&(e.preventDefault(),oc.onScaleMove(e))}),document.addEventListener("touchend",()=>{this._isScale&&(oc.onScaleEnd(),this._isScale=!1)})}get isMove(){return this._isMove}get isScale(){return this._isScale}}const oh=new Rj,Oj=Ix(t=>{xe.useMemo(()=>new Rx(0),[]);const e="#fff",[r,n]=xe.useState(t.fill?t.fill:e),i=xe.useCallback(()=>{const o=ot.handleFilling(t.index);n(o||e)},[t.index,e]),s=xe.useCallback(o=>{o.clear(),o.beginFill(r),o.lineStyle(1,"#e5e5e5",.5),o.drawRect(t.x,t.y,t.cellSize,t.cellSize),o.endFill()},[t,r]);return Ue.jsx(ih.Graphics,{draw:s,interactive:!0,eventMode:"dynamic",ontap:()=>{oh.isMove||i()},onclick:()=>{oh.isMove||i()}})});function Mj(t){const r=Math.round(255-t/100*2.5*255);return"#"+r.toString(16)+r.toString(16)+r.toString(16)}const kj=xe.memo(t=>Ue.jsx(ih.Text,{text:t.text,x:t.x,y:t.y,anchor:.5,eventMode:"none",style:new ps({fill:"#333",fontSize:18,fontFamily:"pixel"})})),Dj=Ix(t=>{xe.useMemo(()=>new Rx(0),[]);const e=ot.data.rects[t.index],r=t.indexColor!==void 0?Mj(t.indexColor+1):"#fff",[n,i]=xe.useState(t.fill?t.fill:r),[s,o]=xe.useState(e&&e.currentColorIndex===e.indexColor||n===r?1:.5),a=xe.useCallback(()=>{const h=ot.handleFilling(t.index);i(h||r),o(ot.getColorIndex(t.index)===ot.getCurrentColorIndex(t.index)&&ot.getColorIndex(t.index)!==void 0||!h?1:.5)},[t.index,r]),c=xe.useCallback(h=>{h.clear(),h.beginFill(n),h.lineStyle(1,"#e5e5e5",.5),h.drawRect(t.x,t.y,t.cellSize,t.cellSize),h.endFill()},[t,n]);return Ue.jsxs(Ue.Fragment,{children:[Ue.jsx(ih.Graphics,{draw:c,interactive:!0,alpha:s,ontap:()=>{oh.isMove||a()},onclick:()=>{oh.isMove||a()}}),t.indexColor!==void 0&&n!==ot.getColorRect(t.index)&&Ue.jsx(kj,{x:t.x+t.cellSize/2,y:t.y+t.cellSize/2,text:(t.indexColor+1).toString()})]})}),Ny=Ix(t=>{const e=O$({query:"(orientation: landscape)"});return xe.useEffect(()=>{Re.startSettings(t.grid)},[e]),Ue.jsx(FB,{children:Ue.jsx(ih.Stage,{width:Re.sceneSize.width,height:Re.sceneSize.height,options:{backgroundColor:15066597},children:Ue.jsx(ih.Container,{interactive:!0,pivot:Re.pivot,position:[Re.position.x,Re.position.y],scale:Re.scale,children:Re.coordinatesRects.map((r,n)=>ot.data.isColoring?Ue.jsx(Dj,{index:n,x:r.x,y:r.y,cellSize:Re.cellSize,indexColor:ot.getColorIndex(n),fill:ot.getCurrentColor(n)},n):Ue.jsx(Oj,{index:n,x:r.x,y:r.y,cellSize:Re.cellSize,fill:t.rects&&ot.getColorRect(n)},n))})})})}),Nj=su.div`
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  display: flex;
  align-items: center;
  padding: 15px;
  background-color: #fff;
  border: 1px solid #b3b0b0;

  & ul {
    display: flex;
    gap: 15px;
    margin: 0;
    padding: 0;
    font-size: 1em;
    list-style: none;
    overflow-x: auto;
  }

  @media (orientation: landscape) {
    padding: 5px;
  }
`,Fj=t=>{Wo.setSelectedColor(t)},Bj=()=>{Wo.clearColor()},SA=xe.memo(t=>(Wo.setSelectedColor(t.colors[0]),Ue.jsx(Nj,{id:"pallete",children:Ue.jsxs("ul",{children:[Ue.jsx(lE,{onClick:()=>Bj()}),t.colors.map((e,r)=>Ue.jsx("li",{children:Ue.jsx(lE,{$color:e,onClick:()=>Fj(e),children:r+1})},r+1))]})})));var Ac=(t=>(t[t.NEW_EDIT=0]="NEW_EDIT",t[t.EDIT=1]="EDIT",t[t.COLORING=2]="COLORING",t))(Ac||{});const Fy=["#FF0000","#00FF00","#0000FF"],Lj=({state:t})=>{let e,r=Ue.jsx(SA,{colors:Fy});switch(t){case Ac.NEW_EDIT:ot.createCanvas(30),ot.setPallete(Fy),e=Ue.jsx(Ny,{grid:30});break;case Ac.EDIT:YS(OF),e=Ue.jsx(Ny,{grid:ot.data.grid,rects:ot.data.rects});break;case Ac.COLORING:YS(MF),e=Ue.jsx(Ny,{grid:ot.data.grid,rects:ot.data.rects,isColoring:ot.data.isColoring}),r=Ue.jsx(SA,{colors:ot.data.pallete&&ot.data.pallete.length>0?ot.data.pallete:Fy});break}return Ue.jsx(UB,{editor:e,pallete:r})},Uj=kB`
  * {
    box-sizing: border-box;
  }

  body {
    position: relative;
    min-width: 375px;
    color: #333;
    font-family: 'pixel', sans-serif;
    font-size: 14px;
    line-height: 100%;
    background-color: #e5e5e5;
  }

  img {
    width: 100%;
  }

  a {
    text-decoration: none;
    color: inherit;
  }

  @media (min-width: 768px) {
    body {
      font-size: 16px;
    }
  }
`,zj=()=>Ue.jsxs(Ue.Fragment,{children:[Ue.jsx(Uj,{}),Ue.jsx(Lj,{state:Ac.COLORING})]}),$j={colorStore:Wo,coloringStore:ot,editorSettingsStore:Re,scaleStore:oc,movingStore:jf,handlerStore:oh};By.createRoot(document.getElementById("root")).render(Ue.jsx(et.StrictMode,{children:Ue.jsx(A2,{...$j,children:Ue.jsx(zj,{})})}))});export default Gj();
